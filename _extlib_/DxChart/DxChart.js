var isNexacroRuntime,isNexacroFramework,__pCanvasGradient,_pCanvasComponent,_pCanvasElement,_pChartJS,CryptoJS=(String.prototype.format=function(){var t;if(0===arguments.length)return t=(t=this).match(/{[a-z0-9]+?}/i)?this.replace(/{[a-z0-9]+?}/gi,function(t,e){return t=(t=t.substr(1)).substr(0,t.length-1),window[t]}):t;if(1===arguments.length&&DxChart.isArray(arguments[0]))return this.format.apply(this,arguments[0]);var e,i=arguments;for(e in i)DxChart.isNull(i[e])&&(i[e]="null");return(t=(t=(t=this.replace(/{(\d+)}/g,function(t,e){return void 0!==i[e-1]?i[e-1]:t})).replace(/(?:%|\\)%(\d)/g,"__PPEERRCCEENNTT__$1")).replace(/%(\d+)/g,function(t,e){return void 0!==i[e-1]?i[e-1]:t})).replace("__PPEERRCCEENNTT__","%")},String.prototype.padLeft=function(t,e){var i=[];if(t>this.length)for(var s=0,a=t-this.length;s<a;s++)i.push(e);return i.push(this),i.join("")},"undefined"==typeof nexacro||nexacro.ChartJS||(isNexacroRuntime=!(!nexacro||"nexacro"!=system.navigatorname),isNexacroFramework=!(0!=isNexacroRuntime||!nexacro),isNexacroRuntime&&nexacro._isMobile&&(!nexacro._isMobile()&&"24"!=system.navigatorversion||(isNexacroRuntime=!1)),isNexacroRuntime&&(__pCanvasGradient=nexacro._CanvasGradient.prototype,__pCanvasGradient.addColorStop=function(t,e){var i=e,s=(e=DxChart._rgba2hex(e)[0],nexacro._getWebColorFromXreColor(e)),i=nexacro._getXreColorAlpha(i)/255;this.colors.push({offset:100*t,color:s,orgcolor:e,alpha:i})},_pCanvasComponent=nexacro.CanvasComponent.prototype,_pCanvasComponent.getContext=function(t){return this._canvas},_pCanvasElement=nexacro.CanvasElement.prototype,_pCanvasElement._globalAlphaColor=1,_pCanvasElement._globalAlphaStroke=1,_pCanvasElement._globalAlphaFill=1,_pCanvasElement._globalAlphaLast=1,_pCanvasElement._hexstr=function(t){t=nexacro.toNumber(t);var e=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f");return""+e[t>>4&15]+e[15&t]},_pCanvasElement._hex2rgb=function(t){var e,i,s,a;if(t&&0!=t.length)return"object"==typeof t?(e=t[0],i=t[1],s=t[2],t[3]?"rgba("+e+", "+i+", "+s+", "+a+")":"rgb("+e+", "+i+", "+s+")"):!(0<=t.indexOf("rgb"))&&"#"==t.substr(0,1)?(e=parseInt(t.slice(1,3),16),i=parseInt(t.slice(3,5),16),s=parseInt(t.slice(5,7),16),7<String(t).length?"rgba("+e+", "+i+", "+s+", "+(a=(parseInt(t.slice(7,9),16)/255).toString())+")":"rgb("+e+", "+i+", "+s+")"):t},_pCanvasElement._rgba2hex=function(t){var t=t.split("(")[1].split(")")[0].split(","),e=this._hexstr(t[0]);return["#"+((e+=this._hexstr(t[1]))+this._hexstr(t[2])),t[3]]},_pCanvasElement.arc=function(t,e,i,s,a,o){var r=this.handle;r&&nexacro.__plotCanvasElementHandleArcPath(r,t,e,i,s,a,o)},_pCanvasElement._convertStyle=function(t){var e,i,s,a;return(t=""!==t&&!0!==t?t:"#ffffff")instanceof nexacro._CanvasGradient?[t,1]:t instanceof nexacro._ColorObject?[t,this._globalAlphaColor]:(i=e="","string"==typeof(s=t)?"#"==t.substring(0,1)?(s=7<t.length?new nexacro.ColorObject(t.substr(0,7)):4==t.length?new nexacro.ColorObject("#"+t.substr(1,1)+t.substr(1,1)+t.substr(2,1)+t.substr(2,1)+t.substr(3,1)+t.substr(3,1)):new nexacro.ColorObject(t),9==t.length&&(a=t.substring(7),i=(parseInt(a,16)/255).toString())):s=new(0<=t.toLowerCase().indexOf("rgb")?(t=(a=this._rgba2hex(t))[0],a[1]&&0<=a[1]&&(i=a[1]),nexacro.ColorObject):0<=t.toLowerCase().indexOf("gradient")?nexacro.BackgroundObject:nexacro.ColorObject)(t):s=t.value&&t._sysvalue?t:null==t.length?t.toString():(0==t[3]||t[3]||(t[3]=1),e="#"+this.hexstr(t[0]),e=(e+=this.hexstr(t[1]).toString())+this.hexstr(t[2]).toString(),i=t[3],new nexacro.ColorObject(e)),(a=this.handle)&&""!==i?(1<i&&(i=(parseInt(i,16)/255).toString()),this._globalAlphaColor=i,nexacro.__setCanvasElementHandleGlobalAlpha(a,i)):this._globalAlphaColor!==this.globalAlpha&&nexacro.__setCanvasElementHandleGlobalAlpha(a,this.globalAlpha),[s,i=""==i?this._globalAlphaColor=1:i])},_pCanvasElement._changeGlobalAlpha=function(t){var e=this.handle;"stroke"==t?this._globalAlphaStroke!==this.globalAlpha&&(nexacro.__setCanvasElementHandleGlobalAlpha(e,this._globalAlphaStroke),this._globalAlphaLast=this._globalAlphaStroke):this._globalAlphaFill!==this.globalAlpha&&(nexacro.__setCanvasElementHandleGlobalAlpha(e,this._globalAlphaFill),this._globalAlphaLast=this._globalAlphaFill)},_pCanvasElement._resetGlobalAlpha=function(t){var e=this.handle;this._globalAlphaLast!==this.globalAlpha&&nexacro.__setCanvasElementHandleGlobalAlpha(e,this.globalAlpha)},_pCanvasElement._orgSetElementFillStyle=_pCanvasElement.setElementFillStyle,_pCanvasElement.setElementFillStyle=function(t){var e;if(t)return t=(e=this._convertStyle(t))[0],this._globalAlphaFill=e[1],this._orgSetElementFillStyle(t)},_pCanvasElement._orgSetElementStrokeStyle=_pCanvasElement.setElementStrokeStyle,_pCanvasElement.setElementStrokeStyle=function(t){var e;if(t)return"number"==typeof(t=t instanceof nexacro._CanvasGradient?t.colors[0].orgcolor:t)&&(t+=""),t=(e=this._convertStyle(t))[0],this._globalAlphaStroke=e[1],this._orgSetElementStrokeStyle(t)},_pCanvasElement._orgSetElementShadowColor=_pCanvasElement.setElementShadowColor,_pCanvasElement.setElementShadowColor=function(t){if(t)return t=this._convertStyle(t)[0],this._orgSetElementShadowColor(t)},_pCanvasElement._orgCreateLinearGradient=_pCanvasElement.createLinearGradient,_pCanvasElement.createLinearGradient=function(t,e,i,s){return this._orgCreateLinearGradient(t,e,i,s)},_pCanvasElement._orgCreateRadialGradient=_pCanvasElement.createRadialGradient,_pCanvasElement.createRadialGradient=function(t,e,i,s,a,o){return this._orgCreateRadialGradient(t,e,i,s,a,o)},_pCanvasElement._orgFill=_pCanvasElement.fill,_pCanvasElement.fill=function(){this._changeGlobalAlpha("fill"),this._orgFill(),this._resetGlobalAlpha()},_pCanvasElement._orgFillRect=_pCanvasElement.fillRect,_pCanvasElement.fillRect=function(t,e,i,s){this._changeGlobalAlpha("fill"),this._orgFillRect(t,e,i,s),this._resetGlobalAlpha()},_pCanvasElement._orgFillText=_pCanvasElement.fillText,_pCanvasElement.fillText=function(t,e,i,s){this._changeGlobalAlpha("fill"),this._orgFillText(t,e,i,s),this._resetGlobalAlpha()},_pCanvasElement._orgStroke=_pCanvasElement.stroke,_pCanvasElement.stroke=function(){this._changeGlobalAlpha("stroke"),this._orgStroke(),this._resetGlobalAlpha()},_pCanvasElement._orgStrokeRect=_pCanvasElement.strokeRect,_pCanvasElement.strokeRect=function(t,e,i,s){this._changeGlobalAlpha("stroke"),this._orgStrokeRect(t,e,i,s),this._resetGlobalAlpha()},_pCanvasElement._orgStrokeText=_pCanvasElement.strokeText,_pCanvasElement.strokeText=function(t,e,i,s){this._changeGlobalAlpha("stroke"),this._orgStrokeText(t,e,i,s),this._resetGlobalAlpha()},_pCanvasElement._orgsetTransform=_pCanvasElement.setTransform,_pCanvasElement.setTransform=function(t,e,i,s,a,o,r){this.changSetTransform={a:t,b:e,c:i,d:s,e:a,f:o,g:r},this._orgsetTransform(t,e,i,s,a,o,r)}),nexacro.ChartJS=function(t,e,i,s,a,o,r,n,h,l,c,x){nexacro.Div.call(this,t,e,i,s,a,o,r,n,h,l,c,x),this.charttype="bar",this.userbuttonmenu=!0,this.autoresize=!0},_pChartJS=nexacro._createPrototype(nexacro.Div,nexacro.ChartJS),nexacro.ChartJS.prototype=_pChartJS,_pChartJS._type_name="ChartJS",_pChartJS.enableevent=!0,_pChartJS._event_list={onclick:1,ondblclick:1,onkillfocus:1,onsetfocus:1,onlbuttondown:1,onlbuttonup:1,onrbuttondown:1,onrbuttonup:1,onmouseenter:1,onmouseleave:1,onmousemove:1,ondrag:1,ondragenter:1,ondragleave:1,ondragmove:1,ondrop:1,onmove:1,onsize:1,onmousewheel:1,onmouseup:1,onmousedown:1,oncontextmenu:1,ontouchstart:1,ontouchmove:1,ontouchend:1,onrangezoomed:1,onlongpress:1},_pChartJS._on_bubble_mousewheel=function(t,e,i,s,a,o,r,n,h,l,c,x,d,u,g,p){if(!this.canvas||!this.canvas.__object__||"tree"!=this.canvas.__object__.type&&"org"!=this.canvas.__object__.type&&"map"!=this.canvas.__object__.type||1!=this.canvas.__object__.properties.scaleZoom)return this.parent._on_bubble_mousewheel(t,e,i,s,a,o,r,n,h,l,c,!1,d,u,g,p)},_pChartJS.on_create_contents=function(){this.url||this.form.createComponent(!0)},_pChartJS.on_change_containerRect=function(t,e){this._cell_elem&&this._cell_elem.setElementSize(t,e),this._recalcLayout(),this.canvas&&1==this.autoresize&&(this.getElement(),isNexacroRuntime?(this.canvas.set_width(t),this.canvas.set_height(e),this.form.resetScroll()):(this._static.set_width(t),this._static.set_height(e),this.canvas.width=t,this.canvas.height=e),(t=this.canvas.__object__)&&(e=t.onsize)&&e(t,{}),DxChart._resizeCanvas(this.canvas),DxChart.redrawCanvas(this.canvas))},_pChartJS.on_created_contents=function(t){isNexacroRuntime&&this.on_attach_contents_handle()},_pChartJS.on_attach_contents_handle=function(t){this.set_enableevent(!0),this.set_text("");var e,i,s=this.form,a=(this.url?this.url&&s._is_loaded&&!s._is_created&&(s.createComponent(),s.set_scrolltype("none")):s.on_created(t),this.set_formscrolltype("none"),this.on_apply_text(),this._recalcLayout(),this.canvas||((s=this.getElement()).handle,t="",isNexacroRuntime?(t=DxChart.createUID(),(e=new nexacro.CanvasComponent(t,0,0,s.client_width,s.client_height)).set_name(t),e.id=t,e.set_width(s.client_width),e.set_height(s.client_height),this.form.addChild(t,e),e.show(),e.bringToFront(),e.set_enableevent(!0)):(t=this.name+"_static",(i=new nexacro.Static(t,0,0,s.client_width,s.client_height)).set_width(s.client_width),i.set_height(s.client_height),this.form.addChild(t,i),i.show(),i=(this._static=i).getElement().handle,t=DxChart.createUID(),(e=document.createElement("canvas")).id=t,e.width=s.client_width,e.height=s.client_height,i.appendChild(e),e.parent=this,e._refform=this._refform),this.canvas=e),this);try{this.addEventHandler("onmousemove",function(t,e){if(e.canvasx<20||e.canvasy<20)try{DxChart._timerHideTooltip()}catch(e){}else{var i=a.canvas.width,s=a.canvas.height;if(e.canvasx>i-20||e.canvasy>s-20)try{DxChart._timerHideTooltip()}catch(e){}}},this),this.addEventHandler("onmouseleave",function(t,e){try{DxChart._timerHideTooltip()}catch(e){}},this),this.addEventHandler("onrbuttondown",this._onrbuttondown,this)}catch(t){}this.set_userbuttonmenu(this.userbuttonmenu)},_pChartJS.set_autoresize=function(t){t=nexacro._toBoolean(t),0==(this.autoresize=t)?(this.set_formscrolltype(""),this.form.set_scrolltype("both"),this.form.resetScroll()):(this.set_formscrolltype("none"),this.form.set_scrolltype("none"))},_pChartJS.set_userbuttonmenu=function(t){var e;t=nexacro._toBoolean(t),1!=(this.userbuttonmenu=t)||this.userbuttonmenumake||((t=new Dataset).set_name("_canvasPopupDs"),this.form.addChild("_canvasPopupDs",t),t.addColumn("IDCOL","string"),t.addColumn("LEVELCOL","int"),t.addColumn("CAPTIONCOL","string"),e=t.addRow(),t.setColumn(e,"IDCOL","ID0"),t.setColumn(e,"LEVELCOL",0),t.setColumn(e,"CAPTIONCOL","Redraw"),e=t.addRow(),t.setColumn(e,"IDCOL","ID1"),t.setColumn(e,"LEVELCOL",0),t.setColumn(e,"CAPTIONCOL","Save Image"),e=t.addRow(),t.setColumn(e,"IDCOL","ID2"),t.setColumn(e,"LEVELCOL",0),t.setColumn(e,"CAPTIONCOL","Print Canvas"),e=new PopupMenu("_canvaPopupMenu",0,0,90,90,null,null),this.form.addChild("_canvaPopupMenu",e),e.show(),e.set_innerdataset(t.name),e.set_captioncolumn("CAPTIONCOL"),e.set_idcolumn("IDCOL"),e.set_levelcolumn("LEVELCOL"),e.set_itemheight(30),e.addEventHandler("onmenuclick",this._rbuttonmenuclick,this),this.___popupmenu=e,this.___popupds=t,this.userbuttonmenumake=!0)},_pChartJS._rbuttonmenuclick=function(t,e){var i,s;"ID0"==e.id?this.canvas.__object__&&DxChart.redrawCanvas(this.canvas):"ID1"==e.id?isNexacroRuntime?system.saveToImageFile(this.form,"DxChart.png","PNG")&&alert("내문서에 저장되었습니다."):(i=this.canvas.toDataURL(),(s=document.createElement("a")).href=i,s.download="DxChart",s.click(),s.remove()):"ID2"==e.id&&system.print(this.form,!0)},_pChartJS._onrbuttondown=function(t,e){this.___popupmenu.trackPopupByComponent(t,e.clientx,e.clienty)},_pChartJS.on_destroy_contents=function(){if(this.___popupmenu){try{this.form.removeChild(this.___popupmenu.name),this.___popupmenu.destroy()}catch(t){}this.___popupmenu=null;try{this.form.removeChild(this.___popupds.name)}catch(t){}this.___popupds=null}if(this._static){if(this.canvas){try{DxChart.reset(this.canvas)}catch(t){}this.canvas.parentNode.removeChild(this.canvas),this.canvas=null}this.form.removeChild(this._static.name,this._static),this._static.destroy(),this._static=null}if(this.canvas&&isNexacroRuntime){try{DxChart.reset(this.canvas)}catch(t){}this.form.removeChild(this.canvas.name),this.canvas.destroy(),this.canvas=null}this._destroyTextElement(),this._destroyFormControl(),this._user_property_list=null},_pChartJS._onmouseleave=function(t,e){return this.canvas},_pChartJS.getCanvas=function(){return this.canvas},_pChartJS.getDiv=function(){var t=this.getElement();if(t)return t.handle},_pChartJS.removeCanvas=function(){this.canvas&&("nexacro"==system.navigatorname?(this._refform.removeChild(this.canvas),this.canvas.destroy()):this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.canvas=null)},_pChartJS.setChartType=function(t){this.charttype=t},_pChartJS.setLabel=function(t){this.labels=t},_pChartJS.setDatasetData=function(t,e,i){this.datasets[t]||(this.datasets[t]={});var s=this.datasets[t];switch(e){case"label":s.label=i;break;case"data":s.data=i;break;case"bgcolor":s.backgroundColor=i;break;case"bdcolor":s.borderColor=i;break;case"bdwidth":s.borderWidth=i}},_pChartJS.getDatasetData=function(t){return this.datasets[idx]||(this.datasets[idx]={}),this.datasets[idx]},_pChartJS.clearDataset=function(t){this.datasets=null,this.datasets=[]},_pChartJS.setOption=function(t){this.options=t},_pChartJS.createCanvas=function(){return this.chartInfo=new Chart(this.canvas,{type:this.charttype,data:{labels:this.labels,datasets:this.datasets},options:this.options}),this.chartInfo}),CryptoJS||function(n){function i(){}var t={},e=t.lib={},s=e.Base={extend:function(t){i.prototype=this;var e=new i;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),(e.init.prototype=e).$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},h=e.WordArray=s.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||o).stringify(this)},concat:function(t){var e=this.words,i=t.words,s=this.sigBytes;if(t=t.sigBytes,this.clamp(),s%4)for(var a=0;a<t;a++)e[s+a>>>2]|=(i[a>>>2]>>>24-a%4*8&255)<<24-(s+a)%4*8;else if(65535<i.length)for(a=0;a<t;a+=4)e[s+a>>>2]=i[a>>>2];else e.push.apply(e,i);return this.sigBytes+=t,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=n.ceil(e/4)},clone:function(){var t=s.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],i=0;i<t;i+=4)e.push(4294967296*n.random()|0);return new h.init(e,t)}}),a=t.enc={},o=a.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var i=[],s=0;s<t;s++){var a=e[s>>>2]>>>24-s%4*8&255;i.push((a>>>4).toString(16)),i.push((15&a).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,i=[],s=0;s<e;s+=2)i[s>>>3]|=parseInt(t.substr(s,2),16)<<24-s%8*4;return new h.init(i,e/2)}},r=a.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var i=[],s=0;s<t;s++)i.push(String.fromCharCode(e[s>>>2]>>>24-s%4*8&255));return i.join("")},parse:function(t){for(var e=t.length,i=[],s=0;s<e;s++)i[s>>>2]|=(255&t.charCodeAt(s))<<24-s%4*8;return new h.init(i,e)}},l=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(r.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return r.parse(unescape(encodeURIComponent(t)))}},c=e.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var e=this._data,i=e.words,s=e.sigBytes,a=this.blockSize,o=s/(4*a),o=t?n.ceil(o):n.max((0|o)-this._minBufferSize,0),s=n.min(4*(t=o*a),s);if(t){for(var r=0;r<t;r+=a)this._doProcessBlock(i,r);r=i.splice(0,t),e.sigBytes-=s}return new h.init(r,s)},clone:function(){var t=s.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),x=(e.Hasher=c.extend({cfg:s.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(i){return function(t,e){return new i.init(e).finalize(t)}},_createHmacHelper:function(i){return function(t,e){return new x.HMAC.init(i,e).finalize(t)}}}),t.algo={});return t}(Math)),window,navigator,DxChart,document,DxChart,window,navigator,DxChart,document,window,navigator,DxChart,document,window,navigator,DxChart,document;function DxChartActivity(t){return DxChart._Base.call(this,t,"activity"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"default"),this.properties.marginInner=1,this.properties.labelsData=[],this.properties.backgroundColor="black",this.properties.textFontStyle='12px "Arial, Verdana, sans-serif"',this.properties.textColor="#ffffff",this.properties.backgroundGrid=!1,this.properties.backgroundGridCircles=!0,this.properties.backgroundGridRadialsCount=8,this.properties.labelsBackgroundFill="transparent",this.properties.labelsBackgroundStroke="transparent",this.properties.highlightFill="rgba(255,255,255,0.5)",this.properties.highlightStroke="rgba(0,0,0,0)",this.properties.tooltipsEvent="onclick",t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t,e,i){this.binddataset&&(t=DxChart._getColumnDataset(this.binddataset,t),e=DxChart._getColumnDataset(this.binddataset,e),i=DxChart._getColumnDataset(this.binddataset,i)),this.min=DxChart.str2num(t),this.max=DxChart.str2num(e),this.value=DxChart.str2num(i),this.centerx=null,this.centery=null,this.radius=null,this.currentValue=null,this.angles=[],this.images=[],"number"==typeof this.value&&(this.value=[this.value]);for(var s=0;s<this.value.length;++s)this.value[s]<=1e-7&&(this.value[s]=1e-7)},this.draw=function(){var t=this.properties;DxChart._BeforeDraw(this,!0),"number"==typeof this.value&&(this.value=[this.value]);for(var e=0;e<this.value.length;++e)this.value[e]>this.max&&(this.value[e]=this.max),this.value[e]<this.min&&(this.value[e]=this.min);return this.currentValue=DxChart.arrayClone(this.value),this.centerx=(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft,this.centery=(this.canvas.height-this.marginBottom-this.marginTop)/2+this.marginTop,this.radius=Math.min((this.canvas.width-this.marginLeft-this.marginRight)/2,(this.canvas.height-this.marginTop-this.marginBottom)/2),this.coordsText=[],"number"==typeof t.centerx&&(this.centerx=t.centerx),"number"==typeof t.centery&&(this.centery=t.centery),"number"==typeof t.radius&&(this.radius=t.radius),this.width="number"==typeof t.width?t.width:.75*this.radius/this.value.length,this.width=this.width-t.marginInner-t.marginInner,"string"==typeof t.width&&(this.width+=Number(t.width)),this.parseColors(),this.drawBackground(),this.drawMeter(),this.drawLabels(),this.drawIcons(),this.drawEnds(),t.contextmenu&&DxChart.showContext(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.drawBackground=function(){var t,e=this.properties;if(e.backgroundColor&&this.path("fs % fr -5 -5 % %",e.backgroundColor,this.canvas.width+10,this.canvas.height+10),e.backgroundGrid&&e.backgroundGridCircles){t="number"==typeof e.backgroundGridCirclesCount?e.backgroundGridCirclesCount:this.value.length+1;for(var i=0;i<t;i++){var s=this.radius-i*(this.width+2*e.marginInner);this.path("b a % % % 0 6.29 false s %",this.centerx,this.centery,s,e.backgroundGridColor)}if(e.backgroundGridRadials)for(var a=DxChart.TWOPI/e.backgroundGridRadialsCount,i=0;i<=e.backgroundGridRadialsCount;++i)this.path("b    a % % % % % %     a % % % % % %    s %",this.centerx,this.centery,s,i*a-DxChart.HALFPI,i*a-DxChart.HALFPI,!1,this.centerx,this.centery,this.radius,i*a-DxChart.HALFPI,i*a-DxChart.HALFPI,!1,e.backgroundGridColor)}},this.drawMeter=function(){var t=this.properties,e=this.radius-t.marginInner;if(t.backgroundRings){this.context.globalAlpha=t.backgroundRingsAlpha,isNexacroRuntime&&this.context.setElementGlobalAlpha(t.backgroundRingsAlpha);for(var i=0;i<this.value.length;++i)o=(DxChart.isArray(t.backgroundRingsColors)&&"string"==typeof t.backgroundRingsColors[i]?t.backgroundRingsColors:t.colors)[i],isNexacroRuntime||this.path("b a % % % % % false  a % % % % % true       f %",this.centerx,this.centery,e-i*(t.marginInner+t.marginInner+this.width),0-DxChart.HALFPI,DxChart.TWOPI-DxChart.HALFPI,this.centerx,this.centery,e-this.width-i*(t.marginInner+t.marginInner+this.width),DxChart.TWOPI-DxChart.HALFPI,0-DxChart.HALFPI,o);this.context.globalAlpha=1,isNexacroRuntime&&this.context.setElementGlobalAlpha(1)}if(isNexacroRuntime)for(var s=("transparent"==t.backgroundColor?null:t.backgroundColor)||this.canvas._refform.parent.background,i=0;i<this.value.length;++i){var a=(this.value[i]-this.min)/(this.max-this.min)*DxChart.TWOPI,o=(DxChart.isArray(t.backgroundRingsColors)&&"string"==typeof t.backgroundRingsColors[i]?t.backgroundRingsColors:t.colors)[i],r=(t.backgroundRings&&(this.path("b a % % % % % false fs % ga % fi",this.centerx,this.centery,e-i*(t.marginInner+t.marginInner+this.width),0,2*Math.PI,s,1),this.path("b a % % % % % false fs % ga % fi",this.centerx,this.centery,e-i*(t.marginInner+t.marginInner+this.width),0,2*Math.PI,o,t.backgroundRingsAlpha)),this.path("b a % % % % % false l % % fs % ga % fi",this.centerx,this.centery,e-i*(t.marginInner+t.marginInner+this.width),0-DxChart.PI,a-DxChart.PI,this.centerx,this.centery,t.colors[i]||t.colors[0],1),"transparent");t.backgroundGrid&&t.backgroundGridColor&&(r=t.backgroundGridColor),i==this.value.length-1?this.path("b a % % % % % false f % s %",this.centerx,this.centery,e-this.width-i*(t.marginInner+t.marginInner+this.width),0-DxChart.PI,2*Math.PI,s,r):this.path("b a % % % % % false l % % f % s %",this.centerx,this.centery,e-this.width-i*(t.marginInner+t.marginInner+this.width),0-DxChart.PI,2*Math.PI,this.centerx,this.centery,s,r),this.angles[i]=this.coords[i]={x:this.centerx,y:this.centery,angleStart2:0-DxChart.PI,angleEnd2:a-DxChart.PI,angleStart:0-DxChart.HALFPI,angleEnd:a-DxChart.HALFPI,radiusInner:e-this.width-i*(t.marginInner+t.marginInner+this.width),radiusOuter:e-i*(t.marginInner+t.marginInner+this.width),color:t.colors[i]}}else for(i=0;i<this.value.length;++i){a=(this.value[i]-this.min)/(this.max-this.min)*DxChart.TWOPI;this.path("b       a % % % % % false          a % % % % % true       f %",this.centerx,this.centery,e-i*(t.marginInner+t.marginInner+this.width),0-DxChart.HALFPI,a-DxChart.HALFPI,this.centerx,this.centery,e-this.width-i*(t.marginInner+t.marginInner+this.width),a-DxChart.HALFPI,0-DxChart.HALFPI,t.colors[i]),this.angles[i]=this.coords[i]={x:this.centerx,y:this.centery,angleStart:0-DxChart.HALFPI,angleEnd:a-DxChart.HALFPI,radiusInner:e-this.width-i*(t.marginInner+t.marginInner+this.width),radiusOuter:e-i*(t.marginInner+t.marginInner+this.width),color:t.colors[i]}}DxChart.text({object:this,x:-1e4,y:-1e4,color:"transparent",text:""})},this.drawLabels=function(){var t=this.properties,e=(t.labelsCenter&&(e=DxChart.getTextInfo({object:this,prefix:"labelsCenter"}),DxChart.text({object:this,text:String(t.labelsCenterSpecific||DxChart.numberFormat({object:this,number:this.value[t.labelsCenterIndex].toFixed(t.labelsCenterDecimals),unitspre:t.labelsCenterUnitsPre,unitspost:t.labelsCenterUnitsPost,point:t.labelsCenterPoint,thousand:t.labelsCenterThousand})),x:this.centerx+t.labelsCenterOffsetX,y:this.centery+t.labelsCenterOffsetY,halign:"center",valign:"center",color:e.color,size:e.size,font:e.font,bold:e.bold,italic:e.italic})),DxChart.getTextInfo({object:this,prefix:"labels"}));"string"==typeof t.labelsData&&(t.labelsData=DxChart.arrayPad({array:[],length:this.coords.length,value:t.labelsData}));for(var i,s=0;s<t.labelsData.length;++s)"object"==typeof t.labelsData&&t.labelsData.length&&"string"==typeof t.labelsData[s]&&(i=DxChart.labelSubstitution({object:this,text:t.labelsData[s],index:s,value:this.value[s],decimals:t.labelsFormattedDecimals,point:t.labelsFormattedPoint,thousand:t.labelsFormattedThousand,unitsPre:t.labelsFormattedUnitsPre,unitsPost:t.labelsFormattedUnitsPost})),DxChart.text({object:this,text:DxChart.isString(t.labelsData[s])||DxChart.isNumber(t.labelsData[s])?i:"",x:this.coords[s].x-5+t.labelsOffsetX,y:this.coords[s].y-this.coords[s].radiusOuter+(this.coords[s].radiusOuter-this.coords[s].radiusInner)/2+t.labelsOffsetY,valign:"center",halign:"right",bounding:!0,boundingFill:t.labelsBackgroundFill,boundingStroke:t.labelsBackgroundStroke,textInfoPrefix:"labels"})},this.drawIcons=function(){for(var a,o=this.properties,t=0;t<this.value.length;++t)"string"==typeof o.icons[t]&&o.icons[t].length&&(this.images[t]=new Image,this.images[t].src=o.icons[t],this.images[t].index=t,(a=this).images[t].onload=function(){var t=this.width,e=t,i=(t>=a.width&&(t-=10,e-=10),"number"==typeof o.iconsWidth&&(t=o.iconsWidth),"number"==typeof o.iconsHeight&&(e=o.iconsHeight),a.centerx-t/3+("straight"===o.ends||"square"===o.ends?15:0)),s=a.centery-a.coords[this.index].radiusOuter+(a.coords[this.index].radiusOuter-a.coords[this.index].radiusInner)/2-e/2;i+=o.iconsOffsetX,s+=o.iconsOffsetY,a.context.drawImage(this,i,s,t,e)})},this.drawEnds=function(){var t=this.properties;if("straight"!==t.ends&&"square"!==t.ends)for(var e=0;e<this.coords.length;++e){var i=this.coords[e].x,s=this.coords[e].y-(this.coords[e].radiusOuter-this.coords[e].radiusInner)/2-this.coords[e].radiusInner,i=(this.path("b a % % % % % false f %",i,isNexacroRuntime&&1<t.marginInner?s+t.marginInner/2-1:s,this.width/2,0,6.29,t.colors[e]),DxChart.getRadiusEndPoint(this.centerx,this.centery,this.coords[e].angleEnd,(this.coords[e].radiusOuter-this.coords[e].radiusInner)/2+this.coords[e].radiusInner));this.path("b a % % % % % false f %",i[0],i[1],(this.coords[e].radiusOuter-this.coords[e].radiusInner)/2,0,6.29,t.colors[e])}},this.getShape=function(t){for(var e,i,s=this.properties,t=DxChart.getMouseXY(t),a=t[0],o=t[1],r=this.coords.length-1;0<=r;r--)if(this.context.beginPath(),this.context.arc(this.coords[r].x,this.coords[r].y,this.coords[r].radiusOuter,this.coords[r].angleStart,this.coords[r].angleEnd,!1),this.context.arc(this.coords[r].x,this.coords[r].y,this.coords[r].radiusInner,this.coords[r].angleEnd,this.coords[r].angleStart,!0),s.ends&&(this.context.arc(this.coords[r].x,this.coords[r].y-this.coords[r].radiusInner-this.width/2,this.width/2,DxChart.HALFPI,DxChart.PI+DxChart.HALFPI,!1),e=DxChart.getRadiusEndPoint(this.centerx,this.centery,this.coords[r].angleEnd,(this.coords[r].radiusOuter-this.coords[r].radiusInner)/2+this.coords[r].radiusInner),this.context.moveTo(e[0],e[1]),this.context.arc(e[0],e[1],(this.coords[r].radiusOuter-this.coords[r].radiusInner)/2,0,6.29,!1)),this.context.isPointInPath(a,o))return DxChart.parseTooltipText&&(i=DxChart.parseTooltipText(s.tooltipsData,r)),{object:this,x:this.coords[r].x,y:this.coords[r].y,radiusInner:this.coords[r].radiusInner,radiusOuter:this.coords[r].radiusOuter,angleStart:this.coords[r].angleStart,angleEnd:this.coords[r].angleEnd,tooltip:"string"==typeof i?i:null,label:s.labelsData&&"string"==typeof s.labelsData[r]?s.labelsData[r]:null,dataset:0,index:r,sequentialIndex:r}},this.getValue=function(t){t=DxChart.getMouseXY(t),t=DxChart.getAngleByXY(this.centerx,this.centery,t[0],t[1]),(t+=DxChart.HALFPI)>DxChart.TWOPI&&(t-=DxChart.TWOPI),t=t/DxChart.TWOPI*(this.max-this.min)+this.min,t=Math.max(t,this.min);return Math.min(t,this.max)},this.getObjectByXY=function(t){t=DxChart.getMouseXY(t),this.width,t=DxChart.getHypLength(this.centerx,this.centery,t[0],t[1]);return t>this.radius||t<.25*this.radius?null:this},this.changing_mousemove=function(t){var e;this.properties.changeableValue&&DxChart.Registry.get("changing")&&DxChart.Registry.get("changing").uid==this.uid&&(e=DxChart.getMouseXY(t),e=DxChart.getHypLength(this.centerx,this.centery,e[0],e[1]),e=this.getIndexByRadius(e),"number"!=typeof DxChart.Registry.get("changing.index")?(DxChart.Registry.set("changing.index",e),DxChart.addCustomEventListener(this,"onchangeend",function(){DxChart.Registry.set("changing.index",null)})):e=DxChart.Registry.get("changing.index"),"number"==typeof e)&&(this.value[e]=this.getValue(t),DxChart.clear(this.canvas),DxChart.redrawCanvas(this.canvas),DxChart._fireEvent(this,"onchange"))},this.getIndexByRadius=function(t){for(var e=0;e<this.coords.length;++e)if(t<this.coords[e].radiusOuter&&t>this.coords[e].radiusInner)return e;return null},this.getAngle=function(t){var e;return t>this.max||t<this.min?null:(e=(t-this.min)/(this.max-this.min)*DxChart.TWOPI-DxChart.HALFPI,t===this.max&&(e-=1e-5),t===this.min&&(e+=1e-5),e)},this.highlight=function(t){if(!isNexacroRuntime){var e=this.properties;if("function"==typeof e.highlightStyle)e.tooltipsHighlight&&e.highlightStyle(t);else if("string"==typeof e.highlightStyle&&"invert"===e.highlightStyle){if(e.tooltipsHighlight){this.context.beginPath();for(var i=0;i<this.coords.length;++i)t.index!==i&&this.pathBar(i);this.context.fillStyle=e.highlightFill,isNexacroRuntime&&this.context.setElementFillStyle(e.highlightFill),this.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.stroke(),this.context.fill()}}else e.tooltipsHighlight&&(this.context.beginPath(),this.pathBar(t.index),this.context.fillStyle=e.highlightFill,isNexacroRuntime&&this.context.setElementFillStyle(e.highlightFill),this.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.stroke(),this.context.fill())}},this.pathBar=function(t){var e=this.properties,i=(isNexacroRuntime?(this.context.arc(this.coords[t].x,this.coords[t].y,this.coords[t].radiusOuter,0-DxChart.PI,this.coords[t].angleEnd2,!1),this.context.lineTo(this.coords[t].x,this.coords[t].y)):this.context.arc(this.coords[t].x,this.coords[t].y,this.coords[t].radiusOuter,0-DxChart.HALFPI,this.coords[t].angleEnd,!1),DxChart.getRadiusEndPoint(this.centerx,this.centery,this.coords[t].angleEnd,this.coords[t].radiusInner+(this.coords[t].radiusOuter-this.coords[t].radiusInner)/2));"round"===e.ends&&this.context.arc(i[0],i[1],this.width/2,this.coords[t].angleEnd,this.coords[t].angleEnd+DxChart.PI,!1),isNexacroRuntime||this.context.arc(this.coords[t].x,this.coords[t].y,this.coords[t].radiusInner,this.coords[t].angleEnd,this.coords[t].angleStart,!0),"round"===e.ends&&this.context.arc(this.centerx,this.centery-this.coords[t].radiusInner-(this.coords[t].radiusOuter-this.coords[t].radiusInner)/2,this.width/2,DxChart.HALFPI,DxChart.PI+DxChart.HALFPI,!1)},this.tooltipSubstitutions=function(t){return{index:t.index,dataset:0,sequentialIndex:t.index,value:this.value[t.index],values:this.value}},this.tooltipsFormattedCustom=function(t,e){return{label:this.properties.tooltipsFormattedKeyLabels[e]}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas)),a=this.coords[t.index],a=DxChart.getRadiusEndPoint(this.centerx,this.centery,(a.radiusOuter-a.radiusInner)/2+a.radiusInner,(a.angleEnd-a.angleStart)/2+(0-DxChart.HALFPI));isNexacroRuntime?(t.tooltip.set_left(s[0]+a[0]-i.getOffsetWidth()/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]+a[1]-i.getOffsetHeight()-10+e.properties.tooltipsOffsetY)):(t.tooltip.style.left=s[0]+a[0]-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]+a[1]-i.offsetHeight-10+e.properties.tooltipsOffsetY+"px"),isNexacroRuntime?t.tooltip.getOffsetTop()<0&&t.tooltip.set_top(5):parseFloat(t.tooltip.style.top)<0&&(t.tooltip.style.top="5px")},this.parseColors=function(){var t=this.properties,e=(0===this.original_colors.length&&(this.original_colors.backgroundColor=DxChart.arrayClone(t.backgroundColor),this.original_colors.colors=DxChart.arrayClone(t.colors)),t.backgroundColor=this.parseSingleColorForGradient(t.backgroundColor),t.colors);if(e&&e.length)for(var i=0;i<e.length;++i)e[i]=this.parseSingleColorForGradient(e[i])},this.reset=function(){},this.firstDrawFunc=function(){},this.drawAni=function(){var t=arguments[0],e=(t&&""!=t||(t="grow"),arguments[1]);"grow"===t&&this.grow(e,arguments[2])},this.grow=function(){this.cancelStopAnimation();var i=this;if("number"==typeof this.value&&(this.value=[this.value]),DxChart.isNull(this.currentValue)){this.currentValue=[];for(var t=0;t<this.value.length;++t)this.currentValue[t]=this.min}for(var s=(arguments[0]||{}).frames||30,a=0,e=[],o=[],r=arguments[1]||function(){},n=[],t=0;t<this.value.length;++t)e[t]=this.value[t]-this.currentValue[t],o[t]=e[t]/s,n[t]=this.currentValue[t];return function t(){if(i.stopAnimationRequested)i.stopAnimationRequested=!1;else{for(var e=0;e<i.value.length;++e)i.value[e]=n[e]+a*o[e];a++,DxChart.clear(i.canvas),DxChart.redrawCanvas(i.canvas),a<=s?DxChart.Effects.updateCanvas(t,i.canvas):r(i)}}(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.resetData(t.min,t.max,t.value),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartBar(t){return DxChart._Base.call(this,t,"bar"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"xaxis"),DxChart.setDefaultProperties(this,"yaxis"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"variant"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"crosshairs"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"errorbars"),DxChart.setDefaultProperties(this,"combined"),DxChart.setDefaultProperties(this,"default"),this.imagesequence=0,this.properties.variantValue="bar",this.properties.highlightStroke="rgba(0,0,0,0)",this.properties.highlightFill="rgba(255,255,255,0.7)",this.properties.marginInner=5,this.properties.xaxisLabelsPosition="section",this.properties.grouping="grouped",this.properties.variantDotRadius=2,this.properties.variantDotDefaultColor=null,this.properties.colorsGradientFullSize=!1,t.binddataset&&0<=t.data.toString().indexOf("bind:")&&(this.binddataset=t.binddataset),this.resetData=function(t){this.binddataset&&0<=t.toString().indexOf("bind:")&&(t=DxChart.parseDataset(this,t)),t=DxChart.str2num(t);for(var e=0;e<t.length;++e)"object"!=typeof t[e]||DxChart.isNull(t[e])||(this.stackedOrGrouped=!0);for(var i=DxChart.arrayLinearize(t),e=0;e<i.length;++e)this["$"+e]={};this.data=t,this.orgData=DxChart.arrayClone(t),this.data_arr=DxChart.arrayLinearize(this.data),"100%"==this.properties.variantStackedType&&this.makeData100()},this.makeData100=function(){this.dataPercent=DxChart.arrayClone(this.data);for(var t=0;t<this.dataPercent.length;t++)for(var e=this.dataPercent[t],i=DxChart.arraySum(e),s=0;s<e.length;s++)e[s]=Number.parseFloat((e[s]/i*100).toFixed(2))},this.getAngle=function(t,e,i,s){return Math.atan2(s-e,i-t)},this.draw=function(){if(!this.data||0==this.data.length)return DxChart.NoDataShow(this);this.imagesequence++;var t,e,i,s,a=this.properties;if(DxChart._BeforeDraw(this),"100%"==a.variantStackedType&&this.makeData100(),"top"===a.xaxisPosition)for(var o=0;o<this.data.length;++o)if("object"==typeof this.data[o]&&"grouped"===a.grouping)for(var r=0;r<this.data[o].length;++r)this.data[o][r]=-1*Math.abs(this.data[o][r]);else"number"==typeof this.data[o]&&(this.data[o]=-1*Math.abs(this.data[o]));return"3d"!==a.variantValue||a.textAccessible||(a.variantThreedAngleAuto&&(this.chartArea=this.canvas.height-this.properties.marginTop-this.properties.marginBottom,this.ChartAreaHalf=this.chartArea/2,t=this.properties.marginLeft,e=this.properties.marginTop,i=this.canvas.width-this.properties.marginRight,s=this.properties.marginBottom+this.properties.marginTop-35,a.variantThreedAngle=this.getAngle(t,e,i,s)),this.context.setTransform(1,a.variantThreedAngle,0,1,.5,.5)),"pyramid"!=a.variantValue&&"dot"!=a.variantValue||"object"!=typeof a.tooltipsData||!a.tooltipsData||a.tooltipsData.length,this.coords=[],this.coords2=[],this.coordsText=[],this.max=0,this.chartArea=this.canvas.height-this.marginTop-this.marginBottom,this.ChartAreaHalf=this.chartArea/2,this.halfTextHeight=a.textFontStyleObj.size/2,DxChart.Background.draw(this),this.drawbars(),this.drawAxes(),this.drawLabels(),(a.beveled||a.beveled)&&this.drawBevel(),a.keyData&&a.keyData.length&&DxChart.drawKey(this,a.keyData,a.colors),a.contextmenu&&DxChart.showContext(this),a.errorbarsValue&&this.drawErrorbars(),a.labelsIngraph&&DxChart.drawInGraphLabels(this),DxChart.addCustomText(this),DxChart.drawHorizontalLines(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.drawAxes=function(){var t=this.properties;if(-1==DxChart.ISSAFARI&&(this.context.lineCap="square",isNexacroRuntime)&&this.context.setElementLineCap(this.context.lineCap),t.xaxisLabels&&t.xaxisLabels.length){"string"==typeof t.xaxisLabels&&(t.xaxisLabels=DxChart.arrayPad({array:[],length:this.data.length,value:t.xaxisLabels}));for(var e=0;e<t.xaxisLabels.length;++e)t.xaxisLabels[e]=DxChart.labelSubstitution({object:this,text:t.xaxisLabels[e],index:e,value:this.data[e],decimals:t.xaxisLabelsFormattedDecimals||0,unitsPre:t.xaxisLabelsFormattedUnitsPre||"",unitsPost:t.xaxisLabelsFormattedUnitsPost||"",thousand:t.xaxisLabelsFormattedThousand||",",point:t.xaxisLabelsFormattedPoint||"."})}DxChart.drawXAxis(this),DxChart.drawYAxis(this)},this.drawImage=function(t,a,o,r,n,h,l,c){var x;null==c&&(c=0);var d=(d=t.split("/").join("")).split("::").join(""),e=t,u=(isNexacroRuntime&&(x={}),this.imagesequence);if("string"==typeof t)if(void 0===this.canvas["_cached_"+d+r]){var g=this;if(isNexacroRuntime)x.src=e,x.handle=nexacro._getImageObject(e,function(t,e,i,s){x.width=e,x.height=i,x.imagewidth=e,x.imageheight=i,g._drawImageCallback(u,d,x,a,o,r,n,h,c,l)},this,"",!1);else{if(x=new Image,nexacro){if(!(e="url("==e.substring(0,4).toLowerCase()?e.substring(5,e.length-2):e)||!e.length)return null;e=nexacro._getImageLocation(e)}x.onload=function(){g._drawImageCallback(u,d,x,a,o,r,n,h,c,l)},x.src=e}}else x=this.canvas["_cached_"+d+r],this._drawImageCallback(u,d,x,a,o,r,n,h,c,l)},this._drawImageCallback=function(t,e,i,s,a,o,r,n,h,l,c){var x,d;t==this.imagesequence&&(this.canvas["_cached_"+e+o]||(this.canvas["_cached_"+e+o]=i),e=(t=this.context).lineWidth,t.save(),"rect"==n?(t.beginPath(),t.moveTo(s,a),t.lineTo(s+o,a),t.lineTo(s+o,a+r),t.lineTo(s,a+r),t.lineTo(s,a),t.lineTo(s,a)):"arc"==n&&(n=parseInt(s+o/2),x=parseInt(a+r/2),d=parseInt(o/2),t.beginPath(),t.moveTo(n,x),t.arc(n,x,d,0,2*DxChart.PI)),0<h&&(t.lineWidth=h,isNexacroRuntime&&t.setElementLineWidth(h),t.strokeStyle=l,isNexacroRuntime&&t.setElementStrokeStyle(l),t.stroke()),t.clip(),t.drawImage(i,s,a,o,r),t.restore(),t.lineWidth=e,isNexacroRuntime)&&t.setElementLineWidth(e)},this.drawAboveImage=function(t,e,i,s,a,o,r){var n,h,l,c,x,d,u=this.properties;u.labelsAboveImageUrl&&(n=u.labelsAboveImageGap||0,h=u.labelsAboveImageType||"rect",l=u.labelsAboveImageLineColor||"#dddddd",c=u.labelsAboveImageLineWidth||1,x=u.labelsAboveImageWidth||s,s=u.labelsAboveImageHeight||s,"number"==typeof u.labelsAboveImageWidth&&"number"==typeof u.labelsAboveImageHeight&&(s=r>u.labelsAboveImageWidth?(x=u.labelsAboveImageWidth,u.labelsAboveImageHeight):(d=(x=r)/u.labelsAboveImageWidth,parseInt(u.labelsAboveImageHeight*d))),e+=o,x=Math.min(x,r),s=Math.min(s,r),this.drawImage(t,e=x<r?e+r/2-x/2:e,i=i-s-n,x,s,h,l,c))},this.drawbarsSingleBar=function(t,e,i,s,a,o,r,n,h){var l=this.properties;switch(e){case"sketch":this.context.lineCap="round",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap);if(this.context.beginPath(),this.context.strokeStyle=l.colors[0],isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),l.colorsSequential&&(this.context.strokeStyle=l.colors[t],isNexacroRuntime)&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.moveTo(i+r+2,s+o-2),this.context.lineTo(i+r-1,s-4),this.context.moveTo(i+r-3,s+-2+(this.data[t]<0?o:0)),this.context.quadraticCurveTo(i+r+(a-r-r)/4,s+0+(this.data[t]<0?o:0)+(0<this.data[t]?10:-10),i+r+a+-1-r-r,s+0+(this.data[t]<0?o:0)),this.context.moveTo(i+r+a-5-r-r,s-5),this.context.lineTo(i+r+a-3-r-r,s+o-3),l.variantSketchVerticals)for(var c=.2;c<=.8;c+=.2)this.context.moveTo(i+r+(a-r-r)*c,s-1),this.context.lineTo(i+r+(a-r-r)*c,s+o+(.2==c?1:-2));this.context.stroke();break;case"cylinder":var x=(m=i+r)+n,d=s+o-l.variantThreedOffsetY/2,u=m+(x-m)/2,g=l.variantThreedOffsetY,p=h,f=h;h.indexOf("gradient")<0&&(b=DxChart._shadeColor(h,-20),C=DxChart._shadeColor(h,20),y=DxChart._shadeColor(h,50),p="linear-gradient(to right bottom,"+b+" 0%,"+C+" 100%)",this.context.fillStyle=DxChart.parseGradient(this,"linear-gradient(to right,"+C+" 0%,"+b+" 25%,"+C+" 100%)",m,s-g,n,o+g),isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),f=y),this.context.beginPath(),this.context.lineJoin="miter",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.context.lineCap="square",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.moveTo(m,s),this.context.quadraticCurveTo(u,s+g,x,s),this.context.lineTo(x,d),this.context.quadraticCurveTo(u,d+g,m,d),this.context.lineTo(m,s),this.context.stroke(),this.context.fill(),this.context.fillStyle=DxChart.parseGradient(this,p,m,s-g,n,o+g),isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.beginPath(),this.context.moveTo(m,s),this.context.quadraticCurveTo(u,s+g,x,s),this.context.quadraticCurveTo(u,s-g,m,s),this.context.stroke(),this.context.fill(),this.context.strokeStyle=f,isNexacroRuntime&&this.context.setElementFillStyle(f),this.context.beginPath(),this.context.moveTo(x,d),this.context.quadraticCurveTo(u,d+g,m,d),this.context.stroke();break;case"triangle":this.context.beginPath(),this.context.lineJoin="miter",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.context.lineCap="square",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap);var m,b=s,C=(m=i+r)+n/2,y=m+n,p=s+o;"center"===l.xaxisPosition?(this.data[t]<0&&(b+=2,p+=2),this.context.moveTo(m,p),this.context.lineTo(y,p),this.context.lineTo(C,b),this.context.lineTo(m,p)):(this.context.moveTo(m,b),this.context.lineTo(y,b),this.context.lineTo(C,p),this.context.lineTo(m,b)),this.context.stroke(),this.context.fill();break;case"bar":case"3d":case"glass":case"bevel":"glass"==e?DxChart.roundedRect({context:this.context,x:i+r,y:s,width:n,height:o,radius:5,roundtl:0<this.data[t],roundtr:0<this.data[t],roundbl:this.data[t]<0,roundbr:this.data[t]<0}):"round"===l.corners?(this.context.beginPath(),this.context.lineCap="miter",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.lineJoin="square",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.data[t]<0||"top"===l.xaxisPosition?this.roundedCornersRectNegative(i+r,s,n,o):this.roundedCornersRect(i+r,s,n,o)):("top"===l.xaxisPosition&&(s+=o),this.context.beginPath(),this.context.lineJoin="miter",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.context.lineCap="square",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.rect(i+r,s,n,o)),this.context.stroke(),this.context.fill(),l.labelsAboveImageUrl&&l.labelsAboveImageUrl[t]&&this.drawAboveImage(l.labelsAboveImageUrl[t],i,s,a,o,r,n),"3d"==e?(f=this.context.strokeStyle,x=this.context.fillStyle,0<=this.data[t]&&(this.context.beginPath(),this.context.moveTo(i+r,s),this.context.lineTo(i+r+l.variantThreedOffsetX,s-l.variantThreedOffsetY),this.context.lineTo(i+r+l.variantThreedOffsetX+n,s-l.variantThreedOffsetY),this.context.lineTo(i+r+n,s),this.context.closePath(),this.context.stroke(),this.context.fill()),this.context.beginPath(),this.context.moveTo(i+r+n,s),this.context.lineTo(i+r+n+l.variantThreedOffsetX,this.data[t]<0&&"bottom"===l.xaxisPosition?this.getYCoord(0):this.data[t]<0&&s-l.variantThreedOffsetY<this.marginTop+this.ChartAreaHalf?this.marginTop+this.ChartAreaHalf:s-l.variantThreedOffsetY),this.context.lineTo(i+r+n+l.variantThreedOffsetX,this.data[t]<0&&s-l.variantThreedOffsetY+o<this.marginTop+this.getYCoord(0)?this.getYCoord(this.data[t])-l.variantThreedOffsetY:0<this.data[t]?s-l.variantThreedOffsetY+o:Math.min(s-l.variantThreedOffsetY+o,this.canvas.height-this.marginBottom)),this.context.lineTo(i+r+n,s+o),this.context.closePath(),this.context.stroke(),this.context.fill(),0<this.data[t]&&(this.context.beginPath(),this.context.fillStyle="rgba(255,255,255,0.5)",isNexacroRuntime&&this.context.setElementFillStyle("rgba(255,255,255,0.5)"),this.context.moveTo(i+r,s),this.context.lineTo(i+r+l.variantThreedOffsetX,s-l.variantThreedOffsetY),this.context.lineTo(i+r+l.variantThreedOffsetX+n,s-l.variantThreedOffsetY),this.context.lineTo(i+r+n,s),this.context.lineTo(i+r,s),this.context.closePath(),this.context.stroke(),this.context.fill()),this.context.beginPath(),this.context.fillStyle="rgba(0,0,0,0.4)",isNexacroRuntime&&this.context.setElementFillStyle("rgba(0,0,0,0.4)"),this.context.moveTo(i+r+n,s),this.context.lineTo(i+r+n+l.variantThreedOffsetX,this.data[t]<0&&"bottom"===xaxispos?this.getYCoord(0):this.data[t]<0&&s-l.variantThreedOffsetY<this.marginTop+this.ChartAreaHalf?this.marginTop+this.ChartAreaHalf:s-l.variantThreedOffsetY),this.context.lineTo(i+r+n+l.variantThreedOffsetX,this.data[t]<0&&s-l.variantThreedOffsetY+o<this.getYCoord(0)?this.getYCoord(0):0<this.data[t]?s-l.variantThreedOffsetY+o:Math.min(s-l.variantThreedOffsetY+o,this.canvas.height-this.marginBottom)),this.context.lineTo(i+r+n,s+o),this.context.lineTo(i+r+n,s),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.strokeStyle=f,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=x,isNexacroRuntime&&this.context.setElementFillStyle(x)):"glass"==e&&((u=this.context.createLinearGradient(i+r,s,i+r+n/2,s)).addColorStop(0,"rgba(255,255,255,0.9)"),u.addColorStop(1,"rgba(255,255,255,0.5)"),this.context.beginPath(),this.context.fillStyle=u,isNexacroRuntime&&this.context.setElementFillStyle(u),this.context.rect(i+r+3,s+(0<this.data[t]?3:0),n/2-2,o-2),this.context.fill());break;case"dot":this.context.beginPath(),g=this.properties.variantDotDefaultColor||(l.colorsSequential?this.properties.colors[t]:this.properties.colors[0]),this.context.strokeStyle=g,isNexacroRuntime&&this.context.setElementStrokeStyle(g),this.context.moveTo(i+a/2,s),this.context.lineTo(i+a/2,s+o),this.context.stroke(),this.context.beginPath(),this.context.fillStyle=this.properties.colors[t],isNexacroRuntime&&this.context.setElementFillStyle(this.properties.colors[t]),this.context.arc(i+a/2,s+(0<this.data[t]?0:o),this.properties.variantDotRadius,0,6.28,0),l.colorsSequential?(this.context.fillStyle=l.colors[t],isNexacroRuntime&&this.context.setElementFillStyle(l.colors[t])):(this.context.fillStyle=l.colors[0],isNexacroRuntime&&this.context.setElementFillStyle(l.colors[0])),this.context.stroke(),this.context.fill()}this.coords.push([i+r,s,a-2*r,o]),void 0===this.coords2[t]&&(this.coords2[t]=[]),this.coords2[t].push([i+r,s,a-2*r,o])},this.drawStackbars=function(t,e,i,s,a,o,r,n,h){for(var l=this.properties,c=(this.scale2.min&&console.log("[ERROR] Stacked Bar charts with a Y min are not supported"),n-2*t),x=[],d=this.data[e],u=("100%"==this.properties.variantStackedType&&(d=this.dataPercent[e]),c<0&&console.log("Warning: you have a negative bar width. This may be caused by the marginInner being too high or the width of the canvas not being sufficient."),l.xaxisPosition,0);u<d.length;++u){this.context.strokeStyle=a,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),d[u]<0&&0==u&&(r=this.getYCoord(0));var g,p,f,m,b,C,y,D,v,S,w,_,T=Math.abs(this.getYCoord(0)-this.getYCoord(d[u])),P=(DxChart.arraySum(d),this.scale2.max,this.canvas.height,this.marginTop,this.marginBottom,this.coords.push([o+t,r,n-2*t,T]),void 0===this.coords2[e]&&(this.coords2[e]=[]),this.coords2[e].push([o+t,r,n-2*t,T]),this.context.fillStyle);0<T&&(_=l.colorsReverse?i[d.length-u-1]:l.colorsSequential&&i[s]?i[s++]:l.colorsSequential?i[s-1]:i[u],this.context.fillStyle=DxChart.parseGradient(this,_,o+t,r,n-2*t,T),this.context.fillStyle||(this.context.fillStyle=P),isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),"cylinder"==l.variantValue&&"bottom"===l.xaxisPosition?(b=(P=r)+(p=T),C=(f=o+t)+((m=f+(g=n-2*t))-f)/2,y=l.variantThreedOffsetY,(D=v=_).indexOf("gradient")<0&&(w=DxChart._shadeColor(_,-20),D="linear-gradient(to right,"+(_=DxChart._shadeColor(_,20))+" 0%,"+w+" 25%,"+_+" 100%)",v="linear-gradient(to right bottom,"+w+" 0%,"+_+" 100%)"),0===u&&(this.context.fillStyle=DxChart.parseGradient(this,v,f,P-y,g,p+y),isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.beginPath(),this.context.moveTo(f,P),this.context.quadraticCurveTo(C,P+y,m,P),this.context.quadraticCurveTo(C,P-y,f,P),this.context.stroke(),this.context.fill()),u===d.length-1&&(b-=l.variantThreedOffsetY/2),this.context.fillStyle=DxChart.parseGradient(this,D,f,P-y,g,p+y),isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.beginPath(),this.context.moveTo(f,P),this.context.quadraticCurveTo(C,P+y,m,P),this.context.lineTo(m,b),this.context.quadraticCurveTo(C,b+y,f,b),this.context.lineTo(f,P),this.context.stroke(),this.context.fill()):0===u&&"round"===l.corners&&"bottom"===l.xaxisPosition?(this.context.beginPath(),this.context.lineCap="miter",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.lineJoin="square",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.roundedCornersRect(o+t,r,n-2*t,T),this.context.stroke(),this.context.fill()):u===d.length-1&&"round"===l.corners&&"top"===l.xaxisPosition?(this.context.beginPath(),this.context.lineCap="miter",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.lineJoin="square",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.roundedCornersRectNegative(o+t,r,n-2*t,T),this.context.stroke(),this.context.fill()):this.path("b lj % lc % r % % % % s % f %","miter","square",o+t,r,n-2*t,T,this.context.strokeStyle,this.context.fillStyle)),0==u&&(S=o),h&&x.push([o+t,r,n-2*t,T,this.context.fillStyle]),"3d"==l.variantValue&&(w=this.context.fillStyle,_=this.context.strokeStyle,0==u&&(this.context.beginPath(),this.context.moveTo(S+t,r),this.context.lineTo(S+l.variantThreedOffsetX+t,r-l.variantThreedOffsetY),this.context.lineTo(S+l.variantThreedOffsetX+c+t,r-l.variantThreedOffsetY),this.context.lineTo(S+c+t,r),this.context.closePath(),this.context.fill(),this.context.stroke()),this.context.beginPath(),this.context.moveTo(S+c+t,r),this.context.lineTo(S+c+t+l.variantThreedOffsetX,r-l.variantThreedOffsetY),this.context.lineTo(S+c+t+l.variantThreedOffsetX,r-l.variantThreedOffsetY+T),this.context.lineTo(S+c+t,r+T),this.context.closePath(),this.context.fill(),this.context.stroke(),0==u&&(this.context.fillStyle="rgba(255,255,255,0.5)",isNexacroRuntime&&this.context.setElementFillStyle("rgba(255,255,255,0.5)"),this.context.beginPath(),this.context.moveTo(S+t,r),this.context.lineTo(S+l.variantThreedOffsetX+t,r-l.variantThreedOffsetY),this.context.lineTo(S+l.variantThreedOffsetX+c+t,r-l.variantThreedOffsetY),this.context.lineTo(S+c+t,r),this.context.closePath(),this.context.fill(),this.context.stroke()),this.context.fillStyle="rgba(0,0,0,0.4)",isNexacroRuntime&&this.context.setElementFillStyle("rgba(0,0,0,0.4)"),this.context.beginPath(),this.context.moveTo(S+c+t,r),this.context.lineTo(S+c+t+l.variantThreedOffsetX,r-l.variantThreedOffsetY),this.context.lineTo(S+c+t+l.variantThreedOffsetX,r-l.variantThreedOffsetY+T),this.context.lineTo(S+c+t,r+T),this.context.closePath(),this.context.fill(),this.context.stroke(),this.context.strokeStyle=_,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=w,isNexacroRuntime)&&this.context.setElementFillStyle(w),r+=T}if(h){for(DxChart.noShadow(this),k=0;k<x.length;++k)this.context.strokeStyle=a,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=x[k][4],isNexacroRuntime&&this.context.setElementFillStyle(x[k][4]),this.context.strokeRect(x[k][0],x[k][1],x[k][2],x[k][3]),this.context.fillRect(x[k][0],x[k][1],x[k][2],x[k][3]),this.context.stroke(),this.context.fill();x=[]}return[r,s]},this.drawGroupbars=function(t,e,i,s,a,o,r,n,h){var l=this.properties,c=l.xaxisPosition,x=[];this.context.lineWidth=l.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth);for(var d=0;d<this.data[t].length;++d){var u,g,p,f,m,b,C,y,D,v,S,k,w=(h-2*n)/this.data[t].length,_=(this.data[t][d]+(this.data[t][d]<0?this.scale2.min:-1*this.scale2.min))/(this.scale2.max-this.scale2.min)*(this.canvas.height-this.marginTop-this.marginBottom),T=l.marginInnerGrouped,P=o+n+d*w;w<0&&console.log("[DxChart] Warning: you have a negative bar width. This may be caused by the marginInner being too high or the width of the canvas not being sufficient."),"center"==c&&(_/=2),"top"==c?(u=this.marginTop,_=Math.abs(_)):"center"==c?u=this.marginTop+this.chartArea/2-_:(u=this.getYCoord(0),_=Math.abs(Math.abs(this.getYCoord(this.data[t][d]))-this.getYCoord(0)),0<=this.data[t][d]&&(u-=_)),this.context.strokeStyle=a,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),v=l.colorsSequential&&i[s]?i[s++]:l.colorsSequential?i[s-1]:i[d],l.colorsGradientFullSize?this.context.fillStyle=DxChart.parseGradient(this,v,P+T,this.marginTop,w-2*T,this.canvas.height-this.marginTop-this.marginBottom):this.context.fillStyle=DxChart.parseGradient(this,v,P+T,u,w-2*T,_),isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),"cylinder"==e?(S=(b=P+T)+(p=w-2*T),D=(m=u)+(f=_-l.variantThreedOffsetY/2),k=b+(S-b)/2,g=l.variantThreedOffsetY,(v=v).indexOf("gradient")<0&&(v="linear-gradient(to right bottom,"+(C=DxChart._shadeColor(color,-20))+" 0%,"+(y=DxChart._shadeColor(color,20))+" 100%)",this.context.fillStyle=DxChart.parseGradient(this,"linear-gradient(to right,"+y+" 0%,"+C+" 25%,"+y+" 100%)",b,m-g,p,f+g),isNexacroRuntime)&&this.context.setElementFillStyle(this.context.fillStyle),this.context.beginPath(),this.context.lineJoin="miter",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.context.lineCap="square",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.moveTo(b,m),this.context.quadraticCurveTo(k,m+g,S,m),this.context.lineTo(S,D),this.context.quadraticCurveTo(k,D+g,b,D),this.context.lineTo(b,m),this.context.stroke(),this.context.fill(),this.context.fillStyle=DxChart.parseGradient(this,v,b,m-g,p,f+g),isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.beginPath(),this.context.moveTo(b,m),this.context.quadraticCurveTo(k,m+g,S,m),this.context.quadraticCurveTo(k,m-g,b,m)):"triangle"==e?(C=(b=P+T)+(p=w-2*T)/2,y=b+p,D=(m=u)+(f=_-l.variantThreedOffsetY/2),this.context.beginPath(),this.context.lineJoin="miter",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.context.lineCap="square",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),"center"===l.xaxisPosition?(this.data[t][d]<0&&(m+=2,D+=2),this.context.moveTo(b,D),this.context.lineTo(y,D),this.context.lineTo(C,m),this.context.lineTo(b,D)):(this.context.moveTo(b,m),this.context.lineTo(y,m),this.context.lineTo(C,D),this.context.lineTo(b,m))):"round"===l.corners?(this.context.beginPath(),this.context.lineCap="miter",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.lineJoin="square",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.data[t][d]<0?this.roundedCornersRectNegative(P+T,u,w-2*T,_):this.roundedCornersRect(P+T,u,w-2*T,_)):(this.context.beginPath(),this.context.lineJoin="miter",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.context.lineCap="square",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.rect(P+T,u,w-2*T,_)),this.context.stroke(),this.context.fill(),r+=_,"3d"==(e=l.variantValue)&&(v=this.context.fillStyle,S=this.context.strokeStyle,k=l.marginInnerGrouped,0<=this.data[t][d]&&(this.context.beginPath(),this.context.moveTo(P+k,u),this.context.lineTo(P+k+l.variantThreedOffsetX,u-l.variantThreedOffsetY),this.context.lineTo(P+l.variantThreedOffsetX+w-k,u-l.variantThreedOffsetY),this.context.lineTo(P+w-k,u),this.context.closePath(),this.context.fill(),this.context.stroke()),this.context.beginPath(),this.context.moveTo(P+w-k-1,u),this.context.lineTo(P+w-k+l.variantThreedOffsetX,this.data[t][d]<0?this.getYCoord(0)+Math.abs(_)-l.variantThreedOffsetY-("center"===l.xaxisPosition?0:Math.abs(_)-this.properties.variantThreedOffsetY):this.getYCoord(0)-_-l.variantThreedOffsetY),this.context.lineTo(P+w-k+l.variantThreedOffsetX,this.data[t][d]<0&&u+_-l.variantThreedOffsetY<this.getYCoord(0)?this.getYCoord(0):u+_-l.variantThreedOffsetY),this.context.lineTo(P+w-k-1,u+_),this.context.closePath(),this.context.fill(),this.context.stroke(),0<=this.data[t][d]&&(this.context.fillStyle="rgba(255,255,255,0.5)",isNexacroRuntime&&this.context.setElementFillStyle("rgba(255,255,255,0.5)"),this.context.beginPath(),this.context.moveTo(P+k,u),this.context.lineTo(P+k+l.variantThreedOffsetX,u-l.variantThreedOffsetY),this.context.lineTo(P+l.variantThreedOffsetX+w-k,u-l.variantThreedOffsetY),this.context.lineTo(P+w-k,u),this.context.closePath(),this.context.fill(),this.context.stroke()),this.context.fillStyle="rgba(0,0,0,0.4)",isNexacroRuntime&&this.context.setElementFillStyle("rgba(0,0,0,0.4)"),this.context.beginPath(),this.context.moveTo(P+w-k,u),this.context.lineTo(P+w+l.variantThreedOffsetX-k,this.data[t][d]<0?this.getYCoord(0)+Math.abs(_)-l.variantThreedOffsetY-("center"===l.xaxisPosition?0:Math.abs(_)-this.properties.variantThreedOffsetY):this.getYCoord(0)-_-l.variantThreedOffsetY),this.context.lineTo(P+w+l.variantThreedOffsetX-k,+this.data[t][d]<0&&u+_-5<this.getYCoord(0)?_>this.properties.variantThreedOffsetY?this.getYCoord(0)+_-this.properties.variantThreedOffsetY:this.getYCoord(0):u+_-l.variantThreedOffsetY),this.context.lineTo(P+w-k,u+_),this.context.closePath(),this.context.fill(),this.context.stroke(),this.context.strokeStyle=S,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=v,isNexacroRuntime)&&this.context.setElementFillStyle(v),_<0&&(u-=_=Math.abs(_)),this.coords.push([P+T,u,w-2*T,_]),void 0===this.coords2[t]&&(this.coords2[t]=[]),this.coords2[t].push([P+T,u,w-2*T,_]),l.shadowUse&&x.push([P+T,u,w-2*T,_,this.context.fillStyle])}if(x.length){DxChart.noShadow(this),this.context.lineWidth=l.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.beginPath();for(d=0;d<x.length;++d)this.context.fillStyle=x[d][4],isNexacroRuntime&&this.context.setElementFillStyle(x[d][4]),this.context.strokeStyle=l.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillRect(x[d][0],x[d][1],x[d][2],x[d][3]),this.context.strokeRect(x[d][0],x[d][1],x[d][2],x[d][3]);this.context.fill(),this.context.stroke(),x=[]}return[r,s]},this.drawbars=function(){var t=this.properties,e=(this.context.lineWidth=t.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.data);"100%"==this.properties.variantStackedType&&(e=this.dataPercent),t.yaxisScaleDecimals;if(t.yaxisScaleMax)this.scale2=DxChart.getScale({object:this,options:{"scale.max":t.yaxisScaleMax,"scale.strict":!t.yaxisScaleRound,"scale.min":t.yaxisScaleMin,"scale.thousand":t.yaxisScaleThousand,"scale.point":t.yaxisScalePoint,"scale.decimals":t.yaxisScaleDecimals,"scale.labels.count":t.yaxisLabelsCount,"scale.round":t.yaxisScaleRound,"scale.units.pre":t.yaxisScaleUnitsPre,"scale.units.post":t.yaxisScaleUnitsPost,"scale.formatter":t.yaxisScaleFormatter}});else{var i=t.errorbarsValue;if("number"==typeof i){var s=i;t.errorbarsValue=[];for(var a=0;a<this.data.length;++a)if("number"==typeof e[a])t.errorbarsValue.push([s,null]);else if("object"==typeof e[a]&&!DxChart.isNull(e[a]))for(var o=0;o<this.data[a].length;++o)t.errorbarsValue.push([s,null]);t.errorbarsValue}for(a=0;a<this.data.length;++a)s="object"==typeof e[a]?"grouped"===t.grouping?Number(DxChart.arrayMax(e[a],!0)):Number(DxChart.arraySum(e[a])):Number(e[a]),this.max=Math.max(Math.abs(this.max),Math.abs(s)+Number("object"!=typeof t.errorbarsValue||"object"!=typeof t.errorbarsValue[a]||DxChart.isNull(t.errorbarsValue[a])||"number"!=typeof t.errorbarsValue[a][0]?0:t.errorbarsValue[a][0]));this.scale2=DxChart.getScale({object:this,options:{"scale.max":this.max,"scale.min":t.yaxisScaleMin,"scale.thousand":t.yaxisScaleThousand,"scale.point":t.yaxisScalePoint,"scale.decimals":t.yaxisScaleDecimals,"scale.labels.count":t.yaxisLabelsCount,"scale.round":t.yaxisScaleRound,"scale.units.pre":t.yaxisScaleUnitsPre,"scale.units.post":t.yaxisScaleUnitsPost,"scale.formatter":t.yaxisScaleFormatter}}),this.max=this.scale2.max}t.changeableValue&&!t.yaxisScaleMax&&this.set("yaxisScaleMax",this.scale2.max),t.backgroundHbars&&0<t.backgroundHbars.length&&DxChart.drawBars(this);for(var r,n=t.variantValue,h=("3d"!==n&&"cylinder"!==n||DxChart.draw3DAxes(this),t.xaxisPosition),l=(this.canvas.width-this.marginLeft-this.marginRight)/e.length,c=t.marginInner,x=t.shadowUse,d=t.shadowStyleObj.color,u=t.shadowStyleObj.blur,g=t.shadowStyleObj.offsetX,p=t.shadowStyleObj.offsetY,f=t.colorsStroke,m=t.colors,b=0,C="",a=0,y=e.length;a<y;a+=1){r=DxChart.arraySum(e[a])<0?(DxChart.arraySum(e[a])+this.scale2.min)/(this.scale2.max-this.scale2.min):(DxChart.arraySum(e[a])-this.scale2.min)/(this.scale2.max-this.scale2.min),r*=Math.abs(this.getYCoord(this.scale2.max)-this.getYCoord(this.scale2.min));var D=a*l+this.marginLeft,v="center"==h?(this.canvas.height-this.marginTop-this.marginBottom)/2+this.marginTop-r:this.canvas.height-r-this.marginBottom;if("top"==h&&(v=this.marginTop),r<0&&(v+=r,r=Math.abs(r)),x&&(this.context.shadowColor=d,this.context.shadowBlur=u,this.context.shadowOffsetX=g,this.context.shadowOffsetY=p,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime)&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY),this.context.beginPath(),"number"==typeof e[a]){"bottom"===h&&t.yaxisScaleMin<0&&(r=(0<=e[a]||(v=this.getYCoord(0)),Math.abs(this.getYCoord(0)-this.getYCoord(e[a]))));var S=l-2*c;this.context.strokeStyle=f,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),t.colorsSequential?(C=m[a],DxChart.isArray(f)&&f[a]&&(this.context.strokeStyle=f[a],isNexacroRuntime)&&this.context.setElementStrokeStyle(this.context.strokeStyle)):C=m[0],t.colorsGradientFullSize?this.context.fillStyle=DxChart.parseGradient(this,C,D,this.marginTop,S,this.canvas.height-this.marginTop-this.marginBottom):this.context.fillStyle=DxChart.parseGradient(this,C,D,v,S,r),isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.drawbarsSingleBar(a,n,D,v,l,r,c,S,C)}else if(e[a]&&"object"==typeof e[a]&&"stacked"==t.grouping){"rgba(0,0,0,0)"==f&&(f="transparent");var k,v=(k=this.drawStackbars(c,a,m,b,f,D,v,l,x))[0],b=k[1];if(null===v)return}else e[a]&&"object"==typeof e[a]&&"grouped"==t.grouping?(v=(k=this.drawGroupbars(a,n,m,b,f,D,v,c,l))[0],b=k[1]):this.coords.push([]);this.context.closePath()}"3d"===t.variantValue&&"right"===t.yaxisPosition&&t.yaxisUse&&DxChart.draw3DYAxis(this),DxChart.noShadow(this)},this.drawLabels=function(){this.drawAboveLabels()},this.getShape=function(t){for(var e=this.properties,i=arguments[1]||this,s=DxChart.getMouseXY(t),a=s[0],o=s[1],r=(i.canvas,i.context,i.coords),n=0,h=r.length;n<h;n+=1)if(0!=i.coords[n].length){var l=r[n][0],c=r[n][1],x=r[n][2],d=r[n][3],u=(this.context.beginPath(),e.tooltipsHotspotXonly?this.context.rect(l,this.marginTop,x,this.canvas.height-this.marginBottom):(u=DxChart.sequentialIndexToGrouped(n,this.data),"stacked"===e.grouping&&"round"===e.corners&&0===u[1]?this.roundedCornersRect(l,c,x,d):this.context.rect(l,c,x,d)),!1);if(isNexacroRuntime?l<=a&&a<=l+x&&c<=o&&o<=c+d&&(u=!0):u=this.context.isPointInPath(a,o),u){e.tooltipsData&&DxChart.parseTooltipText&&(g=DxChart.parseTooltipText(e.tooltipsData,n));for(var g,p=0,f=n;f>=("object"==typeof i.data[p]&&i.data[p]?i.data[p].length:1);)"number"!=typeof i.data[p]&&i.data[p]?f-=i.data[p].length:--f,p++;return"number"==typeof i.data[p]&&(f=0),{object:this,x:l,y:c,width:x,height:d,tooltip:"string"==typeof g?g:null,label:e.xaxisLabels&&"string"==typeof e.xaxisLabels[p]?e.xaxisLabels[p]:null,dataset:p,index:f,sequentialIndex:n}}}return null},this.getShapeByX=function(t){for(var e=this.properties,i=(t.target,DxChart.getMouseXY(t)),s=arguments[1]||this,a=0,o=s.coords.length;a<o;a++)if(0!=s.coords[a].length){var r,n=i[0],h=(i[1],s.coords[a][0]),l=s.coords[a][1],c=s.coords[a][2],x=s.coords[a][3];if(h<=n&&n<=h+c)return e.tooltipsData&&(r=DxChart.parseTooltipText?DxChart.parseTooltipText(e.tooltipsData,a):e.tooltipsData[a]),{object:s,x:h,y:l,width:c,height:x,dataset:(n=DxChart.sequentialIndexToGrouped(a,this.data))[0],index:n[1],sequentialIndex:a,tooltip:"string"==typeof r?r:null}}return null},this.getValue=function(t){var e,i,s=this.properties;return(t=(2==t.length?(e=t[0],t):(e=(t=DxChart.getMouseXY(t))[0],t))[1])<s.marginTop||t>this.canvas.height-s.marginBottom||e<s.marginLeft||e>this.canvas.width-s.marginRight?null:("center"==s.xaxisPosition?(i=(this.chartArea/2-(t-s.marginTop))/this.chartArea*(this.scale2.max-this.scale2.min),0<=(i*=2)?i+=this.scale2.min:i-=this.scale2.min):"top"==s.xaxisPosition?(i=(this.chartArea-(t-s.marginTop))/this.chartArea*(this.scale2.max-this.scale2.min),i=this.scale2.max-i,i=-1*Math.abs(i)):(i=(this.chartArea-(t-s.marginTop))/this.chartArea*(this.scale2.max-this.scale2.min),i+=this.scale2.min),i)},this.getYCoord=function(t){var e,i=this.properties;return t>this.scale2.max?null:("top"==(i=i.xaxisPosition)?(e=((t=t<0?Math.abs(t):t)-this.scale2.min)/(this.scale2.max-this.scale2.min)*this.chartArea,e+=this.marginTop):"center"==i?(e=(t-this.scale2.min)/(this.scale2.max-this.scale2.min)*(this.chartArea/2),e=this.chartArea/2-e,e+=this.marginTop):(e=((t=t<this.scale2.min?this.scale2.min:t)-this.scale2.min)/(this.scale2.max-this.scale2.min),e*=this.canvas.height-this.marginTop-this.marginBottom,e=this.canvas.height-this.marginBottom-e),e)},this.highlight=function(t){var e=this.properties;if("function"==typeof e.highlightStyle)e.highlightStyle(t);else if("string"==typeof e.highlightStyle&&"invert"===e.highlightStyle)for(var i=0;i<this.coords.length;++i)i!==t.sequentialIndex&&(this.context.beginPath(),this.context.rect(this.coords[i][0],this.coords[i][1],this.coords[i][2],this.coords[i][3]),this.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(e.highlightStroke),this.context.stroke(),this.context.fillStyle=e.highlightFill,isNexacroRuntime&&this.context.setElementFillStyle(e.highlightFill),this.context.fill());else"stacked"===e.grouping&&0===t.index&&"bottom"===e.xaxisPosition?(this.context.beginPath(),this.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=e.highlightFill,isNexacroRuntime&&this.context.setElementFillStyle(e.highlightFill),"round"===e.corners?this.roundedCornersRect(t.x,t.y,t.width,t.height):this.context.rect(t.x,t.y,t.width,t.height),this.context.stroke(),this.context.fill()):"triangle"!==e.variantValue&&"cylinder"!==e.variantValue&&DxChart.Highlight.rect(this,t)},this.getObjectByXY=function(t){var e=this.properties,i=DxChart.getMouseXY(t);this.getShape(t);if("3d"!==e.variantValue||e.textAccessible||(t=e.variantThreedAngle*i[0],i[1]-=t),i[0]>=e.marginLeft&&i[0]<=this.canvas.width-e.marginRight&&i[1]>=e.marginTop&&i[1]<=this.canvas.height-e.marginBottom)return this},this.changing_mousemove=function(t){(new Date).getTime();var e,i,s=this.properties;s.changeableValue&&DxChart.Registry.get("changing")&&DxChart.Registry.get("changing").uid==this.uid&&(e=Number(this.getValue(t)),i=DxChart.Registry.get("changing.shape"))&&(DxChart.Registry.set("changing.shape",i),this.stackedOrGrouped&&"grouped"==s.grouping?(s=DxChart.sequentialIndexToGrouped(i.sequentialIndex,this.data),"number"==typeof this.data[s[0]]?this.data[s[0]]=Number(e):DxChart.isNull(this.data[s[0]])||(this.data[s[0]][s[1]]=Number(e))):"number"==typeof this.data[i.sequentialIndex]&&(this.data[i.sequentialIndex]=Number(e)),DxChart.redrawCanvas(t.target),DxChart._fireEvent(this,"onadjust"))},this.parseColors=function(){var t=this.properties,e=(0===this.original_colors.length&&(this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.keyColors=DxChart.arrayClone(t.keyColors),this.original_colors.crosshairsColor=t.crosshairsColor,this.original_colors.highlightStroke=t.highlightStroke,this.original_colors.highlightFill=t.highlightFill,this.original_colors.textColor=t.textColor,this.original_colors.backgroundBarsColor1=t.backgroundBarsColor1,this.original_colors.backgroundBarsColor2=t.backgroundBarsColor2,this.original_colors.backgroundGridColor=t.backgroundGridColor,this.original_colors.backgroundColor=t.backgroundColor,this.original_colors.colorsStroke=t.colorsStroke,this.original_colors.axesColor=t.axesColor),t.keyColors);if(e)for(var i=0;i<e.length;++i)e[i]=this.parseSingleColorForGradient(e[i]);t.crosshairsColor=this.parseSingleColorForGradient(t.crosshairsColor),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill),t.textColor=this.parseSingleColorForGradient(t.textColor),t.backgroundBarsColor1=this.parseSingleColorForGradient(t.backgroundBarsColor1),t.backgroundBarsColor2=this.parseSingleColorForGradient(t.backgroundBarsColor2),t.backgroundGridColor=this.parseSingleColorForGradient(t.backgroundGridColor),t.backgroundColor=this.parseSingleColorForGradient(t.backgroundColor),t.colorStroke=this.parseSingleColorForGradient(t.colorStroke),t.axesColor=this.parseSingleColorForGradient(t.axesColor)},this.reset=function(){},this.drawBevel=function(){var t=this.properties,e=this.coords,i=this.coords2;if("stacked"==t.grouping){for(var s=0;s<i.length;++s)if(i[s]&&i[s][0]&&i[s][0][0]){for(var a=i[s][0][0],o=i[s][0][1],r=i[s][0][2],n=[],h=0;h<i[s].length;++h)n.push(i[s][h][3]);var l=DxChart.arraySum(n);this.context.save(),this.context.strokeStyle="black",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.beginPath(),this.context.rect(a,o,r,l),this.context.clip(),this.context.shadowColor="black",this.context.shadowOffsetX=0,this.context.shadowOffsetY=0,this.context.shadowBlur=20,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY),this.context.beginPath(),this.context.rect(a-3,o-3,r+6,l+100),this.context.lineWidth=5,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.stroke(),this.context.restore()}}else for(var c,x,s=0;s<e.length;++s)e[s]&&(a=e[s][0],o=e[s][1],r=e[s][2],l=e[s][3],c=t.xaxisPosition,x=(this.canvas.height-this.marginTop-this.marginBottom)/2+this.marginTop,this.context.save(),this.context.strokeStyle="black",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.beginPath(),this.context.rect(a,o,r,l),this.context.clip(),this.context.shadowColor="black",this.context.shadowOffsetX=0,this.context.shadowOffsetY=0,this.context.shadowBlur=20,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY),("top"==c||"center"==c&&x<o+l)&&(o-=100),l+=100,this.context.beginPath(),this.context.rect(a-3,o-3,r+6,l+6),this.context.lineWidth=5,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.stroke(),this.context.restore())},this.interactiveKeyHighlight=function(r){var n=this.properties,h=this;this.coords2.forEach(function(t,e,i){var s,a,o;"object"==typeof t[r]&&t[r]&&(s=t[r][0]-.5,a=t[r][1]-.5,o=t[r][2]+1,t=t[r][3]+1,h.context.fillStyle=n.keyInteractiveHighlightChartFill,isNexacroRuntime&&h.context.setElementFillStyle(n.keyInteractiveHighlightChartFill),h.context.strokeStyle=n.keyInteractiveHighlightChartStroke,isNexacroRuntime&&h.context.setElementStrokeStyle(h.context.strokeStyle),h.context.lineWidth=2,isNexacroRuntime&&h.context.setElementLineWidth(h.context.lineWidth),h.context.strokeRect(s,a,o,t),h.context.fillRect(s,a,o,t))})},this.drawAboveLabels=function(){var t=this.properties,e=t.labelsAbove,i=t.labelsAboveSpecific,s=("boolean"==typeof t.labelsAboveBold?t.labelsAboveBold:t.textFontStyleObj.bold,"boolean"==typeof t.labelsAboveItalic?t.labelsAboveItalic:t.textFontStyleObj.italic,t.labelsAboveColor||t.textColor,t.labelsAboveFontStyleObj.face||t.textFontStyleObj.face,("number"==typeof t.labelsAboveFontStyleObj.size?t.labelsAboveFontStyleObj:t.textFontStyleObj).size,t.labelsAboveBackground),a=t.labelsAboveDecimals,o=-1*t.labelsAboveAngle,r=t.labelsAboveUnitsPre,n=t.labelsAboveUnitsPost,h=t.labelsAbovePoint,l=t.labelsAboveThousand,c=t.labelsAboveFormatter,x=(this.coords,this.coords2),d=this.data,u=(DxChart.arrayLinearize(this.data),t.labelsAboveOffsetX),g=t.labelsAboveOffsetY,p=(t.textFontStyleObj.italic,t.textFontStyleObj.bold,t.textColor,t.textFontStyleObj.face,t.textFontStyleObj.size,t.grouping),f=("number"==typeof t.labelsAboveOffset&&(g=t.labelsAboveOffset),DxChart.getTextInfo({object:this,prefix:"labelsAbove"}));if(DxChart.noShadow(this),this.context.fillStyle=f.color,isNexacroRuntime&&this.context.setElementFillStyle(f.color),e&&"grouped"===p){for(var m=0,b=d.length,C=0;m<b;m+=1)if("number"==typeof d[m]&&0<=d[m]){var y=(o=o)?"left":"center",D=0!==o?"center":"bottom";DxChart.text({object:this,font:f.font,size:f.size,color:f.color,bold:f.bold,italic:f.italic,x:x[m][0][0]+x[m][0][2]/2+u,y:x[m][0][1]-g,text:i?i[C]||"":DxChart.numberFormat({object:this,number:Number(Number("object"==typeof d[m]?d[m][0]:d[m]).toFixed(a)),value:Number(Number("object"==typeof d[m]?d[m][0]:d[m]).toFixed(a)),unitspre:r,unitspost:n,point:h,thousand:l,formatter:c,dataset:0,index:m}),halign:y,valign:D,angle:o,marker:!1,bounding:!0,"bounding.fill":s,"bounding.stroke":"rgba(0,0,0,0)",tag:"labels.above"}),C++}else if("number"==typeof d[m]&&d[m]<0){y=(o=o)?"right":"center",D=0!==o?"center":"top";DxChart.text({object:this,font:f.font,size:f.size,color:f.color,bold:f.bold,italic:f.italic,x:x[m][0][0]+x[m][0][2]/2+u,y:x[m][0][1]+x[m][0][3]+g,text:i?i[C]||"":DxChart.numberFormat({object:this,number:Number(Number("object"==typeof d[m]?d[m][0]:d[m]).toFixed(a)),value:Number(Number("object"==typeof d[m]?d[m][0]:d[m]).toFixed(a)),unitspre:r,unitspost:n,point:h,thousand:l,formatter:c,dataset:0,index:m}),halign:y,valign:D,angle:o,bounding:!0,"bounding.fill":s,"bounding.stroke":"rgba(0,0,0,0)",marker:!1,tag:"labels.above"}),C++}else if("object"==typeof d[m])for(var v=0,S=d[m].length;v<S;v+=1){y=d[m][v]<0?"right":"left",D=(y=0===o?"center":y,d[m][v]<0?"top":"bottom");D=0!=o?"center":D,DxChart.text({object:this,font:f.font,size:f.size,color:f.color,bold:f.bold,italic:f.italic,x:x[m][v][0]+x[m][v][2]/2+u,y:"top"===t.xaxisPosition?x[m][v][1]+x[m][v][3]+5:x[m][v][1]+(d[m][v]<0?x[m][v][3]+g:-g),text:i?i[C]||"":DxChart.numberFormat({object:this,number:Number(Number(d[m][v]).toFixed(a)),value:Number(Number(d[m][v]).toFixed(a)),unitspre:r,unitspost:n,point:h,thousand:l,formatter:c,dataset:m,index:v}),halign:y,valign:"top"===t.xaxisPosition?"top":D,angle:o,bounding:!0,"bounding.fill":s,"bounding.stroke":"rgba(0,0,0,0)",marker:!1,tag:"labels.above"}),C++}}else if(e&&"stacked"===p)for(m=0,b=d.length,C=0;m<b;m+=1)"object"==typeof d[m]?(y=0!=(o=o)?"left":"center",D=0!=o?"center":"bottom",DxChart.text({object:this,font:f.font,size:f.size,color:f.color,bold:f.bold,italic:f.italic,x:x[m][0][0]+x[m][0][2]/2+u,y:x[m][0][1]+(d[m][0]<0?x[m][0][3]:0)-g,text:i?i[C]||"":DxChart.numberFormat({object:this,number:Number(Number(DxChart.arraySum(d[m])).toFixed(a)),value:Number(Number(DxChart.arraySum(d[m])).toFixed(a)),unitspre:r,unitspost:n,point:h,thousand:l,formatter:c,dataset:m}),halign:y,valign:D,angle:o,bounding:!0,"bounding.fill":s,"bounding.stroke":"rgba(0,0,0,0)",marker:!1,tag:"labels.above"}),C+=d[m].length):(y=0!=(o=o)?"left":"center",D=0!=o?"center":"bottom",DxChart.text({object:this,font:f.font,size:f.size,color:f.color,bold:f.bold,italic:f.italic,x:x[m][0][0]+x[m][0][2]/2+u,y:x[m][0][1]+(d[m][0]<0?x[m][0][3]:0)-g,text:i?i[C]||"":DxChart.numberFormat({object:this,number:Number(Number(d[m]).toFixed(a)),value:Number(Number(d[m]).toFixed(a)),unitspre:r,unitspost:n,point:h,thousand:l,formatter:c,dataset:m}),halign:y,valign:D,angle:o,bounding:!0,"bounding.fill":s,"bounding.stroke":"rgba(0,0,0,0)",marker:!1,tag:"labels.above"}),C++)},this.firstDrawFunc=function(){},this.wave=function(){this.properties;if(this.cancelStopAnimation(),this.data=DxChart.arrayClone(this.orgData),1===this.data.length)return this.grow(arguments[0],arguments[1]);var s=this,a=arguments[0]||{},e=this.get("labelsAbove"),o=(a.frames=a.frames||30,a.startFrames=[],a.counters=[],a.frames/3),r=-1,i=arguments[1]||function(){},n=DxChart.arrayClone(this.orgData);this.set("labelsAbove",!1);for(var t=0,h=s.data.length;t<h;t+=1)if(a.startFrames[t]=a.frames/2/(s.data.length-1)*t,"object"==typeof s.data[t]&&s.data[t]){a.counters[t]=[];for(var l=0;l<s.data[t].length;l++)a.counters[t][l]=0}else a.counters[t]=0;return s.draw(),s.set("yaxisScaleMax",s.scale2.max),DxChart.clear(s.canvas),function t(){if(s.stopAnimationRequested)s.stopAnimationRequested=!1,s.data=DxChart.arrayClone(s.orgData);else{++r;for(let i=0,t=s.data.length;i<t;i+=1)if(r>a.startFrames[i]){if("number"==typeof s.data[i])s.data[i]=Math.min(Math.abs(n[i]),Math.abs(n[i]*(a.counters[i]++/o))),n[i]<0&&(s.data[i]*=-1);else if(!DxChart.isNull(s.data[i]))for(let t=0,e=s.data[i].length;t<e;t+=1)s.data[i][t]=Math.min(Math.abs(n[i][t]),Math.abs(n[i][t]*(a.counters[i][t]++/o))),n[i][t]<0&&(s.data[i][t]*=-1)}else s.data[i]="object"==typeof s.data[i]&&s.data[i]?DxChart.arrayPad([],s.data[i].length,0):DxChart.isNull(s.data[i])?null:0;r>=a.frames?(e&&(s.set("labelsAbove",!0),DxChart.redraw()),i(s)):(DxChart.redrawCanvas(s.canvas),DxChart.Effects.updateCanvas(t,s.canvas))}}(),this},this.drawAni=function(){var t=arguments[0]||"grow",e=arguments[1]||{},i=arguments[2]||function(){};switch(t){case"grow":this.grow(e,i);break;case"wave":this.wave(e,i);break;case"colorWave":this.colorWave(e,i)}},this.colorWave=function(){this.cancelStopAnimation(),this.data=DxChart.arrayClone(this.orgData);for(var s=this,a=arguments[0]||{},o=(a.frames=a.frames||30,a.startFrames=[],a.counters=[],(colors=s.properties.colors).length<=s.data.length&&(s.set("colorsSequential",!0),colors=DxChart.arrayPad(colors,s.data.length,colors[colors.length-1])),a.frames/2),r=-1,n=arguments[1]||function(){},t=DxChart.arrayClone(s.properties.colors),e=0,i=t.length;e<i;e+=1)a.startFrames[e]=a.frames/2/(t.length-1)*e,a.counters[e]=0;return function t(){++r;for(var e=0,i=colors.length;e<i;e+=1)r>a.startFrames[e]&&colors[e].match(/^rgba?\(([0-9 ]+),([0-9 ]+),([0-9 ]+)(,([ 0-9.]+)?)\)/)?colors[e]="rgba({1},{2},{3},{4})".format(RegExp.$1,RegExp.$2,RegExp.$3,(r-a.startFrames[e])/o):colors[e]=colors[e].replace(/,[0-9. ]+\)/,",0)");r>=a.frames?n(s):(DxChart.redrawCanvas(s.canvas),DxChart.Effects.updateCanvas(t))}(),this},this.grow=function(){var t=this.properties,l=(this.cancelStopAnimation(),this.data=DxChart.arrayClone(this.orgData),arguments[0]||{}),c=l.frames||30,x=0,d=arguments[1]||function(){},u=this,g=this.get("labelsAbove");if(DxChart.isArray(l.data)){for(var e=0,i=0;i<l.data.length;++i)if("object"==typeof l.data[i])for(var s=0;s<l.data[i].length;++s)"string"==typeof l.data[i][s]&&l.data[i][s].match(/(\+|\-)([0-9]+)/)&&("+"===RegExp.$1?l.data[i][s]=this.orgData[i][s]+parseInt(RegExp.$2):l.data[i][s]=this.orgData[i][s]-parseInt(RegExp.$2)),e=Math.max(e,l.data[i][s]);else e=("string"==typeof l.data[i]&&l.data[i].match(/(\+|\-)([0-9]+)/)&&("+"===RegExp.$1?l.data[i]=this.orgData[i]+parseInt(RegExp.$2):l.data[i]=this.orgData[i]-parseInt(RegExp.$2)),Math.max(e,l.data[i]));var a=DxChart.getScale({object:this,options:{"scale.max":e}});"number"!=typeof t.yaxisScaleMax&&this.set("yaxisScaleMax",a.max)}if(this.set("labelsAbove",!1),null==t.yaxisScaleMax){for(e=0,i=0;i<this.data.length;++i)if(DxChart.isArray(this.data[i])&&"stacked"===t.grouping)e=Math.max(e,Math.abs(DxChart.arraySum(this.data[i])));else if(DxChart.isArray(this.data[i])&&"grouped"===t.grouping){for(var s=0,o=[];s<this.data[i].length;s++)o.push(Math.abs(this.data[i][s]));e=Math.max(e,Math.abs(DxChart.arrayMax(o)))}else e=Math.max(e,Math.abs(this.data[i]));a=DxChart.getScale({object:this,options:{"scale.max":e}});this.set("yaxisScaleMax",a.max)}"number"==typeof l.ymax&&this.set("yaxisScaleMax",l.ymax);var p=function(){if(u.stopAnimationRequested)u.stopAnimationRequested=!1,u.data=DxChart.arrayClone(u.orgData);else{for(var t=DxChart.Effects.getEasingMultiplier(c,x),e=0,i=u.orgData.length;e<i;++e)if("object"!=typeof u.data[e]||DxChart.isNull(u.data[e]))u.firstDraw||!l.data?u.data[e]=t*u.orgData[e]:l.data&&l.data.length===u.orgData.length&&(s=l.data[e]-u.orgData[e],u.data[e]=t*s+u.orgData[e]);else for(var s,a=0,o=u.data[e].length;a<o;++a)u.firstDraw||!l.data?u.data[e][a]=t*u.orgData[e][a]:l.data&&l.data.length===u.orgData.length&&(s=l.data[e][a]-u.orgData[e][a],u.data[e][a]=t*s+u.orgData[e][a]);if(DxChart.redrawCanvas(u.canvas),x<c)x+=1,DxChart.Effects.updateCanvas(p,u.canvas);else{var r=u.orgData;if(DxChart.isArray(l.data))for(var n=DxChart.arrayLinearize(r),h=0;h<n.length;++h)u["$"+h]||(u["$"+h]={});u.data=r,u.orgData=DxChart.arrayClone(r),g&&(u.set("labelsAbove",!0),DxChart.redraw()),d(u)}}};return p(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.drawErrorbars=function(){var t=this.properties,e=this.coords,i=t.errorbarsColor||"black",s=Math.min(t.errorbarsCappedWidth,e[0][2])/2,a=t.errorbarsValue;t.errorbarsCapped||(g=t.errorbarsCappedWidth=0),this.context.lineWidth=t.errorbarsLineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth);for(var o=0;o<e.length;++o){var r,n,h,l=e[o][0],c=e[o][1],x=e[o][2],d=e[o][3],u=DxChart.sequentialIndexToGrouped(o,this.data),g=("object"!=typeof this.data[u[0]]||DxChart.isNull(this.data[u[0]])||(r=!0,n=u[0],h=u[1]),i=t.errorbarsColor||"black",a[o]&&"number"==typeof a[o][3]&&(this.context.lineWidth=a[o][3],isNexacroRuntime)&&this.context.setElementLineWidth(this.context.lineWidth),a[o]&&"number"==typeof a[o][4]?a[o][4]/2:s);t.errorbarsCapped||(g=0),"number"==typeof a[o]?(u=Math.abs(this.getYCoord(a[o])-this.getYCoord(0)))&&this.path("b % % l % % l % % l % % s %",l+x/2,"number"==typeof this.data[o]&&this.data[o]<0||r&&this.data[n][h]<0?c+d:c,l+x/2,"number"==typeof this.data[o]&&this.data[o]<0||r&&this.data[n][h]<0?c+d+u:c-u,l+x/2-g,"number"==typeof this.data[o]&&this.data[o]<0||r&&this.data[n][h]<0?Math.round(c+d+u):Math.round(c-u),l+x/2+g,"number"==typeof this.data[o]&&this.data[o]<0||r&&this.data[n][h]<0?Math.round(c+d+u):Math.round(c-u),i):"object"!=typeof a[o]||DxChart.isNull(a[o])||(u=Math.abs(this.getYCoord(a[o][0])-this.getYCoord(0)),"string"==typeof a[o][1]?i=a[o][1]:"string"==typeof a[o][2]&&(i=a[o][2]),g="number"==typeof a[o][4]?a[o][4]/2:s,t.errorbarsCapped||(g=0),DxChart.isNull(a[o][0])||this.path("b m % % l % % l % % l % % s %",l+x/2,c+(this.data[o]<0?d:0)+(r&&this.data[n][h]<0?d:0),l+x/2,c-u+(this.data[o]<0?d:0)+(r&&this.data[n][h]<0?d:0),l+x/2-g,Math.round(c-u)+(this.data[o]<0?d:0)+(r&&this.data[n][h]<0?d:0),l+x/2+g,Math.round(c-u)+(this.data[o]<0?d:0)+(r&&this.data[n][h]<0?d:0),i),"number"==typeof a[o][1]&&(u=Math.abs(this.getYCoord(a[o][1])-this.getYCoord(0)),this.path("b m % % l % % l % % l % % s %",l+x/2,c+(this.data[o]<0?d:0)+(r&&this.data[n][h]<0?d:0),l+x/2,c+u+(this.data[o]<0?d:0)+(r&&this.data[n][h]<0?d:0),l+x/2-g,Math.round(e[o][1]+u)+(this.data[o]<0?d:0)+(r&&this.data[n][h]<0?d:0),l+x/2+g,Math.round(c+u)+(this.data[o]<0?d:0)+(r&&this.data[n][h]<0?d:0),i))),a[o]&&"number"==typeof a[o][3]&&(this.context.lineWidth=t.errorbarsLineWidth,isNexacroRuntime)&&this.context.setElementLineWidth(this.context.lineWidth)}},this.isAdjustable=function(t){var e=this.properties;return!(!DxChart.isNull(e.changeableOnly)&&DxChart.isArray(e.changeableOnly))||(t?!(!DxChart.isArray(e.changeableOnly)||!e.changeableOnly[t.sequentialIndex]):void 0)},this.tooltipSubstitutions=function(t){var e=DxChart.sequentialIndexToGrouped(t.index,this.data),i=this.data[e[0]],s=[],a=0;return"100%"==this.properties.variantStackedType&&("number"==typeof(s=this.dataPercent[e[0]])&&(s=[s]),a=this.dataPercent[e[0]][e[1]]),{index:e[1],dataset:e[0],sequentialIndex:t.index,value:this.data_arr[t.index],values:i="number"==typeof i?[i]:i,percent:a,percents:s}},this.tooltipsFormattedCustom=function(t,e){var i=this.properties,e=this.stackedOrGrouped?!DxChart.isNull(i.tooltipsFormattedKeyLabels)&&"object"==typeof i.tooltipsFormattedKeyLabels&&i.tooltipsFormattedKeyLabels[e]?i.tooltipsFormattedKeyLabels[e]:"":!DxChart.isNull(i.tooltipsFormattedKeyLabels)&&"object"==typeof i.tooltipsFormattedKeyLabels&&i.tooltipsFormattedKeyLabels[t.index]?i.tooltipsFormattedKeyLabels[t.index]:"";return{label:e}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=t.index,a=DxChart.getCanvasXY(e.canvas),o=e.coords[t.index],r=e.properties;isNexacroRuntime?(t.tooltip.set_left(a[0]+o[0]-i.getOffsetWidth()/2+o[2]/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(a[1]+o[1]-i.getOffsetHeight()-10+e.properties.tooltipsOffsetY)):(t.tooltip.style.left=a[0]+o[0]-i.offsetWidth/2+o[2]/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=a[1]+o[1]-i.offsetHeight-10+e.properties.tooltipsOffsetY+"px"),"3d"===r.variantValue&&(a=o[0],o[1],i=r.variantThreedAngle,e=Math.tan(i)*a,isNexacroRuntime?t.tooltip.set_top(parseInt(t.tooltip.top)+e-5):t.tooltip.style.top=parseInt(t.tooltip.style.top)+e-5+"px"),this.data_arr[s]<0&&(isNexacroRuntime?t.tooltip.set_top(parseFloat(t.tooltip.style.top)+o[3]/2):t.tooltip.style.top=parseFloat(t.tooltip.style.top)+o[3]/2+"px")},this.roundedCornersRect=function(t,e,i,s){var a=this.properties.cornersRoundRadius,a=Math.min(i/2,s/2,a);this.context.moveTo(t+i/2,e),this.context.arcTo(t+i,e,t+i,e+s,Math.min(s/2,a)),this.context.lineTo(t+i,e+s),this.context.lineTo(t,e+s),this.context.lineTo(t,e+s/2),this.context.arcTo(t,e,t+i/2,e,Math.min(s/2,a)),this.context.lineTo(t+i/2,e)},this.roundedCornersRectNegative=function(t,e,i,s){var a=this.properties,a=(s<0&&(e-=s=Math.abs(s)),a.cornersRoundRadius),a=Math.min(i/2,s/2,a);this.context.moveTo(t+a,e),this.context.arcTo(t+i,e,t+i,e,a),this.context.arcTo(t+i,e+s,t+i-a,e+s,a),this.context.arcTo(t,e+s,t,e+s-a,a),this.context.arcTo(t,e,t,e,a),this.context.lineTo(t+a,e)},this.install3DAxisNegativeClip=function(){this.path("b m % % l % % l % % l % % l % % l % % c cl",this.marginLeft,this.getYCoord(0),this.marginLeft,this.canvas.height-this.marginBottom,this.canvas.width-this.marginRight,this.canvas.height-this.marginBottom,this.canvas.width-this.marginRight+this.properties.variantThreedOffsetX,this.canvas.height-this.marginBottom-this.properties.variantThreedOffsetY,this.canvas.width-this.marginRight+this.properties.variantThreedOffsetX,this.getYCoord(0)-this.properties.variantThreedOffsetY,this.canvas.width-this.marginRight,this.getYCoord(0))},this.resetData(t.data),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartSegmentedBar(t){this.config=t,this.properties={},DxChart._Base.call(this,t,"segmentedBar"),t.binddataset&&(this.binddataset=t.binddataset),DxChart.parseProperties(this,t.options),this.resetData=function(o,t){this.binddataset&&0<=t.toString().indexOf("bind:")&&(t=DxChart.parseDataset(this,t),o.data=t);var r=this;"hbar"==o.options.bartype?this.background=new DxChartHBar({id:o.id,elem:o.elem,binddataset:r.binddataset,data:DxChart.arrayPad([],o.data.length),options:o.options}):(this.background=new DxChartBar({id:o.id,elem:o.elem,binddataset:r.binddataset,data:DxChart.arrayPad([],o.data.length),options:o.options}),this.background.set("backgroundGridHlinesCount",r.properties.segmentsCount)),this.background.set("colors","rgba(0,0,0,0)"),this.background.set("xaxisUse",!1),this.background.set("xaxisLabels",null),this.background.set("xaxisScale",!1),this.background.set("xaxisLabelsSpecific",null),this.background.set("yaxisUse",!1),this.background.set("yaxisLabels",null),this.background.set("yaxisScale",!1),this.background.set("yaxisLabelsSpecific",null),"hbar"==o.options.bartype?this.foreground=new DxChartHBar({id:o.id,elem:o.elem,data:o.data,binddataset:r.binddataset,options:o.options}):this.foreground=new DxChartBar({id:o.id,elem:o.elem,data:o.data,binddataset:r.binddataset,options:o.options}),this.foreground.set("grouping","stacked"),this.foreground.set("xaxisUse",!1),this.foreground.set("yaxisUse",!1),"hbar"!=o.options.bartype&&"number"!=typeof this.foreground.properties.yaxisLabelsOffsetX&&this.foreground.set("yaxisLabelsOffsetX",-3),this.foreground.set("backgroundGrid",!1),this.foreground.on("onenddraw",function(t){var e=r.properties.segmentsLineWidth,i=r.properties.segmentsCount;if("hbar"==o.options.bartype)for(var s=r.canvas.height-r.foreground.properties.marginTop-r.foreground.properties.marginBottom,a=0;a<=i;++a)t.path("cr % % % %",t.getXCoord(a/i*r.foreground.scale2.max),r.foreground.properties.marginTop,e,s);else for(a=0;a<=i;++a)t.path("cr % % % %",r.foreground.properties.marginLeft,t.getYCoord(a/i*r.foreground.scale2.max)-e/2,this.canvas.width,e);r.background.draw()}),"hbar"!=o.options.bartype&&"number"!=typeof this.foreground.properties.yaxisLabelsOffsetY&&this.foreground.set({yaxisLabelsOffsetY:(this.foreground.canvas.height-this.foreground.properties.marginTop-this.foreground.properties.marginBottom)/r.properties.segmentsCount/2})},this.draw=function(){return this.foreground.draw(),this},this.grow=function(){return this.background.draw(),this.foreground.grow(arguments[0],arguments[1]),this},this.wave=function(){return this.background.draw(),this.foreground.wave(arguments[0],arguments[1]),this},this.responsive=function(t){return this.foreground.responsive(t),this.background.responsive(t),this},this.resetData(t,t.data)}function DxChartFuel(t){return DxChart._Base.call(this,t,"fuel"),DxChart.setDefaultProperties(this,"needle"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"scale"),DxChart.setDefaultProperties(this,"default"),this.properties.scaleLabelsCount=5,this.properties.needleColor="radial-gradient(white:black:black:black:black:white)",this.properties.needleStrokeStyle="rgba(0,0,0,0)",this.properties.scaleStrokeColor="#aaaaaa",this.properties.scaleHeight=10,this.properties.scaleTickSize=5,this.properties.scaleLabelGap=2,this.properties.needleLineWidth=5,this.properties.backgroundColor="#ffffff",this.properties.backgroundGrid=!1,t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t,e,i){this.binddataset&&(t=DxChart._getColumnDataset(this.binddataset,t),e=DxChart._getColumnDataset(this.binddataset,e),i=DxChart._getColumnDataset(this.binddataset,i)),this.min=DxChart.str2num(t),DxChart.isArray(this.min)&&(this.min=this.min[0]),this.max=DxChart.str2num(e),DxChart.isArray(this.max)&&(this.max=this.max[0]),this.value=DxChart.str2num(i),DxChart.isArray(this.value)&&(this.value=this.value[0]),this.angles={},this.currentValue=null,this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min)},this.draw=function(){var t;return this.min||this.max?(t=this.properties,DxChart._BeforeDraw(this,!0),this.currentValue=this.value,this.centerx=(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft,this.centery=this.canvas.height-20-this.marginBottom,this.radius=this.canvas.height-this.marginTop-this.marginBottom-20,this.coordsText=[],"number"==typeof t.centerx&&(this.centerx=t.centerx),"number"==typeof t.centery&&(this.centery=t.centery),"number"==typeof t.radius&&(this.radius=t.radius),this.angles.start=DxChart.PI+DxChart.HALFPI-.5,this.angles.end=DxChart.PI+DxChart.HALFPI+.5,isNexacroRuntime&&(this.angles.start=DxChart.PI-.5,this.angles.end=DxChart.PI+.5),this.angles.needle=this.getAngle(this.value),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),DxChart.Background.draw(this),this.drawLabels(),this.drawChart(),t.contextmenu&&DxChart.showContext(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this):DxChart.NoDataShow(this)},this.drawChart=function(){this.properties;this.drawScale(),this.drawIcon(),this.drawNeedle()},this.drawLabels=function(){var t,e,i,s=this.properties,a=(s.scaleVisible||(this.radius,this.context.fillStyle=s.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),t=this.centery-Math.sin(this.angles.start-DxChart.PI)*(this.radius-17+s.labelsEmptyOffsetRadius),e=this.centerx-Math.cos(this.angles.start-DxChart.PI)*(this.radius-17+s.labelsEmptyOffsetRadius),a=DxChart.getTextInfo({object:this,prefix:"labels"}),i=DxChart.text({object:this,font:a.font,size:a.size,color:a.color,bold:a.bold,italic:a.italic,x:e+s.labelsEmptyOffsetX,y:t+s.labelsEmptyOffsetY,text:s.labelsEmpty,halign:"left",valign:"top",tag:"labels",cssClass:DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:0})}),t=this.centery-Math.sin(this.angles.start-DxChart.PI)*(this.radius-17+s.labelsFullOffsetRadius),e=this.centerx+Math.cos(this.angles.start-DxChart.PI)*(this.radius-17+s.labelsFullOffsetRadius),i=DxChart.text({object:this,font:a.font,size:a.size,color:a.color,bold:a.bold,italic:a.italic,x:e+s.labelsFullOffsetX,y:t+s.labelsFullOffsetY,text:s.labelsFull,halign:"right",valign:"top",tag:"labels",cssClass:DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:1})})),"");"string"==typeof s.labelsClass?a=s.labelsClass:"object"==typeof s.labelsClass&&"string"==typeof s.labelsClass[1]&&(a=s.labelsClass[1]),a&&-1===i.node.className.indexOf(a)&&(i.node.className+=" "+a)},this.drawNeedle=function(){var t=this.properties,e=(this.context.beginPath(),this.context.lineWidth=t.needleLineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.lineCap="round",isNexacroRuntime&&this.context.setElementLineCap("round"),this.context.strokeStyle=t.needleStrokeColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.angles.needle),e=(isNexacroRuntime?(e+=DxChart.HALFPI,r=this.centerx+Math.cos(e)*(this.radius-t.needleRadiusOffset),n=this.centery+Math.sin(e)*(this.radius-t.needleRadiusOffset),this.context.moveTo(this.centerx,this.centery),this.context.lineTo(r,n)):(this.context.arc(this.centerx,this.centery,this.radius-t.needleRadiusOffset,e,e+1e-4,!1),this.context.lineTo(this.centerx,this.centery)),this.context.closePath(),this.context.stroke(),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),t.needleColor),i=t.needleSize,s=this.centerx,a=this.centery,o=i/2,r=s-o,n=a-o,r=(isNexacroRuntime&&(this.context.save(),this.context.translate(r,n),a=s=o),s+10),n=a-10,h=(this.context.beginPath(),e.indexOf("gradient")<0&&(e="radial-gradient("+e+":"+e+":white:"+e+")"),DxChart.parseRadialGradientInfo(this,e,s,a,0,r,n,i));this.context.fillStyle=h,this.context.strokeStyle=t.needleStrokeStyle,isNexacroRuntime&&(h=DxChart.parseRadialGradientInfo(this,e,r-5,5+n,0,r,n,i+20),this.context.setElementStrokeStyle(t.needleStrokeStyle),this.context.setElementFillStyle(h)),this.context.arc(s,a,o,0,DxChart.TWOPI,0),this.context.closePath(),isNexacroRuntime&&(this.context._globalAlphaFill=.9999),this.context.fill(),this.context.stroke(),isNexacroRuntime&&this.context.restore()},this.drawScale=function(){var t=this.properties,e=t.scaleHeight,i=t.scaleTickSize,s=t.scaleLabelGap,a=(this.context.beginPath(),this.context.strokeStyle=t.scaleStrokeColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle="white",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.arc(this.centerx,this.centery,this.radius,this.angles.start,this.angles.end,!1),isNexacroRuntime?(this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.stroke(),this.context.fill()):this.context.arc(this.centerx,this.centery,this.radius-e,this.angles.end,this.angles.start,!0),this.context.closePath(),this.context.stroke(),this.context.fill(),this.angles.start),o=this.angles.needle;this.context.beginPath(),this.context.fillStyle=t.colors[0],isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.arc(this.centerx,this.centery,this.radius,a,o,!1),isNexacroRuntime?this.context.lineTo(this.centerx,this.centery):this.context.arc(this.centerx,this.centery,this.radius-e,o,a,!0),this.context.closePath(),this.context.fill(),isNexacroRuntime&&(this.context.beginPath(),this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.setElementFillStyle(this.context.fillStyle),this.context.arc(this.centerx,this.centery,this.radius-(e+1),this.angles.start,this.angles.end,!1),this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.beginPath(),o=("transparent"==t.backgroundColor?null:t.backgroundColor)||this.canvas._refform.parent.background||"#ffffff",this.context.setElementStrokeStyle(o),this.context.setElementFillStyle(o),this.context.arc(this.centerx,this.centery,this.radius-(e+1),this.angles.start-.1,this.angles.end+.1,!1),this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.fill()),this.context.strokeStyle=t.scaleStrokeColor,isNexacroRuntime&&this.context.setElementStrokeStyle(t.scaleStrokeColor);for(var r,n,h,l,c=this.angles.start;c<=this.angles.end+.01;c+=(this.angles.end-this.angles.start)/5)isNexacroRuntime?(l=c+DxChart.HALFPI-.01,c==this.angles.start&&(l+=.005),r=this.centerx+Math.cos(l)*(this.radius-(e+1)),n=this.centery+Math.sin(l)*(this.radius-(e+1)),h=this.centerx+Math.cos(l)*(this.radius-(e+i)),l=this.centery+Math.sin(l)*(this.radius-(e+i)),this.context.beginPath(),this.context.moveTo(r,n),this.context.lineTo(h,l),this.context.closePath()):(this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.radius-e,c,c+1e-4,!1),this.context.arc(this.centerx,this.centery,this.radius-(e+i),c+1e-4,c,!0)),this.context.stroke();if(t.scaleVisible){this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle);for(var x=t.scaleLabelsCount,d=t.scaleDecimals,u=t.scaleUnitsPost,g=t.scaleUnitsPre,p=(t.textFontStyleObj.face,t.textFontStyleObj.size,t.textColor,t.textFontStyleObj.bold,t.textFontStyleObj.italic,0);p<=x;++p){c=(this.angles.end-this.angles.start)*(p/x)+this.angles.start,n=this.centery-Math.sin(c-DxChart.PI)*(this.radius-(e+i+s)),r=this.centerx-Math.cos(c-DxChart.PI)*(this.radius-(e+i+s)),isNexacroRuntime&&(n=this.centery-Math.sin(c-DxChart.HALFPI)*(this.radius-(e+i+s)),r=this.centerx-Math.cos(c-DxChart.HALFPI)*(this.radius-(e+i+s)));var f=DxChart.getTextInfo({object:this,prefix:"labels"});DxChart.text({object:this,font:f.font,size:f.size,color:f.color,bold:f.bold,italic:f.italic,x:r,y:n,text:DxChart.numberFormat({object:this,number:(this.min+(this.max-this.min)*(p/x)).toFixed(d),unitspre:g,unitspost:u,point:t.scalePoint,thousand:t.scaleThousand}),halign:"center",valign:"top",tag:"scale"})}}},this.getShape=function(t){},this.getValue=function(t){this.properties;var t=DxChart.getMouseXY(t),t=DxChart.getAngleByXY(this.centerx,this.centery,t[0],t[1]);return t>=this.angles.end?this.max:t<=this.angles.start?this.min:(t=(t-this.angles.start)/(this.angles.end-this.angles.start),(t*=this.max-this.min)+this.min)},this.getObjectByXY=function(t){this.properties;var t=DxChart.getMouseXY(t),e=(DxChart.getAngleByXY(this.centerx,this.centery,t[0],t[1]),this.centerx-this.radius),i=this.centerx+this.radius,s=this.centery-this.radius,a=this.centery+this.radius;if(t[0]>e&&t[0]<i&&t[1]>s&&t[1]<a)return this},this.drawIcon=function(){var o,i=this.properties;this.__icon__&&this.__icon__.__loaded__?(o=this.__icon__,this.context.drawImage(o,this.centerx-o.width/2,this.centery-this.radius+35)):isNexacroRuntime?((o={}).src=i.icon,((o.__object__=this).__icon__=o).handle=nexacro._getImageObject(o.src,function(t,e,i,s){o.__loaded__=!0;var a=o.__object__;o.width=e,o.height=i,o.imagewidth=e,o.imageheight=i,a.context.drawImage(o,a.centerx-o.width/2,a.centery-a.radius+35),o.__object__=null},this,"",!1)):((o=new Image).src=i.icon,((o.__object__=this).__icon__=o).onload=function(t){o.__loaded__=!0;var e=o.__object__;e.context.drawImage(o,e.centerx-o.width/2,e.centery-e.radius+35),e.drawNeedle(),i.iconRedraw&&(e.set("iconRedraw",!1),DxChart.clear(e.canvas),DxChart.redrawCanvas(e.canvas)),o.__object__=null}),this.drawNeedle()},this.changing_mousemove=function(t){this.properties.changeableValue&&DxChart.Registry.get("changing")&&DxChart.Registry.get("changing").uid==this.uid&&(this.value=this.getValue(t),DxChart.redrawCanvas(this.canvas),DxChart._fireEvent(this,"onadjust"))},this.getAngle=function(t){this.properties;return t<this.min||t>this.max?null:(t-this.min)/(this.max-this.min)*(this.angles.end-this.angles.start)+this.angles.start},this.parseColors=function(){for(var t=this.properties,e=(0===this.original_colors.length&&(this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.needleColor=DxChart.arrayClone(t.needleColor)),t.colors),i=0;i<e.length;++i)e[i]=this.parseSingleColorForGradient(e[i])},this.reset=function(){},this.firstDrawFunc=function(){},this.drawAni=function(){"grow"===(arguments[0]||"grow")&&this.grow(arguments[1]||{},arguments[2]||function(){})},this.grow=function(){this.properties;this.cancelStopAnimation();var t=arguments[1]||function(){},e=(arguments[0]||{}).frames||30,i=0,s=this,a=Number(this.currentValue);null==this.currentValue&&(this.currentValue=this.min,a=this.min);var o=this.value-a,i=0,r=function(){s.stopAnimationRequested?s.stopAnimationRequested=!1:(i++,s.value=i/e*o+a,s.value>s.max&&(s.value=s.max),s.value<s.min&&(s.value=s.min),DxChart.clear(s.canvas),DxChart.redrawCanvas(s.canvas),i<e?DxChart.Effects.updateCanvas(r,s.canvas):t(s))};return r(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.resetData(t.min,t.max,t.value),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartFunnel(t){return DxChart._Base.call(this,t,"funnel"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"default"),this.properties.highlightStroke="rgba(0,0,0,0)",this.properties.highlightFill="rgba(255,255,255,0.5)",this.properties.labelsPosition="edge",this.properties.labelsBounding=!0,t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t){this.binddataset&&0<=t.toString().indexOf("bind:")&&(t=DxChart.parseDataset(this,t)),t=DxChart.str2num(t),this.data=t;for(var e=0;e<t.length;++e)this["$"+e]={}},this.drawAni=function(){this.draw()},this.draw=function(){var t;return this.data&&0!=this.data.length?(t=this.properties,DxChart._BeforeDraw(this),this.coords=[],this.coordsText=[],DxChart.drawTitle(this),this.drawFunnel(),t.contextmenu&&DxChart.showContext(this),this.drawLabels(),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this):DxChart.NoDataShow(this)},this.drawFunnel=function(){for(var t=this.properties,e=this.canvas.width-this.marginLeft-this.marginRight,i=this.canvas.height-this.marginTop-this.marginBottom,s=DxChart.arrayMax(this.data),a=this.marginTop,o=(this.context.lineWidth=t.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),t.shadowUse&&(this.context.shadowColor=t.shadowStyleObj.color,this.context.shadowBlur=t.shadowStyleObj.blur,this.context.shadowOffsetX=t.shadowStyleObj.offsetX,this.context.shadowOffsetY=t.shadowStyleObj.offsetY,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime)&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY),e),r=0,n=this.data.length;r<n;r++){var h=this.data[r]/s*e,l=i/this.data.length,c=h/2,x=this.data[r+1],x=(this.data[r+1]?x/s*e:h)/2,h=this.marginLeft+o/2,d=h-c,u=a,c=h+c,g=a,p=h+x,f=a+l,h=h-x,x=a+l;"box"==t.variantValue&&(p=c,h=d,x=f=a+l),this.context.beginPath(),this.context.strokeStyle=t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=DxChart.parseGradient(this,t.colors[r],d,u,c-d,x-u),isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.moveTo(d,u),this.context.lineTo(c,g),this.context.lineTo(p,f),this.context.lineTo(h,x),this.context.closePath(),this.coords.push([d,u,c,g,p,f,h,x]),t.shadowUse||this.context.stroke(),this.context.fill(),a+=l}if(t.shadowUse){DxChart.noShadow(this);for(r=0;r<this.coords.length;++r)this.context.strokeStyle=t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=DxChart.parseGradient(this,t.colors[r],this.coords[r][0],this.coords[r][1],this.coords[r][2]-this.coords[r][0],this.coords[r][7]-this.coords[r][1]),isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.beginPath(),this.context.moveTo(this.coords[r][0],this.coords[r][1]),this.context.lineTo(this.coords[r][2],this.coords[r][3]),this.context.lineTo(this.coords[r][4],this.coords[r][5]),this.context.lineTo(this.coords[r][6],this.coords[r][7]),this.context.closePath(),this.context.stroke(),this.context.fill()}this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),t.keyData&&t.keyData.length&&DxChart.drawKey(this,t.keyData,t.colors)},this.drawLabels=function(){var t=this.properties;if(t.labelsData&&t.labelsData.length){"string"==typeof t.labelsData&&(t.labelsData=DxChart.arrayPad({array:[],length:this.coords.length+1,value:t.labelsData}));for(var e=0;e<t.labelsData.length;++e)t.labelsData[e]=DxChart.labelSubstitution({object:this,text:t.labelsData[e],index:e,value:this.data[e],decimals:t.labelsFormattedDecimals||0,unitsPre:t.labelsFormattedUnitsPre||"",unitsPost:t.labelsFormattedUnitsPost||"",thousand:t.labelsFormattedThousand||",",point:t.labelsFormattedPoint||"."})}if(!DxChart.isNull(t.labelsData)&&"object"==typeof t.labelsData&&0<t.labelsData.length){for(var i=t.textFontStyleObj.face,s=(t.textFontStyleObj.size,t.textColor),a=t.labelsData,o="left"==t.textHalign?"left":"center",r=DxChart.getTextInfo({object:this,prefix:"labels"}),n="number"==typeof t.labelsX?t.labelsX:"left"==o?this.marginLeft-15:(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft,h=0;h<this.coords.length;h++){this.context.beginPath(),this.path("ss black fs %",s),DxChart.noShadow(this);var l="section"===t.labelsPosition?this.coords[h][1]+(this.coords[h][5]-this.coords[h][3])/2:this.coords[h][1];DxChart.text({object:this,font:r.font,size:r.size,color:r.color,bold:r.bold,italic:r.italic,x:n+t.labelsOffsetX,y:l+t.labelsOffsetY,text:a[h]||"",valign:"center",halign:o,bounding:t.labelsBounding,boundingFill:"rgba(255,255,255,0.7)",boundingStroke:"rgba(0,0,0,0)",tag:"labels",cssClass:DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:h})});t.labelsSticks&&a[h]&&(this.context.font=r.size+"px "+i,c=this.context.measureText(a[h]).width,this.path("b m % % l % % s gray",n+c+10,l,("section"===t.labelsPosition?this.coords[h][0]+(this.coords[h][6]-this.coords[h][0])/2:this.coords[h][0])-10,l))}var c,x=a[h];x&&"edge1"===t.labelsPosition&&(DxChart.text({object:this,font:r.font,size:r.size,color:r.color,bold:r.bold,italic:r.italic,x:n+t.labelsOffsetX,y:this.coords[h-1][5]+t.labelsOffsetY,text:x,valign:"center",halign:o,bounding:t.labelsBounding,boundingFill:"rgba(255,255,255,0.7)",boundingStroke:"rgba(0,0,0,0)",tag:"labels",cssClass:DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:h})}),t.labelsSticks)&&(this.context.font=r.size+"pt "+i,c=this.context.measureText(x).width,this.path("b m % % l % % s gray",n+c+10,Math.round(this.coords[h-1][7]),this.coords[h-1][6]-10,Math.round(this.coords[h-1][7])))}},this.getShape=function(t){for(var e=this.properties,i=this.coords,t=DxChart.getMouseXY(t),s=t[0],a=t[1],o=0,r=i.length;o<r;++o){var n,h=i[o];if(this.context.beginPath(),this.context.moveTo(h[0],h[1]),this.context.lineTo(h[2],h[3]),this.context.lineTo(h[4],h[5]),this.context.lineTo(h[6],h[7]),this.context.lineTo(h[8],h[9]),this.context.isPointInPath(s,a))return DxChart.parseTooltipText&&e.tooltipsData&&(n=DxChart.parseTooltipText(e.tooltipsData,o)),{object:this,coords:h,dataset:0,index:o,sequentialIndex:o,label:e.labelsData&&"string"==typeof e.labelsData[o]?e.labelsData[o]:null,tooltip:"string"==typeof n?n:null}}return null},this.highlight=function(t){var e=this.properties;if(e.tooltipsHighlight)if("function"==typeof e.highlightStyle)e.highlightStyle(t);else if("string"==typeof e.highlightStyle&&"invert"===e.highlightStyle)for(var i=0;i<this.coords.length;++i)i!==t.sequentialIndex&&(s=this.coords[i],this.context.beginPath(),this.context.moveTo(s[0]-.5,s[1]-.5),this.context.lineTo(s[2]+.5,s[3]-.5),this.context.lineTo(s[4]+.5,s[5]+.5),this.context.lineTo(s[6]-.5,s[7]+.5),this.context.closePath(),this.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(e.highlightStroke),this.context.stroke(),this.context.fillStyle=e.highlightFill,isNexacroRuntime&&this.context.setElementFillStyle(e.highlightFill),this.context.fill());else{var s=t.coords;this.context.beginPath(),this.context.moveTo(s[0]-.5,s[1]-.5),this.context.lineTo(s[2]+.5,s[3]-.5),this.context.lineTo(s[4]+.5,s[5]+.5),this.context.lineTo(s[6]-.5,s[7]+.5),this.context.closePath(),this.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(e.highlightStroke),this.context.stroke(),this.context.fillStyle=e.highlightFill,isNexacroRuntime&&this.context.setElementFillStyle(e.highlightFill),this.context.fill()}},this.getObjectByXY=function(t){var e=this.properties,t=DxChart.getMouseXY(t);if(t[0]>e.marginLeft&&t[0]<this.canvas.width-e.marginRight&&t[1]>e.marginTop&&t[1]<this.canvas.height-e.marginBottom)return this},this.parseColors=function(){var t=this.properties,e=(0===this.original_colors.length&&(this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.keyColors=DxChart.arrayClone(t.keyColors),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.colorsStroke=DxChart.arrayClone(t.colorsStroke)),t.colors,t.keyColors);if(e)for(var i=0;i<e.length;++i)e[i]=this.parseSingleColorForGradient(e[i]);t.colorsStroke=this.parseSingleColorForGradient(t.colorsStroke),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill)},this.reset=function(){},this.interactiveKeyHighlight=function(t){var e,i=this.properties,t=this.coords[t];t&&8==t.length&&(e=this.context.lineWidth,this.context.lineWidth=2,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=i.keyInteractiveHighlightChartStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=i.keyInteractiveHighlightChartFill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.beginPath(),this.context.moveTo(t[0]-.5,t[1]-.5),this.context.lineTo(t[2]+.5,t[3]-.5),this.context.lineTo(t[4]+.5,t[5]+.5),this.context.lineTo(t[6]-.5,t[7]+.5),this.context.closePath(),this.context.fill(),this.context.stroke(),this.context.lineWidth=e,isNexacroRuntime)&&this.context.setElementLineWidth(this.context.lineWidth)},this.firstDrawFunc=function(){},this.tooltipSubstitutions=function(t){return{index:t.index,dataset:0,sequentialIndex:t.index,value:this.data[t.index],values:[this.data[t.index]]}},this.tooltipsFormattedCustom=function(t,e){var i=this.properties,s=i.colors[t.index];return{label:DxChart.isString(i.tooltipsFormattedKeyLabels[t.index])?i.tooltipsFormattedKeyLabels[t.index]:"",color:s=DxChart.isNull(i.tooltipsFormattedKeyColors)||"object"!=typeof i.tooltipsFormattedKeyColors||"string"!=typeof i.tooltipsFormattedKeyColors[t.index]?s:i.tooltipsFormattedKeyColors[t.index]}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas)),a=e.coords[t.index];isNexacroRuntime?(t.tooltip.set_left(s[0]+((a[2]-a[0])/2+a[0])-i.getOffsetWidth()/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]+a[1]-i.getOffsetHeight()+e.properties.tooltipsOffsetY-10)):(t.tooltip.style.left=s[0]+((a[2]-a[0])/2+a[0])-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]+a[1]-i.offsetHeight+e.properties.tooltipsOffsetY-10+"px"),isNexacroRuntime?parseFloat(t.tooltip.getOffsetTop())<0&&t.tooltip.set_top(parseFloat(t.tooltip.getOffsetTop())+20):parseFloat(t.tooltip.style.top)<0&&(t.tooltip.style.top=parseFloat(t.tooltip.style.top)+20+"px")},this.resetData(t.data),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartGantt(t){return DxChart._Base.call(this,t,"gantt"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"xaxis"),DxChart.setDefaultProperties(this,"yaxis"),DxChart.setDefaultProperties(this,"border"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"default"),this.properties.xaxisLabelsPosition="section",this.properties.yaxisLabelsPosition="section",this.properties.borderUse=!0,this.properties.xaxisDateFormat="yyyy-MM-dd",this.properties.xaxisWeekList=["S","M","T","W","T","F","S"],this.properties.xaxisWeeklyTitleFontStyle="bold 10px Tahoma",this.properties.xaxisWeeklyTitleColor="#000000",this.properties.xaxisWeeklySubTitleFontStyle="10px Tahoma",this.properties.xaxisWeeklySubTitleColor="#000000",this.properties.xaxisWeeklyDateWidth=20,this.properties.xaxisWeeklySundayColor="#000000",this.properties.xaxisWeeklySundayBackgroundColor="#eeeeee",this.properties.xaxisWeeklyTitleBackgroundColor="#ffffff",this.properties.xaxisWeeklySubTitleBackgroundColor=null,this.properties.xaxisWeeklyTitleHeight=20,this.properties.xaxisWeeklyTitleLineWidth=2,this.properties.xaxisWeeklyTitleLineColor="#000000",this.properties.xaxisWeeklySubTitleLineWidth=1,this.properties.xaxisWeeklySubTitleLineColor="#777777",this.properties.xaxisWeeklyVLineWidth=1,this.properties.xaxisWeeklyVLineColor="#000000",this.properties.xaxisWeeklyVSubLineWidth=1,this.properties.xaxisWeeklyVSubLineColor="#dddddd",this.properties.xaxisWeeklyRowHeight=36,this.properties.xaxisWeeklyHLineWidth=1,this.properties.xaxisWeeklyHLineColor="#eeeeee",this.properties.linkedUse=!0,this.properties.linkedLineColor="#000000",this.properties.linkedLineWidth=1,this.properties.colorsDefault="#00cc00",this.properties.backgroundColorsDefault="#C8EFD4",t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t){if(this.binddataset&&0<=t.toString().indexOf("bind:"))t=(x=DxChart.parseJsonDataset(this,t))[0],this.saveMax=x[1],this.saveMin=x[2],this.isDate=x[3];else if(t&&0<t.length){t[0].start.constructor==Date&&(this.isDate=!0);var e=0,i=Number.POSITIVE_INFINITY;if(this.isDate)for(var s=0,a=t.length;s<a;s++){(r=t[s]).start_org=r.start,r.end_org=r.end,r.start=r.start.getTime(),r.end=r.end.getTime();var o=r.end-r.start,e=Math.max(r.end,e),i=Math.min(r.start,i);r.gap=o/864e5,r.duration=o}else for(var r,s=0,a=t.length;s<a;s++)(r=t[s]).duration||(r.duration=r.end-r.start);this.saveMax=e,this.saveMin=i}if(this.data=t,this.orgData=DxChart.arrayClone(t),t)for(var s=0,n=0;s<t.length;++s)"string"==typeof t[s].start&&(t[s].start=parseFloat(t[s].start)),"string"==typeof t[s].end&&(t[s].end=parseFloat(t[s].end)),"string"==typeof t[s].duration&&(t[s].duration=parseFloat(t[s].duration)),"string"==typeof t[s].complete&&(t[s].complete=parseFloat(t[s].complete)),"string"==typeof t[s].lineWidth&&(t[s].lineWidth=parseFloat(t[s].lineWidth));this.properties.yaxisLabels=[];for(s=0,n=0;s<t.length;++s)if(DxChart.isArray(this.data[s]))for(var h=0;h<this.data[s].length;++h)this.data[s][h].index=h,this.data[s][h].dataset=s,this["$"+n++]=this.data[s][h],this.data[s][h].label&&(this.properties.yaxisLabels[s]=this.data[s][h].label);else this.data[s].index=0,this.data[s].dataset=s,this["$"+n++]=this.data[s],this.properties.yaxisLabels[s]=this.data[s].label;var l=this.properties;if(!l.xaxisLabels){if(this.isDate){var c=new nexacro.Date,x=(null!=l.xaxisScaleMin&&null!=l.xaxisScaleMin&&(l.xaxisScaleMin.constructor==Date||l.xaxisScaleMin instanceof nexacro.Date)?c=l.xaxisScaleMin:c.setTime(this.saveMin),0<l.xaxisDateLeftGap&&c.addDate(-l.xaxisDateLeftGap),l.xaxisScaleMin=c.getTime(),new nexacro.Date),x=(null!=l.xaxisScaleMax&&null!=l.xaxisScaleMax&&(l.xaxisScaleMax.constructor==Date||l.xaxisScaleMax instanceof nexacro.Date)?x=l.xaxisScaleMax:x.setTime(this.saveMax),0<l.xaxisDateRightGap&&x.addDate(l.xaxisDateRightGap),l.xaxisScaleMax=x.getTime(),l.xaxisLabelsCount+("edge"==l.xaxisLabelsPosition?1:0)),d=l.xaxisScaleMax-l.xaxisScaleMin,u=l.xaxisDateFormat,g=(p=d/x)-parseInt(p/2);l.xaxisLabels=[],"edge"==l.xaxisLabelsPosition&&(g=p=d/(x-2),l.xaxisLabels.push(l.xaxisLabelsFormattedUnitsPre+DxChart.getMaskString("date",u,c)+l.xaxisLabelsFormattedUnitsPost),x-=2);for(s=0,a=x;s<a;s++)c.setTime(0==s?c.getTime()+g:c.getTime()+p),l.xaxisLabels.push(l.xaxisLabelsFormattedUnitsPre+DxChart.getMaskString("date",u,c)+l.xaxisLabelsFormattedUnitsPost);"edge"==l.xaxisLabelsPosition?l.backgroundGridVlinesCount=l.xaxisLabels.length-1:l.backgroundGridVlinesCount=l.xaxisLabels.length}else{l.xaxisScaleMin=this.saveMin-l.xaxisDateLeftGap,l.xaxisScaleMax=this.saveMax-l.xaxisDateRightGap;var p,g=(p=(d=l.xaxisScaleMax-l.xaxisScaleMin)/l.xaxisLabelsCount)-parseInt(p/2);l.xaxisLabels=[];for(s=0,a=l.xaxisLabelsCount;s<a;s++)c.addDate(0==s?g:p),l.xaxisLabels.push(0==s?g:++p);l.backgroundGridVlinesCount=l.xaxisLabels.length}l.xaxisScaleMinOrg=l.xaxisScaleMin,l.xaxisScaleMaxOrg=l.xaxisScaleMax}},this.draw=function(){if(!this.data||0==this.data.length)return DxChart.NoDataShow(this);var t=this.properties;DxChart._BeforeDraw(this),this.coordsText=[],this.coordsLink=[],this.graphArea=this.canvas.width-this.marginLeft-this.marginRight,this.graphHeight=this.canvas.height-this.marginTop-this.marginBottom,this.numEvents=this.data.length,this.barHeight=this.graphHeight/this.numEvents,this.halfBarHeight=this.barHeight/2,DxChart.isNull(t.backgroundGridHlinesCount)&&this.set("backgroundGridHlinesCount",this.data.length),t.yaxisLabelsSpecific=[];for(var e=0;e<this.data.length;++e)"object"==typeof this.data[e]&&"object"==typeof this.data[e][0]?t.yaxisLabelsSpecific.push(this.data[e][0].label):t.yaxisLabelsSpecific.push(this.data[e].label);return t.yaxisLabels=t.yaxisLabelsSpecific,"week"==t.variantValue||"month"==t.variantValue?this.set("backgroundGridVlines",!1):DxChart.Background.draw(this),this.drawLabels(),"week"!=t.variantValue&&"month"!=t.variantValue||1!=t.linkedUse||this.drawLink(),this.drawEvents(),t.contextmenu&&DxChart.showContext(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.canvasResize=function(t,e){nexacro&&(isNexacroRuntime?this.canvas.width==t&&this.canvas.height==e||(this.canvas.set_width(t),this.canvas.set_height(e),this.canvas._refform.resetScroll()):this.canvas.width==t&&this.canvas.height==e||(this.canvas.parent._static.set_width(t),this.canvas.parent._static.set_height(e),this.canvas.width=t,this.canvas.height=e,this.canvas.parent.form.resetScroll()))},this.drawXAxis=function(){for(var t=this.properties,e=(this.context,"number"==typeof t.xaxisTickmarksLength&&t.xaxisTickmarksLength,t.xaxisPosition="top",t.xaxisWeeklyTitleHeight),i=t.xaxisWeeklySubTitleHeight,s=(void 0===i&&(i=e),new Date(t.xaxisScaleMinOrg)),a=("week"==t.variantValue?s.setDate(s.getDate()-(s.getDay()+7)):"month"==t.variantValue&&(0===i?(s.setDate(s.getDate()-30),s.setDate(1)):s.setDate(s.getDate()-7)),new Date(t.xaxisScaleMaxOrg)),o=("week"==t.variantValue?a.setDate(a.getDate()+(6-a.getDay())):"month"==t.variantValue&&(0===i?(a.setDate(a.getDate()+30),a.setDate(0)):a.setDate(a.getDate()+7)),t.xaxisScaleMin=s.getTime(),t.xaxisScaleMax=a.getTime(),new Date(s)),a=(new Date(a),a.getTime()-s.getTime()),a=Math.abs(a/864e5),r=t.xaxisWeeklyDateWidth,n=r*a,h=(this.weeklyWidth=n,this.weeklyHeight=t.xaxisWeeklyRowHeight*this.data.length,this.weeklyDateWidth=r,this.weeklyDateCount=a,a=t.marginTop-(e+i),this.canvasResize(t.marginLeft+t.marginRight+n,t.marginTop+t.marginBottom+this.weeklyHeight+(e+i)),t.marginLeft),l=a,c=(this.path("lw % b m % % l % % s %",t.xaxisWeeklyTitleLineWidth,t.marginLeft,l,t.marginLeft+n,l,t.xaxisWeeklyTitleLineColor),this.path("lw % b m % % l % % s %",t.xaxisWeeklyTitleLineWidth,t.marginLeft,l+=e,t.marginLeft+n,l,t.xaxisWeeklyTitleLineColor),t.xaxisWeeklyTitleBackgroundColor&&this.path("b r % % % % f %",t.marginLeft,a+t.xaxisWeeklyTitleLineWidth,n,l-a-2*t.xaxisWeeklyTitleLineWidth,t.xaxisWeeklyTitleBackgroundColor),0!==i&&this.path("lw % b m % % l % % s %",t.xaxisWeeklySubTitleLineWidth,t.marginLeft,l+=i,t.marginLeft+n,l,t.xaxisWeeklySubTitleLineColor),t.xaxisWeeklySubTitleBackgroundColor&&this.path("b r % % % % f %",t.marginLeft,l-i,n,l-i,t.xaxisWeeklySubTitleBackgroundColor),a+(e+i)+t.xaxisWeeklyRowHeight),x=0,d=this.data.length-1;x<d;x++)this.path("lw % b m % % l % % s %",t.xaxisWeeklyHLineWidth,t.marginLeft+t.xaxisWeeklyTitleLineWidth,c,t.marginLeft+n-t.xaxisWeeklyTitleLineWidth,c,t.xaxisWeeklyHLineColor),c+=t.xaxisWeeklyRowHeight;var u,h=t.marginLeft,l=a,g=a+(e+i)+this.weeklyHeight;if("week"==t.variantValue){for(x=0,d=n-r/2;x<d;x+=7*r)if(this.path("lw % b m % % l % % s %",t.xaxisWeeklyVLineWidth,h,l,h,g,t.xaxisWeeklyVLineColor),u=DxChart.getMaskString("date","yyyy-MM-dd",o),DxChart.text({object:this,textInfoPrefix:"xaxisWeeklyTitle",x:h+7*r/2,y:l+e/2,text:u,color:t.xaxisWeeklyTitleColor,valign:"center",halign:"center",marker:!1,angle:0,tag:"xaxis.labels"}),o.setDate(o.getDate()+7),h+=7*r,o.getTime()>=t.xaxisScaleMax){this.path("lw % b m % % l % % s %",t.xaxisWeeklyVLineWidth,h,l,h,g,t.xaxisWeeklyVLineColor);break}}else if("month"==t.variantValue)for(x=0,d=n-r/2;x<d;x+=r)if(0!=x&&1!=o.getDate()){if(o.setDate(o.getDate()+1),h+=r,o.getTime()>=t.xaxisScaleMax){this.path("lw % b m % % l % % s %",t.xaxisWeeklyVLineWidth,h,l,h,g,t.xaxisWeeklyVLineColor);break}}else if(this.path("lw % b m % % l % % s %",t.xaxisWeeklyVLineWidth,h,l,h,g,t.xaxisWeeklyVLineColor),u=DxChart.getMaskString("date","yyyy-MM",o),DxChart.text({object:this,textInfoPrefix:"xaxisWeeklyTitle",x:h+4*r,y:l+e/2,text:u,color:t.xaxisWeeklyTitleColor,valign:"center",halign:0==i?"left":"center",marker:!1,angle:0,tag:"xaxis.labels"}),o.setDate(o.getDate()+1),h+=r,o.getTime()>=t.xaxisScaleMax){this.path("lw % b m % % l % % s %",t.xaxisWeeklyVLineWidth,h,l,h,g,t.xaxisWeeklyVLineColor);break}h=t.marginLeft,l=a+e+t.xaxisWeeklyTitleLineWidth;var o=new Date(s),p=t.xaxisWeekList,f=0,m=0;if("week"==t.variantValue)for(x=0,d=n-r/2;x<d;x+=r)0!=(m=f%7)&&6!=m||t.xaxisWeeklySundayBackgroundColor&&this.path("b r % % % % f %",h+t.xaxisWeeklySubTitleLineWidth,l+e,r-2*t.xaxisWeeklySubTitleLineWidth,g-(l+e+t.xaxisWeeklySubTitleLineWidth),t.xaxisWeeklySundayBackgroundColor),0!=m&&this.path("lw % b m % % l % % s %",t.xaxisWeeklyVSubLineWidth,h,l,h,g,t.xaxisWeeklyVSubLineColor),u=p[m],DxChart.text({object:this,textInfoPrefix:"xaxisWeeklySubTitle",x:h+r/2,y:l+e/2,color:0==m||6==m?t.xaxisWeeklySundayColor:t.xaxisWeeklySubTitleColor,text:u,valign:"center",halign:"center",marker:!1,angle:0,tag:"xaxis.labels"}),h+=r,f++;else if("month"==t.variantValue&&0<i)for(x=0,d=n-r/2;x<d;x+=r)0!=(m=o.getDay())&&6!=m||t.xaxisWeeklySundayBackgroundColor&&this.path("b r % % % % f %",h+t.xaxisWeeklySubTitleLineWidth,l+e,r-2*t.xaxisWeeklySubTitleLineWidth,g-(l+e+t.xaxisWeeklySubTitleLineWidth),t.xaxisWeeklySundayBackgroundColor),this.path("lw % b m % % l % % s %",t.xaxisWeeklyVSubLineWidth,h,l,h,g,t.xaxisWeeklyVSubLineColor),u=o.getDate()+"",DxChart.text({object:this,textInfoPrefix:"xaxisWeeklySubTitle",x:h+r/2,y:l+e/2,color:0==m||6==m?t.xaxisWeeklySundayColor:t.xaxisWeeklySubTitleColor,text:u,valign:"center",halign:"center",marker:!1,angle:0,tag:"xaxis.labels"}),o.setDate(o.getDate()+1),h+=r,f++;this.path("lw % b m % % l % % s %",t.xaxisWeeklyTitleLineWidth,t.marginLeft,g,t.marginLeft+n,g,t.xaxisWeeklyTitleLineColor)},this.drawLabels=function(){"month"==this.properties.variantValue||"week"==this.properties.variantValue?this.drawXAxis():(DxChart.drawXAxis(this),DxChart.drawYAxis(this))},this.drawLink=function(){var t,e,i=this.properties,s=this.data;this.path("lw % fs % ss %",i.linkedLineWidth,i.linkedLineColor,i.linkedLineColor);for(var a,o,r,n,h=i.xaxisWeeklyRowHeight,l=i.xaxisScaleMin,c=0;c<s.length;++c)(n=s[c]).link&&"number"==typeof n.start&&(t=this.marginLeft+(n.start-l)/(i.xaxisScaleMax-l)*this.weeklyWidth,e=this.marginTop+c*h,e+=h/2,t+=n.duration/(i.xaxisScaleMax-l)*this.weeklyWidth,c<(n=function(t){for(var e=0;e<s.length;++e)if(s[e].label==t)return e}(n.link)))&&(a=s[n],a=this.marginLeft+(a.start-l)/(i.xaxisScaleMax-l)*this.weeklyWidth,n=this.marginTop+n*h+i.marginInner,o=[],(a+=10)<=t?(this.context.beginPath(),this.context.moveTo(t,e),this.context.lineTo(t+10,e),this.context.lineTo(t+10,e+(r=(n-e)/2)),this.context.lineTo(a,e+r),this.context.lineTo(a,n),this.context.stroke(),o=["back",t,e,t+10,e,t+10,e+r,a,e+r,a,n],this.context.beginPath(),this.context.moveTo(a,n),this.context.lineTo(a-5,n-5),this.context.lineTo(a+5,n-5),this.context.lineTo(a,n)):(this.context.beginPath(),this.context.moveTo(t,e),this.context.lineTo(a,e),this.context.lineTo(a,n),this.context.stroke(),o=["default",t,e,a,e],this.context.beginPath(),this.context.moveTo(a,n),this.context.lineTo(a-5,n-5),this.context.lineTo(a+5,n-5)),this.context.fill(),this.coordsLink[c]=[o,["back",a,n,a-5,n-5,a+5,n-5,a,n]])},this.drawEvents=function(){var t=this.properties,e=this.data;if(this.coords=[],t.backgroundVbars)for(var i=0,s=t.backgroundVbars.length;i<s;++i){t.backgroundVbars[i][0]+t.backgroundVbars[i][1]>t.xaxisScaleMax&&(t.backgroundVbars[i][1]=364-t.backgroundVbars[i][0]);var a=this.marginLeft+(t.backgroundVbars[i][0]-t.xaxisScaleMin)/(t.xaxisScaleMax-t.xaxisScaleMin)*this.graphArea,o=this.marginTop,r=this.graphArea/(t.xaxisScaleMax-t.xaxisScaleMin)*t.backgroundVbars[i][1],n=this.canvas.height-this.marginTop-this.marginBottom;a+r>this.canvas.width-this.marginRight&&(r=this.canvas.width-this.marginRight-a),this.context.fillStyle=t.backgroundVbars[i][2],isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.fillRect(a,o,r,n)}if(t.backgroundHbars)for(i=0,s=t.backgroundHbars.length;i<s;++i)t.backgroundHbars[i]&&(a=this.marginLeft,o=(this.canvas.height-this.marginTop-this.marginBottom)/this.data.length*i+this.marginTop,r=this.graphArea,n=this.barHeight,this.context.fillStyle=t.backgroundHbars[i],isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.fillRect(a,o,r,n));for(var h=0,i=0;i<e.length;++i)if("number"==typeof e[i].start)this.drawSingleEvent(e[i],i,h++);else for(var l=0;l<e[i].length;++l){var c=l;this.drawSingleEvent(e[i][l],i,h++,c)}},this.getShape=function(t){for(var e=this.properties,t=DxChart.getMouseXY(t),i=t[0],s=t[1],a=0,o=this.coords.length;a<o;a++){var r,n,h,l,c=this.coords[a][0],x=this.coords[a][1],d=this.coords[a][2],u=this.coords[a][3];if(c<=i&&i<=c+d&&x<=s&&s<=x+u)return DxChart.parseTooltipText&&e.tooltipsData&&(r=DxChart.parseTooltipText(e.tooltipsData,a)),n=this.coords[a][4].dataset,h=this.coords[a][4]&&"number"==typeof this.coords[a][4].index?this.coords[a][4].index:0,l=this.coords[a][4].label,{object:this,x:c,y:x,width:d,height:u,dataset:n,index:h,sequentialIndex:this.coords[a][5],label:l,tooltip:"string"==typeof r?r:null}}},this.drawSingleEvent=function(t,e,i){var s,a,o,r,n,h,l,c,x=this.properties,d=(t.dataset=e,"number"==typeof arguments[3]&&(t.index=arguments[3]),x.xaxisScaleMin),u=(this.context.beginPath(),this.context.strokeStyle="black",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=t.color||x.colorsDefault,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),"week"==x.variantValue||"month"==x.variantValue?(r=x.xaxisWeeklyRowHeight,s=this.marginLeft+(t.start-d)/(x.xaxisScaleMax-d)*this.weeklyWidth,a=this.marginTop+e*r,o=t.duration/(x.xaxisScaleMax-d)*this.weeklyWidth):(r=this.barHeight,s=this.marginLeft+(t.start-d)/(x.xaxisScaleMax-d)*this.graphArea,a=this.marginTop+e*r,s+(o=t.duration/(x.xaxisScaleMax-d)*this.graphArea)>this.canvas.width-this.marginRight&&(o=this.canvas.width-this.marginRight-s)),this.coords.push([s,a+x.marginInner,o,r-2*x.marginInner,t,i]),!x.borderUse&&"number"!=typeof t.border||(this.context.strokeStyle="string"==typeof t.border?t.border:"black",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth="number"==typeof t.lineWidth?t.lineWidth:1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),0===t.lineWidth)||this.context.strokeRect(s,a+x.marginInner,o,r-2*x.marginInner),d=DxChart.isNull(t.complete)?t.color||x.completeColorsDefault||x.colorsDefault:t.background||x.backgroundColorsDefault,d=DxChart.parseGradient(this,d,s,a+x.marginInner,o,r-2*x.marginInner),this.context.fillStyle=d,isNexacroRuntime&&this.context.setElementFillStyle(d),this.context.fillRect(s,a+x.marginInner,o,r-2*x.marginInner),t.complete,r/2);"number"==typeof t.complete&&(d=t.color||x.colorsDefault||"#00cc00",d=DxChart.parseGradient(this,d,s,a+x.marginInner,t.complete/100*o,r-2*x.marginInner),this.context.fillStyle=d,isNexacroRuntime&&this.context.setElementFillStyle(d),this.context.fillRect(s,a+x.marginInner,t.complete/100*o,r-2*x.marginInner),x.labelsComplete)&&(this.context.beginPath(),c=DxChart.getTextInfo({object:this,prefix:"labelsComplete"}),DxChart.text({object:this,font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:s+o+5+x.labelsCompleteOffsetX,y:a+u+x.labelsCompleteOffsetY,text:String(t.complete)+"%",valign:"center",tag:"labels.complete"})),"string"==typeof t.sublabel&&(n=t.sublabel,l="right"==(h=t.sublabelAlign||"center")?s+o-5:"center"==h?s+o/2:s+5,d=(c=DxChart.getTextInfo({object:this,prefix:"labelsInbar"})).color||"#000000",this.context.fillStyle=d,isNexacroRuntime&&this.context.setElementFillStyle(d),DxChart.text({object:this,font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:l+x.labelsInbarOffsetX,y:a+u+x.labelsInbarOffsetY,text:n,valign:"center",halign:h,bounding:"string"==typeof x.labelsInbarBackground,boundingFill:"string"==typeof x.labelsInbarBackground?x.labelsInbarBackground:null,tag:"labels.inbar"})),"month"!=x.variantValue&&"week"!=x.variantValue||"string"!=typeof t.label||(n=t.label,h="right",l=s-5,d=(c=DxChart.getTextInfo({object:this,prefix:"labels"})).color||"#000000",this.context.fillStyle=d,isNexacroRuntime&&this.context.setElementFillStyle(d),DxChart.text({object:this,font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:l-x.labelsOffsetX,y:a+u+x.labelsOffsetY,text:n,valign:"center",halign:h,bounding:!1,boundingFill:null,tag:"labels.inbar"})),x.labelsInbar&&x.labelsInbar[i]&&(n=String(x.labelsInbar[i]),h="left"==x.labelsInbarAlign?"left":"center",l="right"==(h="right"==x.labelsInbarAlign?"right":h)?s+o-5:"center"==h?s+o/2:s+5,x.labelsInbarAbove&&(l=s+o+5,h="left"),c=DxChart.getTextInfo({object:this,prefix:"labelsInbar"}),this.context.fillStyle=x.labelsInbarColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),DxChart.text({object:this,font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:l+x.labelsInbarOffsetX,y:a+u+x.labelsInbarOffsetY,text:n,valign:"center",halign:h,bounding:"string"==typeof x.labelsInbarBackground,boundingFill:"string"==typeof x.labelsInbarBackground?x.labelsInbarBackground:null,tag:"labels.inbar"}))},this.highlight=function(t){var e=this.properties;if("string"==typeof e.highlightStyle&&"invert"===e.highlightStyle)for(var i=0;i<this.coords.length;++i)i!==t.sequentialIndex&&(this.context.beginPath(),this.context.rect(this.coords[i][0]-.5,this.coords[i][1]-.5,this.coords[i][2]+1,this.coords[i][3]+1),this.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(e.highlightStroke),this.context.stroke(),this.context.fillStyle=e.highlightFill,isNexacroRuntime&&this.context.setElementFillStyle(e.highlightFill),this.context.fill());else"function"==typeof e.highlightStyle?e.highlightStyle(t):DxChart.Highlight.rect(this,t)},this.getObjectByXY=function(t){t=DxChart.getMouseXY(t);if(t[0]>this.marginLeft&&t[0]<this.canvas.width-this.marginRight&&t[1]>this.marginTop&&t[1]<this.canvas.height-this.marginBottom)return this},this.changing_mousemove=function(t){var e,i,s,a,o,r,n,h,l,c,x,d=this.properties;d.changeableValue&&DxChart.Registry.get("changing")&&DxChart.Registry.get("changing").uid==this.uid&&(e=DxChart.Registry.get("changing.gantt"))&&(i=DxChart.getMouseXY(t),s=e.object,r=e.dataset,n=e.index,c=(i[0]-e.mousex)/(s.canvas.width-s.marginLeft-s.marginRight)*d.xaxisScaleMax,a=e.event_start||0,o=e.event_duration,h="object"==typeof s.data[r][n]?s.data[r][n]:s.data[r],this.isDate&&(x=d.xaxisScaleMax-d.xaxisScaleMin,c=(i[0]-e.mousex)/(s.canvas.width-s.marginLeft-s.marginRight)*x),l="","move"===e.mode?(l="move",c=Math.round(c),DxChart.isArray(s.data[r])?(r=e.dataset,n="number"==typeof e.index?e.index:0,(h=s.data[r][n]).start=a+c,a+c<d.xaxisScaleMin?h.start=d.xaxisScaleMin:a+c+h.duration>d.xaxisScaleMax&&(h.start=d.xaxisScaleMax-h.duration)):(h.start=a+c,a+c<d.xaxisScaleMin?s.data[r].start=d.xaxisScaleMin:a+c+s.data[r].duration>d.xaxisScaleMax&&(s.data[r].start=d.xaxisScaleMax-s.data[r].duration))):"resize"==e.mode&&(l="e-resize",i[0]>s.canvas.width-s.marginRight&&(i[0]=s.canvas.width-s.marginRight),c=(i[0]-DxChart.Registry.get("changing.gantt").mousex)/(s.canvas.width-s.marginLeft-s.marginRight)*d.xaxisScaleMax,c=Math.round(c),this.isDate&&(x=d.xaxisScaleMax-d.xaxisScaleMin,c=(i[0]-DxChart.Registry.get("changing.gantt").mousex)/(s.canvas.width-s.marginLeft-s.marginRight)*x,c=Math.round(c)),DxChart.isArray(s.data[r])?(s.data[r][n].duration=o+c,s.data[r][n].duration<=0&&(s.data[r][n].duration=1)):(s.data[r].duration=o+c,s.data[r].duration<0&&(s.data[r].duration=1))),DxChart.resetColorsToOriginalValues(s),DxChart.redrawCanvas(s.canvas),DxChart.Effects.updateCanvas(function(){isNexacroRuntime?this.canvas._refform.set_cursor("resize"==l?"ew-resize":"move"):t.target.cursor=l},s.canvas),DxChart._fireEvent(s,"onchange"))},this.getXCoord=function(t){var e=this.properties,i=e.xaxisScaleMin,e=e.xaxisScaleMax,s=this.canvas.width-this.marginLeft-this.marginRight;return e<t||t<i?null:(t-i)/(e-i)*s+this.marginLeft},this.getValue=function(t){var e=this.properties,i=(t=2==t.length?t:DxChart.getMouseXY(t))[0],t=(t[1],(i-this.marginLeft)/(this.canvas.width-this.marginLeft-this.marginRight));return t=(t*=e.xaxisScaleMax-e.xaxisScaleMin)<e.xaxisScaleMin||t>e.xaxisScaleMax?null:t},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.data=DxChart.arrayClone(this.data),this.original_colors.backgroundBarsColor1=DxChart.arrayClone(t.backgroundBarsColor1),this.original_colors.backgroundBarsColor2=DxChart.arrayClone(t.backgroundBarsColor2),this.original_colors.backgroundGridColor=DxChart.arrayClone(t.backgroundGridColor),this.original_colors.colorsDefault=DxChart.arrayClone(t.colorsDefault),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill)),t.backgroundBarsColor1=this.parseSingleColorForGradient(t.backgroundBarsColor1),t.backgroundBarsColor2=this.parseSingleColorForGradient(t.backgroundBarsColor2),t.backgroundGridColor=this.parseSingleColorForGradient(t.backgroundGridColor),t.backgroundColor=this.parseSingleColorForGradient(t.backgroundColor),t.colorsDefault=this.parseSingleColorForGradient(t.colorsDefault),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill)},this.reset=function(){},this.parseSingleColorForGradient=function(t){var e=this.properties,i=arguments[1]||{};if(!t||"string"!=typeof t)return t;if(t.match(/^gradient\((.*)\)$/i)){if(t.match(/^gradient\(({.*})\)$/i))return DxChart.parseJSONGradient({object:this,def:RegExp.$1});var s=RegExp.$1.split(":"),e=i.start+i.duration>e.xaxisScaleMax?e.xaxisScaleMax:i.start+i.duration,a=this.context.createLinearGradient("number"==typeof i.start?this.getXCoord(i.start):this.marginLeft,0,"number"==typeof i.start?this.getXCoord(e):this.canvas.width-this.marginRight,0),o=1/(s.length-1);a.addColorStop(0,DxChart.trim(s[0]));for(var r=1;r<s.length;++r)a.addColorStop(r*o,DxChart.trim(s[r]))}return a||t},this.firstDrawFunc=function(){},this.drawAni=function(){"grow"===(arguments[0]||"grow")&&this.grow(arguments[1]||{},arguments[2]||function(){})},this.grow=function(){this.properties;this.cancelStopAnimation(),this.data=DxChart.arrayClone(this.orgData);var s=this,t=arguments[0]||{},a=arguments[1]||function(){},o=(s.canvas,s.context,t.frames||30),r=0,n=DxChart.arrayClone(s.data),h=function(){if(s.stopAnimationRequested)s.stopAnimationRequested=!1;else if(DxChart.clear(s.canvas),DxChart.redrawCanvas(s.canvas),r<=o){for(var t=0,e=s.data.length;t<e;++t)if("object"==typeof s.data[t]&&s.data[t][0]&&"object"==typeof s.data[t][0])for(var i=0;i<s.data[t].length;++i)s.data[t][i].duration=r/o*n[t][i].duration;else s.data[t].duration=r/o*n[t].duration;s.reset(),r++,DxChart.Effects.updateCanvas(h,s.canvas)}else a(s)};return h(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.resetColorsToOriginalValues=function(){this.properties;for(var t=0;t<this.original_colors.data.length;++t)if(this.original_colors.data[t].background&&(this.data[t].background=DxChart.arrayClone(this.original_colors.data[t].background)),this.original_colors.data[t].color&&(this.data[t].color=DxChart.arrayClone(this.original_colors.data[t].color)),"object"==typeof this.original_colors.data[t][0]&&"number"==typeof this.original_colors.data[t][0].start)for(var e=0,i=this.original_colors.data[t].length;e<i;++e)this.data[t][e].background=DxChart.arrayClone(this.original_colors.data[t][e].background),this.data[t][e].color=DxChart.arrayClone(this.original_colors.data[t][e].color)},this.reset=function(){this.resetColorsToOriginalValues(),this.colorsParsed=!1,this.coordsText=[],this.original_colors=[],this.firstDraw=!0,this.coords=[]},this.isAdjustable=function(t){var e=this.properties;return!!DxChart.isNull(e.changeableOnly)||!!(DxChart.isArray(e.changeableOnly)&&t&&e.changeableOnly[t.sequentialIndex])},this.tooltipSubstitutions=function(t){var e=this["$"+t.index],i={start:e.start,end:e.end,duration:e.duration,complete:e.complete,label:e.label};return{index:e.index,dataset:e.dataset,sequentialIndex:t.index,value:i,format:this.properties.tooltipsDateFormat}},this.tooltipsFormattedCustom=function(t,e){return{}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas)),a=this.coords[t.index];isNexacroRuntime?(t.tooltip.set_left(s[0]+a[0]+a[2]/2-i.offsetWidth/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]+a[1]-i.offsetHeight-10+e.properties.tooltipsOffsetY),parseFloat(t.tooltip.getOffsetTop())<0&&t.tooltip.set_top(parseFloat(t.tooltip.top)+a[3]/2+5)):(t.tooltip.style.left=s[0]+a[0]+a[2]/2-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]+a[1]-i.offsetHeight-10+e.properties.tooltipsOffsetY+"px",parseFloat(t.tooltip.style.top)<0&&(t.tooltip.style.top=parseFloat(t.tooltip.style.top)+a[3]/2+5+"px"))},DxChart.register(this),DxChart.parseProperties(this,t.options),this.resetData(t.data),this}function DxChartGauge(t){return DxChart._Base.call(this,t,"gauge"),DxChart.setDefaultProperties(this,"angles"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"border"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"scale"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"default"),this.properties.centerx=null,this.properties.centery=null,this.properties.radius=null,this.properties.labelsCount=5,this.properties.labelsCentered=!1,this.properties.labelsOffsetRadius=0,this.properties.labelsOffsetAngle=0,this.properties.labelsSpecific=null,this.properties.labelsSpecificFormattedDecimals=0,this.properties.labelsSpecificFormattedPoint=".",this.properties.labelsSpecificFormattedThousand=";",this.properties.labelsSpecificFormattedUnitsPre="",this.properties.labelsSpecificFormattedUnitsPost="",this.properties.labelsOffsetX=0,this.properties.labelsOffsetY=0,this.properties.labelsColor=null,this.properties.labelsValue=!1,this.properties.labelsValueYPos=.5,this.properties.labelsValueUnitsPre="",this.properties.labelsValueUnitsPost="",this.properties.labelsValueBounding=!0,this.properties.labelsValueBoundingFill="white",this.properties.labelsValueBoundingStroke="black",this.properties.labelsValueColor=null,this.properties.labelsValueDecimals=null,this.properties.labelsValuePoint=null,this.properties.labelsValueThousand=null,this.properties.shadowUse=!0,this.properties.shadowStyle="0px 0px 15px gray",this.properties.shadowStyleObj=DxChart._parseShadowInfo(this.properties.shadowStyle),this.properties.colorsRedColor="#DC3912",this.properties.colorsRedWidth=10,this.properties.colorsYellowColor="#FF9900",this.properties.colorsYellowWidth=10,this.properties.colorsGreenColor="rgba(0,0,0,0)",this.properties.colorsGreenWidth=10,this.properties.colorsRanges=null,this.properties.needleSize=null,this.properties.needleTail=!1,this.properties.needleColors=["#D5604D","red","green","yellow"],this.properties.needleType="triangle",this.properties.needleWidth=7,this.properties.borderOuter="#ccc",this.properties.borderInner="#f1f1f1",this.properties.borderOutline="black",this.properties.borderGradient=!1,this.properties.backgroundColor="white",this.properties.centerpinColor="blue",this.properties.centerpinRadius=null,this.properties.tickmarksSmall=25,this.properties.tickmarksSmallColor="black",this.properties.tickmarksMedium=0,this.properties.tickmarksMediumColor="black",this.properties.tickmarksLarge=5,this.properties.tickmarksLargeColor="black",this.properties.clearto="rgba(0,0,0,0)",t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t,e,i){if(this.binddataset&&(t=DxChart._getColumnDataset(this.binddataset,t),e=DxChart._getColumnDataset(this.binddataset,e),i=DxChart._getColumnDataset(this.binddataset,i)),this.min=DxChart.str2num(t),DxChart.isArray(this.min)&&(this.min=this.min[0]),this.max=DxChart.str2num(e),DxChart.isArray(this.max)&&(this.max=this.max[0]),this.value=DxChart.str2num(i),DxChart.isArray(this.value)&&(this.value=this.value[0]),this.currentValue=null,this.valueOriginal=this.value,"object"==typeof this.value)for(var s=0;s<this.value.length;++s)this.value[s]>this.max&&(this.value[s]=e),this.value[s]<this.min&&(this.value[s]=t);else this.value>this.max&&(this.value=e),this.value<this.min&&(this.value=t);this.properties.colorsRedStart=.9*this.max,this.properties.colorsGreenEnd=.7*this.max},this.draw=function(){if(!this.min&&!this.max)return DxChart.NoDataShow(this);var t=this.properties;if(DxChart._BeforeDraw(this,!0),this.currentValue=this.value,this.radius=Math.max(Math.min((this.canvas.width-this.marginLeft-this.marginRight)/2,(this.canvas.height-this.marginTop-this.marginBottom)/2),1),this.centerx=(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft,this.centery=(this.canvas.height-this.marginTop-this.marginBottom)/2+this.marginTop,this.startAngle=t.anglesStart||DxChart.HALFPI/3+DxChart.HALFPI,this.endAngle=t.anglesEnd||DxChart.TWOPI+DxChart.HALFPI-DxChart.HALFPI/3,isNexacroRuntime&&(this.startAngle=t.anglesStart?t.anglesStart-DxChart.HALFPI:DxChart.HALFPI/3,this.endAngle=t.anglesEnd?t.anglesEnd-DxChart.HALFPI:DxChart.TWOPI-DxChart.HALFPI/3),this.coordsText=[],"number"==typeof t.centerx&&(this.centerx=t.centerx),"number"==typeof t.centery&&(this.centery=t.centery),"number"==typeof t.radius&&(this.radius=t.radius),this.centerpinRadius=.16*this.radius,this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),"number"==typeof t.centerpinRadius&&(this.centerpinRadius=t.centerpinRadius),t.contextmenu&&DxChart.showContext(this),this.drawBackGround(),this.drawGradient(),this.drawColorBands(),this.drawSmallTickmarks(),this.drawMediumTickmarks(),this.drawLargeTickmarks(),this.drawLabels(),this.drawTopTitle(),this.drawBottomTitle(),"object"==typeof this.value)for(var e=0;e<this.value.length;++e)this.drawNeedle(this.value[e],t.needleColors[e],e);else this.drawNeedle(this.value,t.needleColors[0],0);return this.drawCenterpin(),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.drawBackGround=function(){var t=this.properties,e=(t.shadowUse&&DxChart.setShadow(this,t.shadowStyleObj.color,t.shadowStyleObj.offsetX,t.shadowStyleObj.offsetY,t.shadowStyleObj.blur),this.centerx),i=this.centery,s=this.radius,a=e-s,o=i-s,r=(isNexacroRuntime&&(this.context.save(),this.context.translate(a,o),i=e=s),DxChart.parseRadialGradientInfo(this,t.backgroundColor,e,i,0,e,i,s)),n=(this.context.beginPath(),this.context.fillStyle=r,isNexacroRuntime&&this.context.setElementFillStyle(r),this.context.arc(e,i,s,0,DxChart.TWOPI,0),this.context.fill(),DxChart.noShadow(this),isNexacroRuntime&&(this.context.closePath(),this.context.restore(),e=this.centerx,i=this.centery),t.borderWidth),h=(this.context.beginPath(),this.context.fillStyle=t.borderOuter,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.arc(this.centerx,this.centery,this.radius,0,DxChart.TWOPI,0),this.context.fill(),this.context.beginPath(),this.context.fillStyle=t.borderInner,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),Math.max(this.radius-n,1)),h=(this.context.arc(this.centerx,this.centery,h,0,DxChart.TWOPI,0),this.context.fill(),isNexacroRuntime&&(this.context.save(),this.context.translate(a,o),i=e=s),this.context.beginPath(),this.context.fillStyle=r,isNexacroRuntime&&this.context.setElementFillStyle(r),Math.max(s-n-4,1));this.context.arc(e,i,h,0,DxChart.TWOPI,0),this.context.fill(),isNexacroRuntime&&(this.context.closePath(),this.context.restore(),e=this.centerx,i=this.centery),t.backgroundGradient&&(this.context.beginPath(),this.context.fillStyle=DxChart.radialGradient({object:this,x1:this.centerx-this.radius,y1:this.centery-this.radius,r1:0,x2:this.centerx-this.radius/2,y2:this.centery-this.radius/2,r2:this.radius,colors:["rgba(255,255,255,0.2)","rgba(0,0,0,0.1)"]}),isNexacroRuntime&&this.context.setElementFillStyle(DxChart.radialGradient({object:this,x1:this.centerx-this.radius,y1:this.centery-this.radius,r1:0,x2:this.centerx-this.radius/2,y2:this.centery-this.radius/2,r2:this.radius,colors:["rgba(255,255,255,0.2)","rgba(0,0,0,0.1)"]})),h=Math.max(this.radius-n-4,1),this.context.arc(this.centerx,this.centery,h,0,DxChart.TWOPI,0),this.context.fill()),this.context.beginPath(),this.context.strokeStyle=t.borderOutline,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.arc(this.centerx,this.centery,this.radius,0,DxChart.TWOPI,0),this.context.stroke()},this.drawSmallTickmarks=function(){for(var t=this.properties,e=t.tickmarksSmall,i=(this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),Math.max(this.radius-t.borderWidth-10,1)),s=(this.endAngle-this.startAngle)/e,a=0;a<=e;++a){this.context.beginPath(),this.context.strokeStyle=t.tickmarksSmallColor;var o,r,n,h,l=s*a+this.startAngle;isNexacroRuntime?(this.context.setElementLineWidth(this.context.lineWidth),this.context.setElementStrokeStyle(this.context.strokeStyle),l+=DxChart.HALFPI,n=this.centerx+Math.cos(l)*i,h=this.centery+Math.sin(l)*i,o=this.centerx+Math.cos(l)*(i-5),r=this.centery+Math.sin(l)*(i-5),this.context.moveTo(n,h),this.context.lineTo(o,r)):(this.context.arc(this.centerx,this.centery,i,l,n=l+1e-5,0),h=Math.max(i-5,1),this.context.arc(this.centerx,this.centery,h,l,n,0)),this.context.stroke()}},this.drawMediumTickmarks=function(){var t=this.properties;if(t.tickmarksMedium)for(var e=t.tickmarksMedium,i=(this.context.lineWidth=2,this.context.lineCap="round",this.context.strokeStyle=t.tickmarksMediumColor,Math.max(this.radius-t.borderWidth-10,1)),s=(this.endAngle-this.startAngle)/e,a=0;a<=e;++a){this.context.beginPath();var o,r,n,h,l=s*a+this.startAngle+(this.endAngle-this.startAngle)/(2*e);isNexacroRuntime?(this.context.setElementLineWidth(2),this.context.setElementLineCap("round"),this.context.setElementStrokeStyle(this.context.strokeStyle),l>this.startAngle&&l<this.endAngle&&(l=l+DxChart.HALFPI+1e-5,n=this.centerx+Math.cos(l)*i,h=this.centery+Math.sin(l)*i,o=this.centerx+Math.cos(l)*(i-5),r=this.centery+Math.sin(l)*(i-5),this.context.moveTo(n,h),this.context.lineTo(o,r),this.context.stroke())):(n=l+1e-5,l>this.startAngle&&l<this.endAngle&&(this.context.arc(this.centerx,this.centery,i,l,n,0),h=Math.max(i-6,1),this.context.arc(this.centerx,this.centery,h,l,n,0),this.context.stroke()))}},this.drawLargeTickmarks=function(){for(var t=this.properties,e=t.tickmarksLarge,i=(this.context.lineWidth=3,this.context.lineCap="round",Math.max(this.radius-t.borderWidth-10,1)),s=(this.endAngle-this.startAngle)/e,a=0;a<=e;++a){this.context.beginPath(),this.context.strokeStyle=t.tickmarksLargeColor;var o,r,n,h,l=s*a+this.startAngle;isNexacroRuntime?(this.context.setElementLineWidth(3),this.context.setElementLineCap("round"),this.context.setElementStrokeStyle(t.tickmarksLargeColor),l=l+DxChart.HALFPI+1e-5,h=this.centerx+Math.cos(l)*i,o=this.centery+Math.sin(l)*i,r=this.centerx+Math.cos(l)*(i-5),n=this.centery+Math.sin(l)*(i-5),this.context.moveTo(h,o),this.context.lineTo(r,n)):(this.context.arc(this.centerx,this.centery,i,l,l+1e-5,0),h=Math.max(i-10,1),this.context.arc(this.centerx,this.centery,h,l,l+1e-5,0)),this.context.stroke()}},this.drawCenterpin=function(){var t=this.properties,e=this.centerx,i=this.centery,s=Math.max(this.centerpinRadius,1),a=e-s,o=i-s,a=(isNexacroRuntime&&(this.context.save(),this.context.translate(a,o),i=e=s),"radial-gradient(#ddddff 0%,"+t.centerpinColor+" 100%)"),o=DxChart.parseRadialGradientInfo(this,a,e+6,i-6,0,e+6,i-6,25);this.context.beginPath(),this.context.fillStyle=o,isNexacroRuntime&&this.context.setElementFillStyle(o),this.context.arc(e,i,s,0,DxChart.TWOPI,0),this.context.fill(),isNexacroRuntime&&(this.context.closePath(),this.context.restore())},this.drawLabels=function(){var t=this.properties,e=(this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),t.textFontStyleObj.face,t.textFontStyleObj.size,t.labelsSpecific?t.labelsSpecific.length-1:t.labelsCount),i=t.labelsOffsetX,s=t.labelsOffsetY,a=t.labelsOffsetAngle,o=DxChart.getTextInfo({object:this,prefix:"labels"});if("string"==typeof t.labelsSpecific&&(e=t.labelsCount-1,t.labelsSpecific)&&t.labelsSpecific.length){"string"==typeof t.labelsSpecific&&(t.labelsSpecific=DxChart.arrayPad({array:[],length:t.labelsCount,value:t.labelsSpecific}));for(var r=0;r<t.labelsSpecific.length;++r)t.labelsSpecific[r]=DxChart.labelSubstitution({object:this,text:t.labelsSpecific[r],index:r,value:this.value,decimals:t.labelsSpecificFormattedDecimals||0,unitsPre:t.labelsSpecificFormattedUnitsPre||"",unitsPost:t.labelsSpecificFormattedUnitsPost||"",thousand:t.labelsSpecificFormattedThousand||",",point:t.labelsSpecificFormattedPoint||"."})}if(this.context.beginPath(),e)for(r=0;r<=e;++r){var n=this.radius-25-t.borderWidth-t.labelsOffsetRadius,h=(this.endAngle-this.startAngle)/e,l=(h=(h=this.startAngle+r*h)-DxChart.HALFPI+a,isNexacroRuntime&&(h+=DxChart.HALFPI),this.centerx-Math.sin(h)*n),c=this.centery+Math.cos(h)*n,n=l>this.centerx?"right":"left",x=c>this.centery?"bottom":"top",d=(h==DxChart.HALFPI?x="center":h==DxChart.PI?n="center":h==DxChart.HALFPI+DxChart.PI&&(x="center"),t.labelsCentered&&(x=n="center"),(this.max-this.min)*(r/e)+this.min);DxChart.text({object:this,font:o.font,size:o.size,color:o.color,bold:o.bold,italic:o.italic,x:l+i,y:c+s,text:t.labelsSpecific?t.labelsSpecific[r]:DxChart.numberFormat({object:this,number:d.toFixed(t.scaleDecimals),unitspre:t.scaleUnitsPre,unitspost:t.scaleUnitsPost,point:t.scalePoint,thousand:t.scaleThousand}),halign:n,valign:x,tag:t.labelsSpecific?"labels.specific":"labels",cssClass:t.labelsSpecific?DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:r}):""})}if(this.context.fill(),t.labelsValue){var l=this.centerx,c=this.centery+t.labelsValueYPos*this.radius,u="string"==typeof t.labelsValueUnitsPre?t.labelsValueUnitsPre:t.scaleUnitsPre,g="string"==typeof t.labelsValueUnitsPost?t.labelsValueUnitsPost:t.scaleUnitsPost,p=t.labelsValueBounding,f=t.labelsValueBoundingFill,m=t.labelsValueBoundingStroke,b="number"==typeof t.labelsValueDecimals?t.labelsValueDecimals:t.scaleDecimals,C="string"==typeof t.labelsValuePoint?t.labelsValuePoint:t.scalePoint,y="string"==typeof t.labelsValueThousand?t.labelsValueThousand:t.scaleThousand,o=DxChart.getTextInfo({object:this,prefix:"labelsValue"});if("number"==typeof this.value)var d=parseFloat(t.valueTextActual?this.valueOriginal:this.value),D=DxChart.numberFormat({object:this,number:d.toFixed(b),unitspre:u,unitspost:g,point:C,thousand:y});else{for(D=[],r=0;r<this.value.length;++r)D[r]=DxChart.numberFormat({object:this,number:this.value[r].toFixed(b),unitspre:u,unitspost:g,point:C,thousand:y});D=D.join(", ")}DxChart.text({object:this,font:o.font,size:o.size,color:o.color,bold:o.bold,italic:o.italic,x:l,y:c,text:D,halign:"center",valign:"center",bounding:p,"bounding.fill":f,"bounding.stroke":m,tag:"value.text"})}},this.drawTopTitle=function(){var t=this.properties,e=this.centerx,i=this.centery-25,s=("string"==typeof t.titleTopSubtitle&&(i-=20),"string"!=typeof t.titleTopSubtitle&&"number"!=typeof t.titleTopSubtitle||(i-=DxChart.measureText({bold:t.titleTopSubtitleBold,italic:t.titleTopSubtitleItalic,size:t.titleTopSubtitleSize,font:t.titleTopSubtitleFont,text:"Mg"})[1]),"number"==typeof t.titleTopPos&&(i=this.centery-this.radius*t.titleTopPos),DxChart.getTextInfo({object:this,prefix:"titleTop"})),a=(isNexacroRuntime&&(e=e+t.titleTop.length/2+5),t.titleTop&&("number"==typeof t.titleTopOffsetX&&(e+=t.titleTopOffsetX),"number"==typeof t.titleTopOffsetY&&(i+=t.titleTopOffsetY),this.context.fillStyle=t.titleTopColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),DxChart.text({object:this,font:s.font,size:s.size,color:s.color,bold:s.bold,italic:s.italic,x:e,y:i,text:String(t.titleTop),halign:"center",valign:"bottom",tag:"title.top",marker:!1})),t.titleTopSubtitle);"string"==typeof a&&(s.size,s=DxChart.getTextInfo({object:this,prefix:"titleTopSubtitle"}),DxChart.text({object:this,font:s.font,size:s.size,color:s.color,bold:s.bold,italic:s.italic,x:e+t.titleTopSubtitleOffsetX,y:i+5+t.titleTopSubtitleOffsetY,text:a,valign:"top",halign:"center",tag:"subtitle.top",marker:!1}))},this.drawBottomTitle=function(){var t,e=this.properties,i=this.centerx,s=this.centery+this.centerpinRadius+10;"number"==typeof e.titleBottomPos&&(s=this.centery+this.radius*e.titleBottomPos),e.titleBottom&&("number"==typeof e.titleBottomOffsetX&&(i+=e.titleBottomOffsetX),"number"==typeof e.titleBottomOffsetY&&(s+=e.titleBottomOffsetY),this.context.fillStyle=e.titleBottomColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),t=DxChart.getTextInfo({object:this,prefix:"titleBottom"}),DxChart.text({object:this,font:t.font,size:t.size,color:t.color,bold:t.bold,italic:t.italic,x:i,y:s,text:String(e.titleBottom),halign:"center",valign:"top",tag:"title.bottom"}))},this.drawNeedle=function(t,e,i){var s,a,o,r=this.properties,n=r.needleType,h=(this.context.lineWidth=.5,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle="gray",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),DxChart.parseRadialGradientInfo(this,e,this.centerx,this.centery,0,this.centerx,this.centery,this.radius)),h=(this.context.fillStyle=h,isNexacroRuntime&&this.context.setElementFillStyle(h),(this.endAngle-this.startAngle)*((t-this.min)/(this.max-this.min)));h+=this.startAngle,t="object"==typeof r.needleSize&&r.needleSize&&"number"==typeof r.needleSize[i]?r.needleSize[i]:"number"==typeof r.needleSize?r.needleSize:this.radius-25-r.borderWidth,"line"==n?(this.context.beginPath(),this.context.lineWidth=r.needleWidth,this.context.strokeStyle=e,isNexacroRuntime?(this.context.beginPath(),this.context.setElementLineCap("round"),this.context.setElementLineWidth(this.context.lineWidth),this.context.setElementStrokeStyle(this.context.strokeStyle),h+=DxChart.HALFPI,s=this.centerx+Math.cos(h)*t,a=this.centery+Math.sin(h)*t,this.context.moveTo(s,a),this.context.lineTo(this.centerx,this.centery),this.context.stroke(),r.needleTail&&(this.context.beginPath(),s=this.centerx+Math.cos(h+DxChart.PI)*(this.centerpinRadius+5),a=this.centery+Math.sin(h+DxChart.PI)*(this.centerpinRadius+5),this.context.moveTo(s,a),this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.stroke())):(o=Math.max(t,1),this.context.arc(this.centerx,this.centery,o,h,h+1e-4,!1),this.context.lineTo(this.centerx,this.centery),r.needleTail&&this.context.arc(this.centerx,this.centery,.2*this.radius,h+DxChart.PI,h+1e-5+DxChart.PI,!1),this.context.lineTo(this.centerx,this.centery),this.context.stroke())):(isNexacroRuntime?(this.context.beginPath(),h+=DxChart.HALFPI,s=this.centerx+Math.cos(h)*t,a=this.centery+Math.sin(h)*t,i=this.centerpinRadius/this.radius*.5,o=Math.max(t,1),this.context.arc(s,a,o,h+DxChart.HALFPI-i,h+DxChart.HALFPI+i,!1),this.context.lineTo(s,a),this.context.closePath(),this.context.stroke(),this.context.fill(),r.needleTail&&(this.context.beginPath(),s=this.centerx+Math.cos(h+DxChart.PI)*(this.centerpinRadius+5),a=this.centery+Math.sin(h+DxChart.PI)*(this.centerpinRadius+5),i=this.centerpinRadius/this.radius*2,o=Math.max(this.centerpinRadius,1),this.context.arc(s,a,o,h-DxChart.HALFPI-i,h-DxChart.HALFPI+i,!1),this.context.lineTo(s,a),this.context.closePath(),this.context.stroke(),this.context.fill())):(this.context.beginPath(),o=Math.max(t,1),this.context.arc(this.centerx,this.centery,o,h,h+1e-5,!1),this.context.arc(this.centerx,this.centery,.5*this.centerpinRadius,h+DxChart.HALFPI,h+1e-5+DxChart.HALFPI,!1),r.needleTail&&this.context.arc(this.centerx,this.centery,.2*this.radius,h+DxChart.PI,h+1e-5+DxChart.PI,!1),this.context.arc(this.centerx,this.centery,.5*this.centerpinRadius,h-DxChart.HALFPI,h-1e-5-DxChart.HALFPI,!1),this.context.stroke(),this.context.fill()),this.angle=h)},this.drawColorBands=function(){var t=this.properties;if(DxChart.isArray(t.colorsRanges))for(var e=t.colorsRanges,i=0;i<e.length;++i){this.context.fillStyle=e[i][2],this.context.lineWidth=0,isNexacroRuntime&&(this.context.setElementLineWidth(t.colorsGreenWidth),this.context.setElementLineCap("butt"),this.context.setElementStrokeStyle(e[i][2])),this.context.beginPath();var s=Math.max(this.radius-10-t.borderWidth,1);this.context.arc(this.centerx,this.centery,s,(e[i][0]-this.min)/(this.max-this.min)*(this.endAngle-this.startAngle)+this.startAngle,(e[i][1]-this.min)/(this.max-this.min)*(this.endAngle-this.startAngle)+this.startAngle,!1),isNexacroRuntime?this.context.stroke():(s=Math.max(this.radius-10-t.borderWidth-("number"==typeof e[i][3]?e[i][3]:10),1),this.context.arc(this.centerx,this.centery,s,(e[i][1]-this.min)/(this.max-this.min)*(this.endAngle-this.startAngle)+this.startAngle,(e[i][0]-this.min)/(this.max-this.min)*(this.endAngle-this.startAngle)+this.startAngle,!0),this.context.closePath(),this.context.fill())}else{this.context.strokeStyle=t.colorsGreenColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=t.colorsGreenColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle);var a=this.startAngle,o=this.startAngle+(this.endAngle-this.startAngle)*((t.colorsGreenEnd-this.min)/(this.max-this.min)),s=(this.context.beginPath(),Math.max(this.radius-10-t.borderWidth,1)),a=(this.context.arc(this.centerx,this.centery,s,a,o,!1),isNexacroRuntime?(this.context.setElementLineCap("butt"),this.context.setElementLineWidth(t.colorsGreenWidth),this.context.stroke()):(s=Math.max(this.radius-(10+t.colorsGreenWidth)-t.borderWidth,1),this.context.arc(this.centerx,this.centery,s,o,a,!0),this.context.fill()),this.context.strokeStyle=t.colorsYellowColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=t.colorsYellowColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),o),o=this.startAngle+(this.endAngle-this.startAngle)*((t.colorsRedStart-this.min)/(this.max-this.min)),s=(this.context.beginPath(),Math.max(this.radius-10-t.borderWidth,1)),a=(this.context.arc(this.centerx,this.centery,s,a,o,!1),isNexacroRuntime?(this.context.setElementLineCap("butt"),this.context.setElementLineWidth(t.colorsYellowWidth),this.context.stroke()):(s=Math.max(this.radius-(10+t.colorsYellowWidth)-t.borderWidth,1),this.context.arc(this.centerx,this.centery,s,o,a,!0),this.context.fill()),this.context.strokeStyle=t.colorsRedColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=t.colorsRedColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),o),o=this.startAngle+(this.endAngle-this.startAngle)*((this.max-this.min)/(this.max-this.min)),s=(this.context.beginPath(),Math.max(this.radius-10-t.borderWidth,1));this.context.arc(this.centerx,this.centery,s,a,o,!1),isNexacroRuntime?(this.context.setElementLineCap("butt"),this.context.setElementLineWidth(t.colorsRedWidth),this.context.stroke()):(s=Math.max(this.radius-(10+t.colorsRedWidth)-t.borderWidth,1),this.context.arc(this.centerx,this.centery,s,o,a,!0),this.context.fill())}},this.getShape=function(t){},this.getValue=function(t){var t=DxChart.getMouseXY(t),e=t[0],t=t[1],e=DxChart.getAngleByXY(this.centerx,this.centery,e,t),t=(0<=e&&e<=DxChart.HALFPI&&(e+=DxChart.TWOPI),(e-this.startAngle)/(this.endAngle-this.startAngle)*(this.max-this.min));return t=(t=(t+=this.min)<this.min?this.min:t)>this.max?this.max:t},this.getObjectByXY=function(t){t=DxChart.getMouseXY(t);if(t[0]>this.centerx-this.radius&&t[0]<this.centerx+this.radius&&t[1]>this.centery-this.radius&&t[1]<this.centery+this.radius&&DxChart.getHypLength(this.centerx,this.centery,t[0],t[1])<=this.radius)return this},this.drawGradient=function(){var t;this.properties.borderGradient&&(this.context.beginPath(),(t=this.context.createRadialGradient(this.centerx,this.centery,this.radius,this.centerx,this.centery,this.radius-15)).addColorStop(0,"gray"),t.addColorStop(1,"white"),this.context.fillStyle=t,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.arc(this.centerx,this.centery,this.radius,0,DxChart.TWOPI,!1),t=Math.max(this.radius-15,1),this.context.arc(this.centerx,this.centery,t,DxChart.TWOPI,0,!0),this.context.fill())},this.changing_mousemove=function(t){this.properties.changeableValue&&DxChart.Registry.get("changing")&&DxChart.Registry.get("changing").uid==this.uid&&(this.value=this.getValue(t),DxChart.redrawCanvas(this.canvas),DxChart._fireEvent(this,"onadjust"))},this.getAngle=function(t){this.properties;return t>this.max||t<this.min?null:(t-this.min)/(this.max-this.min)*(this.endAngle-this.startAngle)+this.startAngle},this.parseColors=function(){var t=this.properties;if(0===this.original_colors.length&&(this.original_colors.backgroundColor=DxChart.arrayClone(t.backgroundColor),this.original_colors.colorsRedColor=DxChart.arrayClone(t.colorsRedColor),this.original_colors.colorsYellowColor=DxChart.arrayClone(t.colorsYellowColor),this.original_colors.colorsGreenColor=DxChart.arrayClone(t.colorsGreenColor),this.original_colors.borderInner=DxChart.arrayClone(t.borderInner),this.original_colors.borderOuter=DxChart.arrayClone(t.borderOuter),this.original_colors.colorsRanges=DxChart.arrayClone(t.colorsRanges),this.original_colors.needleColors=DxChart.arrayClone(t.needleColors)),t.colorsRedColor=this.parseSingleColorForGradient(t.colorsRedColor),t.colorsYellowColor=this.parseSingleColorForGradient(t.colorsYellowColor),t.colorsGreenColor=this.parseSingleColorForGradient(t.colorsGreenColor),t.borderInner=this.parseSingleColorForGradient(t.borderInner),t.borderOuter=this.parseSingleColorForGradient(t.borderOuter),t.colorsRanges)for(var e=t.colorsRanges,i=0;i<e.length;++i)e[i][2]=this.parseSingleColorForGradient(e[i][2],this.radius-30)},this.reset=function(){},this.parseSingleColorForGradient=function(t){this.properties;var e=arguments[1]||0;if(!t||"string"!=typeof t)return t;if(t.match(/^gradient\((.*)\)$/i)){if(t.match(/^gradient\(({.*})\)$/i))return DxChart.parseJSONGradient({object:this,def:RegExp.$1});var i=RegExp.$1.split(":"),s=this.context.createRadialGradient(this.centerx,this.centery,e,this.centerx,this.centery,this.radius),a=1/(i.length-1);s.addColorStop(0,DxChart.trim(i[0]));for(var o=1;o<i.length;++o)s.addColorStop(o*a,DxChart.trim(i[o]))}return s||t},this.firstDrawFunc=function(){},this.drawAni=function(){"grow"===(arguments[0]||"grow")&&this.grow(arguments[1]||{},arguments[2]||function(){})},this.grow=function(){this.properties;this.cancelStopAnimation();var i=this,t=arguments[0]||{},s=arguments[1]||function(){},a=t.frames||30,o=0;if("string"==typeof this.value&&(this.value=DxChart.str2num(this.value)),"number"==typeof this.value){var r=Number(this.currentValue);null==this.currentValue&&(this.currentValue=this.min,r=this.min);var n=(l=this.value)-r;(h=function(){i.stopAnimationRequested?i.stopAnimationRequested=!1:(i.value=o/a*n+r,i.value>i.max&&(i.value=i.max),i.value<i.min&&(i.value=i.min),DxChart.redrawCanvas(i.canvas),o++<a?DxChart.Effects.updateCanvas(h,i.canvas):s(i))})()}else{if(null==this.currentValue){this.currentValue=[];for(var e=0;e<this.value.length;++e)this.currentValue[e]=this.min;r=DxChart.arrayClone(this.currentValue)}for(var h,r=DxChart.arrayClone(this.currentValue),l=DxChart.arrayClone(this.value),n=[],e=0,c=l.length;e<c;++e)n[e]=l[e]-Number(this.currentValue[e]);(h=function(){if(i.stopAnimationRequested)i.stopAnimationRequested=!1;else{o++;for(var t=0,e=i.value.length;t<e;++t)i.value[t]=o/a*n[t]+r[t],i.value[t]>i.max&&(i.value[t]=i.max),i.value[t]<i.min&&(i.value[t]=i.min);DxChart.redrawCanvas(i.canvas),o<a?DxChart.Effects.updateCanvas(h,i.canvas):s(i)}})()}return this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.resetData(t.min,t.max,t.value),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartHBar(t){return DxChart._Base.call(this,t,"hbar"),this.yaxisLabelsSize=0,this.yaxisTitleSize=0,this.max=0,this.stackedOrGrouped=!1,DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"xaxis"),DxChart.setDefaultProperties(this,"yaxis"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"variant"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"default"),this.imagesequence=0,this.properties.marginInner=2,this.properties.marginLeft=80,this.properties.marginLeftAuto=!0,this.properties.marginInnerGrouped=2,this.properties.backgroundGridHlinesCount=null,this.properties.backgroundGridVlinesCount=5,this.properties.xaxisScale=!0,this.properties.xaxisScaleZerostart=!0,this.properties.yaxisScale=!1,this.properties.yaxisLabelsPosition="section",this.properties.resizable=!1,this.properties.resizableHandleAdjust=[0,0],this.properties.resizableHandleBackground=null,this.properties.labelsAboveImageGap=0,this.properties.labelsAboveImageType="rect",this.properties.labelsAboveImageLineColor="#dddddd",this.properties.labelsAboveImageLineWidth=1,this.properties.labelsAboveImageWidth=30,this.properties.labelsAboveImageHeight=10,this.properties.highlightStroke="rgba(0,0,0,0)",this.properties.highlightFill="rgba(255,255,255,0.7)",t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t){this.binddataset&&0<=t.toString().indexOf("bind:")&&(t=DxChart.parseDataset(this,t)),this.data=t,this.data=DxChart.str2num(this.data);for(var e=0,i=this.data.length;e<i;++e)"object"!=typeof this.data[e]||DxChart.isNull(this.data[e])||(this.stackedOrGrouped=!0);for(e=0,i=DxChart.arrayLinearize(t).length;e<i;++e)this["$"+e]={};this.data_arr=DxChart.arrayLinearize(this.data),"100%"==this.properties.variantStackedType&&this.makeData100()},this.makeData100=function(){this.dataPercent=DxChart.arrayClone(this.data);for(var t=0;t<this.dataPercent.length;t++)for(var e=this.dataPercent[t],i=DxChart.arraySum(e),s=0;s<e.length;s++)e[s]=Number.parseFloat((e[s]/i*100).toFixed(2))},this.getAngle=function(t,e,i,s){return Math.atan2(s-e,i-t)},this.draw=function(){if(!this.data||0==this.data.length)return DxChart.NoDataShow(this);this.imagesequence++;var t,e,i=this.properties;if(DxChart._BeforeDraw(this),"100%"==i.variantStackedType&&this.makeData100(),this.yaxisLabelSubstitution(),DxChart.isNull(i.backgroundGridHlines.count)&&this.set("backgroundGridHlinesCount",this.data.length),"3d"!==i.variantValue||i.textAccessible||(i.variantThreedAngleAuto&&(this.chartArea=this.canvas.height-this.properties.marginTop-this.properties.marginBottom,this.ChartAreaHalf=this.chartArea/2,o=this.properties.marginLeft,s=this.properties.marginTop,e=this.canvas.width-this.properties.marginRight,t=this.properties.marginBottom+this.properties.marginTop-35,i.variantThreedAngle=this.getAngle(o,s,e,t)),this.context.setTransform(1,i.variantThreedAngle,0,1,.5,.5)),this.yaxisTitleSize=0,i.yaxisLabels){for(var s,a=i.yaxisLabels,o="right"===i.yaxisPosition?"marginRight":"marginLeft",r=DxChart.getTextInfo({object:this,prefix:"yaxisLabels"}),n=0,h=0;n<a.length;n+=1){var l=DxChart.measureText(a[n],r.bold,r.font,r.size)[0]||0;this.yaxisLabelsSize=Math.max(h,l),h=this.yaxisLabelsSize}i.yaxisTitle&&(r=DxChart.getTextInfo({object:this,prefix:"yaxisTitle"}),s=DxChart.measureText(i.yaxisTitle,r.bold,r.font,r.size)||[],this.yaxisTitleSize+=s[1],i[o]+=this.yaxisTitleSize)}return i.marginLeftAuto&&(e="right"===i.yaxisPosition?"marginRight":"marginLeft",this.set(e,this.yaxisLabelsSize+this.yaxisTitleSize+10),this[e]=this.yaxisLabelsSize+this.yaxisTitleSize+10),this.coords=[],this.coords2=[],this.coordsText=[],(this.max=0)<i.xaxisScaleMin&&"stacked"===i.grouping&&(trace("[HBAR] Using xaxisScaleMin is not supported with stacked charts, resetting xaxisScaleMin to zero"),this.set("xaxisScaleMin",0)),this.graphwidth=this.canvas.width-this.marginLeft-this.marginRight,this.graphheight=this.canvas.height-this.marginTop-this.marginBottom,this.ChartAreaHalf=this.chartArea/2,this.halfTextHeight=i.textFontStyleObj.size/2,this.halfway=Math.round(this.graphwidth/2+this.marginLeft),DxChart.Background.draw(this),this.drawbars(),this.drawAxes(),this.drawLabels(),this.drawLabelsInbar(),i.keyData&&i.keyData.length&&DxChart.drawKey(this,i.keyData,i.colors),i.contextmenu&&DxChart.showContext(this),DxChart.drawInGraphLabels(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.drawAxes=function(){DxChart.drawXAxis(this),DxChart.drawYAxis(this)},this.yaxisLabelSubstitution=function(){var t=this.properties;if(t.yaxisLabels&&t.yaxisLabels.length){"string"==typeof t.yaxisLabels&&(t.yaxisLabels=DxChart.arrayPad({array:[],length:this.data.length,value:t.yaxisLabels}));for(var e=0;e<t.yaxisLabels.length;++e)t.yaxisLabels[e]=DxChart.labelSubstitution({object:this,text:t.yaxisLabels[e],index:e,value:this.data[e],decimals:t.yaxisLabelsFormattedDecimals||0,unitsPre:t.yaxisLabelsFormattedUnitsPre||"",unitsPost:t.yaxisLabelsFormattedUnitsPost||"",thousand:t.yaxisLabelsFormattedThousand||",",point:t.yaxisLabelsFormattedPoint||"."})}},this.drawLabels=function(){},this.drawbars=function(){var t,e=this.properties,i=(this.context.lineWidth=e.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=e.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=e.colors[0],isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.data);"100%"==this.properties.variantStackedType&&(i=this.dataPercent);if(e.xaxisScaleMax)this.scale2=DxChart.getScale({object:this,options:{"scale.max":e.xaxisScaleMax,"scale.min":e.xaxisScaleMin,"scale.decimals":Number(e.xaxisScaleDecimals),"scale.point":e.xaxisScalePoint,"scale.thousand":e.xaxisScaleThousand,"scale.round":e.xaxisScaleRound,"scale.units.pre":e.xaxisScaleUnitsPre,"scale.units.post":e.xaxisScaleUnitsPost,"scale.labels.count":e.xaxisLabelsCount,"scale.strict":!0}}),this.max=this.scale2.max;else{var s=e.grouping;if("100%"==this.properties.variantStackedType)this.max=100;else for(var a=0;a<i.length;++a)T="object"==typeof i[a]?"grouped"==s?Number(DxChart.arrayMax(i[a],!0)):Number(DxChart.arraySum(i[a])):Number(Math.abs(i[a])),this.max=Math.max(Math.abs(this.max),Math.abs(T));this.scale2=DxChart.getScale({object:this,options:{"scale.max":this.max,"scale.min":e.xaxisScaleMin,"scale.decimals":Number(e.xaxisScaleDecimals),"scale.point":e.xaxisScalePoint,"scale.thousand":e.xaxisScaleThousand,"scale.round":e.xaxisScaleRound,"scale.units.pre":e.xaxisScaleUnitsPre,"scale.units.post":e.xaxisScaleUnitsPost,"scale.labels.count":e.xaxisLabelsCount}}),this.max=this.scale2.max,this.min=this.scale2.min}null==e.xaxisScaleDecimals&&1==Number(this.max)&&this.set("xaxisScaleDecimals",1);for(var o=0,r=(this.numbars=DxChart.arrayLinearize(i).length,e.changeableValue&&!e.xaxisScaleMax&&this.set("xaxisScaleMax",this.scale2.max),"3d"===e.variantValue&&DxChart.draw3DAxes(this),this.canvas.width-this.marginLeft-this.marginRight),n=r/2,a=i.length-1;0<=a;--a){var h=Math.abs(i[a]/this.max*r),l=this.graphheight/i.length,c=this.getXCoord(0),x=this.marginTop+a*l,d=e.marginInner;if(0<e.xaxisScaleMin&&e.xaxisScaleMax>e.xaxisScaleMin&&(c=this.getXCoord(e.xaxisScaleMin)),"right"===e.yaxisPosition&&(c=this.canvas.width-this.marginRight-Math.abs(h)),h<0&&(c-=h,h=Math.abs(h)),e.shadowUse&&(this.context.shadowColor=e.shadowStyleObj.color,this.context.shadowBlur=e.shadowStyleObj.blur,this.context.shadowOffsetX=e.shadowStyleObj.offsetX,this.context.shadowOffsetY=e.shadowStyleObj.offsetY,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime)&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY),this.context.beginPath(),"number"==typeof i[a]||DxChart.isNull(i[a])){var u=l-2*d,g=(i[a]-e.xaxisScaleMin)/(this.max-e.xaxisScaleMin)*this.graphwidth,p=c;this.scale2.min<0&&0<this.scale2.max&&"left"===e.yaxisPosition&&(g=i[a]/(this.max-e.xaxisScaleMin)*this.graphwidth),"center"==e.yaxisPosition?(g/=2,p+=n,i[a]<0?(g=(Math.abs(i[a])-e.xaxisScaleMin)/(this.max-e.xaxisScaleMin),g*=this.graphwidth/2,p=this.graphwidth/2+this.marginLeft-g):0<i[a]&&(p=this.graphwidth/2+this.marginLeft)):"right"==e.yaxisPosition&&(g=Math.abs(g),p=this.canvas.width-this.marginRight-g),this.context.strokeStyle=e.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),++o,t=e.colorsSequential&&"number"==typeof o?e.colors[this.numbars-o]?e.colors[this.numbars-o]:e.colors[e.colors.length-1]:e.colors[0],t=e.colorsGradientFullSize?DxChart.parseGradient(this,t,this.marginLeft,this.marginTop,this.canvas.width-this.marginLeft-this.marginRight,u):DxChart.parseGradient(this,t,p,this.marginTop+a*l+e.marginInner,g,u),this.context.fillStyle=t,isNexacroRuntime&&this.context.setElementFillStyle(t),"round"===e.corners&&(this.context.rectOld=this.context.rect,this.context.rect=this.roundedCornersRect),this.context.beginPath(),this.context.lineJoin="miter",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.context.lineCap="square",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.rect(p,this.marginTop+a*l+e.marginInner,g,u),this.context.closePath(),this.context.stroke(),this.context.fill(),"round"===e.corners&&(this.context.rect=this.context.rectOld,this.context.rectOld=null),this.coords.push([p,x+d,g,l-2*d,this.context.fillStyle,i[a],!0]),"3d"===e.variantValue&&"number"==typeof i[a]&&(y=this.context.strokeStyle,D=this.context.fillStyle,DxChart.noShadow(this),S=g,k=l-2*d,w=e.variantThreedOffsetX,_=e.variantThreedOffsetY,T=i[a],this.path("b m % % l % % l % % l % % c s % f % f rgba(255,255,255,0.6)",p,v=x+d,p+w-("left"==e.yaxisPosition&&T<0?w:0),v-_,p+S+w-("center"==e.yaxisPosition&&T<0?w:0),v-_,p+S,v,this.context.strokeStyle,this.context.fillStyle),"right"===e.yaxisPosition||"center"===e.yaxisPosition&&T<0||!(0<=T)||DxChart.isNull(T)||this.path("b fs % m % % l % % l % % l % % c s % f % f rgba(0,0,0,0.25)",D,p+S,v,p+S+w,v-_,p+S+w,v-_+k,p+S,v+k,this.context.strokeStyle,D))}else if("object"==typeof i[a]&&"stacked"===e.grouping){u=("center"==e.yaxisPosition?alert("[HBAR] You can't have a stacked chart with the Y axis in the center, change it to grouped"):"right"==e.yaxisPosition&&(c=this.canvas.width-this.marginRight),l-2*d);void 0===this.coords2[a]&&(this.coords2[a]=[]);for(var f=0;f<i[a].length;++f){e.shadowUse&&"3d"===e.variantValue&&(this.context.shadowColor=e.shadowStyleObj.color,this.context.shadowBlur=e.shadowStyleObj.blur,this.context.shadowOffsetX=e.shadowStyleObj.offsetX,this.context.shadowOffsetY=e.shadowStyleObj.offsetY,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime)&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY),DxChart.isNull(i[a][f])||(i[a][f]=Math.abs(i[a][f]));i[a].length;h=(this.context.strokeStyle=e.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),++o,e.colorsSequential&&"number"==typeof o?t=e.colors[this.numbars-o]?e.colors[this.numbars-o]:e.colors[e.colors.length-1]:e.colors[f]&&(t=e.colors[f]),i[a][f]/this.max*this.graphwidth),DxChart.arraySum(i[a]),this.max,this.graphwidth;"right"===e.yaxisPosition&&(c-=h),t=DxChart.parseGradient(this,t,c,this.marginTop+e.marginInner+this.graphheight/i.length*a,h,l-2*d),this.context.fillStyle=t,isNexacroRuntime&&this.context.setElementFillStyle(t),"round"===e.corners&&f===i[a].length-1&&(this.context.rectOld=this.context.rect,this.context.rect=this.roundedCornersRect),this.context.beginPath(),this.context.lineJoin="miter",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.context.lineCap="square",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.rect(c,this.marginTop+e.marginInner+this.graphheight/i.length*a,h,l-2*d),this.context.stroke(),this.context.fill(),this.context.beginPath(),"round"===e.corners&&f===i[a].length-1&&(this.context.rect=this.context.rectOld,this.context.rectOld=null),this.coords.push([c,x+d,h,l-2*d,this.context.fillStyle,DxChart.arraySum(i[a]),f==i[a].length-1]),this.coords2[a].push([c,x+d,h,l-2*d,this.context.fillStyle,DxChart.arraySum(i[a]),f==i[a].length-1]),"3d"===e.variantValue&&(DxChart.noShadow(this),y=this.context.strokeStyle,D=this.context.fillStyle,p=c,v=x+d,S=h,k=l-2*d,w=e.variantThreedOffsetX,_=e.variantThreedOffsetY,T=i[a][f],DxChart.isNull(T)||this.path("b m % % l % % l % % l % % c s % f % f rgba(255,255,255,0.6)",p,v,p+w,v-_,p+S+w,v-_,p+S,v,this.context.strokeStyle,this.context.fillStyle),"right"===e.yaxisPosition||"center"===e.yaxisPosition&&T<0||DxChart.isNull(T)||this.path("fs % b m % % l % % l % % l % % c s % f % f rgba(0,0,0,0.25)",D,p+S,v,p+S+w,v-_,p+S+w,v-_+k,p+S,v+k,this.context.strokeStyle,D),this.context.beginPath(),this.context.strokeStyle=y,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=D,isNexacroRuntime)&&this.context.setElementFillStyle(this.context.fillStyle),"right"!==e.yaxisPosition&&(c+=h)}}else if("object"==typeof i[a]&&"grouped"==e.grouping){var m=e.marginInnerGrouped,b=(l-2*d-(i[a].length-1)*m)/i[a].length;void 0===this.coords2[a]&&(this.coords2[a]=[]);for(f=i[a].length-1;0<=f;--f){e.shadowUse&&DxChart.setShadow(this,e.shadowStyleObj.color,e.shadowStyleObj.offsetX,e.shadowStyleObj.offsetY,e.shadowStyleObj.blur),this.context.strokeStyle=e.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),++o,e.colorsSequential&&"number"==typeof o?t=e.colors[this.numbars-o]?e.colors[this.numbars-o]:e.colors[e.colors.length-1]:e.colors[f]&&(t=e.colors[f]);var C,y,D,v,S,k,w,_,T,P=this.marginTop+l*a+b*f+d+m*f;C=0<e.xaxisScaleMin&&e.xaxisScaleMax>e.xaxisScaleMin?(h=(i[a][f]-e.xaxisScaleMin)/(this.max-e.xaxisScaleMin)*(this.canvas.width-this.marginLeft-this.marginRight),this.getXCoord(0<e.xaxisScaleMin&&e.xaxisScaleMax>e.xaxisScaleMin?e.xaxisScaleMin:0)):(h=i[a][f]/(this.max-e.xaxisScaleMin)*(this.canvas.width-this.marginLeft-this.marginRight),this.getXCoord(0)),"center"==e.yaxisPosition?h/=2:"right"==e.yaxisPosition&&(h=Math.abs(h),C=this.canvas.width-this.marginRight-Math.abs(h)),h<0&&(C+=h,h*=-1),t=DxChart.parseGradient(this,t,C,P,h,b),this.context.fillStyle=t,isNexacroRuntime&&this.context.setElementFillStyle(t),"round"===e.corners&&(this.context.rectOld=this.context.rect,this.context.rect=this.roundedCornersRect),this.context.beginPath(),this.context.lineJoin="miter",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.context.lineCap="square",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.rect(C,P,h,b),this.context.stroke(),this.context.fill(),"round"===e.corners&&(this.context.rect=this.context.rectOld,this.context.rectOld=null),this.coords.push([C,P,h,b,this.context.fillStyle,i[a][f],!0]),this.coords2[a].push([C,P,h,b,this.context.fillStyle,i[a][f],!0]),"3d"===e.variantValue&&(DxChart.noShadow(this),y=this.context.strokeStyle,D=this.context.fillStyle,p=C,v=P,S=h,k=b,w=e.variantThreedOffsetX,_=e.variantThreedOffsetY,T=i[a][f],this.path("b m % % l % % l % % l % % c s % f % f rgba(255,255,255,0.6)",p,v,p+w,v-_,p+S+w-(T<0?w:0),v-_,p+S,v,this.context.strokeStyle,this.context.fillStyle),"right"===e.yaxisPosition||"center"===e.yaxisPosition&&T<0||!(0<=T)||DxChart.isNull(T)||this.path("fs % b m % %  l % % l % % l % % c s % f % f rgba(0,0,0,0.25)",D,p+S,v,p+S+w,v-_,p+S+w,v-_+k,p+S,v+k,this.context.strokeStyle,D),this.context.beginPath(),this.context.strokeStyle=y,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=D,isNexacroRuntime)&&this.context.setElementFillStyle(this.context.fillStyle)}P+=d}this.context.closePath()}if(this.context.stroke(),this.context.fill(),"right"===e.yaxisPosition&&this.path("cr % % % %",this.canvas.width-this.marginRight+e.variantThreedOffsetX,"0",this.marginRight,this.canvas.height),"right"===e.yaxisPosition&&"3d"===e.variantValue&&DxChart.draw3DYAxis(this),DxChart.noShadow(this),this.coords=DxChart.arrayReverse(this.coords),"grouped"===e.grouping)for(a=0;a<this.coords2.length;++a)this.coords2[a]=DxChart.arrayReverse(this.coords2[a]);this.redrawBars()},this.drawImage=function(t,a,o,r,n,h,l,c){var x;null==c&&(c=0);var d=(d=t.split("/").join("")).split("::").join(""),e=t,u=(isNexacroRuntime&&(x={}),this.imagesequence);if("string"==typeof t)if(void 0===this.canvas["_cached_"+d+r]){var g=this;if(isNexacroRuntime)x.src=e,x.handle=nexacro._getImageObject(e,function(t,e,i,s){x.width=e,x.height=i,x.imagewidth=e,x.imageheight=i,g._drawImageCallback(u,d,x,a,o,r,n,h,c,l)},this,"",!1);else{if(x=new Image,nexacro){if(!(e="url("==e.substring(0,4).toLowerCase()?e.substring(5,e.length-2):e)||!e.length)return null;e=nexacro._getImageLocation(e)}x.onload=function(){g._drawImageCallback(u,d,x,a,o,r,n,h,c,l)},x.src=e}}else x=this.canvas["_cached_"+d+r],this._drawImageCallback(u,d,x,a,o,r,n,h,c,l)},this._drawImageCallback=function(t,e,i,s,a,o,r,n,h,l,c){var x,d;t==this.imagesequence&&(this.canvas["_cached_"+e+o]||(this.canvas["_cached_"+e+o]=i),e=(t=this.context).lineWidth,t.save(),"rect"==n?(t.beginPath(),t.moveTo(s,a),t.lineTo(s+o,a),t.lineTo(s+o,a+r),t.lineTo(s,a+r),t.lineTo(s,a),t.lineTo(s,a)):"arc"==n&&(n=parseInt(s+o/2),x=parseInt(a+r/2),d=parseInt(o/2),t.beginPath(),t.moveTo(n,x),t.arc(n,x,d,0,2*DxChart.PI)),0<h&&(t.lineWidth=h,isNexacroRuntime&&t.setElementLineWidth(h),t.strokeStyle=l,isNexacroRuntime&&t.setElementStrokeStyle(l),t.stroke()),t.clip(),t.drawImage(i,s,a,o,r),t.restore(),t.lineWidth=e,isNexacroRuntime)&&t.setElementLineWidth(e)},this.redrawBars=function(){var t=this.properties;if(t.redraw){var e,i,s=this.coords,a=(t.textFontStyleObj.face,t.textFontStyleObj.size,t.textColor,DxChart.noShadow(this),this.context.strokeStyle=t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),0),o=0,r=0,n=t.labelsAboveImageGap||0,h=t.labelsAboveImageType,l=t.labelsAboveImageLineColor,c=t.labelsAboveImageLineWidth;0<s.length&&(e=s[0][3],i=t.labelsAboveImageHeight,o=e,a=parseInt(t.labelsAboveImageWidth*(e/i)));for(var x=0;x<s.length;++x){t.shadowUse&&this.path("b lw % r % % % % s % f %",t.lineWidth,s[x][0],s[x][1],s[x][2],s[x][3],t.colorsStroke,s[x][4]),t.labelsAboveImageUrl&&s[x][6]?(u=s[x][0]+s[x][2]+n,g=s[x][1],r=2*n+a,("right"===t.yaxisPosition||"center"===t.yaxisPosition&&this.data_arr[x]<0)&&(u=s[x][0]-n-a),this.drawImage(t.labelsAboveImageUrl[x],u,g,a,o,h,l,c)):r=n=0;var d,u,g,p,f="left";t.labelsAbove&&s[x][6]&&(s[x][0],s[x][2],this.context.measureText(t.labelsAboveUnitsPre+this.coords[x][5]+t.labelsAboveUnitsPost).width,this.canvas.width,d=DxChart.numberFormat({object:this,number:this.coords[x][5].toFixed(t.labelsAboveDecimals),unitspre:t.labelsAboveUnitsPre,unitspost:t.labelsAboveUnitsPost,point:t.labelsAbovePoint,thousand:t.labelsAboveThousand}),DxChart.noShadow(this),"object"==typeof t.labelsAboveSpecific&&t.labelsAboveSpecific&&t.labelsAboveSpecific[x]&&(d=t.labelsAboveSpecific[x]),u=s[x][0]+s[x][2]+5+r,g=s[x][1]+s[x][3]/2,1==t.labelsAboveFirst&&(u=s[x][0]+5),"right"===t.yaxisPosition?(u=s[x][0]-5-r,f="right",1==t.labelsAboveFirst&&(u=s[x][0]+s[x][2]-5)):"center"===t.yaxisPosition&&this.data_arr[x]<0&&(u=s[x][0]-5-r,f="right",1==t.labelsAboveFirst)&&(u=s[x][0]+s[x][2]-5),p=DxChart.getTextInfo({object:this,prefix:"labelsAbove"}),DxChart.text({object:this,font:p.font,size:p.size,color:p.color,bold:p.bold,italic:p.italic,x:u+t.labelsAboveOffsetX,y:g+t.labelsAboveOffsetY,text:d,valign:"center",halign:f,tag:"labels.above"}))}}},this.getShape=function(t){for(var e=this.properties,i=DxChart.getMouseXY(t),s=0,a=this.coords.length;s<a;s++){var o,r,n,h=i[0],l=i[1],c=this.coords[s][0],x=this.coords[s][1],d=this.coords[s][2],u=this.coords[s][3],g=s,p=DxChart.sequentialIndexToGrouped(s,this.data),f=!1;if(isNexacroRuntime?e.tooltipsHotspotYonly?(o=this.marginLeft,r=this.canvas.width-this.marginRight-this.marginLeft,o<=h&&h<=o+r&&x<=l&&l<=x+u&&(f=!0)):c<=h&&h<=c+d&&x<=l&&l<=x+u&&(f=!0):(o=!1,"round"===e.corners&&(r=0===p[1],"stacked"===e.grouping&&r||"stacked"!==e.grouping)&&(this.context.rectOld=this.context.rect,this.context.rect=this.roundedCornersRect,o=!0),this.context.beginPath(),e.tooltipsHotspotYonly?this.context.rect(this.marginLeft,x,this.canvas.width-this.marginRight-this.marginLeft,u):this.context.rect(c,x,d,u),o&&(this.context.rect=this.context.rectOld,o=this.context.rectOld=null),f=this.context.isPointInPath(h,l)),f)return DxChart.parseTooltipText&&(n=DxChart.parseTooltipText(e.tooltipsData,s)),{object:this,x:c,y:x,width:d,height:u,sequentialIndex:g,dataset:h=(p=DxChart.sequentialIndexToGrouped(g,this.data))[0],index:p[1],label:e.yaxisLabels&&"string"==typeof e.yaxisLabels[h]?e.yaxisLabels[h]:null,tooltip:"string"==typeof n?n:null}}},this.getValue=function(t){var e,i,s=this.properties;return(t=(2==t.length?(e=t[0],t):(e=(t=DxChart.getMouseXY(t))[0],t))[1])<this.marginTop||t>this.canvas.height-this.marginBottom||e<this.marginLeft||e>this.canvas.width-this.marginRight?null:("center"==s.yaxisPosition?(i=(e-this.marginLeft)/(this.graphwidth/2)*(this.max-s.xaxisScaleMin),i-=this.max,0<s.xaxisScaleMin&&(i=(e-this.marginLeft-this.graphwidth/2)/(this.graphwidth/2)*(this.max-s.xaxisScaleMin),i+=s.xaxisScaleMin,e<this.marginLeft+this.graphwidth/2)&&(i-=2*s.xaxisScaleMin)):"right"==s.yaxisPosition?(i=(e-this.marginLeft)/this.graphwidth*(this.scale2.max-s.xaxisScaleMin),i=this.scale2.max-i):(i=(e-this.marginLeft)/this.graphwidth*(this.scale2.max-s.xaxisScaleMin),i+=s.xaxisScaleMin),i)},this.highlight=function(t){var e=this.properties;if("function"==typeof e.highlightStyle)e.highlightStyle(t);else if("string"==typeof e.highlightStyle&&"invert"===e.highlightStyle)for(var i=0;i<this.coords.length;++i)i!==t.sequentialIndex&&(this.context.beginPath(),this.context.rect(this.coords[i][0]-.5,this.coords[i][1]-.5,this.coords[i][2]+1,this.coords[i][3]+1),this.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(e.highlightStroke),this.context.stroke(),this.context.fillStyle=e.highlightFill,isNexacroRuntime&&this.context.setElementFillStyle(e.highlightFill),this.context.fill());else DxChart.Highlight.rect(this,t)},this.getObjectByXY=function(t){var e=this.properties,t=DxChart.getMouseXY(t);if("3d"!==e.variantValue||e.textAccessible||(e=e.variantThreedAngle*t[0],t[1]-=e),t[0]>=this.marginLeft&&t[0]<=this.canvas.width-this.marginRight&&t[1]>=this.marginTop&&t[1]<=this.canvas.height-this.marginBottom)return this},this.getXCoord=function(t){var e=this.properties;if("center"==e.yaxisPosition){if(t>this.max||t<-1*this.max)return null;var i=(this.canvas.width-e.marginLeft-e.marginRight)/2,s=(t-e.xaxisScaleMin)/(this.max-e.xaxisScaleMin)*i+i}else{if(t>this.max||t<0)return null;i=this.canvas.width-e.marginLeft-e.marginRight,s=(t-e.xaxisScaleMin)/(this.max-e.xaxisScaleMin)*i}return s=e.marginLeft+s},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.backgroundGridColor=DxChart.arrayClone(t.backgroundGridColor),this.original_colors.backgroundColor=DxChart.arrayClone(t.backgroundColor),this.original_colors.backgroundBarsColor1=DxChart.arrayClone(t.backgroundBarsColor1),this.original_colors.backgroundBarsColor2=DxChart.arrayClone(t.backgroundBarsColor2),this.original_colors.textColor=DxChart.arrayClone(t.textColor),this.original_colors.yaxisLabelsColor=DxChart.arrayClone(t.yaxisLabelsColor),this.original_colors.colorsStroke=DxChart.arrayClone(t.colorsStroke),this.original_colors.axesColor=DxChart.arrayClone(t.axesColor),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.annotationColor=DxChart.arrayClone(t.annotationColor)),t.backgroundGridColor=this.parseSingleColorForGradient(t.backgroundGridColor),t.backgroundColor=this.parseSingleColorForGradient(t.backgroundColor),t.backgroundBarsColor1=this.parseSingleColorForGradient(t.backgroundBarsColor1),t.backgroundBarsColor2=this.parseSingleColorForGradient(t.backgroundBarsColor2),t.textColor=this.parseSingleColorForGradient(t.textColor),t.yaxisLabelsColor=this.parseSingleColorForGradient(t.yaxisLabelsColor),t.colorsStroke=this.parseSingleColorForGradient(t.colorsStroke),t.axesColor=this.parseSingleColorForGradient(t.axesColor),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.annotationColor=this.parseSingleColorForGradient(t.annotationColor)},this.reset=function(){},this.interactiveKeyHighlight=function(a){var o=this.properties,r=this;this.coords2.forEach(function(t,e,i){var e=r.coords2[e][a],s=r.context.lineWidth;r.path("b lw 2 r % % % % f % s % lw %",e[0]-.5,e[1]-.5,e[2]+1,e[3]+1,o.keyInteractiveHighlightChartFill,o.keyInteractiveHighlightChartStroke,s)})},this.firstDrawFunc=function(){},this.getShapeByY=function(t){for(var e=this.properties,i=DxChart.getMouseXY(t),s=arguments[1]||this,a=0,o=s.coords.length;a<o;a++)if(0!=s.coords[a].length){i[0];var r,n=i[1],h=s.coords[a][0],l=s.coords[a][1],c=s.coords[a][2],x=s.coords[a][3];if(l<=n&&n<=l+x)return{object:s,x:h,y:l,width:c,height:x,dataset:(n=DxChart.sequentialIndexToGrouped(a,this.data))[0],index:n[1],sequentialIndex:a,tooltip:(r=e.tooltipsData?DxChart.parseTooltipText?DxChart.parseTooltipText(e.tooltipsData,a):e.tooltipsData[a]:r)||null}}return null},this.changing_mousemove=function(t){var e,i,s=this.properties;s.changeableValue&&DxChart.Registry.get("changing")&&DxChart.Registry.get("changing").uid==this.uid&&(e=Number(this.getValue(t)),i=DxChart.Registry.get("changing.shape"))&&(DxChart.Registry.set("changing.shape",i),this.stackedOrGrouped&&"grouped"==s.grouping?(s=DxChart.sequentialIndexToGrouped(i.sequentialIndex,this.data),"number"==typeof this.data[s[0]]?this.data[s[0]]=Number(e):DxChart.isNull(this.data[s[0]])||(this.data[s[0]][s[1]]=Number(e))):"number"==typeof this.data[i.dataset]&&(this.data[i.dataset]=Number(e)),DxChart.redrawCanvas(t.target),DxChart._fireEvent(this,"onadjust"))},this.drawLabelsInbar=function(){var t=this.properties;if(t.labelsInbar)for(var e,i,s,a,o=t.labelsInbarValign,r=t.labelsInbarHalign,n=DxChart.getTextInfo({object:this,prefix:"labelsInbar"}),h="stacked"===t.grouping?function(t){for(var e=[],i=0;i<t.length;++i)if("number"==typeof t[i])e.push(t[i]);else if("object"==typeof t[i]&&!DxChart.isNull(t[i]))for(var s=t[i].length-1;0<=s;s--)e.push(t[i][s]);return e}(this.data):DxChart.arrayLinearize(this.data),l=0;l<h.length;++l)DxChart.isNumber(h[l])&&!isNaN(h[l])&&0<this.coords[l][2]&&(e=h[l].toFixed(t.labelsInbarDecimals),DxChart.sequentialIndexToGrouped(l,this.data),e=DxChart.numberFormat({object:this,number:Number(e).toFixed(t.labelsInbarDecimals),unitspre:t.labelsInbarUnitsPre,unitspost:t.labelsInbarUnitsPost,point:t.labelsInbarPoint,thousand:t.labelsInbarThousand,formatter:t.labelsInbarFormatter}),i=DxChart.measureText({text:e,bold:n.bold,font:n.font,size:n.size}),s=this.coords[l][0]+this.coords[l][2]/2+t.labelsInbarOffsetX,a=this.coords[l][1]+this.coords[l][3]/2+t.labelsInbarOffsetY,i[0],i[1],"left"===t.labelsInbarHalign?(r="left",s=this.coords[l][0]+5+t.labelsInbarOffsetX):"right"===t.labelsInbarHalign&&(r="right",s=this.coords[l][0]+this.coords[l][2]-5+t.labelsInbarOffsetX),"bottom"===t.labelsInbarValign?(o="bottom",a=this.coords[l][1]-5+this.coords[l][3]+t.labelsInbarOffsetY):"top"===t.labelsInbarValign&&(o="top",a=this.coords[l][1]+5+t.labelsInbarOffsetY),DxChart.isArray(t.labelsInbarSpecific)&&(DxChart.isString(t.labelsInbarSpecific[l])||DxChart.isNumber(t.labelsInbarSpecific[l]))&&(e=t.labelsInbarSpecific[l]),DxChart.text({object:this,font:n.font,size:n.size,color:n.color,bold:n.bold,italic:n.italic,x:s,y:a,text:e,valign:o,halign:r,tag:"labels.above",bounding:DxChart.isString(t.labelsInbarBackground),boundingFill:t.labelsInbarBackground,boundingStroke:"transparent"}))},this.drawAni=function(){var t=arguments[0]||"grow",e=arguments[1]||{},i=arguments[2]||function(){};switch(t){case"grow":this.grow(e,i);break;case"wave":this.wave(e,i)}},this.grow=function(){var l=this.properties,c=(this.cancelStopAnimation(),arguments[0]||{}),x=c.frames||30,d=0,u=arguments[1]||function(){},g=this,p=this.get("labelsAbove");if(this.orgData=DxChart.arrayClone(this.data),0==l.xaxisScaleMax){for(var t=0,e=0;e<g.data.length;++e)t=DxChart.isArray(g.data[e])&&"stacked"==l.grouping?Math.max(t,DxChart.arraySum(g.data[e])):DxChart.isArray(g.data[e])&&"grouped"==l.grouping?Math.max(t,DxChart.arrayMax(g.data[e])):Math.max(t,Math.abs(DxChart.arrayMax(g.data[e])));var i=DxChart.getScale({object:g,options:{"scale.max":t,"scale.round":g.properties.xaxisScaleRound}});g.set("xaxisScaleMax",i.max)}if(DxChart.isArray(c.data)){for(t=0,e=0;e<c.data.length;++e)if("object"==typeof c.data[e])for(var s=0;s<c.data[e].length;++s)"string"==typeof c.data[e][s]&&c.data[e][s].match(/(\+|\-)([0-9]+)/)&&("+"===RegExp.$1?c.data[e][s]=this.orgData[e][s]+parseInt(RegExp.$2):c.data[e][s]=this.orgData[e][s]-parseInt(RegExp.$2)),t=Math.max(t,c.data[e][s]);else t=("string"==typeof c.data[e]&&c.data[e].match(/(\+|\-)([0-9]+)/)&&("+"===RegExp.$1?c.data[e]=this.orgData[e]+parseFloat(RegExp.$2):c.data[e]=this.orgData[e]-parseFloat(RegExp.$2)),Math.max(t,c.data[e]));var a=DxChart.getScale({object:this,options:{"scale.max":t}});DxChart.isNull(this.get("xaxisScaleMax"))&&this.set("xaxisScaleMax",a.max)}if(this.set("labelsAbove",!1),DxChart.isNull(l.xaxisScaleMax)){for(t=0,e=0;e<g.data.length;++e)if(DxChart.isArray(this.data[e])&&"stacked"===l.grouping)t=Math.max(t,Math.abs(DxChart.arraySum(this.data[e])));else if(DxChart.isArray(this.data[e])&&"grouped"===l.grouping){for(var s=0,o=[];s<this.data[e].length;s++)o.push(Math.abs(this.data[e][s]));t=Math.max(t,Math.abs(DxChart.arrayMax(o)))}else t=Math.max(t,Math.abs(this.data[e]));a=DxChart.getScale({object:this,options:{"scale.max":t}});this.set("xaxisScaleMax",a.max)}"number"==typeof c.xmax&&g.set("xaxisScaleMax",c.xmax);var f=function(){if(g.stopAnimationRequested)g.stopAnimationRequested=!1;else{for(var t=DxChart.Effects.getEasingMultiplier(x,d),e=0,i=g.orgData.length;e<i;++e)if("object"!=typeof g.data[e]||DxChart.isNull(g.data[e]))g.firstDraw||!c.data?0<l.xaxisScaleMin&&l.xaxisScaleMax>l.xaxisScaleMin?g.data[e]=t*(g.orgData[e]-l.xaxisScaleMin)+l.xaxisScaleMin:g.data[e]=t*g.orgData[e]:c.data&&c.data.length===g.orgData.length&&(s=c.data[e]-g.orgData[e],g.data[e]=t*s+g.orgData[e]);else for(var s,a=0,o=g.data[e].length;a<o;++a)g.firstDraw||!c.data?0<l.xaxisScaleMin&&l.xaxisScaleMax>l.xaxisScaleMin?g.data[e][a]=t*(g.orgData[e][a]-l.xaxisScaleMin)+l.xaxisScaleMin:g.data[e][a]=t*g.orgData[e][a]:c.data&&c.data.length===g.orgData.length&&(s=c.data[e][a]-g.orgData[e][a],g.data[e][a]=t*s+g.orgData[e][a]);if(DxChart.redrawCanvas(g.canvas),d<x)d+=1,DxChart.Effects.updateCanvas(f,g.canvas);else{var r=g.orgData;if(DxChart.isArray(c.data))for(var n=DxChart.arrayLinearize(r),h=0;h<n.length;++h)g["$"+h]||(g["$"+h]={});g.data=r,g.orgData=DxChart.arrayClone(r),p&&(g.set("labelsAbove",!0),DxChart.redraw()),u(g)}}};return f(),this},this.wave=function(){var a=this.properties,o=(this.cancelStopAnimation(),this),r=arguments[0]||{},n=(r.frames=r.frames||30,r.startFrames=[],r.counters=[],r.frames/3),h=-1,l=arguments[1]||function(){},c=DxChart.arrayClone(o.data),x=a.labelsAbove;this.set("labelsAbove",!1);for(var t=0,e=o.data.length;t<e;t+=1)if(r.startFrames[t]=r.frames/2/(o.data.length-1)*t,"object"==typeof o.data[t]&&o.data[t]){r.counters[t]=[];for(var i=0;i<o.data[t].length;i++)r.counters[t][i]=0}else r.counters[t]=0;o.draw(),o.set("xaxisScaleMax",o.scale2.max),DxChart.clear(o.canvas);var d=function(){if(o.stopAnimationRequested)o.stopAnimationRequested=!1;else{++h;for(var t=0,e=o.data.length;t<e;t+=1)if(h>r.startFrames[t]){if("number"==typeof o.data[t])o.data[t]=Math.min(Math.abs(c[t]),Math.abs(c[t]*(r.counters[t]/n))),r.counters[t]+=1,c[t]<0&&(o.data[t]*=-1);else if(!DxChart.isNull(o.data[t]))for(var i=0,s=o.data[t].length;i<s;i+=1)0<a.xaxisScaleMin&&a.xaxisScaleMax>a.xaxisScaleMin?o.data[t][i]=Math.min(Math.abs(c[t][i]),Math.abs((c[t][i]-a.xaxisScaleMin)*(r.counters[t][i]/n)+a.xaxisScaleMin)):o.data[t][i]=Math.min(Math.abs(c[t][i]),Math.abs(c[t][i]*(r.counters[t][i]/n))),r.counters[t][i]+=1,c[t][i]<0&&(o.data[t][i]*=-1)}else o.data[t]="object"==typeof o.data[t]&&o.data[t]?DxChart.arrayPad([],o.data[t].length,0<a.xaxisScaleMin?a.xaxisScaleMin:0):DxChart.isNull(o.data[t])?null:0<a.xaxisScaleMin?a.xaxisScaleMin:0;h>=r.frames?(x&&(o.set("labelsAbove",!0),DxChart.redrawCanvas(o.canvas)),l(o)):(DxChart.redrawCanvas(o.canvas),DxChart.Effects.updateCanvas(d,o.canvas))}};return d(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.isAdjustable=function(t){var e=t.object.properties;return!!DxChart.isNull(e.changeableOnly)||!(!DxChart.isArray(e.changeableOnly)||!e.changeableOnly[t.sequentialIndex])},this.roundedCornersRect=function(t,e,i,s){var a,o,r=(isNexacroRuntime?this.parent.parent:this.canvas).__object__.properties,r=r.cornersRoundRadius,r=Math.min(i/2,s/2,r);isNexacroRuntime?(a=t+i,o=e+s,this.moveTo(t+i/2,e),this.arcTo(a,e,a,o,Math.min(e+o/2,r)),this.arcTo(a,o,t,o,r),this.arcTo(t,o,t,e,0),this.arcTo(t,e,r,e,Math.min(e+o/2,0)),this.lineTo(t+a/2,e)):(this.save(),this.translate(t,e),this.moveTo(i/2,0),this.arcTo(i,0,i,s,Math.min(s/2,r)),this.arcTo(i,s,0,s,r),this.arcTo(0,s,0,0,0),this.arcTo(0,0,r,0,Math.min(s/2,0)),this.lineTo(i/2,0),this.restore())},this.tooltipSubstitutions=function(t){var e,i=DxChart.sequentialIndexToGrouped(t.index,this.data),s=(e="object"==typeof this.data[i[0]]?this.data[i[0]]:[this.data[i[0]]],this.data_arr[t.index]),a=i[1],t=t.index,o=("object"==typeof this.data[i[0]]&&"stacked"===this.properties.grouping&&(s=this.data[i[0]][this.data[i[0]].length-1-i[1]]),[]),r=0;return"100%"==this.properties.variantStackedType&&("number"==typeof(o=this.dataPercent[i[0]])&&(o=[o]),r=this.dataPercent[i[0]][this.data[i[0]].length-1-i[1]]),{index:a,dataset:i[0],sequentialIndex:t,value:s,values:e,percent:r,percents:o}},this.tooltipsFormattedCustom=function(t,e){return{label:this.stackedOrGrouped?!DxChart.isNull(this.properties.tooltipsFormattedKeyLabels)&&"object"==typeof this.properties.tooltipsFormattedKeyLabels&&this.properties.tooltipsFormattedKeyLabels[e]?this.properties.tooltipsFormattedKeyLabels[e]:"":!DxChart.isNull(this.properties.tooltipsFormattedKeyLabels)&&"object"==typeof this.properties.tooltipsFormattedKeyLabels&&this.properties.tooltipsFormattedKeyLabels[t.index]?this.properties.tooltipsFormattedKeyLabels[t.index]:""}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas)),a=this.coords[t.index];isNexacroRuntime?(t.tooltip.set_left(s[0]+a[0]+a[2]/2-i.offsetWidth/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]+a[1]-i.offsetHeight-10+e.properties.tooltipsOffsetY)):(t.tooltip.style.left=s[0]+a[0]+a[2]/2-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]+a[1]-i.offsetHeight-10+e.properties.tooltipsOffsetY+"px"),"3d"===this.properties.variant&&(s=parseInt(t.tooltip.style.left),a[1],i=properties.variantThreedAngle,e=Math.tan(i)*s,t.tooltip.style.top=parseInt(t.tooltip.style.top)+e+"px")},this.resetData(t.data),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartHeatmap(t){return DxChart._Base.call(this,t,"heatmap"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"xaxis"),DxChart.setDefaultProperties(this,"yaxis"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"variant"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"crosshairs"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"errorbars"),DxChart.setDefaultProperties(this,"combined"),DxChart.setDefaultProperties(this,"default"),t.binddataset&&0<=t.data.toString().indexOf("bind:")&&(this.binddataset=t.binddataset),this.properties.animationGrowMultiplier=1,this.resetData=function(t){this.binddataset&&0<=t.toString().indexOf("bind:")&&(t=DxChart.parseDataset(this,t)),t=DxChart.str2num(t);for(var e=0;e<t.length;++e)"object"!=typeof t[e]||DxChart.isNull(t[e])||(this.stackedOrGrouped=!0);for(var i=DxChart.arrayLinearize(t),e=0;e<i.length;++e)this["$"+e]={};this.data=t,this.orgData=DxChart.arrayClone(t),this.data_arr=DxChart.arrayLinearize(this.data)},this.draw=function(){var t;return this.data&&0!=this.data.length?(t=this.properties,DxChart._BeforeDraw(this),this.coords=[],this.coords2=[],this.coordsText=[],this._Colors=[],this.max=0,this.chartArea=this.canvas.height-this.marginTop-this.marginBottom,this.ChartAreaHalf=this.chartArea/2,this.halfTextHeight=t.textFontStyleObj.size/2,t.backgroundGridHlinesCount=this.data[0].length,DxChart.Background.draw(this),this.drawGiude(),this.drawbars(),this.drawAxes(),t.keyData&&t.keyData.length&&DxChart.drawKey(this,t.keyData,t.colors),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this):DxChart.NoDataShow(this)},this.redrawGiude=function(){this.needlePosition&&(this.context.clearRect(this.needlePosition.x-6,this.needlePosition.y-6,this.needlePosition.w+10,this.needlePosition.h+10),this.drawGiude())},this.drawGiude=function(){for(var t,e,i=this.properties,s=i.guidePosition,a=i.guidePositionX,o=i.guidePositionY,r=i.guideWidth,n=i.guideHeight,h=i.guideLineWidth,l=i.guideStrokeColor,c=i.guideNeedleColor,x=i.guideNeedleStrokeColor,d=i.guideNeedleLineWidth,u=i.guideNeedleWidth,g=(this.context.lineWidth=h,isNexacroRuntime&&this.context.setElementLineWidth(h),null!=a&&null!=o||("top"==s||"bottom"==s?(t=Math.max(r,n),e=Math.min(r,n),a=this.canvas.width/2-t/2,o="top"==s?parseInt(this.marginTop/2):this.canvas.height-this.marginBottom/2):(t=Math.min(r,n),e=Math.max(r,n),o=this.canvas.height/2-e/2,a="right"==s?this.canvas.width-parseInt(this.marginRight/2):parseInt(this.marginLeft/2))),i.colors),p=1/0,f=-1/0,m=0,b=g.length;m<b;m++)var C=g[m],p=Math.min(p,C[0]),f=Math.max(f,C[1]);var y=0-p,D=f+y;if(this.needlePosition={x:a,y:o,w:t,h:e,t:"top"==s||"bottom"==s?"h":"v",min:p,max:f,gap:f-p,minDefault:y,maxDefault:D},0!=i.guideUse){for(var v="linear-gradient(to "+("top"==s||"bottom"==s?"right,":"top,"),m=0,b=g.length;m<b;m++){var S=(C=g[m])[0],k=C[1],w=C[2];0<m&&(v+=","),v+=" "+w+" "+(S-=y)/D*100+"%, "+w+" "+(k-=y)/D*100+"%"}for(var _,r=DxChart.parseGradient(this,v+=")",a,o,t,e),T=(this.context.strokeStyle=l,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeColor),this.context.fillStyle=r,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.beginPath(),this.context.rect(a,o,t,e),this.context.closePath(),this.context.fill(),0<h&&this.context.stroke(),DxChart.getTextInfo({object:this,prefix:"guide"})),P=[],R=[],P="left"==s||"right"==s?(_=o+e/2,R[0]=[n=a+t+10,o],R[1]=[n,_],R[2]=[n,o+e],[f,f-parseInt((f-p)/2),p]):(_=a+t/2,R[0]=[a,l=o+e+10],R[1]=[_,l],R[2]=[a+t,l],[p,f-parseInt((f-p)/2),f]),L=0;L<3;L++){var j=R[L];DxChart.text({object:this,font:T.font,size:T.size,color:T.color,bold:T.bold,italic:T.italic,x:j[0],y:j[1],text:P[L],halign:"left",valign:"center",angle:1,marker:!1,bounding:!1,"bounding.fill":null,"bounding.stroke":"rgba(0,0,0,0)",tag:"labels.above"})}this.context.lineWidth=d,isNexacroRuntime&&this.context.setElementLineWidth(d),this.context.strokeStyle=x,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeColor),this.context.fillStyle=c,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.beginPath();r=DxChart.Registry.get("changing.shape");"left"==s||"right"==s?(null==i.guideNeedleValue&&(i.guideNeedleValue=R[2][1]-u),this.coords.push(["needle","v",p,f,a,o,t,e,a-5,i.guideNeedleValue,t+10,u]),this.context.rect(a-5,i.guideNeedleValue,t+10,u),r&&DxChart.text({object:this,font:T.font,size:T.size,color:T.color,bold:T.bold,italic:T.italic,x:a+t+10,y:i.guideNeedleValue,text:Math.round(i.guideNeedleCurrentValue),halign:"left",valign:"center",angle:1,marker:!1,bounding:!0,"bounding.fill":"#cccccc","bounding.stroke":"rgba(0,0,0,0)",tag:"labels.above"})):(null==i.guideNeedleValue&&(i.guideNeedleValue=a),this.coords.push(["needle","h",p,f,a,o,t,e,i.guideNeedleValue,o-5,u,e+10]),this.context.rect(i.guideNeedleValue,o-5,u,e+10),r&&DxChart.text({object:this,font:T.font,size:T.size,color:T.color,bold:T.bold,italic:T.italic,x:i.guideNeedleValue,y:o-15,text:Math.round(i.guideNeedleCurrentValue),halign:"left",valign:"center",angle:1,marker:!1,bounding:!0,"bounding.fill":"#cccccc","bounding.stroke":"rgba(0,0,0,0)",tag:"labels.above"})),this.context.closePath(),this.context.fill(),0<d&&this.context.stroke()}},this.drawAxes=function(){var t=this.properties;if(-1==DxChart.ISSAFARI&&(this.context.lineCap="square",isNexacroRuntime)&&this.context.setElementLineCap(this.context.lineCap),t.xaxisLabels&&t.xaxisLabels.length){"string"==typeof t.xaxisLabels&&(t.xaxisLabels=DxChart.arrayPad({array:[],length:this.data.length,value:t.xaxisLabels}));for(var e=0;e<t.xaxisLabels.length;++e)t.xaxisLabels[e]=DxChart.labelSubstitution({object:this,text:t.xaxisLabels[e],index:e,value:this.data[e],decimals:t.xaxisLabelsFormattedDecimals||0,unitsPre:t.xaxisLabelsFormattedUnitsPre||"",unitsPost:t.xaxisLabelsFormattedUnitsPost||"",thousand:t.xaxisLabelsFormattedThousand||",",point:t.xaxisLabelsFormattedPoint||"."})}t.yaxisLabels&&(t.yaxisLabelsSpecific=t.yaxisLabels),t.LabelsCount=this.data[0].length,DxChart.drawXAxis(this),DxChart.drawYAxis(this)},this._getColor=function(t,e,i){for(var s=0,a=t.length;s<a;s++){var o=t[s],r=o[0],n=o[1];if(r<=e&&e<=n)return i?(r=Math.round(this.properties.guideNeedleCurrentValue))-this.properties.guideNeedleCurrentRangeValue<=e&&r+this.properties.guideNeedleCurrentRangeValue>=e?[DxChart._shadeColor(o[2],30),this.properties.colorsStroke||DxChart._shadeColor(o[2],-80)]:[DxChart._shadeColor(o[2],-30),this.properties.colorsStroke||DxChart._shadeColor(o[2],30)]:[o[2],this.properties.colorsStroke||DxChart._shadeColor(o[2],30)]}},this.drawbars=function(){var t,e=this.properties;this.context.lineWidth=e.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=e.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle);for(var i=0;i<this.data.length;++i)t="object"==typeof this.data[i]?Number(DxChart.arrayMax(this.data[i],!0)):Number(this.data[i]),this.max=Math.max(Math.abs(this.max),Math.abs(t));var s,a=e.variantValue,o=(e.xaxisPosition,(this.canvas.width-this.marginLeft-this.marginRight)/this.data.length),r=(this.canvas.height-this.marginTop-this.marginBottom)/this.data[0].length,n=e.marginInner,h=e.shadowUse,l=e.shadowStyleObj.color,c=e.shadowStyleObj.blur,x=e.shadowStyleObj.offsetX,d=e.shadowStyleObj.offsetY,u=(e.colorsStroke,e.colors),g=(e.colorsGradient,e.labelsInbar,e.labelsInbarSpecific),p=("boolean"==typeof e.labelsInbarBold?e.labelsInbarBold:e.textFontStyleObj.bold,"boolean"==typeof e.labelsInbarItalic?e.labelsInbarItalic:e.textFontStyleObj.italic,e.labelsInbarColor||e.textColor,e.labelsInbarFontStyleObj.face||e.textFontStyleObj.face,("number"==typeof e.labelsInbarFontStyleObj.size?e.labelsInbarFontStyleObj:e.textFontStyleObj).size,e.labelsInbarBackground,e.labelsInbarDecimals),f=-1*e.labelsInbarAngle,m=e.labelsInbarUnitsPre,b=e.labelsInbarUnitsPost,C=e.labelsInbarPoint,I=e.labelsInbarThousand,N=e.labelsInbarFormatter,y=(this.coords,this.coords2,e.labelsInbarOffsetX,e.labelsInbarOffsetY,e.textFontStyleObj.italic,e.textFontStyleObj.bold,e.textColor,e.textFontStyleObj.face,e.textFontStyleObj.size,DxChart.getTextInfo({object:this,prefix:"labelsInbar"})),D=2*n+e.lineWidth,v=(n+=e.lineWidth,this._Colors=[],this.needlePosition.minDefault),S=this.needlePosition.maxDefault,M=o,W=r;o*=e.animationGrowMultiplier,r*=e.animationGrowMultiplier;for(var i=0,B=this.data.length;i<B;i+=1){var k=this.data[i];this._Colors[i]=[];for(var w=i*M+this.marginLeft,_=0,G=k.length;_<G;_++){var T,P,R=_*W+this.marginTop;if(null!=k[_]&&null!=k[_])if(h&&(this.context.shadowColor=l,this.context.shadowBlur=c,this.context.shadowOffsetX=x,this.context.shadowOffsetY=d,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime)&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY),this.context.beginPath(),T=DxChart.Registry.get("changing.shape")?this._getColor(u,k[_],!0):this._getColor(u,k[_],!1)){switch(this.context.strokeStyle=T[1],isNexacroRuntime&&this.context.setElementStrokeStyle(T[1]),this.context.fillStyle=T[0],isNexacroRuntime&&this.context.setElementFillStyle(T[0]),this._Colors[i][_]=T[0],!0===e.labelsInbar&&(P=g?g[_]||"":DxChart.numberFormat({object:this,number:Number(k[_].toFixed(p)),value:Number(k[_].toFixed(p)),unitspre:m,unitspost:b,point:C,thousand:I,formatter:N,dataset:0,index:i})),s=R,a){case"round":this.coords.push([i,_,P,k[_],w+n,R+n,o-D,r-D]),this.roundedCornersRect(w+n,R+n,o-D,r-D);break;case"roundRatio":O=k[_]-v,this.coords.push([i,_,P,k[_],w+n,s=R+(r-(r-n)*(O/S)),o-D,r-(s-R)]),this.roundedCornersRect(w+n,s,o-D,r-(s-R));break;case"square":var L=Math.min(o,r);L-=D,this.coords.push([i,_,P,k[_],w+(o-L)/2,R+(r-L)/2,L,L]),this.context.rect(w+(o-L)/2,R+(r-L)/2,L,L);break;case"arc":var L=Math.min(o,r),j=w+(E=(L-=D)/2)+(o-L)/2,F=R+E+(r-L)/2;0<E&&(this.coords.push([i,_,P,k[_],j-E,F-E,L,L]),this.context.arc(j,F,E,0,DxChart.TWOPI,!1));break;case"arcRatio":var E,O,L=Math.min(o,r),j=w+(E=(L-=D)/2)+(o-L)/2,F=R+E+(r-L)/2,A=E*((O=k[_]-v)/S);0<A&&(this.coords.push([i,_,P,k[_],j-A,F-A,L,L]),this.context.arc(j,F,A,0,DxChart.TWOPI,!1));break;case"rectRatio":O=k[_]-v,this.coords.push([i,_,P,k[_],w+n,s=R+(r-(r-n)*(O/S)),o-D,r-(s-R)]),this.context.rect(w+n,s,o-D,r-(s-R));break;default:this.coords.push([i,_,P,k[_],w+n,R+n,o-D,r-D]),this.context.rect(w+n,R+n,o-D,r-D)}this.context.closePath(),this.context.fill(),0<e.lineWidth&&this.context.stroke(),!0===e.labelsInbar&&(DxChart.measureText(P,y.bold,y.font,y.size)[0]<=o&&DxChart.text({object:this,font:y.font,size:y.size,color:y.color,bold:y.bold,italic:y.italic,x:w+o/2,y:R+r/2,text:P,halign:"center",valign:"center",angle:f,marker:!1,bounding:!1,"bounding.fill":null,"bounding.stroke":"rgba(0,0,0,0)",tag:"labels.above"}),DxChart.noShadow(this))}}}},this.getShape=function(t){for(var e=this.properties,i=arguments[1]||this,s=DxChart.getMouseXY(t),a=s[0],o=s[1],r=(i.canvas,i.context,i.coords),n=0,h=r.length;n<h;n+=1)if(0!=i.coords[n].length){var l,c=r[n][4],x=r[n][5],d=r[n][6],u=r[n][7];if(!(a<c||c+d<a))if(!(o<x||x+u<o))if(this.context.beginPath(),this.context.rect(c,x,d,u),this.context.isPointInPath(a,o))return e.tooltipsData&&DxChart.parseTooltipText&&(l=DxChart.parseTooltipText(e.tooltipsData,n)),{object:this,x:c,y:x,width:d,height:u,type:"needle"==r[n][0]?"needle":"",align:"needle"==r[n][0]?r[n][1]:"",tooltip:"needle"!=r[n][0]&&"string"==typeof l?l:null,label:"needle"==r[n][0]?null:r[n][2],data:r[n][3],dataset:r[n][0],index:r[n][1],sequentialIndex:n,coord:r[n]}}return null},this.getValue=function(t){var e,i,s=this.properties;return(t=(2==t.length?(e=t[0],t):(e=(t=DxChart.getMouseXY(t))[0],t))[1])<s.marginTop||t>this.canvas.height-s.marginBottom||e<s.marginLeft||e>this.canvas.width-s.marginRight?null:("center"==s.xaxisPosition?(i=(this.chartArea/2-(t-s.marginTop))/this.chartArea*(this.scale2.max-this.scale2.min),0<=(i*=2)?i+=this.scale2.min:i-=this.scale2.min):"top"==s.xaxisPosition?(i=(this.chartArea-(t-s.marginTop))/this.chartArea*(this.scale2.max-this.scale2.min),i=this.scale2.max-i,i=-1*Math.abs(i)):(i=(this.chartArea-(t-s.marginTop))/this.chartArea*(this.scale2.max-this.scale2.min),i+=this.scale2.min),i)},this.highlight=function(t){var e,i,s,a=t.object,o=a.properties,r=t.data;o.guideUse&&("v"==a.needlePosition.t?(e=a.needlePosition.y+a.needlePosition.h,i=(r-a.needlePosition.minDefault)/a.needlePosition.maxDefault,s=a.needlePosition.h*i,o.guideNeedleValue=e-s):(a.needlePosition.x,a.needlePosition.w,i=(r-a.needlePosition.minDefault)/a.needlePosition.maxDefault,s=a.needlePosition.w*i,o.guideNeedleValue=a.needlePosition.x+s)),DxChart.Highlight.rect(this,t)},this.getObjectByXY=function(t){var e=this.properties,i=DxChart.getMouseXY(t);this.getShape(t);if(i[0]>=e.marginLeft&&i[0]<=this.canvas.width-e.marginRight&&i[1]>=e.marginTop&&i[1]<=this.canvas.height-e.marginBottom)return this},this.changing_mousemove=function(t,e){var i,s,a,o,r,n,h,l,c;e&&"needle"==e.type&&(i=e.coord,s=0,a=t.offsetX,t=t.offsetY,"v"==e.align?(s=t-e.object.properties.guideNeedleWidth,i[5]>s?s=i[5]-e.object.properties.guideNeedleWidth/2:i[5]+i[7]<s&&(s=i[5]+i[7]-e.object.properties.guideNeedleWidth/2),o=i[5],r=i[5]+i[7],n=i[2],l=(h=i[3])-n,c=(s-o)/(r-o),e.object.properties.guideNeedleCurrentValue=h-l*c):(s=a-e.object.properties.guideNeedleWidth,i[4]>s?s=i[4]-e.object.properties.guideNeedleWidth:i[4]+i[6]<s&&(s=i[4]+i[6]-e.object.properties.guideNeedleWidth/2),o=i[4],r=i[4]+i[6],n=i[2],l=(h=i[3])-n,c=(s-o)/(r-o),e.object.properties.guideNeedleCurrentValue=n+l*c),DxChart.Registry.set("changing.shape",e),e.object.properties.guideNeedleValue=s,DxChart.redrawCanvas(e.object.canvas))},this.parseColors=function(){var t=this.properties,e=(0===this.original_colors.length&&(this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.keyColors=DxChart.arrayClone(t.keyColors),this.original_colors.crosshairsColor=t.crosshairsColor,this.original_colors.highlightStroke=t.highlightStroke,this.original_colors.highlightFill=t.highlightFill,this.original_colors.textColor=t.textColor,this.original_colors.backgroundBarsColor1=t.backgroundBarsColor1,this.original_colors.backgroundBarsColor2=t.backgroundBarsColor2,this.original_colors.backgroundGridColor=t.backgroundGridColor,this.original_colors.backgroundColor=t.backgroundColor,this.original_colors.colorsStroke=t.colorsStroke,this.original_colors.axesColor=t.axesColor),t.keyColors);if(e)for(var i=0;i<e.length;++i)e[i]=this.parseSingleColorForGradient(e[i]);t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill),t.textColor=this.parseSingleColorForGradient(t.textColor),t.backgroundBarsColor1=this.parseSingleColorForGradient(t.backgroundBarsColor1),t.backgroundBarsColor2=this.parseSingleColorForGradient(t.backgroundBarsColor2),t.backgroundGridColor=this.parseSingleColorForGradient(t.backgroundGridColor),t.backgroundColor=this.parseSingleColorForGradient(t.backgroundColor),t.colorStroke=this.parseSingleColorForGradient(t.colorStroke),t.axesColor=this.parseSingleColorForGradient(t.axesColor)},this.reset=function(){},this.interactiveKeyHighlight=function(r){var n=this.properties,h=this;this.coords2.forEach(function(t,e,i){var s,a,o;"object"==typeof t[r]&&t[r]&&(s=t[r][0]-.5,a=t[r][1]-.5,o=t[r][2]+1,t=t[r][3]+1,h.context.fillStyle=n.keyInteractiveHighlightChartFill,isNexacroRuntime&&h.context.setElementFillStyle(n.keyInteractiveHighlightChartFill),h.context.strokeStyle=n.keyInteractiveHighlightChartStroke,isNexacroRuntime&&h.context.setElementStrokeStyle(h.context.strokeStyle),h.context.lineWidth=2,isNexacroRuntime&&h.context.setElementLineWidth(h.context.lineWidth),h.context.strokeRect(s,a,o,t),h.context.fillRect(s,a,o,t))})},this.firstDrawFunc=function(){},this.drawAni=function(){"grow"===(arguments[0]||"grow")&&this.grow(arguments[1]||{},arguments[2]||function(){})},this.grow=function(){this.cancelStopAnimation();var e=this,t=arguments[0]||{},i=arguments[1]||function(){},s=t.frames||20,a=0,o=this.get("guideUse");return this.set("guideUse",!1),function t(){e.stopAnimationRequested?e.stopAnimationRequested=!1:(e.set("animationGrowMultiplier",a/s),DxChart.redrawCanvas(e.canvas),a<s?(a++,DxChart.Effects.updateCanvas(t,e.canvas)):(this.set("guideUse",o),i(e)))}(),this},this.stopAnimation=function(){this.set("animationGrowMultiplier",1),this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.isAdjustable=function(t){var e=this.properties;return!(!DxChart.isNull(e.changeableOnly)&&DxChart.isArray(e.changeableOnly))||(t?!(!DxChart.isArray(e.changeableOnly)||!e.changeableOnly[t.sequentialIndex]):void 0)},this.tooltipSubstitutions=function(t){var e,i=this.coords[t.index],s=(e="undefined"!=typeof nexacro?nexacro.toNumber(i[3].toFixed(2)):parseFloat(i[3].toFixed(2)),this.data[i[0]]),a=this._Colors[i[0]];return{index:i[1],dataset:i[0],sequentialIndex:t.index,value:e,values:s,colors:a}},this.tooltipsFormattedCustom=function(t,e){var i=this.properties,e=this.stackedOrGrouped?!DxChart.isNull(i.tooltipsFormattedKeyLabels)&&"object"==typeof i.tooltipsFormattedKeyLabels&&i.tooltipsFormattedKeyLabels[e]?i.tooltipsFormattedKeyLabels[e]:"":!DxChart.isNull(i.tooltipsFormattedKeyLabels)&&"object"==typeof i.tooltipsFormattedKeyLabels&&i.tooltipsFormattedKeyLabels[t.index]?i.tooltipsFormattedKeyLabels[t.index]:"";return{label:e}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas)),a=e.coords[t.index];e.properties;isNexacroRuntime?(t.tooltip.set_left(s[0]+a[4]-i.getOffsetWidth()/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]+a[5]-i.getOffsetHeight()-10+e.properties.tooltipsOffsetY),t.tooltip.top<0&&t.tooltip.set_top(50)):(t.tooltip.style.left=s[0]+a[4]-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]+a[5]-i.offsetHeight-10+e.properties.tooltipsOffsetY+"px",parseInt(t.tooltip.style.top.replace("px",""))<0&&(t.tooltip.style.top="50px"))},this.roundedCornersRect=function(t,e,i,s){var a;i<0||s<0||(a=this.properties.cornersRoundRadius,a=Math.min(i/2,s/2,a),this.context.moveTo(t+i/2,e),this.context.arcTo(t+i,e,t+i,e+s,Math.min(s/2,a)),this.context.lineTo(t+i,e+s),this.context.lineTo(t,e+s),this.context.lineTo(t,e+s/2),this.context.arcTo(t,e,t+i/2,e,Math.min(s/2,a)),this.context.lineTo(t+i/2,e))},this.resetData(t.data),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartHorseShoe(t){return DxChart._Base.call(this,t,"horseshoe"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"ends"),DxChart.setDefaultProperties(this,"default"),this.properties.labelsCenter=!0,t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t,e,i){this.binddataset&&(t=DxChart._getColumnDataset(this.binddataset,t),e=DxChart._getColumnDataset(this.binddataset,e),i=DxChart._getColumnDataset(this.binddataset,i)),this.min=DxChart.str2num(t),DxChart.isArray(this.min)&&(this.min=this.min[0]),this.max=DxChart.str2num(e),DxChart.isArray(this.max)&&(this.max=this.max[0]),this.value=DxChart.str2num(i),DxChart.isArray(this.value)&&(this.value=this.value[0]),this.centerx=null,this.centery=null,this.radius=null,this.currentValue=null,this.value<=1e-7&&(this.value=1e-7)},this.draw=function(){var t;return this.min||this.max?(t=this.properties,DxChart._BeforeDraw(this,!0),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.currentValue=this.value,this.radius=Math.max(Math.min((this.canvas.width-this.marginLeft-this.marginRight)/2,(this.canvas.height-this.marginTop-this.marginBottom)/2),20),this.centerx=(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft,this.centery=(this.canvas.height-this.marginBottom-this.marginTop)/2+this.marginTop,this.coordsText=[],"number"==typeof t.centerx&&(this.centerx=t.centerx),"number"==typeof t.centery&&(this.centery=t.centery),"number"==typeof t.radius&&(this.radius=t.radius),this.parseColors(),this.drawMeter(),this.drawLabels(),t.contextmenu&&DxChart.showContext(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this):DxChart.NoDataShow(this)},this.drawMeter=function(){var t=this.properties,e=this.getAngle(this.currentValue),i=(t.backgroundColor&&this.path("fs % fr -5 -5 % %",t.backgroundColor,this.canvas.width+10,this.canvas.height+10),isNexacroRuntime?this.path("b lw % a % % % 0 6.29 false s %",t.width,this.centerx,this.centery,this.radius,t.colors[1]):this.path("b a % % % 0 6.29 false a % % % 6.29 0 true f %",this.centerx,this.centery,this.radius,this.centerx,this.centery,this.radius-t.width,t.colors[1]),isNexacroRuntime?(i=e-DxChart.HALFPI,this.path("b lw % a % % % % % false s %",t.width,this.centerx,this.centery,this.radius,DxChart.PI,i,t.colors[0])):this.path("b a % % % % % false a % % % % % true f %",this.centerx,this.centery,this.radius,DxChart.TWOPI-DxChart.HALFPI,e,this.centerx,this.centery,this.radius-t.width,e,DxChart.TWOPI-DxChart.HALFPI,t.colors[0]),this.path("b lw 3 a % % % 0 % false f % s white",this.centerx,this.centery-this.radius+t.width/2,"number"==typeof t.endsRadius?t.endsRadius:1.5*t.width,DxChart.TWOPI,"string"==typeof t.endsColor?t.endsColor:t.colors[0]),DxChart.getRadiusEndPoint(this.centerx,this.centery,e,this.radius-t.width/2));this.path("b lw 3 a % % % 0 % false f % s white",i[0],i[1],"number"==typeof t.endsRadius?t.endsRadius:1.5*t.width,DxChart.TWOPI,"string"==typeof t.endsColor?t.endsColor:t.colors[0]),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)},this.drawLabels=function(){var t,e=this.properties;e.labelsCenter&&(e.labelsCenterSpecific&&(e.labelsCenterSpecific2=DxChart.labelSubstitution({object:this,text:e.labelsCenterSpecific,index:0,value:this.value,decimals:e.labelsCenterSpecificFormattedDecimals||0,unitsPre:e.labelsCenterSpecificFormattedUnitsPre||"",unitsPost:e.labelsCenterSpecificFormattedUnitsPost||"",thousand:e.labelsCenterSpecificFormattedThousand||",",point:e.labelsCenterSpecificFormattedPoint||"."})),t=DxChart.getTextInfo({object:this,prefix:"labelsCenter"}),DxChart.text({object:this,font:t.font,italic:t.italic,bold:t.bold,size:t.size,color:t.color,x:isNexacroRuntime?this.centerx+e.labelsCenterOffsetX+10:this.centerx+e.labelsCenterOffsetX,y:this.centery+e.labelsCenterOffsetY,text:e.labelsCenterSpecific?e.labelsCenterSpecific2:DxChart.numberFormat({object:this,number:this.value.toFixed(e.labelsCenterDecimals),unitspre:e.labelsCenterUnitsPre,unitspost:e.labelsCenterUnitsPost,point:e.labelsCenterPoint,thousand:e.labelsCenterThousand}),halign:"center",valign:"center",accessible:e.textAccessible}))},this.getShape=function(t){},this.getValue=function(t){this.properties;"number"==typeof t?(e=t,e+=DxChart.HALFPI):(t=DxChart.getMouseXY(t),e=DxChart.getAngleByXY(this.centerx,this.centery,t[0],t[1]),(e+=DxChart.HALFPI)>DxChart.TWOPI&&(e-=DxChart.TWOPI));var e,t=e/DxChart.TWOPI*(this.max-this.min)+this.min,t=Math.max(t,this.min);return Math.min(t,this.max)},this.getObjectByXY=function(t){this.properties;t=DxChart.getMouseXY(t);return DxChart.getHypLength(this.centerx,this.centery,t[0],t[1])>this.radius?null:this},this.changing_mousemove=function(t){this.properties.changeableValue&&DxChart.Registry.get("changing")&&DxChart.Registry.get("changing").uid==this.uid&&(this.value=this.getValue(t),DxChart.clear(this.canvas),DxChart.redrawCanvas(this.canvas),DxChart._fireEvent(this,"onadjust"))},this.getAngle=function(t){this.properties;if("number"==typeof t){if(t>this.max||t<this.min)return null;s=(t-this.min)/(this.max-this.min)*DxChart.TWOPI-DxChart.HALFPI}else var e=t.offsetX,i=t.offsetY,s=DxChart.getAngleByXY({cx:this.centerx,cy:this.centery,x:e,y:i});return t===this.max&&(s-=1e-5),t===this.min&&(s+=1e-5),s>DxChart.PI+DxChart.HALFPI&&(s-=DxChart.TWOPI),s},this.parseColors=function(){var t=this.properties,e=(0===this.original_colors.length&&(this.original_colors.backgroundColor=DxChart.arrayClone(t.backgroundColor),this.original_colors.colors=DxChart.arrayClone(t.colors)),t.backgroundColor=this.parseSingleColorForGradient(t.backgroundColor),t.colors);if(e&&e.length)for(var i=0;i<e.length;++i)e[i]=this.parseSingleColorForGradient(e[i])},this.reset=function(){},this.firstDrawFunc=function(){},this.drawAni=function(){"grow"===(arguments[0]||"grow")&&this.grow(arguments[1]||{},arguments[2]||function(){})},this.grow=function(){this.properties;this.cancelStopAnimation();var t=this;t.currentValue=t.currentValue||t.min;var e=(arguments[0]||{}).frames||30,i=0,s=(t.value-t.currentValue)/e,a=arguments[1]||function(){},o=t.currentValue,r=function(){t.stopAnimationRequested?t.stopAnimationRequested=!1:(t.value=o+i++*s,DxChart.clear(t.canvas),DxChart.redrawCanvas(t.canvas),i<=e?DxChart.Effects.updateCanvas(r,t.canvas):a(t))};return r(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.resetData(t.min,t.max,t.value),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartHProgress(t){return DxChart._Base.call(this,t,"hprogress"),DxChart.setDefaultProperties(this,"tickmarks"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"scale"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"default"),this.properties.labelsPosition="bottom",this.properties.Count=10,this.properties.progressHeight=null,this.properties.backgroundColor="linear-gradient(to bottom,#cccccc 0%,#eeeeee 50%,#efefef 100%)",this.properties.tickmarksColor="#999999",this.properties.keyPosition="margin",this.properties.shadowUse=!1,this.properties.keyShadow=!1,this.properties.keyHalign="right",this.properties.PositionGutterBoxed=!1,this.properties.borderInner=!0,t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t,e,i){this.binddataset&&(t=DxChart._getColumnDataset(this.binddataset,t),e=DxChart._getColumnDataset(this.binddataset,e),i=DxChart._getColumnDataset(this.binddataset,i)),this.min=DxChart.str2num(t),DxChart.isArray(this.min)&&(this.min=this.min[0]),this.max=DxChart.str2num(e),DxChart.isArray(this.max)&&(this.max=this.max[0]),this.value=DxChart.str2num(i),DxChart.isArray(this.value)&&1==this.value.length&&(this.value=this.value[0]),this.currentValue=null;for(var s=DxChart.arrayLinearize(i),a=0;a<s.length;++a)this["$"+a]={}},this.draw=function(){var t,e;return this.min||this.max?(t=this.properties,this.currentValue=this.value,DxChart._BeforeDraw(this),this.width=this.canvas.width-this.marginLeft-this.marginRight,this.height=this.canvas.height-this.marginTop-this.marginBottom,"number"==typeof t.progressHeight&&(e=this.canvas.height-this.marginTop-this.marginBottom)>t.progressHeight&&(this.height=t.progressHeight,e=(e-t.progressHeight)/2,this.marginTop=this.marginTop+e,this.marginBottom=this.marginBottom+e),this.coords=[],this.coordsText=[],this.drawbar(),this.drawTickMarks(),this.drawLabels(),this.drawTitle(),t.beveled&&this.drawBevel(),t.contextmenu&&DxChart.showContext(this),t.keyData&&t.keyData.length&&DxChart.drawKey(this,t.keyData,t.colors),this.context.strokeStyle="black",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this):DxChart.NoDataShow(this)},this.drawbar=function(){var t,e=this.properties,i=(this.scale2=DxChart.getScale({object:this,options:{"scale.max":this.max,"scale.min":this.min,"scale.strict":!0,"scale.thousand":e.scaleThousand,"scale.point":e.scalePoint,"scale.decimals":e.scaleDecimals,"scale.labels.count":e.labelsCount,"scale.round":e.scaleRound,"scale.units.pre":e.scaleUnitsPre,"scale.units.post":e.scaleUnitsPost}}),e.shadowUse&&DxChart.setShadow({object:this,prefix:"shadow"}),DxChart.parseGradient(this,e.backgroundColor,this.marginLeft,this.marginTop,this.width,this.height)),s=(this.context.fillStyle=i,isNexacroRuntime&&this.context.setElementFillStyle(i),this.context.strokeStyle=e.colorsStrokeOuter,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=e.colorsStrokeOuterLineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeRect(this.marginLeft,this.marginTop,this.width,this.height),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.fillRect(this.marginLeft,this.marginTop,this.width,this.height),DxChart.noShadow(this),DxChart.parseGradient(this,e.colors[0],this.marginLeft,this.marginTop,this.width,this.height)),a=(this.context.fillStyle=s,isNexacroRuntime&&this.context.setElementFillStyle(s),this.context.strokeStyle=e.colorsStrokeOuter,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),e.marginInner),o=Math.min(this.width,(DxChart.arraySum(this.value)-this.min)/(this.max-this.min)*this.width);if(0<e.tickmarksInnerCount){var r=(this.canvas.width-this.marginLeft-this.marginRight)/e.tickmarksInnerCount;this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=e.colorsStrokeOuter,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.beginPath();for(var n=this.marginLeft;n<this.canvas.width-this.marginRight;n+=r)this.context.moveTo(Math.round(n),this.marginTop),this.context.lineTo(Math.round(n),this.marginTop+2),this.context.moveTo(Math.round(n),this.canvas.height-this.marginBottom),this.context.lineTo(Math.round(n),this.canvas.height-this.marginBottom-2);this.context.stroke()}if("number"==typeof this.value){var h=0;e.borderInner&&(this.context.lineWidth=e.colorsStrokeInnerLineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.drawCurvedBar({x:this.marginLeft,y:this.marginTop+a,width:o,height:this.height-a-a,stroke:e.colorsStrokeInner}),this.context.lineWidth=1,isNexacroRuntime)&&this.context.setElementLineWidth(this.context.lineWidth),this.drawCurvedBar({x:this.marginLeft+h,y:this.marginTop+a+h,width:o-2*h,height:this.height-a-a-2*h,fill:s}),this.coords.push([this.marginLeft,this.marginTop+a,o,this.height-a-a])}else if("object"==typeof this.value){this.context.beginPath();for(var l=this.marginLeft,h=0,c=0,x=this.value.length;c<x;++c){var d=this.value[c]/DxChart.arraySum(this.value)*o,s=DxChart.parseGradient(this,e.colors[c],l,this.marginTop+a,d,this.height-a-a);e.borderInner&&(this.context.lineWidth=e.colorsStrokeInnerLineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.drawCurvedBar({x:l,y:this.marginTop+a,width:d,height:this.height-a-a,fill:s,stroke:e.colorsStrokeInner}),this.context.lineWidth=1,isNexacroRuntime)&&this.context.setElementLineWidth(this.context.lineWidth),this.drawCurvedBar({x:l+h,y:this.marginTop+a+h,width:d-2*h,height:this.height-a-a-2*h,fill:s}),this.coords.push([l,this.marginTop+a,d,this.height-a-a]),l+=d}}e.arrows&&(n=this.marginLeft+o,i=this.marginTop,this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.fillStyle="black",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.strokeStyle="black",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.beginPath(),this.context.moveTo(n,i-3),this.context.lineTo(n+2,i-7),this.context.lineTo(n-2,i-7),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.beginPath(),this.context.moveTo(n,i+this.height+4),this.context.lineTo(n+2,i+this.height+9),this.context.lineTo(n-2,i+this.height+9),this.context.closePath(),this.context.stroke(),this.context.fill()),e.labelsInner&&(i="string"==typeof e.labelsInnerSpecific?String(e.labelsInnerSpecific):(i=(i="number"==typeof this.value?this.value:DxChart.arraySum(this.value)).toFixed("number"==typeof e.labelsInnerDecimals?e.labelsInnerDecimals:e.scaleDecimals),DxChart.numberFormat({object:this,number:i,unitspre:"string"==typeof e.labelsInnerUnitsPre?e.labelsInnerUnitsPre:e.scaleUnitsPre,unitspost:"string"==typeof e.labelsInnerUnitsPost?e.labelsInnerUnitsPost:e.scaleUnitsPost,point:"string"==typeof e.labelsInnerPoint?e.labelsInnerPoint:e.scalePoint,thousand:"string"==typeof e.labelsInnerThousand?e.labelsInnerThousand:e.scaleThousand})),t=DxChart.getTextInfo({object:this,prefix:"labelsInner"}),DxChart.text({object:this,font:t.font,size:t.size,color:t.color,bold:t.bold,italic:t.italic,x:this.marginLeft+o+5+e.labelsInnerOffsetX,y:this.marginTop+this.height/2+e.labelsInnerOffsetY,text:i,valign:"center",halign:"left",bounding:"string"==typeof e.labelsInnerBackgroundFill,boundingFill:e.labelsInnerBackgroundFill,boundingStroke:e.labelsInnerBorder?e.labelsInnerBorderColor:"rgba(0,0,0,0)",boundingLineWidth:e.labelsInnerBorderLineWidth,tag:"label.inner"})),this.path("b")},this.drawTickMarks=function(){var t=this.properties;if(this.context.strokeStyle=t.tickmarksColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),0<t.tickmarksOuterCount){this.context.beginPath(),this.tickInterval=this.width/t.tickmarksOuterCount;if("top"===t.labelsPosition)for(var e=this.marginLeft+0;e<=this.width+this.marginLeft+.1;e+=this.tickInterval)this.context.moveTo(Math.round(e),this.marginTop),this.context.lineTo(Math.round(e),this.marginTop-4);else for(e=this.marginLeft+0;e<=this.width+this.marginLeft+.1;e+=this.tickInterval)this.context.moveTo(Math.round(e),this.marginTop+this.height),this.context.lineTo(Math.round(e),this.marginTop+this.height+4);this.context.stroke()}},this.drawLabels=function(){var t=this.properties;if(!DxChart.isNull(t.labelsSpecific))return this.drawSpecificLabels();this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle);t.textFontStyleObj.bold,t.textFontStyleObj.italic,t.textColor,t.textFontStyleObj.face,t.textFontStyleObj.size;for(var e,i,s,a=t.labelsOffsetX,o=t.labelsOffsetY,r=0,n=this.scale2.labels.length;r<n;r++)s="top"==t.labelsPosition?(e=this.width*(r/this.scale2.labels.length)+this.marginLeft+this.width/this.scale2.labels.length,i=this.marginTop-6,"bottom"):(e=this.width*(r/this.scale2.labels.length)+this.marginLeft+this.width/this.scale2.labels.length,i=this.height+this.marginTop+4,"top"),h=DxChart.getTextInfo({object:this,prefix:"labels"}),DxChart.text({object:this,font:h.font,size:h.size,color:h.color,bold:h.bold,italic:h.italic,x:e+a,y:i+o,text:this.scale2.labels[r],valign:s,halign:"center",tag:"scale"});var h=h||DxChart.getTextInfo({object:this,prefix:"labels"}),l=DxChart.numberFormat({object:this,number:Number(this.min).toFixed(t.scaleDecimals),unitspre:t.scaleUnitsPre,unitspost:t.scaleUnitsPost});"top"==t.labelsPosition?DxChart.text({object:this,font:h.font,size:h.size,color:h.color,bold:h.bold,italic:h.italic,x:this.marginLeft+a,y:this.marginTop-6+o,text:l,valign:"bottom",halign:"center",tag:"scale"}):DxChart.text({object:this,font:h.font,size:h.size,color:h.color,bold:h.bold,italic:h.italic,x:this.marginLeft+a,y:this.canvas.height-this.marginBottom+5+o,text:l,valign:"top",halign:"center",tag:"scale"})},this.getShape=function(t){for(var e=this.properties,t=DxChart.getMouseXY(t),i=t[0],s=t[1],a=0,o=this.coords.length;a<o;a++){var r,n=this.coords[a][0],h=this.coords[a][1],l=this.coords[a][2],c=this.coords[a][3],x=a;if(this.context.beginPath(),this.drawCurvedBar({x:n,y:h,height:c,width:l}),this.context.isPointInPath(i,s))return{object:this,x:n,y:h,width:l,height:c,dataset:0,index:x,sequentialIndex:x,tooltip:"string"==typeof(r=DxChart.parseTooltipText?DxChart.parseTooltipText(e.tooltipsData,x):r)?r:null}}},this.getValue=function(t){this.properties;var t=DxChart.getMouseXY(t),e=(t[0]-this.marginLeft)/this.width,e=(e*=this.max-this.min)+this.min;return t[0]<this.marginLeft&&(e=this.min),e=t[0]>this.canvas.width-this.marginRight?this.max:e},this.highlight=function(t){var e=this.properties;t.index,this.coords.length;if(e.tooltipsHighlight)if("function"==typeof e.highlightStyle)e.highlightStyle(t);else if("string"==typeof e.highlightStyle&&"invert"===e.highlightStyle)for(var i=0;i<this.coords.length;++i)i!==t.sequentialIndex&&(this.context.beginPath(),this.context.lineWidth=e.highlightLineWidth,isNexacroRuntime&&this.context.setElementLineWidth(e.highlightLineWidth),this.context.rect(this.coords[i][0]-.5,this.coords[i][1]-.5,this.coords[i][2]+1,this.coords[i][3]+1),this.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(e.highlightStroke),this.context.stroke(),this.context.fillStyle=e.highlightFill,isNexacroRuntime&&this.context.setElementFillStyle(e.highlightFill),this.context.fill());else this.context.lineWidth=e.highlightLineWidth,isNexacroRuntime&&this.context.setElementLineWidth(e.highlightLineWidth),this.drawCurvedBar({x:t.x-.5,y:t.y-.5,width:t.width+1,height:t.height+1,stroke:e.highlightStroke,fill:e.highlightFill}),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(1)},this.getObjectByXY=function(t){t=DxChart.getMouseXY(t);if(t[0]>this.marginLeft&&t[0]<this.canvas.width-this.marginRight&&t[1]>this.marginTop&&t[1]<this.canvas.height-this.marginBottom)return this},this.changing_mousemove=function(t){var e=this.properties;e.changeableValue&&DxChart.Registry.get("changing")&&DxChart.Registry.get("changing").uid==this.uid&&(DxChart.getMouseXY(t),"number"==typeof(t=this.getValue(t)))&&(this.value=Number(t.toFixed(e.scaleDecimals)),DxChart.redrawCanvas(this.canvas),DxChart._fireEvent(this,"onadjust"))},this.drawSpecificLabels=function(){var t=this.properties;if(t.labelsSpecific&&t.labelsSpecific.length){"string"==typeof t.labelsSpecific&&(t.labelsSpecific=DxChart.arrayPad({array:[],length:t.labelsCount,value:t.labelsSpecific}));for(var e=0;e<t.labelsSpecific;++e)t.labelsSpecific[e]=DxChart.labelSubstitution({object:this,text:t.labelsSpecific[e],index:e,value:"object"==typeof this.value&&"number"==typeof this.value[e]?this.value[e]:this.value,decimals:t.labelsSpecificFormattedDecimals||0,unitsPre:t.labelsSpecificFormattedUnitsPre||"",unitsPost:t.labelsSpecificFormattedUnitsPost||"",thousand:t.labelsSpecificFormattedThousand||",",point:t.labelsSpecificFormattedPoint||"."})}var i=t.labelsSpecific;if(i){var s="top"==t.labelsPosition?"bottom":"top",a=this.width/(i.length-1),o=t.labelsOffsetX,r=t.labelsOffsetY,n=DxChart.getTextInfo({object:this,prefix:"labels"});this.context.beginPath(),this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle);for(e=0;e<i.length;++e)DxChart.text({object:this,font:n.font,size:n.size,color:n.color,bold:n.bold,italic:n.italic,x:this.marginLeft+a*e+o,y:"top"==t.labelsPosition?this.marginTop-7+r:this.canvas.height-this.marginBottom+7+r,text:i[e],valign:s,halign:"center",tag:"labels.specific",cssClass:t.labelsSpecific?DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:e}):""});this.context.fill()}},this.getXCoord=function(t){var e,i=this.min;return t<i||t>this.max?null:(e=this.canvas.width-this.marginLeft-this.marginRight,t=(t-i)/(this.max-i)*e,this.marginLeft+t)},this.overChartArea=function(t){var t=DxChart.getMouseXY(t),e=t[0],t=t[1];return e>=this.marginLeft&&e<=this.canvas.width-this.marginRight&&t>=this.marginTop&&t<=this.canvas.height-this.marginBottom},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.tickmarksColor=DxChart.arrayClone(t.tickmarksColor),this.original_colors.colorsStrokeInner=DxChart.arrayClone(t.colorsStrokeInner),this.original_colors.colorsStrokeOuter=DxChart.arrayClone(t.colorsStrokeOuter),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightColor=DxChart.arrayClone(t.highlightColor)),t.colors;t.tickmarksColor=this.parseSingleColorForGradient(t.tickmarksColor),t.colorsStrokeInner=this.parseSingleColorForGradient(t.colorsStrokeInner),t.colorsStrokeOuter=this.parseSingleColorForGradient(t.colorsStrokeOuter),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke)},this.reset=function(){},this.drawBevel=function(){this.properties;for(var t=0,e=0;t<this.coords.length;++t)e+=this.coords[t][2];this.context.save(),this.context.beginPath(),this.context.rect(this.coords[0][0],this.coords[0][1],e,this.coords[0][3]),this.context.clip(),this.context.save(),this.context.beginPath(),this.drawCurvedBar({x:this.coords[0][0],y:this.coords[0][1],width:e,height:this.coords[0][3]}),this.context.clip(),this.context.beginPath(),this.context.shadowColor="black",this.context.shadowOffsetX=2,this.context.shadowOffsetY=2,this.context.shadowBlur=15,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY),this.context.lineWidth=2,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.drawCurvedBar({x:this.coords[0][0]-51,y:this.coords[0][1]-1,width:e+52,height:this.coords[0][3]+2}),this.context.stroke(),this.context.restore(),this.context.restore(),DxChart.noShadow(this)},this.drawTitle=function(){DxChart.drawTitle(this)},this.interactiveKeyHighlight=function(t){var e=this.properties,t=this.coords[t];this.context.beginPath(),this.context.strokeStyle=e.keyInteractiveHighlightChartStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=2,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.fillStyle=e.keyInteractiveHighlightChartFill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.rect(t[0]-.5,t[1]-.5,t[2]+1,t[3]+1),this.context.fill(),this.context.stroke(),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)},this.drawCurvedBar=function(t){this.context.beginPath(),this.context.rect(t.x,t.y,t.width,t.height),t.stroke&&(this.context.strokeStyle=t.stroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.stroke()),t.fill&&(this.context.fillStyle=t.fill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.fill())},this.firstDrawFunc=function(){},this.drawAni=function(){"grow"===(arguments[0]||"grow")&&this.grow(arguments[1]||{},arguments[2]||function(){})},this.grow=function(){this.properties;this.cancelStopAnimation();var i=this,s=(i.canvas,i.context,i.currentValue),a=(arguments[0]||{}).frames||30,o=0,r=arguments[1]||function(){};if("object"==typeof i.value){if(DxChart.isNull(i.currentValue)){i.currentValue=[];for(var t=0,e=i.value.length;t<e;++t)i.currentValue[t]=0}for(var n=[],h=[],t=0,e=i.value.length;t<e;++t)n[t]=i.value[t]-Number(i.currentValue[t]),h[t]=n[t]/a;if(null==s)for(s=[],t=0,e=i.value.length;t<e;++t)s[t]=0}else h=(n=i.value-Number(i.currentValue))/a;var l=function(){if(i.stopAnimationRequested)i.stopAnimationRequested=!1;else if(++o<=a){if("object"==typeof i.value){i.value=[];for(var t=0,e=s.length;t<e;++t)i.value[t]=s[t]+h[t]*o}else i.value=s+h*o;DxChart.clear(i.canvas),DxChart.redrawCanvas(i.canvas),DxChart.Effects.updateCanvas(l,i.canvas)}else r()};return l(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.tooltipSubstitutions=function(t){this.value,this.value;return{index:t.index,dataset:0,sequentialIndex:t.index,value:"number"==typeof this.value?this.value:this.value[t.index],values:"number"==typeof this.value?[this.value]:[this.value[t.index]]}},this.tooltipsFormattedCustom=function(t,e){var i=this.properties,s=i.colors[t.index];return{label:DxChart.isString(i.tooltipsFormattedKeyLabels[t.index])?i.tooltipsFormattedKeyLabels[t.index]:"",color:s=i.tooltipsFormattedKeyColors&&i.tooltipsFormattedKeyColors[t.index]?i.tooltipsFormattedKeyColors[t.index]:s}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas)),a=e.coords[t.index];isNexacroRuntime?(t.tooltip.set_left(s[0]+a[0]-i.getOffsetWidth()/2+a[2]/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]+a[1]-i.getOffsetHeight()-10+e.properties.tooltipsOffsetY)):(t.tooltip.style.left=s[0]+a[0]-i.offsetWidth/2+a[2]/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]+a[1]-i.offsetHeight-10+e.properties.tooltipsOffsetY+"px"),isNexacroRuntime?parseFloat(t.tooltip.getOffsetTop())<0&&t.tooltip.style.set_top(parseFloat(t.tooltip.getOffsetTop())+20):parseFloat(t.tooltip.style.top)<0&&(t.tooltip.style.top=parseFloat(t.tooltip.style.top)+20+"px")},this.resetData(t.min,t.max,t.value),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartLine(t){if(DxChart._Base.call(this,t,"line"),DxChart.setDefaultProperties(this,"default"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"trendline"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"animation"),DxChart.setDefaultProperties(this,"xaxis"),DxChart.setDefaultProperties(this,"yaxis"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"tickmarks"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"filled"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"crosshairs"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"backdrop"),DxChart.setDefaultProperties(this,"combined"),DxChart.setDefaultProperties(this,"errorbars"),DxChart.setDefaultProperties(this,"null"),DxChart.setDefaultProperties(this,"variant"),this.properties.trendlineClip=!0,this.properties.trendlineMargin=25,this.properties.trendlineLinewidth=1,this.properties.trendlineMargin=25,this.properties.trendlineClip=!0,this.canvas){t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t){this.binddataset&&0<=t.toString().indexOf("bind:")&&(t=DxChart.parseDataset(this,t)),this.data=t,this.orgData=DxChart.str2num(this.data),"number"!=typeof this.orgData[0]&&!DxChart.isNull(this.orgData[0])||(this.orgData=[DxChart.arrayClone(this.orgData)]),this.unmodified_data=DxChart.arrayClone(this.orgData),this.data_arr=DxChart.arrayLinearize(this.orgData);for(var e=0;e<this.data_arr.length;++e)this["$"+e]={}},this.appendAxis=function(t){DxChart.appendAxis(this,t)},this.draw=function(){if(!this.data||0==this.data.length)return DxChart.NoDataShow(this);var t,e=this.properties;if(DxChart._BeforeDraw(this),e.xaxisLabels&&e.xaxisLabels.length){"string"==typeof e.xaxisLabels&&(this.properties.xaxisLabels=DxChart.arrayPad({array:[],length:this.orgData[0].length,value:e.xaxisLabels}));for(var i=0;i<this.properties.xaxisLabels.length;++i)this.properties.xaxisLabels[i]=DxChart.labelSubstitution({object:this,text:e.xaxisLabels[i],index:i,value:this.orgData[0][i],decimals:e.xaxisLabelsFormattedDecimals||0,unitsPre:e.xaxisLabelsFormattedUnitsPre||"",unitsPost:e.xaxisLabelsFormattedUnitsPost||"",thousand:e.xaxisLabelsFormattedThousand||",",point:e.xaxisLabelsFormattedPoint||"."})}if(this.data=DxChart.arrayClone(this.orgData),this.max=0,this.properties.filledUse&&!this.properties.filledRange&&1<this.data.length&&this.properties.filledAccumulative)for(var s=[],a=0;a<this.data.length;++a)for(var o=0;o<this.data[a].length;++o)this.data[a][o]=Number(s[o]||0)+this.data[a][o],s[o]=this.data[a][o];if(this.properties.yaxisScaleMax){if(this.max=this.properties.yaxisScaleMax,this.min=this.properties.yaxisScaleMin||0,this.scale2=DxChart.getScale({object:this,options:{"scale.max":this.max,"scale.min":this.properties.yaxisScaleMin,"scale.strict":!0,"scale.thousand":this.properties.yaxisScaleThousand,"scale.point":this.properties.yaxisScalePoint,"scale.decimals":this.properties.yaxisScaleDecimals,"scale.labels.count":this.properties.yaxisLabelsCount,"scale.round":this.properties.yaxisScaleRound,"scale.units.pre":this.properties.yaxisScaleUnitsPre,"scale.units.post":this.properties.yaxisScaleUnitsPost}}),this.max=this.scale2.max||0,!this.properties.outofbounds)for(var r=0;r<this.data.length;++r)if(DxChart.isArray(this.data[r]))for(var n=0;n<this.data[r].length;n++)this.hasnegativevalues=this.data[r][n]<0||this.hasnegativevalues}else{for(this.min=this.properties.yaxisScaleMin||0,r=0;r<this.data.length;++r)for(n=0;n<this.data[r].length;n++)this.max=Math.max(this.max,this.data[r][n]?Math.abs(parseFloat(this.data[r][n])):0),this.properties.outofbounds||(this.hasnegativevalues=this.data[r][n]<0||this.hasnegativevalues);this.scale2=DxChart.getScale({object:this,options:{"scale.max":this.max,"scale.min":e.yaxisScaleMin,"scale.thousand":e.yaxisScaleThousand,"scale.point":e.yaxisScalePoint,"scale.decimals":e.yaxisScaleDecimals,"scale.labels.count":e.yaxisLabelsCount,"scale.round":e.yaxisScaleRound,"scale.units.pre":e.yaxisScaleUnitsPre,"scale.units.post":e.yaxisScaleUnitsPost,"scale.formatter":e.yaxisScaleFormatter}}),this.max=this.scale2.max||0}e.contextmenu&&DxChart.showContext(this),this.coords=[],this.coordsText=[],this.chartArea=this.canvas.height-this.marginTop-this.marginBottom,this.ChartAreaHalf=this.chartArea/2,this.halfTextHeight=e.textFontStyleObj.size/2,"3d"==e.variantValue&&DxChart.draw3DAxes(this),DxChart.Background.draw(this),e.backgroundHbars&&0<e.backgroundHbars.length&&DxChart.drawBars(this),e.lineAbove||this.drawAxes(),this.context.save(),this.context.beginPath(),e.animationTraceCenter?this.context.rect(this.canvas.width/2*(1-e.animationTraceClip),0,this.canvas.width*e.animationTraceClip,this.canvas.height):this.context.rect(0,0,this.canvas.width*e.animationTraceClip,this.canvas.height),this.context.clip();for(var i=0,h=0,l=this.data.length;i<l;i++,h++)this.context.beginPath(),e.filledUse||this.setShadow(i),e.filledColors?"object"==typeof e.filledColors&&e.filledColors[h]?t=e.filledColors[h]:("object"==typeof e.filledColors&&0<e.filledColors.toString().indexOf("gradient")||"string"==typeof e.filledColors)&&(t=e.filledColors):t=e.filledUse?e.colors[h]:null,c=e.tickmarksStyle&&"object"==typeof e.tickmarksStyle?e.tickmarksStyle[i]:e.tickmarksStyle&&"string"==typeof e.tickmarksStyle||e.tickmarksStyle&&"function"==typeof e.tickmarksStyle?e.tickmarksStyle:null,e.outofboundsClip&&this.path("sa b r % % % % cl b",0,this.marginTop,this.canvas.width,this.canvas.height-this.marginTop-this.marginBottom),this.drawLine(this.data[i],e.colors[h],t,this.getLineWidth(h),c,i),e.outofboundsClip&&this.context.restore(),this.context.stroke();if(e.outofboundsClip&&this.path("sa b r % % % % cl b",0,this.marginTop,this.canvas.width,this.canvas.height-this.marginTop-this.marginBottom),e.filledUse&&e.filledAccumulative&&!e.lineCurve){for(i=0;i<this.coords2.length;++i){this.context.beginPath(),this.context.lineWidth=this.getLineWidth(i),isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=this.hidden(i)?"rgba(0,0,0,0)":e.colors[i],isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle);for(h=0,l=this.coords2[i].length;h<l;++h)0==h||null==this.coords2[i][h][1]||this.coords2[i][h-1]&&null==this.coords2[i][h-1][1]?this.context.moveTo(this.coords2[i][h][0],this.coords2[i][h][1]):(e.lineStepped&&this.context.lineTo(this.coords2[i][h][0],this.coords2[i][h-1][1]),this.context.lineTo(this.coords2[i][h][0],this.coords2[i][h][1]));this.context.stroke()}if(e.tickmarksStyle){this.context.beginPath(),this.context.fillStyle="white",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle);for(i=0,l=this.coords2.length;i<l;++i){this.context.beginPath(),this.context.strokeStyle=e.colors[i],isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle);for(h=0;h<this.coords2[i].length;++h)"object"==typeof this.coords2[i][h]&&"number"==typeof this.coords2[i][h][0]&&"number"==typeof this.coords2[i][h][1]&&(c="object"==typeof e.tickmarksStyle?e.tickmarksStyle[i]:e.tickmarksStyle,this.drawTick(this.coords2[i],this.coords2[i][h][0],this.coords2[i][h][1],this.context.strokeStyle,!1,0==h?0:this.coords2[i][h-1][0],0==h?0:this.coords2[i][h-1][1],c,h,i))}this.context.stroke(),this.context.fill()}}else if(e.filledUse&&e.filledAccumulative&&e.lineCurve){for(i=0;i<this.coordsLineCurve.length;i+=1){this.context.beginPath(),this.context.strokeStyle=e.colors[i],isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=this.getLineWidth(i),isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth);for(h=0,l=this.coordsLineCurve[i].length;h<l;h+=1){o=this.coordsLineCurve[i][h];0==h?this.context.moveTo(o[0],o[1]):this.context.lineTo(o[0],o[1])}this.context.stroke()}for(i=0,l=this.coords2.length;i<l;i+=1)for(var c,h=0,x=this.coords2[i].length;h<x;++h)"object"==typeof this.coords2[i][h]&&"number"==typeof this.coords2[i][h][0]&&"number"==typeof this.coords2[i][h][1]&&(c="object"!=typeof e.tickmarksStyle||DxChart.isNull(e.tickmarksStyle)?e.tickmarksStyle:e.tickmarksStyle[i],this.context.strokeStyle=e.colors[i],isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.drawTick(this.coords2[i],this.coords2[i][h][0],this.coords2[i][h][1],e.colors[i],!1,0==h?0:this.coords2[i][h-1][0],0==h?0:this.coords2[i][h-1][1],c,h,i))}if(e.nullBridge)for(i=0;i<this.data.length;++i)this.nullBridge(i,this.data[i],e);if(e.outofboundsClip&&this.context.restore(),this.context.restore(),this.context.beginPath(),e.lineAbove&&this.drawAxes(),this.drawLabels(),this.drawRange(),e.keyData&&e.keyData.length&&DxChart.drawKey&&DxChart.drawKey(this,e.keyData,e.colors),e.labelsAbove&&this.drawAboveLabels(),DxChart.drawInGraphLabels(this),e.filledUse&&e.filledRange&&2==this.data.length){this.context.beginPath();l=this.coords.length/2;this.context.lineWidth=e.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=this.hidden(0)?"rgba(0,0,0,0)":e.colors[0],isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle);for(i=0;i<l;++i)DxChart.isNull(this.coords[i][1])||(0==i?this.context.moveTo(this.coords[i][0],this.coords[i][1]):this.context.lineTo(this.coords[i][0],this.coords[i][1]));this.context.stroke(),this.context.beginPath(),e.colors[1]&&(this.context.strokeStyle=this.hidden(1)?"rgba(0,0,0,0)":e.colors[1],isNexacroRuntime)&&this.context.setElementStrokeStyle(this.context.strokeStyle);for(i=this.coords.length-1;l<=i;--i)DxChart.isNull(this.coords[i][1])||(i==this.coords.length-1?this.context.moveTo(this.coords[i][0],this.coords[i][1]):this.context.lineTo(this.coords[i][0],this.coords[i][1]));this.context.stroke()}else e.filledUse&&e.filledRange;for(i=0;i<this.data.length;++i)(DxChart.isArray(e.trendlineValue)&&e.trendlineValue[i]||!DxChart.isArray(e.trendlineValue)&&e.trendlineValue)&&this.drawTrendline(i);return DxChart.addCustomText(this),DxChart.installEventListeners(this),e.tooltipsDataset&&this.addDatasetTooltip(),DxChart.drawHorizontalLines(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.drawAxes=function(){var t=this.properties;if(this.context.beginPath(),DxChart.drawXAxis(this),DxChart.drawYAxis(this),0<t.yaxisAppenObject.length)for(var e=0,i=this.properties.yaxisAppenObject.length;e<i;e++);this.context.beginPath()},this.drawLabels=function(){},this.drawLine=function(t,e,i,s,a,o){var r=this.properties;if(r.animationUnfoldY&&1!=r.animationFactor)for(var n=0;n<t.length;++n)t[n]*=r.animationFactor;for(var h,l=!1,c=null,x=0,d=(this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),[]),u=(0<o&&(h=this.coords2[o-1]),this.setLinecap({index:o}),this.setLinejoin({index:o}),(this.canvas.width-2*r.marginInner-this.marginLeft-this.marginRight)/(t.length-1)),n=0,g=t.length;n<g;n+=1){var p=t[n],c=this.getYCoord(p);(null==t[n]||"bottom"==r.xaxisPosition&&t[n]<this.min&&!r.outofbounds||"center"==r.xaxisPosition&&t[n]<-1*this.max&&!r.outofbounds||(t[n]<this.min&&"center"!==r.xaxisPosition||t[n]>this.max)&&!r.outofbounds)&&(c=null),0<n?x+=u:x=this.marginInner+this.marginLeft,r.animationUnfoldX&&(x*=r.animationFactor)<this.marginLeft&&(x=this.marginLeft),this.coords.push([x,c]),d.push([x,c])}this.context.stroke(),this.coords2[o]=d,this.context.beginPath(),this.context.strokeStyle="rgba(0,0,0,0)",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),i&&(this.context.fillStyle=i,isNexacroRuntime)&&(i instanceof nexacro._CanvasGradient&&(this.context._globalAlphaFill=1,this.context.setElementGlobalAlpha(1)),this.context.setElementFillStyle(this.context.fillStyle));var f,m=r.lineStepped,b=r.filledUse;"top"==r.xaxisPosition?f=this.marginTop:"center"==r.xaxisPosition?f=this.marginTop+this.chartArea/2:"bottom"==r.xaxisPosition&&(f=this.getYCoord(r.yaxisScaleMin));for(n=0,g=d.length;n<g;n+=1){x=d[n][0],c=d[n][1];var C=d[n-1]?d[n-1][1]:null,y=n+1==d.length;!r.outofbounds&&(C<this.marginTop||C>this.canvas.height-this.marginBottom)&&(l=!0),l=0==n||l||!c||!C||C<this.marginTop?(r.filledUse&&!r.filledRange?(r.outofbounds&&null!==C&&null!==c||this.context.moveTo(x+1,f),"top"==r.xaxisPosition&&this.context.moveTo(x+1,f),m&&0<n&&this.context.lineTo(x,d[n-1][1]),this.context.lineTo(x,c)):this.context.moveTo(x+1,c),null==c):(m&&this.context.lineTo(x,d[n-1][1]),!(c>=this.marginTop&&c<=this.canvas.height-this.marginBottom||r.outofbounds)||(y&&r.filledUse&&!r.filledRange&&"right"==r.yaxisPosition&&--x,m&&y?m&&y&&this.context.lineTo(x,c):(this.context.lineTo(x,c),b&&d[n+1]&&null==d[n+1][1]&&this.context.lineTo(x,f)),!1))}if(r.filledUse&&!r.filledRange&&!r.lineCurve){var D;r.filledColors;if(0<o&&r.filledAccumulative){this.context.lineTo(x,h?h[n-1][1]:this.canvas.height-this.marginBottom-1+("center"==r.xaxisPosition?(this.canvas.height-this.marginTop-this.marginBottom)/2:0));for(var v=n-1;0<=v;--v)this.context.lineTo(0==v?h[v][0]+1:h[v][0],h[v][1])}else"top"==r.xaxisPosition?(this.context.lineTo(x,r.marginTop+1),this.context.lineTo(d[0][0],r.marginTop+1)):"number"==typeof d[n-1][1]&&(D=this.getYCoord(0),this.context.lineTo(x,D),this.context.lineTo(d[0][0],D));this.context.fillStyle=this.hidden(o)?"rgba(0,0,0,0)":i,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.closePath(),this.context.fill(),this.context.beginPath()}this.context.strokeStyle="rgba(0,0,0,0)",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.stroke(),r.backdropValue&&this.drawBackdrop(d,e),this.context.save(),this.context.beginPath(),r.animationTraceCenter?this.context.rect(this.canvas.width/2*(1-r.animationTraceClip),0,this.canvas.width*r.animationTraceClip,this.canvas.height):this.context.rect(0,0,this.canvas.width*r.animationTraceClip,this.canvas.height),this.context.clip(),"null"!=typeof r.errorbarsValue&&this.drawErrorbars(),this.setShadow(o),this.redrawLine(d,e,s,o,i),this.context.stroke(),DxChart.noShadow(this);for(var S,n=0;n<d.length;++n)n=Number(n),this.context.strokeStyle=e,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),m&&n==d.length-1&&this.context.beginPath(),("endcircle"!=a&&"endsquare"!=a&&"filledendsquare"!=a&&"endtick"!=a&&"endtriangle"!=a&&"arrow"!=a&&"filledarrow"!=a||0==n&&"arrow"!=a&&"filledarrow"!=a||n==d.length-1)&&(S=n<=0?null:d[n-1][0],C=n<=0?null:d[n-1][1],this.drawTick(t,d[n][0],d[n][1],e,!1,S,C,a,n,o));this.context.restore(),this.drawAngledLabels(),this.context.beginPath(),this.context.arc(this.canvas.width+5e4,this.canvas.height+5e4,2,0,6.38,1)},this.drawTick=function(t,e,i,s,a,o,r,n,h,l){var c,x,d,u,g,p=this.properties;if(isNexacroRuntime?this.context.setElementLineStyle("dash"):this.context.setLineDash([1,1]),p.tickmarksColor&&(s=p.tickmarksColor),!this.hidden(l)){if(DxChart.isNull(i))return!1;i>this.canvas.height-this.marginBottom&&!p.outofbounds||i<this.marginTop&&!p.outofbounds||(this.context.beginPath(),this.path("lw % ss % fs %",p.tickmarksLineWidth||p.lineWidth,a?p.shadowStyleObj.color:s,a?p.shadowStyleObj.color:s),"circle"==n||"round"==n||"filledcircle"==n||"endcircle"==n||"filledendcircle"===n?"round"!=n&&"circle"!=n&&"filledcircle"!=n&&("endcircle"!=n&&"filledendcircle"!==n||0!=h&&h!=t.length-1)||(this.path("b a % % % % % %",e+0,i+0,p.tickmarksSize,0,360/(180/DxChart.PI),!1),-1!==n.indexOf("filled")?this.path("fs %",a?p.shadowStyleObj.color:s):this.path("fs %",a?p.shadowStyleObj.color:p.tickmarksStyleInnerColor||"white"),this.context.fill(),this.context.stroke()):"halftick"==n?this.path("b m % % l % % s null",Math.round(e),i,Math.round(e),i+p.tickmarksSize):"tick"!=n&&("endtick"!=n||0!=h&&h!=t.length-1)?"cross"==n?(c=p.tickmarksSize,this.path("b m % % l % % m % % l % % s %",e-c,i-c,e+c,i+c,e+c,i-c,e-c,i+c,s)):"triangle"==n||"filledtriangle"==n||"endtriangle"==n&&(0==h||h==t.length-1)?this.path("b m % % l % % l % % c f % s null",Math.round(e-p.tickmarksSize),i+p.tickmarksSize,Math.round(e),i-p.tickmarksSize,Math.round(e+p.tickmarksSize),i+p.tickmarksSize,"filledtriangle"===n?a?p.shadowStyleObj.color:this.context.strokeStyle:"white"):"borderedcircle"==n||"dot"==n?this.path("lw % b a % % % % % false c f % s %",p.tickmarksStyleDotLineWidth||1e-8,e,i,p.tickmarksSize,0,360/(180/DxChart.PI),p.tickmarksStyleDotFill||s,p.tickmarksStyleDotStroke||s):"square"==n||"rect"==n||"filledsquare"==n||"endsquare"==n&&(0==h||h==t.length-1)||"filledendsquare"==n&&(0==h||h==t.length-1)?(this.path("b r % % % % f % s %",Math.round(e-p.tickmarksSize),Math.round(i-p.tickmarksSize),2*p.tickmarksSize,2*p.tickmarksSize,"white",this.context.strokeStyle),"filledsquare"!=n&&"filledendsquare"!=n||this.path("b r % % % % f %",Math.round(e-p.tickmarksSize),Math.round(i-p.tickmarksSize),2*p.tickmarksSize,2*p.tickmarksSize,a?p.shadowStyleObj.color:this.context.strokeStyle),this.path("f null s null")):"diamond"===n||"filleddiamond"===n||"enddiamond"===n&&(0==h||h==t.length-1)||"filledenddiamond"===n&&(0==h||h==t.length-1)?this.path("b m % % l % % l % % l % % c f % s",e-p.tickmarksSize,i,e,i-p.tickmarksSize,e+p.tickmarksSize,i,e,i+p.tickmarksSize,"filled"===n.substr(0,6)?a?p.shadowStyleObj.color:this.context.strokeStyle:"white"):"filledarrow"==n?(p.lineCurve&&(e=this.coordsLineCurve[l][this.coordsLineCurve[l].length-1][0],i=this.coordsLineCurve[l][this.coordsLineCurve[l].length-1][1],o=this.coordsLineCurve[l][this.coordsLineCurve[l].length-3][0],r=this.coordsLineCurve[l][this.coordsLineCurve[l].length-3][1]),x=Math.abs(e-o),d=Math.abs(i-r),u=i<r?Math.atan(x/d)+1.57:Math.atan(d/x)+3.14,this.path("b lj miter m % % a % % % % % false a % % % % % false c s % f %",e,i,e,i,p.tickmarksSize,u-.3,u-.3,e,i,p.tickmarksSize,u+.3,u+.3,this.context.strokeStyle,this.context.fillStyle)):"arrow"===n?(p.lineCurve&&(e=this.coordsLineCurve[l][this.coordsLineCurve[l].length-1][0],i=this.coordsLineCurve[l][this.coordsLineCurve[l].length-1][1],o=this.coordsLineCurve[l][this.coordsLineCurve[l].length-2][0],r=this.coordsLineCurve[l][this.coordsLineCurve[l].length-2][1]),c=this.context.lineWidth,x=Math.abs(e-o),d=Math.abs(i-r),this.context.lineWidth,u=i<r?Math.atan(x/d)+1.57:Math.atan(d/x)+3.14,this.path("b lj miter m % % a % % % % % false m % % a % % % % % false s % lw %",e,i,e,i,p.tickmarksSize,u-.3,u-.3,e,i,e,i,p.tickmarksSize,u+.3,u+.3,this.context.strokeStyle,c)):"string"!=typeof n||"image:"!==n.substr(0,6)&&"data:"!==n.substr(0,5)&&"/"!==n.substr(0,1)&&"../"!==n.substr(0,3)&&"images/"!==n.substr(0,7)&&"src:"!==n.substr(0,4)?"function"==typeof n&&n(this,t,t[h],h,e,i,s,o,r):(a=new Image,"image:"===n.substr(0,6)?a.src=n.substr(6):"src:"===n.substr(0,4)?a.src=n.substr(4):a.src=n,g=this,a.onload=function(){"center"===p.tickmarksStyleImageHalign&&(e-=this.width/2),"right"===p.tickmarksStyleImageHalign&&(e-=this.width),"center"===p.tickmarksStyleImageValign&&(i-=this.height/2),"bottom"===p.tickmarksStyleImageValign&&(i-=this.height),e+=p.tickmarksStyleImageOffsetX,i+=p.tickmarksStyleImageOffsetY,g.context.drawImage(this,e,i)}):this.path("b m % % l % % s",Math.round(e),i-p.tickmarksSize,Math.round(e),i+p.tickmarksSize))}},this.drawRange=function(){var t=this.properties;if(t.filledRange&&t.filledUse){DxChart.isNull(t.filledRangeThreshold)&&(t.filledRangeThreshold=this.ymin,t.filledRangeThresholdColors=[t.filledColors,t.filledColors]);for(var e=0;e<2;++e){t.filledRangeThresholdColors;for(var i=this.getYCoord(t.filledRangeThreshold),s=(this.context.save(),0==e?(this.context.beginPath(),this.context.rect(0,0,this.canvas.width,i)):(this.context.beginPath(),this.context.rect(0,i,this.canvas.width,this.canvas.height)),this.context.clip(),this.context.beginPath(),this.context.fillStyle=1==e?t.filledRangeThresholdColors[1]:t.filledRangeThresholdColors[0],isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.lineWidth=this.hidden(e)?0:1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.coords.length/2),a=0;a<s;++a)0==a?this.context.moveTo(this.coords[a][0],this.coords[a][1]):this.context.lineTo(this.coords[a][0],this.coords[a][1]);for(a=this.coords.length-1;s<=a;--a)DxChart.isNull(this.coords[a][1])?this.context.moveTo(this.coords[a][0],this.coords[a][1]):this.context.lineTo(this.coords[a][0],this.coords[a][1]);this.context.fill(),this.context.restore()}}},this.redrawLine=function(t,e,i,s,a){var o=this.properties;if(o.redraw&&!o.filledRange){var r=-1==e.toString().indexOf("CanvasGradient");if(this.context.strokeStyle="object"==typeof e&&e&&r?e[0]:e,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=i,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),(o.dotted||o.dashed)&&(o.dashed?isNexacroRuntime?this.context.setElementLineStyle("dash"):this.context.setLineDash([2,6]):o.dotted&&(isNexacroRuntime?this.context.setElementLineStyle("dash"):this.context.setLineDash([1,5]))),this.hidden(s)&&(this.context.strokeStyle="rgba(0,0,0,0)",isNexacroRuntime)&&this.context.setElementStrokeStyle(this.context.strokeStyle),o.lineCurve)this.drawCurvyLine(t,this.hidden(s)?"rgba(0,0,0,0)":e,i,s,a);else{this.setLinejoin({index:s}),this.setLinecap({index:s}),this.context.beginPath();for(var n=t.length,h=this.canvas.width,l=this.canvas.height,c=!1,x=0;x<n;++x){t[x][0];var d=t[x][1];0<x&&(g=t[x-1][0],u=t[x-1][1]),c=(!(0==x&&t[x]||d<this.marginTop||u<this.marginTop||d>l-this.marginBottom||0<x&&g>h-this.marginRight||0<x&&u>l-this.marginBottom||null==u||1==c)||o.outofbounds&&null!=d&&null!=u?(o.lineStepped&&0<x&&this.context.lineTo(t[x][0],t[x-1][1]),this.context.lineTo(t[x][0],t[x][1])):this.context.moveTo(t[x][0],t[x][1]),!1)}if(o.colorsAlternate&&"object"==typeof e&&e[0]&&e[1])for(x=1;x<n;++x){var u,g=t[x-1][0];null!=(u=t[x-1][1])&&null!=t[x][1]&&(this.context.beginPath(),this.context.strokeStyle=e[t[x][1]<u?0:1],isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=o.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.moveTo(g,u),this.context.lineTo(t[x][0],t[x][1]),this.context.stroke())}this.context.stroke(),this.context.beginPath(),(o.dashed||o.dotted)&&(isNexacroRuntime?this.context.setElementLineStyle("dash"):this.context.setLineDash([]))}}},this.drawBackdrop=function(t,e){var i=properties.backdropSize,s=(this.path("lw % ga % ss %",i,properties.backdropAlpha,e),[]);if(this.context.beginPath(),properties.lineCurve){for(var a=0;a<t.length;++a)s.push(t[a][1]);this.drawLineCurve(this.context,s,e,null)}else{this.context.moveTo(t[0][0],t[0][1]);for(var o=1;o<t.length;++o)DxChart.isNull(t[o][1])||t[o-1]&&DxChart.isNull(t[o-1][1])?this.context.moveTo(t[o][0],t[o][1]):this.context.lineTo(t[o][0],t[o][1])}this.context.stroke(),this.context.globalAlpha=1,isNexacroRuntime&&this.context.setElementGlobalAlpha(this.context.globalAlpha),DxChart.noShadow(this)},this.getLineWidth=function(t){var e=this.properties.lineWidth;return"number"==typeof e?e:"object"==typeof e?e[t]||e[0]:void 0},this.getShape=function(t){var e=this.properties,i=this,s=DxChart.getMouseXY(t),a=s[0],o=s[1];arguments[1]&&(i=arguments[1]);for(var r=0;r<i.coords.length;++r){for(var n,h=i.coords[r][0],l=i.coords[r][1],c=0,x=r;x+1>this.data[c].length;)x-=this.data[c].length,c++;if(a<=h+e.tooltipsHotspotSize&&a>=h-e.tooltipsHotspotSize&&o<=l+e.tooltipsHotspotSize&&o>=l-e.tooltipsHotspotSize){if(DxChart.parseTooltipText&&(n=DxChart.parseTooltipText(e.tooltipsData,r)),!this.hidden(c))return{object:i,x:h,y:l,dataset:c,index:x,sequentialIndex:r,label:e.xaxisLabels&&"string"==typeof e.xaxisLabels[x]?e.xaxisLabels[x]:null,tooltip:"string"==typeof n?n:null}}else if(1==e.tooltipsHotspotXonly&&a<=h+e.tooltipsHotspotSize&&a>=h-e.tooltipsHotspotSize)return n=DxChart.parseTooltipText(e.tooltipsData,r),{object:i,x:h,y:l,dataset:c,index:x,sequentialIndex:r,label:e.xaxisLabels&&"string"==typeof e.xaxisLabels[x]?e.xaxisLabels[x]:null,tooltip:n}}},this.getShapeByX=function(t){var e=this,i=DxChart.getMouseXY(t),s=i[0];i[1];arguments[1]&&(e=arguments[1]);for(var a=0;a<e.coords.length;++a){for(var o=e.coords[a][0],r=e.coords[a][1],n=0,h=a;h+1>this.data[n].length;)h-=this.data[n].length,n++;if(s<=o+properties.tooltipsHotspotSize&&s>=o-properties.tooltipsHotspotSize)return{object:e,x:o,y:r,dataset:n,index:h,sequentialIndex:a,label:properties.xaxisLabels&&"string"==typeof properties.xaxisLabels[h]?properties.xaxisLabels[h]:null}}},this.drawAboveLabels=function(){var t=this.properties,e=t.labelsAboveUnitsPre,i=t.labelsAboveUnitsPost,s=t.labelsAboveDecimals,a=t.labelsAbovePoint,o=t.labelsAboveThousand,r=t.labelsAboveBackground||"white",n="boolean"!=typeof t.labelsAboveBorder&&"number"!=typeof t.labelsAboveBorder||t.labelsAboveBorder,h=t.labelsAboveBorderStyleObj.color,l=t.labelsAboveBorderStyleObj._width,c=(t.labelsAboveBorderStyleObj.style,t.labelsAboveOffsetY),x=t.labelsAboveSpecific,d=t.labelsAboveFormatter,u=DxChart.arrayLinearize(this.orgData),g=DxChart.getTextInfo({object:this,prefix:"labelsAbove"});c-=g.size,this.context.beginPath();for(var p=0,f=this.coords.length;p<f;p+=1){var m=DxChart.sequentialIndexToGrouped(p,this.data),b=m[0],m=m[1],C=this.coords[p];DxChart.isNull(C[1])||this.hidden(b)||DxChart.text({object:this,font:g.font,size:g.size,color:g.color,bold:g.bold,italic:g.italic,x:C[0]+t.labelsAboveOffsetX,y:C[1]+c,text:x&&x[p]?x[p]:x?"":DxChart.numberFormat({object:this,number:"number"==typeof s?u[p].toFixed(s):u[p],value:"number"==typeof s?u[p].toFixed(s):u[p],unitspre:e,unitspost:i,point:a,thousand:o,formatter:d,index:m,dataset:b}),valign:"center",halign:"center",bounding:n||!1,boundingFill:r||"white",boundingStroke:h||"rgba(0,0,0,0)",boundingLineWidth:l||1,tag:"labels.above"})}},this.drawCurvyLine=function(t,e,i,s,a){for(var o=this.properties,r=[],n=0;n<t.length;++n)r.push(t[n][1]);if(o.filledUse){this.context.beginPath();var h=this.getYCoord(o.yaxisScaleMin);if(this.context.moveTo(t[0][0],h),this.drawLineCurve(this.context,r,e,s),o.filledAccumulative&&0<s)for(n=this.coordsLineCurve[s-1].length-1;0<=n;--n)this.context.lineTo(this.coordsLineCurve[s-1][n][0],this.coordsLineCurve[s-1][n][1]);else this.context.lineTo(t[t.length-1][0],h);this.context.fill()}this.context.beginPath(),this.context.moveTo(t[0][0],t[0][1]),this.drawLineCurve(this.context,r,e,s),this.context.stroke()},this.getValue=function(t){var e,i=this.properties,s=(t=(2==t.length?(t[0],t):((t=DxChart.getMouseXY(t))[0],t))[1],this),a=i.xaxisPosition;return t<i.marginTop?"bottom"==a||"center"==a?this.max:this.min:t>this.canvas.height-i.marginBottom?"bottom"==a?this.min:this.max:"center"==i.xaxisPosition?(e=(s.chartArea/2-(t-i.marginTop))/s.chartArea*(s.max-s.min),0<(e*=2)?e+=this.min:e-=this.min,e):"top"==i.xaxisPosition?(e=(s.chartArea-(t-i.marginTop))/s.chartArea*(s.max-s.min),-1*Math.abs(s.max-e)):(e=(s.chartArea-(t-i.marginTop))/s.chartArea*(s.max-s.min))+s.min},this.highlight=function(t){var e=this.properties;e.tooltipsHighlight&&("function"==typeof e.highlightStyle?e.highlightStyle(t):"invert"===e.highlightStyle?(this.context.save(),this.context.beginPath(),this.context.rect(this.marginLeft,this.marginTop,this.canvas.width-this.marginLeft-this.marginRight,this.canvas.height-this.marginTop-this.marginBottom),this.context.clip(),this.context.beginPath(),this.context.moveTo(t.x,this.marginTop),this.context.arc(t.x,t.y,25,4.71,4.72,!0),this.context.lineTo(t.x,this.marginTop),this.context.lineTo(this.canvas.width-this.marginRight,this.marginTop),this.context.lineTo(this.canvas.width-this.marginRight,this.canvas.height-this.marginBottom),this.context.lineTo(this.marginLeft,this.canvas.height-this.marginBottom),this.context.lineTo(this.marginLeft,this.marginTop),this.context.closePath(),this.context.fillStyle=e.highlightFill,isNexacroRuntime&&this.context.setElementFillStyle(e.highlightFill),this.context.fill(),this.context.beginPath(),this.context.arc(t.x,t.y,25,0,6.29,!1),this.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(e.highlightStroke),this.context.stroke(),this.context.restore()):"halo"===e.highlightStyle?(t.object,e=e.colors[t.dataset],this.context.beginPath(),this.context.arc(t.x,t.y,13,0,6.283,!1),this.context.fillStyle="rgba(255,255,255,0.75)",isNexacroRuntime&&this.context.setElementFillStyle("rgba(255,255,255,0.75)"),this.context.fill(),this.context.globalAlpha=.15,isNexacroRuntime&&(this.context.setElementGlobalAlpha(.15),this.context._globalAlphaFill=.15,this.context._globalAlphaStroke=.15),this.context.beginPath(),this.context.arc(t.x,t.y,13,0,6.283,!1),this.context.fillStyle=e,isNexacroRuntime&&this.context.setElementFillStyle(e),this.context.fill(),this.context.globalAlpha=1,isNexacroRuntime&&(this.context.setElementGlobalAlpha(1),this.context._globalAlphaFill=1,this.context._globalAlphaStroke=1),this.context.beginPath(),this.context.arc(t.x,t.y,7,0,6.283,!1),this.context.fillStyle="white",isNexacroRuntime&&this.context.setElementFillStyle("white"),this.context.fill(),this.context.beginPath(),this.context.arc(t.x,t.y,5,0,6.283,!1),this.context.fillStyle=e,isNexacroRuntime&&this.context.setElementFillStyle(e),this.context.fill()):DxChart.Highlight.point(this,t))},this.getObjectByXY=function(t){var e=this.properties,t=DxChart.getMouseXY(t);if(t[0]>this.marginLeft-5&&t[0]<this.canvas.width-this.marginRight+5&&t[1]>e.marginTop-5&&t[1]<this.canvas.height-this.marginBottom+5)return this},this.changing_mousemove=function(t){var e,i;this.properties.changeableValue&&DxChart.Registry.get("changing")&&DxChart.Registry.get("changing").uid==this.uid&&(e=Number(this.getValue(t)),i=DxChart.Registry.get("changing.shape"))&&(DxChart.Registry.set("changing.shape",i),this.orgData[i.dataset][i.index]=Number(e),DxChart.redrawCanvas(t.target),DxChart._fireEvent(this,"onadjust"))},this.getYCoord=function(t){var e,i,s=this.properties;if(!0===arguments[1]&&(e=!0),"number"!=typeof t)return null;var a=s.xaxisPosition;if("top"==a)i=(t-this.min)/(this.max-this.min)*this.chartArea,s.yaxisScaleInvert&&(i=this.chartArea-i),i+=this.marginTop;else if("center"==a)i=(t-this.min)/(this.max-this.min)*(this.chartArea/2),i=this.chartArea/2-i,i+=this.marginTop;else{if(!e&&(t<this.min||t>this.max)&&0==s.outofbounds)return null;i=(t-this.min)/(this.max-this.min)*this.chartArea,s.yaxisScaleInvert&&(i=this.chartArea-i),i=this.canvas.height-this.marginBottom-i}return i},this.drawLineCurve=function(t,e,i,s){this.coordsLineCurve[s]=[];var a=[],o=this.marginLeft,r=this.marginRight,n=this.marginInner,h=(this.canvas.width-(o+r)-2*n)/(e.length-1);this.context.strokeStyle=i,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle);for(var l=0,c=e.length;l<c;l+=1)"object"==typeof e[l]&&e[l]&&2==e[l].length&&(e[l]=Number(e[l][1]));for(var x=[e[0]],l=0;l<e.length;++l)x.push(e[l]);x.push(e[e.length-1]+(e[e.length-1]-e[e.length-2]));for(var d,u,g,p,f=1;f<x.length-2;++f)for(var m=0;m<10;++m){b=x[f-1];var b=.5*(2*(u=x[f])+(0-b+(g=x[f+1]))*(d=m/10)+(d*d*(2*b-5*u+4*g-(p=x[f+2]))+(0-b+3*u-3*g+p)*(d*d*d)));a.push((f-1)*h+m*(h/10)+o+n),this.context.lineTo(a[a.length-1],b),"number"==typeof s&&this.coordsLineCurve[s].push([a[a.length-1],b])}this.context.lineTo((f-1)*h+o+n,x[f]),"number"==typeof s&&this.coordsLineCurve[s].push([(f-1)*h+o+n,x[f]])},this.parseColors=function(){var t=this.properties;this.original_colors.colors||(this.original_colors={},this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.fillledColors=DxChart.arrayClone(t.filledColors),this.original_colors.keyColors=DxChart.arrayClone(t.keyColors),this.original_colors.backgroundHbars=DxChart.arrayClone(t.backgroundHbars),this.original_colors.backgroundBarsColor1=t.backgroundBarsColor1,this.original_colors.backgroundBarsColor2=t.backgroundBarsColor2,this.original_colors.backgroundGridColor=t.backgroundGridColor,this.original_colors.backgroundColor=t.backgroundColor,this.original_colors.textColor=t.textColor,this.original_colors.crosshairsColor=t.crosshairsColor,this.original_colors.annotationColor=t.annotationColor,this.original_colors.titleColor=t.titleColor,this.original_colors.xaxisTitleColor=t.xaxisTitleColor,this.original_colors.yaxisTitleColor=t.yaxisTitleColor,this.original_colors.keyBackground=t.keyBackground,this.original_colors.axesColor=t.axesColor,this.original_colors.highlightFill=t.highlightFill);for(var e=0;e<t.colors.length;++e)"object"==typeof this.original_colors.colors[e]&&this.original_colors.colors[e][0]&&this.original_colors.colors[e][1]?(t.colors[e][0]=this.parseSingleColorForGradient(this.original_colors.colors[e][0]),t.colors[e][1]=this.parseSingleColorForGradient(this.original_colors.colors[e][1])):t.colors[e]=this.parseSingleColorForGradient(this.original_colors.colors[e]);if(t.filledColors)if("string"==typeof this.original_colors.fillledColors)t.filledColors=this.parseSingleColorForGradient(this.original_colors.fillledColors,"vertical","filled");else for(e=0;e<t.filledColors.length;++e)t.filledColors[e]=this.parseSingleColorForGradient(this.original_colors.fillledColors[e],"vertical","filled");if(!DxChart.isNull(t.keyColors))for(e=0;e<t.keyColors.length;++e)t.keyColors[e]=this.parseSingleColorForGradient(this.original_colors.keyColors[e]);if(!DxChart.isNull(t.backgroundHbars))for(e=0;e<t.backgroundHbars.length;++e)t.backgroundHbars[e][2]=this.parseSingleColorForGradient(this.original_colors.backgroundHbars[e][2]);for(var i=["backgroundBarsColor1","backgroundBarsColor2","backgroundGridColor","backgroundColor","crosshairsColor","annotationColor","textColor","titleColor","xaxisTitleColor","yaxisTitleColor","keyBackground","axesColor","highlightFill"],e=0;e<i.length;++e)t[i[e]]=this.parseSingleColorForGradient(this.original_colors[i[e]])},this.reset=function(){},this.setShadow=function(t){var e,i=this.properties;i.shadowUse&&("object"==typeof(e=i.shadowStyleObj.color)&&e[t-1]?this.context.shadowColor=e[t]:"object"==typeof e?this.context.shadowColor=e[0]:"string"==typeof e&&(this.context.shadowColor=e),this.context.shadowBlur=i.shadowStyleObj.blur,this.context.shadowOffsetX=i.shadowStyleObj.offsetX,this.context.shadowOffsetY=i.shadowStyleObj.offsetY,isNexacroRuntime)&&(this.context.setElementShadowColor(this.context.shadowColor),this.context.setElementShadowBlur(this.context.shadowBlur),this.context.setElementShadowOffsetX(this.context.shadowOffsetX),this.context.setElementShadowOffsetY(this.context.shadowOffsetY))},this.interactiveKeyHighlight=function(t){var e=this.properties,i=this.coords2[t];if(i){var t=this.context.lineWidth,s=this.context.lineCap;if(this.context.lineWidth=e.lineWidth+10,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.lineCap="round",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.strokeStyle=e.keyInteractiveHighlightChartStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.beginPath(),e.lineCurve)this.drawLineCurve(this.context,i,e.keyInteractiveHighlightChart,null);else for(var a=0,o=i.length;a<o;a+=1)0==a||DxChart.isNull(i[a][1])||null!=typeof i[a-1][1]&&DxChart.isNull(i[a-1][1])?this.context.moveTo(i[a][0],i[a][1]):this.context.lineTo(i[a][0],i[a][1]);this.context.stroke(),this.context.lineWidth=t,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.lineCap=s,isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap)}},this.firstDrawFunc=function(){},this.drawErrorbars=function(){var t=this.properties,e=(this.context.save(),DxChart.noShadow(this),this.coords),i=t.errorbarsValue;t.errorbarsCapped||(t.errorbarsCappedWidth=.001,r=5e-4),this.context.lineWidth=t.errorbarsLineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth);for(var s=0;s<e.length;++s){var a,o,r=t.errorbarsCappedWidth/2||5,n=t.errorbarsColor||"black";i[s]&&"number"==typeof i[s][3]?this.context.lineWidth=i[s][3]:"number"==typeof t.errorbarsLineWidth?this.context.lineWidth=t.errorbarsLineWidth:this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),"number"==typeof i||"number"==typeof i[s]?(o=a="number"==typeof i?this.getYCoord(this.min)-this.getYCoord(this.min+i):this.getYCoord(this.min)-this.getYCoord(this.min+i[s]),(a||o)&&(this.path("lj miter lc square b m % % l % % m % % l % % l % % m % % l % % s %",e[s][0]-r,e[s][1]+o,e[s][0]+r,e[s][1]+o,e[s][0],e[s][1]+o,e[s][0],e[s][1]-a,e[s][0]-r,e[s][1]-a,e[s][0],e[s][1]-a,e[s][0]+r,e[s][1]-a,n),this.path("lj miter lc square b m % % l % % s %",e[s][0]-r,e[s][1]+o,e[s][0]+r,e[s][1]+o,n))):"object"!=typeof i[s]||DxChart.isNull(i[s])||(a=this.getYCoord(this.min)-this.getYCoord(this.min+i[s][0]),o=this.getYCoord(this.min)-this.getYCoord(this.min+i[s][1]),"string"==typeof i[s][2]&&(n=i[s][2]),r="number"==typeof i[s][4]?i[s][4]/2:r,"object"==typeof i[s]&&"number"==typeof i[s][3]?this.context.lineWidth=i[s][3]:"number"==typeof t.errorbarsLineWidth?this.context.lineWidth=t.errorbarsLineWidth:this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),DxChart.isNull(i[s][0])||this.path("lc square b  m % % l % % l % % m % % l % % s %",e[s][0],e[s][1],e[s][0],e[s][1]-a,e[s][0]-r,Math.round(e[s][1]-a),e[s][0],Math.round(e[s][1]-a),e[s][0]+r,Math.round(e[s][1]-a),n),"number"==typeof i[s][1]&&(o=Math.abs(this.getYCoord(i[s][1])-this.getYCoord(0)),this.path("b m % % l % % l % % m % % l % % s %",e[s][0],e[s][1],e[s][0],e[s][1]+o,e[s][0]-r,Math.round(e[s][1]+o),e[s][0],Math.round(e[s][1]+o),e[s][0]+r,Math.round(e[s][1]+o),n)))}this.context.restore()},this.hide=function(){var t=this.properties;if("number"==typeof arguments[0])t.lineVisible[arguments[0]]=!1;else if("object"==typeof arguments[0])for(var e=0;e<arguments[0].length;++e)t.lineVisible[arguments[0][e]]=!1;else for(e=0;e<this.orgData.length;++e)t.lineVisible[e]=!1;return DxChart.redraw(),this},this.show=function(){var t=this.properties;if("number"==typeof arguments[0])t.lineVisible[arguments[0]]=!0;else if("object"==typeof arguments[0])for(var e=0;e<arguments[0].length;++e)t.lineVisible[arguments[0][e]]=!0;else for(e=0;e<this.orgData.length;++e)t.lineVisible[e]=!0;return DxChart.redraw(),this},this.hidden=function(t){return!this.properties.lineVisible[t]},this.drawAni=function(){var t=arguments[0]||"toTop",e=arguments[1]||{},i=arguments[2]||function(){};switch(t){case"toRight":case"trace":this.trace(e,i);break;case"toBottom":case"unfold":this.unfold(e,i);break;case"toTop":case"wave":this.wave(e,i);break;case"toCenter":case"foldtocenter":this.foldtocenter(e,i);break;case"fromCenter":case"unfoldFromCenterTrace":this.unfoldFromCenterTrace(e,i)}},this.unfold=function(){var e=this.properties,i=this,t=arguments[0]||{},s=t.frames||30,a=0,o=arguments[1]||function(){},r=e.animationUnfoldInitial;return e.animationFactor=e.animationUnfoldInitial,function t(){e.animationFactor=a/s*(1-r)+r,DxChart.clear(i.canvas),DxChart.redrawCanvas(i.canvas),a<s?(a++,DxChart.Effects.updateCanvas(t,i.canvas)):o(i)}(),this},this.trace=function(){this.properties;this.cancelStopAnimation();var e,i=this,s=arguments[0]||{},a=s.frames||30,o=0,r=arguments[1]||function(){};return i.set("animationTraceClip",s.reverse?1:0),i.properties.labelsAbove&&(i.set("labelsAbove",!1),e=!0),function t(){i.stopAnimationRequested?i.stopAnimationRequested=!1:(DxChart.redrawCanvas(i.canvas),o++<a?(i.set("animationTraceClip",s.reverse?1-o/a:o/a),DxChart.Effects.updateCanvas(t,i.canvas)):(e&&(isNexacroRuntime?nexacro._OnceCallbackTimer.callonce(i.canvas._refform,function(){i.set("labelsAbove",!0),DxChart.redrawCanvas(i.canvas)},500):setTimeout(function(){i.set("labelsAbove",!0),DxChart.redraw()},500)),r(i)))}(),this},this.wave=function(){this.properties;if(this.cancelStopAnimation(),this.data=DxChart.arrayClone(this.orgData),this.draw(),1!==this.orgData[0].length){var a=this,o=arguments[0]||{},r=this.get("labelsAbove"),n=(o.frames=o.frames||60,o.startFrames=[],o.counters=[],o.frames/3),h=-1,l=arguments[1]||function(){},c=DxChart.arrayClone(this.unmodified_data);this.set("labelsAbove",!1);for(var t=0;t<c.length;++t)for(var e=0;e<c[t].length;++e)o.startFrames[e]=o.frames/2/(c[0].length-1)*e,o.counters[e]=0,o.reverse||(this.orgData[t][e]=0);return o.reverse&&(o.startFrames=DxChart.arrayReverse(o.startFrames)),this.set("yaxisScaleMax",this.scale2.max),DxChart.clear(this.canvas),function t(){if(a.stopAnimationRequested)a.stopAnimationRequested=!1;else{++h;for(var e=0;e<c.length;++e)if(o.reverse)for(var i=c[e].length-1;0<=i;--i)h>o.startFrames[i]&&(a.orgData[e][i]=Math.max(0,c[e][i]-Math.abs(c[e][i]*(o.counters[i]++/n))),c[e][i]<0)&&(a.orgData[e][i]*=-1);else for(var i=0,s=c[e].length;i<s;i+=1)h>o.startFrames[i]&&(a.orgData[e][i]=Math.min(Math.abs(c[e][i]),Math.abs(c[e][i]*(o.counters[i]++/n))),c[e][i]<0)&&(a.orgData[e][i]*=-1);h>=o.frames?(r&&(isNexacroRuntime?nexacro._OnceCallbackTimer.callonce(a.canvas._refform,function(){a.set("labelsAbove",!0),DxChart.redrawCanvas(a.canvas)},500):setTimeout(function(){a.set("labelsAbove",!0),DxChart.redraw()},500)),l(a)):(DxChart.redrawCanvas(a.canvas),DxChart.Effects.updateCanvas(t,a.canvas))}}(),this}this.unfold(arguments[0])},this.foldtocenter=function(){this.properties;this.cancelStopAnimation(),this.scale2||(isNexacroRuntime?this.canvas.set_visible(!1):this.canvas.style.visibility="hidden",this.draw(),DxChart.clear(this.canvas),isNexacroRuntime?this.canvas.set_visible(!0):this.canvas.style.visibility="visible");var r=this,n=(arguments[0]||{}).frames||30,h=0,l=arguments[1]||function(){},c=r.scale2.max/2,x=(r.set("yaxisScaleMax",r.scale2.max),DxChart.arrayClone(r.orgData));return function t(){if(r.stopAnimationRequested)r.stopAnimationRequested=!1;else{for(var e=0,i=r.orgData.length;e<i;++e)if(r.orgData[e].length)for(var s=0,a=r.orgData[e].length;s<a;++s){var o=r.orgData[e];o[s]>c?o[s]=x[e][s]-(x[e][s]-c)*(h/n):o[s]=x[e][s]+(c-x[e][s])/n*h}DxChart.clear(r.canvas),DxChart.redrawCanvas(r.canvas),h++<n?DxChart.Effects.updateCanvas(t,r.canvas):l(r)}}(),this},this.unfoldFromCenterTrace=function(){this.properties;var t=this,e=(arguments[0]||{}).frames||30,i=DxChart.arrayClone(t.orgData),s=arguments[1]||function(){},a=(isNexacroRuntime?t.canvas.set_visible(!1):t.canvas.style.visibility="hidden",t.draw(),t.scale2.max,DxChart.clear(t.canvas),isNexacroRuntime?t.canvas.set_visible(!0):t.canvas.style.visibility="visible","center"==t.get("xaxisPosition")?t.min:(t.max-t.min)/2+t.min);t.set("yaxisScaleMax",t.max);for(var o=0,r=t.orgData.length;o<r;++o)for(var n=0;n<t.orgData[o].length;++n)t.orgData[o][n]=t.get("filled")&&t.get("filledAccumulative")&&0<o?0:a;return DxChart.clear(t.canvas),t.trace({frames:e/2},function(){t.orgData=i,t.unfoldFromCenter({frames:e/2},s)}),t},this.unfoldFromCenter=function(){var t,e=this.properties,s=(this.cancelStopAnimation(),this),a=(arguments[0]||{}).frames||30,o=arguments[1]||function(){},i=(s.scale2||(isNexacroRuntime?s.canvas.set_visible(!1):s.canvas.style.visibility="hidden",s.draw(),t=s.scale2.max,DxChart.clear(s.canvas),isNexacroRuntime?s.canvas.set_visible(!0):s.canvas.style.visibility="visible"),"center"===s.get("xaxisPosition")?e.yaxisScaleMin:(s.max-s.min)/2+s.min),r=DxChart.arrayClone(s.orgData),n=null;if(s.set("yaxisScaleMax",t),!n)for(var n=[],h=0,l=r.length;h<l;++h){n[h]=[];for(var c=0,x=r[h].length;c<x;++c)e.filledUse&&e.filledAccumulative&&0<h?n[h][c]=r[h][c]/a:n[h][c]=(r[h][c]-i)/a,s.orgData[h][c]=i}return function t(){if(s.stopAnimationRequested)s.stopAnimationRequested=!1;else{for(var e=0;e<r.length;++e)for(var i=0;i<r[e].length;++i)s.orgData[e][i]+=n[e][i];DxChart.clear(s.canvas),DxChart.redrawCanvas(s.canvas),0<--a?DxChart.Effects.updateCanvas(t,s.canvas):(s.orgData=DxChart.arrayClone(r),DxChart.clear(s.canvas),DxChart.redrawCanvas(s.canvas),o(s))}}(),this},this.stopAnimation=function(){this.orgData=DxChart.arrayClone(this.unmodified_data),1!==this.get("animationTraceClip")&&this.set("animationTraceClip",1),this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.isAdjustable=function(t){var e=this.properties;return!!DxChart.isNull(e.changeableOnly)||!(!DxChart.isArray(e.changeableOnly)||!e.changeableOnly[t.sequentialIndex])},this.tooltipSubstitutions=function(t){var e=this.properties,i=DxChart.sequentialIndexToGrouped(t.index,this.data);if(e.tooltipsDataset)return{dataset:i[1],index:i[0],sequentialIndex:t.index,values:this.data[i[1]]};for(var s=0,a=[];s<this.orgData.length;++s)a.push(this.orgData[s][i[1]]);return{index:i[1],dataset:i[0],sequentialIndex:t.index,value:this.data_arr[t.index],values:a}},this.tooltipsFormattedCustom=function(t,e){return{}},this.addDatasetTooltip=function(){var g=this;this.datasetTooltipsListener=function(t,e){var i,s;isNexacroRuntime?(i=DxChart.getMouseXY(e),(t=e).type="click"):i=DxChart.getMouseXY(t),g.properties.tooltipsDatasetEvent||(g.properties.tooltipsDatasetEvent="click"),s=g.properties.lineCurve?g.coordsLineCurve:g.coords2;for(var a=0;a<s.length;++a){for(var o="b lc round lw 10 m {1} {2}".format(s[a][0][0],s[a][0][1]),r=0;r<s[a].length;++r)o+=" l {1} {2}".format(s[a][r][0],s[a][r][1]);if(g.path(o),isNexacroRuntime?g.context.isPointInPath(i[0],i[1]):g.context.isPointInStroke(i[0],i[1])){var n=!0;if("click"===t.type||"mousemove"===t.type&&"mousemove"===g.properties.tooltipsDatasetEvent&&(!DxChart.Registry.get("tooltip")||a!=DxChart.Registry.get("tooltip").__dataset__)){DxChart.hideTooltip(),DxChart.redraw(),g.set("tooltipsPositionStatic",!1),g.set("tooltipsEffect","fade"),g.tooltipsDatasetIndex=a,DxChart.showTooltip({object:g,text:"string"==typeof g.properties.tooltipsDataset?g.properties.tooltipsDataset:g.properties.tooltipsDataset[a],x:0,y:0,index:a,event:t});for(var h=g.coords2[a][Math.floor(g.coords2[a].length/2)][0],l=g.coords2[a][Math.floor(g.coords2[a].length/2)][1],c=DxChart.getCanvasXY(g.canvas),x=DxChart.Registry.get("tooltip"),d=x.offsetWidth,u=x.offsetHeight,o=(isNexacroRuntime?(d=x.getOffsetWidth(),u=x.getOffsetHeight(),x.set_left(c[0]+h-d/2),x.set_top(c[1]+l-u-20)):(x.style.left=c[0]+h-d/2+"px",x.style.top=c[1]+l-u-20+"px"),"b lw %1 m %2 %3".format(g.properties.lineWidth+10,s[a][0][0],s[a][0][1])),r=0;r<s[a].length;++r)o+=" l {1} {2}".format(s[a][r][0],s[a][r][1]);o+=" ga 0.2 s "+g.properties.colors[a]+" ga 1",g.path(o)}"mousemove"===t.type&&(t.target.style.cursor="pointer")}if(n){if(isNexacroRuntime)break}else"click"===t.type&&(DxChart.hideTooltip(),DxChart.redraw()),isNexacroRuntime?g.canvas.set_cursor("default"):g.canvas.style.cursor="default"}t.stopPropagation()},this.datasetTooltipsListenerAdded||(isNexacroRuntime?this.canvas.setEventHandler("onclick",this.datasetTooltipsListener,this):(this.canvas.addEventListener("click",this.datasetTooltipsListener,!1),this.canvas.addEventListener("mousemove",this.datasetTooltipsListener,!1),window.addEventListener("click",function(t){DxChart.redraw()},!1)),this.datasetTooltipsListenerAdded=!0)},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas)),a=e.coords[t.index];isNexacroRuntime?(t.tooltip.set_left(s[0]+a[0]-i.getOffsetWidth()/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]+a[1]-i.getOffsetHeight()-15+e.properties.tooltipsOffsetY)):(t.tooltip.style.left=s[0]+a[0]-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]+a[1]-i.offsetHeight-15+e.properties.tooltipsOffsetY+"px")},this.drawTrendline=function(){for(var t=DxChart.getArgs(arguments,"dataset"),e=this.properties,i=e.trendlineColor,s=e.trendlineLinewidth,a=e.trendlineMargin,o=(e.trendlineClip&&this.path("b sa r % % % % cl",this.marginLeft,this.marginTop,this.canvas.width-this.marginLeft-this.marginRight,this.canvas.height-this.marginTop-this.marginBottom),[]),r=0;r<this.data.length;++r){o[r]=[];for(var n=0;n<this.data[r].length;++n)o[r].push([n,this.data[r][n]])}"object"==typeof(i=DxChart.isArray(e.trendlineColors)?e.trendlineColors:i)&&i[t.dataset]?i=i[t.dataset]:"object"==typeof i&&(i="gray"),"object"==typeof s&&"number"==typeof s[t.dataset]?s=s[t.dataset]:"object"==typeof s&&(s=1),"object"==typeof a&&"number"==typeof a[t.dataset]?a=a[t.dataset]:"object"==typeof a&&(a=25);for(var r=0,h=0,l=0;r<this.data[t.dataset].length;++r)h+=o[t.dataset][r][0],l+=o[t.dataset][r][1];for(var c=h/o[t.dataset].length,x=l/o[t.dataset].length,r=0,d=[],u=[],g=[],p=[];r<this.data[t.dataset].length;++r)d[r]=o[t.dataset][r][0]-c,u[r]=o[t.dataset][r][1]-x,g[r]=d[r]*u[r],p[r]=d[r]*d[r];var f=DxChart.arraySum(g)/DxChart.arraySum(p),m=x-f*c,f=[[0,0*f+m],[o[0].length-1,f*(o[0].length-1)+m]];f[0][0]=this.marginLeft,f[0][1]=this.getYCoord(f[0][1],!0),f[1][0]=this.canvas.width-this.marginRight,f[1][1]=this.getYCoord(f[1][1],!0),(!0===e.trendlineDashed||DxChart.isArray(e.trendlineDashed)&&e.trendlineDashed[t.dataset])&&(isNexacroRuntime?this.context.setElementLineStyle("dashed"):this.context.setLineDash([4,4])),(!0===e.trendlineDotted||DxChart.isArray(e.trendlineDotted)&&e.trendlineDotted[t.dataset])&&(isNexacroRuntime?this.context.setElementLineStyle("dashed"):this.context.setLineDash([1,4])),DxChart.isArray(e.trendlineDashArray)&&(2===e.trendlineDashArray.length&&"number"==typeof e.trendlineDashArray[0]&&"number"==typeof e.trendlineDashArray[1]?isNexacroRuntime?this.context.setElementLineStyle("dashed"):this.context.setLineDash(e.trendlineDashArray):DxChart.isArray(e.trendlineDashArray)&&DxChart.isArray(e.trendlineDashArray[t.dataset])&&(isNexacroRuntime?this.context.setElementLineStyle("dashed"):this.context.setLineDash(e.trendLineDashArray[t.dataset]))),this.path(" lc round lw % b m % % l % % s %",s,Math.max(f[0][0],this.coords2[t.dataset][0][0]-a),f[0][1],Math.min(f[1][0],this.coords2[t.dataset][this.coords2[t.dataset].length-1][0]+a),f[1][1],i),isNexacroRuntime?this.context.setElementLineStyle("dashed"):this.context.setLineDash([5,0]),e.trendlineClip&&this.context.restore()},this.nullBridge=function(t,e,i){for(var s=!1,a=i,o=0;o<e.length;o++){var r=null,n=null;if(!1===s&&DxChart.isNumber(e[o])&&(s=!0),DxChart.isNull(e[o])&&s)for(var r=o-1,h=o+1;h<e.length;++h)if(!DxChart.isNull(e[h])){if(n=h,isNexacroRuntime?this.context.setElementLineStyle("dash"):this.context.setLineDash(a.nullBridgeDashArray),null==this.coords2[t][r][1])return;this.path("b lw % m % % l % % s %","number"==typeof a.nullBridgeLineWidth?a.nullBridgeLineWidth:this.getLineWidth(t),this.coords2[t][r][0],this.coords2[t][r][1],this.coords2[t][n][0],this.coords2[t][n][1],"string"==typeof a.nullBridgeColors?a.nullBridgeColors:("object"==typeof a.nullBridgeColors&&!DxChart.isNull(a.nullBridgeColors)&&a.nullBridgeColors[t]?a.nullBridgeColors:a.colors)[t]),n=r=null;break}}},this.drawAngledLabels=function(){var n=this.properties;if(n.labelsAngled){DxChart.noShadow(this);function t(t){var e,i={},s=["text","labelsAngled","labelsAngled"+t],a=["Font","Color","Size","Bold","Italic"];for(e in s)for(var o in a){var r=s[e]+a[o];r&&(DxChart.isString(n[r])||DxChart.isNumber(n[r])||DxChart.isBoolean(n[r]))&&(i[a[o].toLowerCase()]=n[r])}return i}for(var e=this.coords,i=0;i<e.length-1;++i){var s,a,o=(e[i+1][0]-e[i][0])/2,r=(e[i+1][1]-e[i][1])/2,h=(a=e[i+1][1]<e[i][1]?(s=0,t("Up")):e[i+1][1]>e[i][1]?(s=1,t("Down")):(s=2,t("Level")),DxChart.getAngleByXY({cx:e[i][0],cy:e[i][1],x:e[i+1][0],y:e[i+1][1]}));DxChart.text({object:this,accessible:!n.changeableValue&&(!DxChart.isBoolean(n.labelsAngledAccessible)||n.labelsAngledAccessible),font:a.font,color:a.color,size:a.size,bold:a.bold,italic:a.italic,x:e[i][0]+o,y:e[i][1]+r-5,text:n.labelsAngledSpecific&&(DxChart.isString(n.labelsAngledSpecific[i])||DxChart.isNumber(n.labelsAngledSpecific[i]))?n.labelsAngledSpecific[i]:n.labelsAngled[s],halign:"center",valign:"bottom",angle:h*(180/Math.PI)})}}},this.setLinecap=function(){var t=this.properties,e=DxChart.getArgs(arguments,"index");DxChart.isArray(t.lineCap)&&DxChart.isString(t.lineCap[e.index])?this.context.lineCap=t.lineCap[e.index]:DxChart.isString(t.lineCap)?this.context.lineCap=t.lineCap:this.context.lineCap="round",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap)},this.closest=function(t){for(var e=[],i=("object"!=typeof t||"object"!=typeof t.event||t.event.type?"object"==typeof t&&"number"==typeof t.pageX&&(t={event:t,tolerance:25}):"number"!=typeof t.tolerance&&(t.tolerance=25),this.coords2),s=DxChart.getMouseXY(t.event),a="number"==typeof t.tolerance?t.tolerance:25,o=0;o<i.length;++o)for(var r,n=0;n<i[o].length;++n)t.xonly?s[0]>i[o][n][0]-a&&s[0]<i[o][n][0]+a&&e.push({dataset:o,index:n,distance:Math.abs(s[0]-i[o][n][0])}):(r=DxChart.getHypLength({x1:i[o][n][0],y1:i[o][n][1],x2:s[0],y2:s[1]}))<=a&&e.push({dataset:o,index:n,distance:r});return e.sort(function(t,e){return t.distance-e.distance}),e[0]},this.growPoint=function(){for(var e=DxChart.getArgs(arguments,"index,value"),i=this,s=("number"!=typeof e.dataset&&(e.dataset=0),this.orgData[e.dataset][e.index]),a="number"==typeof e.frames?e.frames:15,t=0;t<a;t++)!function(t){isNexacroRuntime?nexacro._OnceCallbackTimer.callonce(i.canvas._refform,function(){i.orgData[e.dataset][e.index]=(e.value-s)*(t+1)/a+s,i.data_arr=DxChart.arrayLinearize(i.orgData),DxChart.redrawCanvas(i.canvas)},16.666*t):setTimeout(function(){i.orgData[e.dataset][e.index]=(e.value-s)*(t+1)/a+s,i.data_arr=DxChart.arrayLinearize(i.orgData),DxChart.redrawCanvas(i.canvas)},16.666*t)}(t)},this.setLinejoin=function(){var t=this.properties,e=DxChart.getArgs(arguments,"index");DxChart.isArray(t.linejoin)&&DxChart.isString(t.linejoin[e.index])?this.context.lineJoin=t.linejoin[e.index]:DxChart.isString(t.linejoin)?this.context.lineJoin=t.linejoin:this.context.lineJoin="round",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin)},this.resetData(t.data),DxChart.register(this);for(var e=0;e<this.orgData.length;++e)this.properties.lineVisible[e]=!0;return DxChart.parseProperties(this,t.options),this}}function DxChartMeter(t){return DxChart._Base.call(this,t,"meter"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"border"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"scale"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"default"),this.properties.backgroundColor="white",this.properties.labelsCount=10,this.properties.labelsValue=!0,this.properties.lineWidth=1,this.properties.labelsValueBackground=!0,this.properties.borderUse=!0,this.properties.borderColor="black",this.properties.labelsCenterValue=!0,this.properties.labelsValueAccessible=!1,this.properties.labelsInnerPercent=.925,this.properties.needleColor="black",this.properties.tickmarksSmallSize=5,this.properties.tickmarksLargeSize=5,t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t,e,i){this.binddataset&&(t=DxChart._getColumnDataset(this.binddataset,t),e=DxChart._getColumnDataset(this.binddataset,e),i=DxChart._getColumnDataset(this.binddataset,i)),this.min=DxChart.str2num(t),DxChart.isArray(this.min)&&(this.min=this.min[0]),this.max=DxChart.str2num(e),DxChart.isArray(this.max)&&(this.max=this.max[0]),this.value=DxChart.str2num(i),DxChart.isArray(this.value)&&(this.value=this.value[0]),this.centerx=null,this.centery=null,this.radius=null,this.currentValue=null,this.properties.anglesStart=DxChart.PI,this.properties.anglesEnd=DxChart.TWOPI,isNexacroRuntime&&(this.properties.anglesStart=this.properties.anglesStart-DxChart.HALFPI,this.properties.anglesEnd=this.properties.anglesEnd-DxChart.HALFPI),this.properties.colorsGreenStart=.35*(this.max-this.min)+this.min,this.properties.colorsGreenEnd=this.max,this.properties.colorsGreenColor="#207A20",this.properties.colorsYellowStart=.1*(this.max-this.min)+this.min,this.properties.colorsYellowEnd=.35*(this.max-this.min)+this.min,this.properties.colorsYellowColor="#D0AC41",this.properties.colorsRedStart=this.min,this.properties.colorsRedEnd=.1*(this.max-this.min)+this.min,this.properties.needleUse=!0},this.draw=function(){var t;return this.min||this.max?(t=this.properties,DxChart._BeforeDraw(this,!0),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.currentValue=this.value,this.radius=Math.max(Math.min((this.canvas.width-this.marginLeft-this.marginRight)/2,this.canvas.height-this.marginTop-this.marginBottom),1),this.centerx=(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft,this.centery=this.canvas.height-this.marginBottom,this.coordsText=[],"number"==typeof t.centerx&&(this.centerx=t.centerx),"number"==typeof t.centery&&(this.centery=t.centery),"number"==typeof t.radius&&(this.radius=t.radius),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.drawBackground(),this.drawLabels(),t.needleUse&&this.drawNeedle(),this.drawReadout(),DxChart.drawTitle(this),t.contextmenu&&DxChart.showContext(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this):DxChart.NoDataShow(this)},this.drawBackground=function(){var t,e=this.properties;if("string"!=typeof e.backgroundImageUrl||this.__background_image__?this.__background_image__&&(b=0+e.backgroundImageOffsetX,l=0+e.backgroundImageOffsetY,e.backgroundImageStretch?this.context.drawImage(this.__background_image__,b,l,this.canvas.width,this.canvas.height):this.context.drawImage(this.__background_image__,b,l)):(b=0+e.backgroundImageOffsetX,l=0+e.backgroundImageOffsetY,m=new Image,(this.__background_image__=m).src=e.backgroundImageUrl,t=this,m.onload=function(){e.backgroundImageStretch?t.context.drawImage(this,b,l,t.canvas.width,t.canvas.height):t.context.drawImage(this,b,l),DxChart.redraw()}),this.context.beginPath(),this.context.fillStyle=e.backgroundColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),e.shadowUse&&DxChart.setShadow(this,e.shadowStyleObj.color,e.shadowStyleObj.offsetX,e.shadowStyleObj.offsetY,e.shadowStyleObj.blur),this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,this.radius,e.anglesStart,e.anglesEnd,!1),this.context.fill(),DxChart.noShadow(this),e.shadowUse&&(this.context.beginPath(),m=40<.06*this.radius?40:.06*this.radius,this.context.arc(this.centerx,this.centery,m,0,DxChart.TWOPI,0),this.context.fill(),DxChart.noShadow(this)),e.tickmarksSmallCount){for(var i=e.tickmarksSmallSize,s=0;s<e.anglesEnd-e.anglesStart;s+=DxChart.PI/e.tickmarksSmallCount)this.context.beginPath(),this.context.strokeStyle=e.tickmarksSmallColor,isNexacroRuntime?(h=e.anglesStart+DxChart.HALFPI,this.context.setElementStrokeStyle(this.context.strokeStyle),b=this.centerx+Math.cos(h+s)*this.radius,l=this.centery+Math.sin(h+s)*this.radius,c=this.centerx+Math.cos(h+s)*(this.radius-i),x=this.centery+Math.sin(h+s)*(this.radius-i),this.context.moveTo(b,l),this.context.lineTo(c,x)):(this.context.arc(this.centerx,this.centery,this.radius,e.anglesStart+s,e.anglesStart+s+1e-5,0),a=Math.max(this.radius-i,1),this.context.arc(this.centerx,this.centery,a,e.anglesStart+s,e.anglesStart+s+1e-5,0)),this.context.stroke();this.context.beginPath(),this.context.fillStyle=e.backgroundColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle);var a=Math.max(this.radius-i-1,1);this.context.arc(this.centerx,this.centery,a,e.anglesStart,e.anglesEnd,!1),this.context.closePath(),this.context.fill()}var o=e.tickmarksLargeSize;if(e.tickmarksLargeCount)for(var r=["white","white",e.tickmarksLargeColor],n=0;n<r.length;++n)for(var h,l,c,x,s=0;s<e.anglesEnd-e.anglesStart;s+=(e.anglesEnd-e.anglesStart)/e.tickmarksLargeCount)this.context.beginPath(),this.context.strokeStyle=r[n],isNexacroRuntime?(this.context.setElementStrokeStyle(r[n]),h=e.anglesStart+DxChart.HALFPI,b=this.centerx+Math.cos(h+s+.001)*this.radius,l=this.centery+Math.sin(h+s+.001)*this.radius,c=this.centerx+Math.cos(h+s+.001)*(this.radius-o),x=this.centery+Math.sin(h+s+.001)*(this.radius-o),this.context.moveTo(b,l),this.context.lineTo(c,x)):(this.context.arc(this.centerx,this.centery,this.radius,e.anglesStart+s,e.anglesStart+s+.001,0),a=Math.max(this.radius-o,1),this.context.arc(this.centerx,this.centery,a,e.anglesStart+s,e.anglesStart+s+1e-4,0)),this.context.stroke();this.context.beginPath(),this.context.fillStyle=e.backgroundColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.moveTo(this.centerx,this.centery);var a=Math.max(this.radius-(o+2),1),d=(this.context.arc(this.centerx,this.centery,a,e.anglesStart,e.anglesEnd,!1),this.context.closePath(),this.context.fill(),e.colorsRanges,0),u=.85*this.radius;if(0<e.segmentsRadiusStart&&(d=e.segmentsRadiusStart,u=.85*this.radius),DxChart.isArray(e.colorsRanges)){var g=e.colorsRanges,p=this.centery,f=0;null!=e.roundFill&&null!=e.roundFill&&(p+=10,f=.12*Math.PI);for(var m,b,C,y,D,v,s=0;s<g.length;s++){this.context.strokeStyle=e.colorsStroke||g[s][2],isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),v=DxChart.parseRadialGradientInfo(this,g[s][2],this.centerx,p,d,this.centerx,p,u),this.context.fillStyle=v,isNexacroRuntime&&this.context.setElementFillStyle(v),this.context.lineWidth=e.lineWidthSegments,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth);var S,k=0,w=f;0<s&&(k=f,w=0),this.context.beginPath(),this.context.arc(this.centerx,p,null!=e.roundFill&&null!=e.roundFill?this.radius:.85*this.radius,(g[s][0]-this.min)/(this.max-this.min)*(e.anglesEnd-e.anglesStart)+e.anglesStart-k,(g[s][1]-this.min)/(this.max-this.min)*(e.anglesEnd-e.anglesStart)+e.anglesStart-w,!1),0<e.segmentsRadiusStart?isNexacroRuntime?(this.context.lineTo(this.centerx,p),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.beginPath(),S=("transparent"==e.backgroundColor2?null:e.backgroundColor2)||("transparent"==e.backgroundColor?null:e.backgroundColor)||this.canvas._refform.parent.background||"#ffffff",this.context.setElementStrokeStyle(e.colorsStroke||g[s][2]),this.context.setElementFillStyle(S),this.context.arc(this.centerx,p,e.segmentsRadiusStart,(g[s][0]-this.min)/(this.max-this.min)*(e.anglesEnd-e.anglesStart)+e.anglesStart,(g[s][1]-this.min)/(this.max-this.min)*(e.anglesEnd-e.anglesStart)+e.anglesStart,!1),this.context.lineTo(this.centerx,p),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.beginPath(),S=("transparent"==e.backgroundColor2?null:e.backgroundColor2)||("transparent"==e.backgroundColor?null:e.backgroundColor)||this.canvas._refform.parent.background||"#ffffff",this.context.setElementStrokeStyle(S),this.context.setElementFillStyle(S),a=Math.max(e.segmentsRadiusStart-1,1),this.context.arc(this.centerx,p,a,e.anglesStart-.1,e.anglesEnd+.1,!1),this.context.lineTo(this.centerx,this.centery)):this.context.arc(this.centerx,p,e.segmentsRadiusStart,(g[s][1]-this.min)/(this.max-this.min)*(e.anglesEnd-e.anglesStart)+e.anglesStart-w,(g[s][0]-this.min)/(this.max-this.min)*(e.anglesEnd-e.anglesStart)+e.anglesStart+-k,!0):this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.stroke(),this.context.fill()}null!=e.roundFill&&null!=e.roundFill&&(m=e.roundFill,b=(g[m][1]-this.min)/(this.max-this.min)*(e.anglesEnd-e.anglesStart)+e.anglesStart,isNexacroRuntime&&(b=(g[m][1]-this.min)/(this.max-this.min)*(e.anglesEnd+DxChart.HALFPI-(e.anglesStart+DxChart.HALFPI))+(e.anglesStart+DxChart.HALFPI)),D=this.radius-(this.radius-e.segmentsRadiusStart)/2,C=(this.radius-e.segmentsRadiusStart)/2,b-=f,y=DxChart.getRadiusEndPoint(this.centerx,p,b,D),D=DxChart.getRadiusEndPoint(this.centerx,p,b-.05*DxChart.HALFPI,D),v=DxChart.parseRadialGradientInfo(this,g[m][2],this.centerx,p,d,this.centerx,p,u),this.context.strokeStyle=e.colorsStroke||g[m][2],this.context.fillStyle=v,this.context.lineWidth=e.lineWidthSegments,isNexacroRuntime&&(this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.setElementFillStyle(v),this.context.setElementLineWidth(this.context.lineWidth)),this.context.beginPath(),a=Math.max(C,1),this.context.arc(y[0],y[1],a,0,2*Math.PI,!1),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.beginPath(),this.context.arc(D[0],D[1],a,0,2*Math.PI,!1),this.context.closePath(),this.context.fill()),this.context.beginPath()}else this.context.lineWidth=e.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=e.colorsStroke||e.colorsGreenColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),v=DxChart.parseRadialGradientInfo(this,e.colorsGreenColor,this.centerx,this.centery,d,this.centerx,this.centery,u),this.context.fillStyle=v,isNexacroRuntime&&this.context.setElementFillStyle(v),this.context.lineWidth=e.lineWidthSegments,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.beginPath(),this.context.arc(this.centerx,this.centery,.85*this.radius,(e.colorsGreenStart-this.min)/(this.max-this.min)*(e.anglesEnd-e.anglesStart)+e.anglesStart,(e.colorsGreenEnd-this.min)/(this.max-this.min)*(e.anglesEnd-e.anglesStart)+e.anglesStart,!1),0<e.segmentsRadiusStart?isNexacroRuntime?(this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.beginPath(),S=("transparent"==e.backgroundColor2?null:e.backgroundColor2)||("transparent"==e.backgroundColor?null:e.backgroundColor)||this.canvas._refform.parent.background||"#ffffff",this.context.setElementStrokeStyle(e.colorsStroke||e.colorsGreenColor),this.context.setElementFillStyle(S),this.context.arc(this.centerx,this.centery,e.segmentsRadiusStart,(e.colorsGreenStart-this.min)/(this.max-this.min)*(e.anglesEnd-e.anglesStart)+e.anglesStart,(e.colorsGreenEnd-this.min)/(this.max-this.min)*(e.anglesEnd-e.anglesStart)+e.anglesStart,!1),this.context.lineTo(this.centerx,this.centery)):this.context.arc(this.centerx,this.centery,e.segmentsRadiusStart,(e.colorsGreenEnd-this.min)/(this.max-this.min)*(e.anglesEnd-e.anglesStart)+e.anglesStart,(e.colorsGreenStart-this.min)/(this.max-this.min)*(e.anglesEnd-e.anglesStart)+e.anglesStart,!0):this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.strokeStyle=e.colorsStroke||e.colorsYellow,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),v=DxChart.parseRadialGradientInfo(this,e.colorsYellowColor,this.centerx,this.centery,0,this.centerx,this.centery,.85*this.radius),this.context.fillStyle=v,isNexacroRuntime&&this.context.setElementFillStyle(v),this.context.lineWidth=e.lineWidthSegments,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.beginPath(),this.context.arc(this.centerx,this.centery,.85*this.radius,(e.colorsYellowStart-this.min)/(this.max-this.min)*(e.anglesEnd-e.anglesStart)+e.anglesStart,(e.colorsYellowEnd-this.min)/(this.max-this.min)*(e.anglesEnd-e.anglesStart)+e.anglesStart,!1),0<e.segmentsRadiusStart?isNexacroRuntime?(this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.beginPath(),S=("transparent"==e.backgroundColor2?null:e.backgroundColor2)||("transparent"==e.backgroundColor?null:e.backgroundColor)||this.canvas._refform.parent.background||"#ffffff",this.context.setElementStrokeStyle(e.colorsStroke||e.colorsYellow),this.context.setElementFillStyle(S),this.context.arc(this.centerx,this.centery,e.segmentsRadiusStart,(e.colorsYellowStart-this.min)/(this.max-this.min)*(e.anglesEnd-e.anglesStart)+e.anglesStart,(e.colorsYellowEnd-this.min)/(this.max-this.min)*(e.anglesEnd-e.anglesStart)+e.anglesStart,!1),this.context.lineTo(this.centerx,this.centery)):this.context.arc(this.centerx,this.centery,e.segmentsRadiusStart,(e.colorsYellowEnd-this.min)/(this.max-this.min)*(e.anglesEnd-e.anglesStart)+e.anglesStart,(e.colorsYellowStart-this.min)/(this.max-this.min)*(e.anglesEnd-e.anglesStart)+e.anglesStart,!0):this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.strokeStyle=e.colorsStroke||e.colorsRedColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),v=DxChart.parseRadialGradientInfo(this,e.colorsRedColor,this.centerx,this.centery,0,this.centerx,this.centery,.85*this.radius),this.context.fillStyle=v,isNexacroRuntime&&this.context.setElementFillStyle(v),this.context.lineWidth=e.lineWidthSegments,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.beginPath(),this.context.arc(this.centerx,this.centery,.85*this.radius,(e.colorsRedStart-this.min)/(this.max-this.min)*(e.anglesEnd-e.anglesStart)+e.anglesStart,(e.colorsRedEnd-this.min)/(this.max-this.min)*(e.anglesEnd-e.anglesStart)+e.anglesStart,!1),0<e.segmentsRadiusStart?isNexacroRuntime?(this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.beginPath(),S=("transparent"==e.backgroundColor2?null:e.backgroundColor2)||("transparent"==e.backgroundColor?null:e.backgroundColor)||this.canvas._refform.parent.background||"#ffffff",this.context.setElementStrokeStyle(e.colorsStroke||e.colorsYellow),this.context.setElementFillStyle(S),this.context.arc(this.centerx,this.centery,e.segmentsRadiusStart,(e.colorsRedStart-this.min)/(this.max-this.min)*(e.anglesEnd-e.anglesStart)+e.anglesStart,(e.colorsRedEnd-this.min)/(this.max-this.min)*(e.anglesEnd-e.anglesStart)+e.anglesStart,!1),this.context.lineTo(this.centerx,this.centery)):this.context.arc(this.centerx,this.centery,e.segmentsRadiusStart,(e.colorsRedEnd-this.min)/(this.max-this.min)*(e.anglesEnd-e.anglesStart)+e.anglesStart,(e.colorsRedStart-this.min)/(this.max-this.min)*(e.anglesEnd-e.anglesStart)+e.anglesStart,!0):this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.stroke(),this.context.fill(),isNexacroRuntime&&0<e.segmentsRadiusStart&&(this.context.beginPath(),S=("transparent"==e.backgroundColor2?null:e.backgroundColor2)||("transparent"==e.backgroundColor?null:e.backgroundColor)||this.canvas._refform.parent.background||"#ffffff",this.context.setElementFillStyle(S),a=Math.max(e.segmentsRadiusStart-2,1),this.context.arc(this.centerx,this.centery,a,e.anglesStart+(e.borderUse?.1:-.1),e.anglesEnd-(e.borderUse?.1:-.1),!1),this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.fill()),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth);e.borderUse&&(this.context.strokeStyle=e.borderColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=e.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.beginPath(),this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,this.radius,e.anglesStart,e.anglesEnd,!1),this.context.closePath(),this.context.stroke()),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)},this.drawNeedle=function(){var t,e,i,s,a,o,r,n,h,l,c,x,d=this.properties,u=(this.value-this.min)/(this.max-this.min)*(d.anglesEnd-d.anglesStart)+d.anglesStart,g=("string"!=typeof d.needleImageUrl||this.__needle_image__?this.__needle_image__&&(this.context.save(),DxChart.rotateCanvas(this.canvas,this.centerx,this.centery,u),this.context.drawImage(this.__needle_image__,this.centerx+d.needleImageOffsetX,this.centery+d.needleImageOffsetY),this.context.restore()):(g=new Image,(this.__needle_image__=g).src=d.needleImageUrl,t=this,g.onload=function(){t.context.save(),DxChart.rotateCanvas(t.canvas,t.centerx,t.centery,u),t.context.drawImage(this,t.centerx+d.needleImageOffsetX,t.centery+d.needleImageOffsetY),t.context.restore(),DxChart.redraw()}),"number"==typeof d.needleRadius?d.needleRadius:.7*this.radius);"pointer"===d.needleType?(c=40<.06*this.radius?40:.06*this.radius,this.context.beginPath(),this.context.fillStyle=d.needleColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,c,0,DxChart.TWOPI,!1),this.context.fill(),this.context.beginPath(),isNexacroRuntime?(u+=DxChart.HALFPI,r=this.centerx+Math.cos(u+DxChart.HALFPI+0)*c,n=this.centery+Math.sin(u+DxChart.HALFPI+0)*c,h=this.centerx+Math.cos(u-DxChart.HALFPI)*c,l=this.centery+Math.sin(u-DxChart.HALFPI)*c,e=this.centerx+Math.cos(u)*g,i=this.centery+Math.sin(u)*g,this.context.moveTo(e,i),this.context.lineTo(r,n),this.context.lineTo(h,l)):(this.context.arc(this.centerx,this.centery,c,u+DxChart.HALFPI,u+DxChart.HALFPI+1e-4,!1),this.context.arc(this.centerx,this.centery,g,u,u+.001,!1),this.context.arc(this.centerx,this.centery,c,u-DxChart.HALFPI,u-DxChart.HALFPI+.001,!1))):(this.context.fillStyle="black",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.lineWidth=200<=this.radius?7:3,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.lineCap="round",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.beginPath(),this.context.strokeStyle=d.needleColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),"number"==typeof d.needleLineWidth&&(this.context.lineWidth=d.needleLineWidth,isNexacroRuntime)&&this.context.setElementLineWidth(this.context.lineWidth),isNexacroRuntime?(this.context.beginPath(),s=u+DxChart.HALFPI,this.context.setElementLineWidth(this.context.lineWidth),a=this.centerx+Math.cos(s)*g,o=this.centery+Math.sin(s)*g,this.context.moveTo(this.centerx,this.centery),this.context.lineTo(a,o),this.context.closePath()):(this.context.arc(this.centerx,this.centery,g,u,u+.001,!1),this.context.lineTo(this.centerx,this.centery)),this.context.stroke(),d.needleHead&&(this.context.fillStyle=d.needleColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.beginPath(),this.context.lineWidth=1,isNexacroRuntime?(s=u+DxChart.HALFPI,this.context.setElementLineWidth(this.context.lineWidth),a=this.centerx+Math.cos(s)*(g+15),o=this.centery+Math.sin(s)*(g+15),r=this.centerx+Math.cos(s+d.needleHeadWidth)*(g-d.needleHeadLength+15),n=this.centery+Math.sin(s+d.needleHeadWidth)*(g-d.needleHeadLength+15),h=this.centerx+Math.cos(s-d.needleHeadWidth)*(g-d.needleHeadLength+15),l=this.centery+Math.sin(s-d.needleHeadWidth)*(g-d.needleHeadLength+15),this.context.moveTo(a,o),this.context.lineTo(a,o),this.context.lineTo(r,n),this.context.lineTo(h,l)):(this.context.arc(this.centerx,this.centery,g+15,u,u+.001,0),x=Math.max(g-d.needleHeadLength+15,1),this.context.arc(this.centerx,this.centery,x,u+d.needleHeadWidth,u+d.needleHeadWidth,0),this.context.arc(this.centerx,this.centery,x,u-d.needleHeadWidth,u-d.needleHeadWidth,1)),this.context.fill()),d.needleTail&&(this.context.beginPath(),this.context.strokeStyle=d.needleColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),"number"==typeof d.needleLineWidth&&(this.context.lineWidth=d.needleLineWidth,isNexacroRuntime)&&this.context.setElementLineWidth(this.context.lineWidth),u=(this.value-this.min)/(this.max-this.min)*(this.properties.anglesEnd-this.properties.anglesStart)+this.properties.anglesStart+DxChart.PI,this.context.arc(this.centerx,this.centery,25,u,u+.001,!1),this.context.lineTo(this.centerx,this.centery),this.context.stroke()),c=40<.06*this.radius?40:.06*this.radius,this.context.beginPath(),this.context.fillStyle=d.centerpinStroke,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.arc(this.centerx,this.centery,c,.001,DxChart.TWOPI,0),this.context.fill(),this.context.fillStyle=d.centerpinFill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.beginPath(),x=Math.max(c-2,1),this.context.arc(this.centerx,this.centery,x,.001,DxChart.TWOPI,0)),this.context.fill()},this.drawLabels=function(){var t=this.properties;if(t.labelsValue){this.radius,t.textItalic;var e=t.scaleUnitsPost,i=t.scaleUnitsPre,s=t.scalePoint,a=t.scaleThousand,o=this.centerx,r=this.centery,n=(this.min,this.max,t.scaleDecimals),h=t.labelsCount,l=t.labelsRadiusOffset,c=t.labelsSpecific,x=DxChart.getTextInfo({object:this,prefix:"labels"});if(c)for(var d,u,g=0;g<c.length;++g)f=(u=("string"==typeof c[g]||"number"==typeof c[g]?(p=this.getAngle((this.max-this.min)/c.length/2+(this.max-this.min)/c.length*g+this.min),isNexacroRuntime&&(p+=DxChart.HALFPI),d=p*(180/DxChart.PI),c[g]):(p=this.getAngle(c[g][1]),isNexacroRuntime&&(p+=DxChart.HALFPI),d=p*(180/DxChart.PI),c[g][0])).toString(),DxChart.getRadiusEndPoint(this.centerx,this.centery,p,this.radius*t.labelsInnerPercent+l)),DxChart.text({object:this,font:x.font,size:x.size,color:x.color,bold:x.bold,italic:x.italic,x:isNexacroRuntime&&270==d?f[0]-10:f[0],y:f[1],text:u,halign:"center",valign:"bottom",angle:d+90,bounding:!1,tag:"labels-specific"});else{this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.beginPath();for(g=0;g<=h;++g){var p=(t.anglesEnd-t.anglesStart)*(g/h)+t.anglesStart,f=DxChart.getRadiusEndPoint(o,r,p+(0!=g&&g!=h||!t.borderUse?0:0==g?.05:-.05),this.radius*t.labelsInnerPercent-("bottom"===t.textValign?15:0)+l),m=(isNexacroRuntime&&(p+=DxChart.HALFPI,f=DxChart.getRadiusEndPoint(o,r,p+(0!=g&&g!=h||!t.borderUse?0:0==g?.05:-.05),this.radius*t.labelsInnerPercent-("bottom"===t.textValign?15:0)+l)),t.anglesStart),b=t.anglesEnd,C=m*(180/DxChart.PI),b=(DxChart.PI,(b-m)*(180/DxChart.PI)),m=t.textValign,y=t.borderUse?0==g?"left":g==h?"right":"center":"center",b=1/h*b*g+C-270,C=(isNexacroRuntime&&(b+=90),t.labelsNoAngle&&(b=0),(this.max-this.min)*(g/h)+this.min);DxChart.text({object:this,font:x.font,size:x.size,color:x.color,bold:x.bold,italic:x.italic,x:f[0],y:f[1],text:DxChart.numberFormat({object:this,number:C.toFixed(0===C?0:n),unitspre:i,unitspost:e,point:s,thousand:a}),halign:y,valign:m,angle:b,bounding:!1,boundingFill:0==g||g==h?"white":null,tag:"scale"})}}}},this.drawReadout=function(){var t,e,i=this.properties;i.labelsCenterValue&&(t=DxChart.numberFormat({object:this,number:this.value.toFixed(0===this.value?0:i.labelsCenterDecimals),unitspre:i.labelsCenterUnitsPre,unitspost:i.labelsCenterUnitsPost,point:i.labelsCenterPoint,thousand:i.labelsCenterThousand}),t="string"==typeof i.labelsCenterSpecific&&""!=i.labelsCenterSpecific?i.labelsCenterSpecific:t)&&""!=t&&(e=DxChart.getTextInfo({object:this,prefix:"labelsCenter"}),DxChart.text({object:this,font:e.font,size:e.size,color:e.color,bold:e.bold,italic:e.italic,x:this.centerx+i.labelsCenterOffsetX,y:this.centery-e.size-15+i.labelsCenterOffsetY,text:t,halign:"center",valign:"bottom",bounding:i.labelsCenterBackground,boundingFill:i.labelsCenterBackgroundFill,boundingStroke:i.labelsCenterBackgroundStroke,accessible:i.labelsValueAccessible,tag:"value.text"}))},this.getShape=function(t){},this.getValue=function(t){var e=this.properties,t=DxChart.getMouseXY(t),i=DxChart.getAngleByXY(this.centerx,this.centery,t[0],t[1]);if(DxChart.getHypLength(this.centerx,this.centery,t[0],t[1])>this.radius)return null;i<DxChart.HALFPI&&(i+=DxChart.TWOPI);t=(i-e.anglesStart)/(e.anglesEnd-e.anglesStart)*(this.max-this.min)+this.min,t=Math.max(t,this.min);return Math.min(t,this.max)},this.getObjectByXY=function(t){this.properties;var t=DxChart.getMouseXY(t),e=DxChart.getHypLength(this.centerx,this.centery,t[0],t[1]);if(t[0]>this.centerx-this.radius&&t[0]<this.centerx+this.radius&&t[1]>this.centery-this.radius&&t[1]<this.centery+this.radius&&e<=this.radius)return this},this.changing_mousemove=function(t){properties.changeableValue&&DxChart.Registry.get("changing")&&DxChart.Registry.get("changing").uid==this.uid&&(this.value=this.getValue(t),DxChart.clear(this.canvas),DxChart.redrawCanvas(this.canvas),DxChart._fireEvent(this,"onadjust"))},this.getAngle=function(t){return t>this.max||t<this.min?null:(t-this.min)/(this.max-this.min)*(this.properties.anglesEnd-this.properties.anglesStart)+this.properties.anglesStart},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colorsGreenColor=DxChart.arrayClone(t.colorsGreenColor),this.original_colors.colorsYellowColor=DxChart.arrayClone(t.colorsYellowColor),this.original_colors.colorsRedColor=DxChart.arrayClone(t.colorsRedColor),this.original_colors.colorsRanges=DxChart.arrayClone(t.colorsRanges))},this.reset=function(){},this.firstDrawFunc=function(){},this.drawAni=function(){"grow"===(arguments[0]||"grow")&&this.grow(arguments[1]||{},arguments[2]||function(){})},this.grow=function(){this.cancelStopAnimation();var e=this;e.currentValue=e.currentValue||e.min;var i=(arguments[0]||{}).frames||30,s=0,a=(e.value-e.currentValue)/i,o=arguments[1]||function(){},r=e.currentValue;return function t(){e.stopAnimationRequested?e.stopAnimationRequested=!1:(e.value=r+s++*a,DxChart.clear(e.canvas),DxChart.redrawCanvas(e.canvas),s<=i?DxChart.Effects.updateCanvas(t,e.canvas):o(e))}(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.resetData(t.min,t.max,t.value),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartOdo(t){return DxChart._Base.call(this,t,"odo"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"scale"),DxChart.setDefaultProperties(this,"border"),DxChart.setDefaultProperties(this,"tickmarks"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"default"),this.properties.labelsMargin=35,t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t,e,i){this.binddataset&&(t=DxChart._getColumnDataset(this.binddataset,t),e=DxChart._getColumnDataset(this.binddataset,e),i=DxChart._getColumnDataset(this.binddataset,i)),this.min=DxChart.str2num(t),DxChart.isArray(this.min)&&(this.min=this.min[0]),this.max=DxChart.str2num(e),DxChart.isArray(this.max)&&(this.max=this.max[0]),this.value=DxChart.str2num(i),DxChart.isArray(this.value)&&(this.value=this.value[0]),this.currentValue=null,this.properties.colorsGreenMax=.75*this.max,this.properties.colorsRedMin=.9*this.max},this.drawAni=function(){"grow"===(arguments[0]||"grow")&&this.grow(arguments[1]||{},arguments[2]||function(){})},this.draw=function(){if(!this.min&&!this.max)return DxChart.NoDataShow(this);var t=this.properties;if(DxChart._BeforeDraw(this),this.currentValue=this.value,this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.radius=Math.max(Math.min((this.canvas.width-this.marginLeft-this.marginRight)/2,(this.canvas.height-this.marginTop-this.marginBottom)/2)-(t.borderUse?25:0),21),this.diameter=2*this.radius,this.centerx=(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft,this.centery=(this.canvas.height-this.marginTop-this.marginBottom)/2+this.marginTop,this.range=this.max-this.min,this.coordsText=[],t.keyData&&0<t.keyData.length&&this.canvas.width>this.canvas.height&&(this.centerx=5+this.radius),"number"==typeof t.centerx&&(this.centerx=t.centerx),"number"==typeof t.centery&&(this.centery=t.centery),"number"==typeof t.radius&&(this.radius=t.radius,t.borderUse)&&(this.radius-=25),this.context.lineWidth=t.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.drawBackground(),this.drawLabels(),this.drawNeedle(this.value,t.needleColor),0<t.needleExtra.length)for(var e=0;e<t.needleExtra.length;++e){var i=t.needleExtra[e];this.drawNeedle(i[0],i[1],i[2])}if(t.keyData&&0<t.keyData.length){var s=[t.needleColor];if(0<t.needleExtra.length)for(e=0;e<t.needleExtra.length;++e){i=t.needleExtra[e];s.push(i[1])}DxChart.drawKey(this,t.keyData,s)}return t.contextmenu&&DxChart.showContext(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.drawBackground=function(){var t=this.properties,e=(this.context.beginPath(),t.shadowOuterUse&&DxChart.setShadow(this,t.shadowOuterStyleObj.color,t.shadowOuterStyleObj.offsetx,t.shadowOuterStyleObj.offsety,t.shadowOuterStyleObj.blur),isNexacroRuntime&&t.borderUse&&(s=this.centerx,a=this.centery,o=s-(h=this.radius),r=a-h,this.context.save(),this.context.translate(o,r),n=DxChart.parseRadialGradientInfo(this,t.borderColor,s=h,a=h,h-2,s,a,h+20),this.context.beginPath(),this.context.setElementFillStyle(n),this.context.arc(s,a,h+20,0,DxChart.TWOPI,0),this.context.closePath(),this.context.fill(),this.context.restore(),this.context.beginPath()),t.backgroundColor);if(this.context.fillStyle=e,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.arc(this.centerx,this.centery,this.radius,1e-4,DxChart.TWOPI,!1),isNexacroRuntime&&(this.context.lineTo(this.centerx,this.centery),this.context.closePath()),this.context.fill(),DxChart.noShadow(this),this.context.strokeStyle="#666666",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),isNexacroRuntime&&this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.radius,0,DxChart.TWOPI,!1),this.context.fillStyle=e,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.arc(this.centerx,this.centery,this.radius,0,DxChart.TWOPI,!1),isNexacroRuntime&&(this.context.lineTo(this.centerx,this.centery),this.context.closePath()),this.context.fill(),t.tickmarks){this.context.beginPath(),this.context.strokeStyle="#bbbbbb",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle);for(var i=0;i<=360;i+=3)this.context.arc(this.centerx,this.centery,this.radius,0,i/57.3,!1),this.context.lineTo(this.centerx,this.centery);this.context.stroke()}this.context.beginPath(),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle="black",isNexacroRuntime&&!t.borderUse&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=e,isNexacroRuntime&&this.context.setElementFillStyle(e),this.context.strokeStyle=e,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.arc(this.centerx,this.centery,this.radius-5,0,DxChart.TWOPI,!1),this.context.fill(),isNexacroRuntime&&t.borderUse||this.context.stroke(),this.context.beginPath(),this.context.strokeStyle=t.backgroundLinesColor,isNexacroRuntime&&(this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.moveTo(this.centerx,this.centery));for(i=0;i<360;i+=18)this.context.arc(this.centerx,this.centery,this.radius,0,DxChart.toRadians(i),!1),this.context.lineTo(this.centerx,this.centery);this.context.closePath(),this.context.stroke(),isNexacroRuntime&&t.borderUse||(this.context.beginPath(),this.context.strokeStyle=t.backgroundBorderColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.arc(this.centerx,this.centery,this.radius,0,DxChart.TWOPI,!1),this.context.stroke()),t.shadowInnerUse&&(this.context.beginPath(),DxChart.setShadow(this,t.shadowInnerStyleObj.color,t.shadowInnerStyleObj.offsetx,t.shadowInnerStyleObj.offsety,t.shadowInnerStyleObj.blur),this.context.arc(this.centerx,this.centery,this.radius-t.labelsMargin,0,DxChart.TWOPI,0),this.context.fill(),this.context.stroke(),DxChart.noShadow(this));var s=this.centerx,a=this.centery,o=s-(h=this.radius),r=a-h,e=(isNexacroRuntime&&(this.context.save(),this.context.translate(o,r),a=s=h),t.colorsGreenColor),n=DxChart.parseRadialGradientInfo(this,e,s,a,0,s,a,this.radius),o=DxChart.HALFPI,r=(isNexacroRuntime&&(o=DxChart.PI),t.tickmarksHighlighted&&(this.context.beginPath(),this.context.lineWidth=5,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=n,isNexacroRuntime&&this.context.setElementStrokeStyle(n),this.context.arc(s,a,this.radius-2.5,-1*o,(t.colorsGreenMax-this.min)/(this.max-this.min)*DxChart.TWOPI-o,0),this.context.stroke(),this.context.lineWidth=1,isNexacroRuntime)&&this.context.setElementLineWidth(this.context.lineWidth),this.context.beginPath(),this.context.fillStyle=n,isNexacroRuntime&&this.context.setElementFillStyle(n),arcRadius=Math.max(this.radius-t.labelsMargin,1),this.context.arc(s,a,arcRadius,0-o,(t.colorsGreenMax-this.min)/(this.max-this.min)*DxChart.TWOPI-o,!1),this.context.lineTo(s,a),this.context.closePath(),this.context.fill(),t.colorsYellowColor),h=(n=DxChart.parseRadialGradientInfo(this,r,s,a,0,s,a,this.radius),t.tickmarksHighlighted&&(this.context.beginPath(),this.context.lineWidth=5,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=n,isNexacroRuntime&&this.context.setElementStrokeStyle(n),this.context.arc(s,a,this.radius-2.5,(t.colorsGreenMax-this.min)/(this.max-this.min)*DxChart.TWOPI-o,(t.colorsRedMin-this.min)/(this.max-this.min)*DxChart.TWOPI-o,0),this.context.stroke(),this.context.lineWidth=1,isNexacroRuntime)&&this.context.setElementLineWidth(this.context.lineWidth),this.context.beginPath(),this.context.fillStyle=n,isNexacroRuntime&&this.context.setElementFillStyle(n),arcRadius=Math.max(this.radius-t.labelsMargin,1),this.context.arc(s,a,arcRadius,(t.colorsGreenMax-this.min)/(this.max-this.min)*DxChart.TWOPI-o,(t.colorsRedMin-this.min)/(this.max-this.min)*DxChart.TWOPI-o,!1),this.context.lineTo(s,a),this.context.closePath(),this.context.fill(),t.colorsRedColor);if(n=DxChart.parseRadialGradientInfo(this,h,s,a,0,s,a,this.radius),t.tickmarksHighlighted&&(this.context.beginPath(),this.context.lineWidth=5,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=n,isNexacroRuntime&&this.context.setElementStrokeStyle(n),this.context.arc(s,a,this.radius-2.5,(t.colorsRedMin-this.min)/(this.max-this.min)*DxChart.TWOPI-o,DxChart.TWOPI-o,0),this.context.stroke(),this.context.lineWidth=1,isNexacroRuntime)&&this.context.setElementLineWidth(this.context.lineWidth),this.context.beginPath(),this.context.fillStyle=n,isNexacroRuntime&&this.context.setElementFillStyle(n),this.context.strokeStyle=n,isNexacroRuntime&&this.context.setElementStrokeStyle(n),arcRadius=Math.max(this.radius-t.labelsMargin,1),this.context.arc(s,a,arcRadius,(t.colorsRedMin-this.min)/(this.max-this.min)*DxChart.TWOPI-o,DxChart.TWOPI-o,!1),this.context.lineTo(s,a),this.context.closePath(),this.context.fill(),isNexacroRuntime&&(this.context.restore(),s=this.centerx,a=this.centery),!isNexacroRuntime&&t.borderUse&&(n=DxChart.parseRadialGradientInfo(this,t.borderColor,this.centerx,this.centery,this.radius-2,this.centerx,this.centery,this.radius+20),this.context.beginPath(),this.context.fillStyle=n,isNexacroRuntime&&this.context.setElementFillStyle(n),this.context.strokeStyle="rgba(0,0,0,0)",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=.001,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.arc(this.centerx,this.centery,this.radius+20,0,DxChart.TWOPI,0),this.context.arc(this.centerx,this.centery,this.radius-2,DxChart.TWOPI,0,1),this.context.fill()),this.context.lineWidth=t.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),t.titleText&&DxChart.drawTitle(this),!t.tickmarksHighlighted)for(i=18;i<=360;i+=36)this.context.beginPath(),this.context.strokeStyle=t.tickmarksLargeColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=2,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.arc(this.centerx,this.centery,this.radius-1,DxChart.toRadians(i),DxChart.toRadians(i+.01),!1),this.context.arc(this.centerx,this.centery,this.radius-7,DxChart.toRadians(i),DxChart.toRadians(i+.01),!1),this.context.stroke()},this.drawNeedle=function(t,e){var i,s,a,o,r,n,h=this.properties,l=arguments[2]||this.radius-h.labelsMargin;l<21&&(l=21),this.context.fillStyle="#999999",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.beginPath(),this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,10,0,DxChart.TWOPI,!1),this.context.fill(),this.context.closePath(),this.context.fill(),this.context.fillStyle=e,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.strokeStyle="#666666",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.beginPath(),this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,8,0,DxChart.TWOPI,!1),this.context.fill(),this.context.closePath(),this.context.stroke(),this.context.fill(),"pointer"==h.needleType?(this.context.strokeStyle=e,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=h.needleWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.lineCap="round",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.lineJoin="round",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.context.beginPath(),this.context.beginPath(),this.context.moveTo(this.centerx,this.centery),h.needleTail&&(i=(t/this.range*360+90)/(180/DxChart.PI),isNexacroRuntime?(s=this.centerx+20*Math.cos(i),a=this.centery+20*Math.sin(i),this.context.lineTo(s,a),this.context.closePath(),this.context.stroke(),this.context.beginPath()):this.context.arc(this.centerx,this.centery,20,i,(t/this.range*360+90+.01)/(180/DxChart.PI),!1)),i=(t/this.range*360-90)/(180/DxChart.PI),isNexacroRuntime?(s=this.centerx+Math.cos(i)*(l-10),a=this.centery+Math.sin(i)*(l-10),this.context.moveTo(this.centerx,this.centery),this.context.lineTo(s,a),this.context.closePath(),this.context.stroke()):this.context.arc(this.centerx,this.centery,l-10,i,(t/this.range*360-90+.1)/(180/DxChart.PI),!1),this.context.closePath()):"triangle"==h.needleType&&(this.context.lineWidth=.01,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.lineEnd="square",this.context.lineJoin="miter",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.context.beginPath(),this.context.fillStyle=h.needleTriangleBorder,isNexacroRuntime?(this.context.setElementLineWidth(2),this.context.setElementStrokeStyle(h.needleTriangleBorder),this.context.setElementFillStyle(e),i=t/this.range*360/57.3,o=DxChart.getRadiusEndPoint(this.centerx,this.centery,i,11),i=(t/this.range*360+180)/57.3,n=DxChart.getRadiusEndPoint(this.centerx,this.centery,i,11),i=(t/this.range*360-90)/57.3,r=DxChart.getRadiusEndPoint(this.centerx,this.centery,i,l-5),this.path("b m % % l % % l % % l % % c f % s %",this.centerx,this.centery,o[0],o[1],r[0],r[1],n[0],n[1],e,h.needleTriangleBorder),this.context.setElementLineWidth(.01),this.context.beginPath()):(this.context.arc(this.centerx,this.centery,11,t/this.range*360/57.3,(t/this.range*360+.01)/57.3,0),this.context.arc(this.centerx,this.centery,11,(t/this.range*360+180)/57.3,(t/this.range*360+180+.01)/57.3,0),this.context.arc(this.centerx,this.centery,l-5,(t/this.range*360-90)/57.3,(t/this.range*360-90)/57.3+.01,0)),this.context.closePath(),this.context.fill(),this.context.beginPath(),this.context.arc(this.centerx,this.centery,15,0,DxChart.TWOPI,0),this.context.closePath(),this.context.fill(),this.context.beginPath(),this.context.strokeStyle="black",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=e,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.arc(this.centerx,this.centery,7,t/this.range*360/57.3,(t/this.range*360+.01)/57.3,0),this.context.arc(this.centerx,this.centery,7,(t/this.range*360+180)/57.3,(t/this.range*360+180+.01)/57.3,0),this.context.arc(this.centerx,this.centery,l-13,(t/this.range*360-90)/57.3,(t/this.range*360-90)/57.3+.01,0),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.beginPath(),this.context.arc(this.centerx,this.centery,7,0,DxChart.TWOPI,0),this.context.closePath(),this.context.fill()),this.context.stroke(),this.context.fill(),this.context.beginPath(),this.context.fillStyle=e,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.arc(this.centerx,this.centery,"pointer"==h.needleType?7:12,.01,DxChart.TWOPI,!1),this.context.fill(),h.needleHead&&"pointer"==h.needleType&&(this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.fillStyle=e,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.lineJoin="miter",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.context.lineCap="butt",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.beginPath(),isNexacroRuntime?(i=(t/this.range*360-90)/57.3,s=this.centerx+Math.cos(i)*(l-5),a=this.centery+Math.sin(i)*(l-5),i=DxChart.toRadians(t/this.range*360-(l<60?80:85)),o=this.centerx+Math.cos(i)*(l-20),r=this.centery+Math.sin(i)*(l-20),i=DxChart.toRadians(t/this.range*360-(l<60?100:95)),n=this.centerx+Math.cos(i)*(l-20),h=this.centery+Math.sin(i)*(l-20),this.context.moveTo(s,a),this.context.lineTo(o,r),this.context.lineTo(n,h)):(this.context.arc(this.centerx,this.centery,l-5,(t/this.range*360-90)/57.3,(t/this.range*360-90+.1)/57.3,!1),this.context.arc(this.centerx,this.centery,l-20,DxChart.toRadians(t/this.range*360-(l<60?80:85)),DxChart.toRadians(t/this.range*360-(l<60?100:95)),1)),this.context.closePath(),this.context.fill()),this.context.beginPath(),this.context.fillStyle="gray",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,2,0,6.2795,!1),this.context.closePath(),this.context.fill()},this.drawLabels=function(){var t=this.properties,e=this.centerx,i=this.centery,s=this.radius-t.labelsMargin/2-5,a=this.min,o=this.max,r=t.scaleDecimals,n=t.scalePoint,h=t.scaleThousand,l=t.labels,c=t.scaleUnitsPre,x=t.scaleUnitsPost,d=(this.context.beginPath(),this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),DxChart.getTextInfo({object:this,prefix:"labels"}));if(l)for(var u=0;u<l.length;++u)DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:e+Math.cos(u/l.length*DxChart.TWOPI-DxChart.HALFPI)*(this.radius-t.labelsMargin/2),y:i+Math.sin(u/l.length*DxChart.TWOPI-DxChart.HALFPI)*(this.radius-t.labelsMargin/2),text:String(l[u]),valign:"center",halign:"center",tag:"labels"});else this.scale2=DxChart.getScale({object:this,options:{"scale.max":this.max,"scale.strict":!0,"scale.min":this.min,"scale.thousand":t.scaleThousand,"scale.point":t.scalePoint,"scale.decimals":t.scaleDecimals,"scale.labels.count":10,"scale.round":!1,"scale.units.pre":t.scaleUnitsPre,"scale.units.post":t.scaleUnitsPost}}),DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:e+.588*s,y:i-.809*s,text:DxChart.numberFormat({object:this,number:(.1*(o-a)+a).toFixed(r),unitspre:c,unitspost:x,point:n,thousand:h}),halign:"center",valign:"center",angle:36,tag:"scale"}),DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:e+.951*s,y:i-.309*s,text:DxChart.numberFormat({object:this,number:(.2*(o-a)+a).toFixed(r),unitspre:c,unitspost:x,point:n,thousand:h}),halign:"center",valign:"center",angle:72,tag:"scale"}),DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:e+.949*s,y:i+.31*s,text:DxChart.numberFormat({object:this,number:(.3*(o-a)+a).toFixed(r),unitspre:c,unitspost:x,point:n,thousand:h}),halign:"center",valign:"center",angle:108,tag:"scale"}),DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:e+.588*s,y:i+.809*s,text:DxChart.numberFormat({object:this,number:(.4*(o-a)+a).toFixed(r),unitspre:c,unitspost:x,point:n,thousand:h}),halign:"center",valign:"center",angle:144,tag:"scale"}),DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:e,y:i+s,text:DxChart.numberFormat({object:this,number:(.5*(o-a)+a).toFixed(r),unitspre:c,unitspost:x,point:n,thousand:h}),halign:"center",valign:"center",angle:180,tag:"scale"}),DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:e-.588*s,y:i+.809*s,text:DxChart.numberFormat({object:this,number:(.6*(o-a)+a).toFixed(r),unitspre:c,unitspost:x,point:n,thousand:h}),halign:"center",valign:"center",angle:216,tag:"scale"}),DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:e-.949*s,y:i+.3*s,text:DxChart.numberFormat({object:this,number:(.7*(o-a)+a).toFixed(r),unitspre:c,unitspost:x,point:n,thousand:h}),halign:"center",valign:"center",angle:252,tag:"scale"}),DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:e-.951*s,y:i-.309*s,text:DxChart.numberFormat({object:this,number:(.8*(o-a)+a).toFixed(r),unitspre:c,unitspost:x,point:n,thousand:h}),halign:"center",valign:"center",angle:288,tag:"scale"}),DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:e-.588*s,y:i-.809*s,text:DxChart.numberFormat({object:this,number:(.9*(o-a)+a).toFixed(r),unitspre:c,unitspost:x,point:n,thousand:h}),halign:"center",valign:"center",angle:324,tag:"scale"}),DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:e,y:i-s,text:DxChart.numberFormat({object:this,number:(o-a+a).toFixed(r),unitspre:c,unitspost:x,point:n,thousand:h}),halign:"center",valign:"center",tag:"scale"});this.context.fill(),t.labelsValue&&(this.context.strokeStyle="black",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),d=DxChart.getTextInfo({object:this,prefix:"labelsValue"}),DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:e+t.labelsValueOffsetX,y:i+d.size+15+t.labelsValueOffsetY,text:DxChart.numberFormat({object:this,number:this.value.toFixed(0===this.value?0:t.labelsValueDecimals),unitspre:t.labelsValueUnitsPre,unitspost:t.labelsValueUnitsPost,point:t.labelsValuePoint,thousand:t.labelsValueThousand}),halign:"center",valign:"center",bounding:!0,boundingFill:"rgba(255,255,255,0.7)",boundingStroke:"rgba(0,0,0,0)",tag:"value.text"}))},this.getShape=function(t){},this.getValue=function(t){var t=DxChart.getMouseXY(t),e=DxChart.getAngleByXY(this.centerx,this.centery,t[0],t[1]);return e+=DxChart.HALFPI,t[0]>=this.centerx&&t[1]<=this.centery&&(e-=DxChart.TWOPI),e/DxChart.TWOPI*(this.max-this.min)+this.min},this.getObjectByXY=function(t){var t=DxChart.getMouseXY(t),e=DxChart.getHypLength(this.centerx,this.centery,t[0],t[1]);if(t[0]>this.centerx-this.radius&&t[0]<this.centerx+this.radius&&t[1]>this.centery-this.radius&&t[1]<this.centery+this.radius&&e<=this.radius)return this},this.changing_mousemove=function(t){this.properties.changeableValue&&DxChart.Registry.get("changing")&&DxChart.Registry.get("changing").uid==this.uid&&(this.value=this.getValue(t),DxChart.clear(this.canvas),DxChart.redrawCanvas(this.canvas),DxChart._fireEvent(this,"onadjust"))},this.getAngle=function(t){return t>this.max||t<this.min?null:(t-this.min)/(this.max-this.min)*DxChart.TWOPI-DxChart.HALFPI},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colorsGreenColor=DxChart.arrayClone(t.colorsGreenColor),this.original_colors.colorsYellowColor=DxChart.arrayClone(t.colorsYellowColor),this.original_colors.colorsRedColor=DxChart.arrayClone(t.colorsRedColor))},this.reset=function(){},this.firstDrawFunc=function(){},this.grow=function(){this.cancelStopAnimation();var e=this,i=(arguments[0]||{}).frames||30,s=0,a=(this.currentValue,Number(e.currentValue)),o=(this.value-a)/i,r=arguments[1]||function(){};return function t(){e.stopAnimationRequested?e.stopAnimationRequested=!1:(e.value=a+s*o,DxChart.clear(e.canvas),DxChart.redrawCanvas(e.canvas),s++<i?DxChart.Effects.updateCanvas(t):r(e))}(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.resetData(t.min,t.max,t.value),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartPie(t){return DxChart._Base.call(this,t,"pie"),this.total=0,this.subTotal=0,this.angles=[],this.angles2=[],this.coordsLineCurve=[],this.coordsSticks=[],this.coordsAxes={xaxis:[],yaxis:[]},this.hasnegativevalues=!1,this.exploding=null,DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"border"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"variant"),DxChart.setDefaultProperties(this,"default"),this.properties.variantValue="pie",this.properties.keyPosition="graph",this.properties.labelsList=!0,this.properties.labelsSticks=!1,this.properties.labelsStickStyle="curve",this.properties.lineWidth=0,t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t){this.binddataset&&0<=t.toString().indexOf("bind:")&&(t=DxChart.parseDataset(this,t)),this.data=t,this.data=DxChart.str2num(this.data);for(var e=0,i=t.length;e<i;e++)this.total+=t[e],this["$"+e]={}},this.getDonutWidth=function(t,e){var e=e||0,i=t/2-e,s=this.properties;return"number"==typeof s.variantDonutWidth?i=t-s.variantDonutWidth:"string"==typeof s.variantDonutWidth&&(i=t-parseInt(parseInt(s.variantDonutWidth.replace("%",""))*t/100)-e),i},this.draw=function(){if(!this.data||0==this.data.length)return DxChart.NoDataShow(this);var t=this.properties;if(isNexacroRuntime&&(t.origin=0-Math.PI),this.radius=this.getRadius(),this.centerx=this.graph.width/2+this.properties.marginLeft+t.centerxAdjust,this.centery=this.graph.height/2+this.properties.marginTop+t.centeryAdjust,"number"==typeof t.radius&&(this.radius=t.radius),"number"==typeof t.centerx&&(this.centerx=t.centerx),"number"==typeof t.centery&&(this.centery=t.centery),!(this.radius<=0)){if(DxChart._BeforeDraw(this),this.subTotal=t.origin,this.angles=[],this.angles2=[],this.coordsText=[],0<=t.variantValue.indexOf("3d"))return t.variantValue3d=!0,this.draw3d();this.drawTitle(),this.total=DxChart.arraySum(this.data);for(var e=this.total,i=this.data,s=0,a=this.data.length;s<a;s++){var o=i[s]/e*DxChart.TWOPI;this.drawSegment(o,t.colors[s],s==a-1,s)}DxChart.noShadow(this),0<t.lineWidth&&this.drawBorders();for(var a=this.angles.length,r=this.radius,n=0;n<2;n+=1)for(s=0;s<a;s++){var h,l=this.angles[s],c=(isNexacroRuntime&&(l=this.angles2[s]),1===n&&(this.context.strokeStyle="object"==typeof t.colorsStroke?t.colorsStroke[s]:t.colorsStroke,isNexacroRuntime)&&this.context.setElementStrokeStyle(this.context.strokeStyle),l[2]),x=l[3],d=c-r,u=x-r;isNexacroRuntime&&(this.context.save(),this.context.translate(d,u),x=c=r),this.context.beginPath(),t.colors[s]&&(h=DxChart.parseRadialGradientInfo(this,t.colors[s],c,x,0,c,x,r),this.context.fillStyle=h,isNexacroRuntime)&&this.context.setElementFillStyle(h),this.context.lineJoin="round",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.context.arc(c,x,r,l[0],l[1],!1),"donut"!=t.variantValue||isNexacroRuntime?this.context.lineTo(c,x):this.context.arc(c,x,this.getDonutWidth(r),l[1],l[0],!0),this.context.closePath(),0===n?this.context.fill():this.context.stroke(),isNexacroRuntime&&this.context.restore()}if(isNexacroRuntime&&"donut"==t.variantValue)for(var g,p=("transparent"==t.backgroundColor?null:t.backgroundColor)||this.canvas._refform.parent.background||"#ffffff",f=(this.context.setElementFillStyle(p),this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.getDonutWidth(r),0,2*Math.PI,!1),this.context.closePath(),this.context.fill(),t.origin),e=this.total,r=this.radius,s=0,a=this.data.length;s<a;s++){var m,b,C=this.data[s]/e*DxChart.TWOPI,y=(g=f)+(C*=t.effectRoundrobinMultiplier);("object"==typeof t.exploded&&0<t.exploded[s]||"number"==typeof t.exploded)&&0<(m="number"==typeof t.exploded?t.exploded:t.exploded[s])&&(b=f+Math.PI/2+C/2,d=parseInt(Math.cos(b)*m),u=parseInt(Math.sin(b)*m),this.context.beginPath(),this.context.arc(this.centerx+d,this.centery+u,this.getDonutWidth(r,m),g,y,0),this.context.lineTo(this.centerx+d,this.centery+u),this.context.closePath(),this.context.fill()),f+=C}return t.labelsSticks&&(this.drawSticks(),t.colorsStroke),t.labelsData&&0<t.labelsData.length&&this.drawLabels(),t.centerpin&&this.drawCenterpin(),t.labelsIngraph&&this.drawInGraphLabels(),("string"==typeof t.labelsCenter||nexacro&&t.labelsCenter instanceof nexacro.Decimal)&&(nexacro&&t.labelsCenter instanceof nexacro.Decimal&&(t.labelsCenter=t.labelsCenter.valueOf()+""),this.drawCenterLabel(t.labelsCenter)),t.contextmenu&&DxChart.showContext(this),t.borderUse&&(this.context.beginPath(),this.context.lineWidth=5,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=t.borderColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.arc(this.centerx,this.centery,this.radius-2,0,DxChart.TWOPI,0),this.context.stroke()),t.keyData&&0<t.keyData.length&&DxChart.drawKey(this,t.keyData,t.colors),DxChart.noShadow(this),DxChart.addCustomText(this),1==t.events&&DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this}},this.drawTitle=function(){DxChart.drawTitle(this)},this.drawSegment=function(t,e,i,s){var a,o,r,n,h=this.properties,l=this.subTotal,c=(t*=h.effectRoundrobinMultiplier,isNexacroRuntime?this.context.save():e=this.parseSingleColorForGradient(e),this.context.fillStyle=e,this.context.strokeStyle=h.colorsStroke,this.context.lineWidth=0,this.context.beginPath(),h.shadowUse&&DxChart.setShadow(this,h.shadowStyleObj.color,h.shadowStyleObj.offsetx,h.shadowStyleObj.offsety,h.shadowStyleObj.blur),l),x=l+t,d=("object"==typeof h.exploded&&0<h.exploded[s]||"number"==typeof h.exploded?(r=o=0,n="number"==typeof h.exploded?h.exploded:h.exploded[s],d=l+t/2,o=parseInt(Math.cos(d)*n),r=parseInt(Math.sin(d)*n),a=this.radius,isNexacroRuntime&&(d=l+Math.PI/2+t/2,o=parseInt(Math.cos(d)*n),r=parseInt(Math.sin(d)*n)),this.context.moveTo(this.centerx+o,this.centery+r)):(r=o=0,a=this.radius),this.centerx),u=this.centery,g=a;isNexacroRuntime&&(this.context.translate(d-g,u-g),e=DxChart.parseRadialGradientInfo(this,e=e||"transparent",(d=g)+o,(u=g)+r,0,d+o,u+r,g),this.context.setElementFillStyle(e),this.context.setElementStrokeStyle(h.colorsStroke),this.context.setElementLineWidth(0)),this.context.arc(d+o,u+r,a,c,x,0),"donut"!=h.variantValue||isNexacroRuntime?this.context.lineTo(d+o,u+r):this.context.arc(d+o,u+r,this.getDonutWidth(a),x,c,!0),this.context.closePath(),(isNexacroRuntime?(this.angles.push([l+Math.PI/2,l+Math.PI/2+t,this.centerx+o,this.centery+r]),this.angles2):this.angles).push([l,l+t,this.centerx+o,this.centery+r]),this.context.fill(),isNexacroRuntime&&this.context.restore(),isNexacroRuntime&&"donut"==h.variantValue&&(n=(n="number"==typeof h.exploded?h.exploded:h.exploded[s])||0,g=("transparent"==h.backgroundColor?null:h.backgroundColor)||this.canvas._refform.parent.background||"#ffffff",this.context.setElementFillStyle(g),this.context.beginPath(),this.context.arc(this.centerx+o,this.centery+r,this.getDonutWidth(a),c,x,!1),this.context.closePath(),this.context.fill()),this.subTotal+=t},this.drawLabels=function(){var t=this.properties;if(t.labelsData&&t.labelsData.length){"string"==typeof t.labelsData&&(t.labelsData=DxChart.arrayPad({array:[],length:this.data.length,value:t.labelsData}));for(var e=0;e<t.labelsData.length;++e)DxChart.isTextual(t.labelsData[e])&&(t.labelsData[e]=DxChart.labelSubstitution({object:this,text:t.labelsData[e],index:e,value:this.data[e],decimals:t.labelsFormattedDecimals||0,unitsPre:t.labelsFormattedUnitsPre||"",unitsPost:t.labelsFormattedUnitsPost||"",thousand:t.labelsFormattedThousand||",",point:t.labelsFormattedPoint||"."}))}if(t.labelsData.length&&t.labelsList)return this.drawLabelsList();var i=t.labelsData,s=(this.context,t.textFontStyleObj.face,t.labelsBold,t.textFontStyleObj.size,this.centerx),a=this.centery,o=this.radius;if(DxChart.noShadow(this),this.context.fillStyle="black",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.beginPath(),i&&i.length){for(var r=DxChart.getTextInfo({object:this,prefix:"labels"}),e=0;e<this.angles.length;++e){var n,h,l,c=this.angles[e];"string"!=typeof i[e]&&"number"!=typeof i[e]||(this.context.moveTo(s,a),n=c[0]+(c[1]-c[0])/2,l=(c[1]-c[0])/2+c[0],c="object"==typeof t.exploded&&t.exploded[e]||"number"==typeof t.exploded?(c[1],c[0],c="number"==typeof t.exploded?t.exploded:t.exploded[e],h=Math.cos(l)*c,Math.sin(l)*c):h=0,t.labelsSticks&&(h+=Math.cos(l)*("object"==typeof t.labelsSticksLength?t.labelsSticksLength[e]:t.labelsSticksLength),c+=Math.sin(l)*("object"==typeof t.labelsSticksLength?t.labelsSticksLength[e]:t.labelsSticksLength)),l=s+h+(o+10+t.labelsRadiusOffset)*Math.cos(n)+(t.labelsSticks?n<DxChart.HALFPI||n>DxChart.TWOPI+DxChart.HALFPI?2:-2:0),c=a+c+(o+10+t.labelsRadiusOffset)*Math.sin(n),this.coordsSticks&&this.coordsSticks[e]&&(l=this.coordsSticks[e][4][0]+(l<s?-5:5),c=this.coordsSticks[e][4][1]),n=l<s?"right":"left",this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),DxChart.text({object:this,font:r.font,size:r.size,color:r.color,bold:r.bold,italic:r.italic,x:l,y:c,text:i[e],valign:"center",halign:n,tag:"labels",cssClass:DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:e})}))}this.context.fill()}},this.drawLabelsList=function(){for(var t,e,i,s,a,o=this.properties,r=(this.angles[u],o.labelsData),n=[],h=[],l=this.centerx,c=this.centery,x=this.radius,d=DxChart.TWOPI-DxChart.HALFPI,u=0;u<this.angles.length;++u)DxChart.isNull(this.data[u])||(t=this.angles[u][0]+(this.angles[u][1]-this.angles[u][0])/2,e=DxChart.getRadiusEndPoint(l,c,t,x+5),i=DxChart.getRadiusEndPoint(l,c,t,x+30),s=["number"==typeof o.exploded?o.exploded:o.exploded[u],Math.cos(t)*("number"==typeof o.exploded?o.exploded:o.exploded[u]),Math.sin(t)*("number"==typeof o.exploded?o.exploded:o.exploded[u])],a=DxChart.getTextInfo({object:this,prefix:"labels"}),t>-1*DxChart.HALFPI&&t<DxChart.HALFPI||d<t?n.push([u,t,r[u]||"",e,i,a.color,DxChart.arrayClone(s),d<t?-t:t+DxChart.TWOPI]):h.push([u,t,r[u]||"",e,i,a.color,DxChart.arrayClone(s)]));isNexacroRuntime||n.sort(function(t,e){return t[7]-e[7]});for(var g=(this.canvas.height-o.marginTop-o.marginBottom)/n.length,u=0,p=o.marginTop+g/2;u<n.length;p+=g,u++)n[u][2]&&(f=this.centerx+this.radius+50,n[u][0],m=n[u][6][0]?n[u][6][1]:0,b=n[u][6][0]?n[u][6][2]:0,(C=DxChart.text({object:this,font:a.font,size:a.size,color:a.color,bold:a.bold,italic:a.italic,x:f+m+o.labelsListRightOffsetX,y:p+b+o.labelsListRightOffsetY,text:n[u][2],valign:"center",halign:"left",tag:"labels",color:n[u][5],cssClass:DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:u})}))&&C.node&&(C.node.__index__=n[u][0]),"curve"!=o.labelsStickStyle?(y=C.x-5,D=C.y+C.height/2,k=y-(v=n[u][3][0]),S=n[u][3][1],w=Math.abs(.4*k),_=Math.abs(.6*k),L=D,P=k<0?(T=v-w,v-_):(T=v+w,v+_),this.path("lw % b m % % l % % l % % l % % s %",o.labelsSticksLineWidth,v,R=S,T,R,P,L,y,D,n[u][5])):this.path("lc round lw % b m % % qc % % % % s %",o.labelsSticksLineWidth,n[u][3][0]+m,n[u][3][1]+b,n[u][4][0]+m,n[u][4][1]+b,C.x-5,C.y+C.height/2,n[u][5]),this.path("b a % % 2 0 6.2830 false, f %",C.x-5,C.y+C.height/2,n[u][5]));for(var f,m,b,C,y,D,v,S,k,w,_,T,P,R,L,j=(this.canvas.height-o.marginTop-o.marginBottom)/h.length,u=h.length-1,p=o.marginTop+j/2;0<=u;p+=j,u--)h[u][2]&&(f=this.centerx-this.radius-50,h[u][0],m=h[u][6][0]?h[u][6][1]:0,b=h[u][6][0]?h[u][6][2]:0,(C=DxChart.text({object:this,font:a.font,size:a.size,color:a.color,bold:a.bold,italic:a.italic,x:f+m+o.labelsListLeftOffsetX,y:p+b+o.labelsListLeftOffsetY,text:h[u][2],valign:"center",halign:"right",tag:"labels",cssClass:DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:u})}))&&C.node&&(C.node.__index__=h[u][0]),"curve"!=o.labelsStickStyle?(y=C.x+5+C.width,D=C.y+C.height/2,k=y-(v=h[u][3][0]),S=h[u][3][1],w=Math.abs(.4*k),_=Math.abs(.6*k),L=D,P=k<0?(T=v-w,v-_):(T=v+w,v+_),this.path("lw % b m % % l % % l % % l % % s %",o.labelsSticksLineWidth,v,R=S,T,R,P,L,y,D,h[u][5])):this.path("lw % b m % % qc % % % % s %",o.labelsSticksLineWidth,h[u][3][0]+m,h[u][3][1]+b,h[u][4][0]+m,Math.round(h[u][4][1]+b),C.x+5+C.width,C.y+C.height/2,h[u][5]),this.path("b a % % 2 0 6.2830 false, f %",C.x+5+C.width,C.y+C.height/2,h[u][5]))},this.drawSticks=function(){for(var t=this.properties,e=t.lineWidth/2,i=t.exploded,s=t.labelsSticks,a=(t.colors,this.centerx),o=this.centery,r=this.radius,n=[],h=t.labelsSticksLineWidth,l=0,c=this.angles.length;l<c;++l){var x,d,u=this.angles[l];"object"==typeof s&&!s[l]||(x=u[1]-u[0],this.context.beginPath(),this.context.strokeStyle="string"==typeof t.labelsSticksColors?t.labelsSticksColors:DxChart.isNull(t.labelsSticksColors)?"gray":t.labelsSticksColors[l],isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=h,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),"string"==typeof t.labelsSticksColor&&(this.context.strokeStyle=t.labelsSticksColor,isNexacroRuntime)&&this.context.setElementStrokeStyle(this.context.strokeStyle),u=u[0]+x/2,x="object"==typeof i&&i[l]?i[l]:"number"==typeof i?i:0,d="object"==typeof t.labelsSticksLength?t.labelsSticksLength[l]:t.labelsSticksLength,n[0]=DxChart.getRadiusEndPoint(a,o,u,r+x+e),n[1]=DxChart.getRadiusEndPoint(a,o,u,r+d+x-5),n[2]=DxChart.getRadiusEndPoint(a,o,u,r+d+x+t.labelsRadiusOffset),n[3]=DxChart.getRadiusEndPoint(a,o,u,r+d+x+t.labelsRadiusOffset),n[3][0]+=n[3][0]>a?5:-5,n[4]=[n[2][0]+(n[2][0]>a?5+t.labelsSticksHlength:-5-t.labelsSticksHlength),n[2][1]],this.context.moveTo(n[0][0],n[0][1]),"curve"!=t.labelsStickStyle?(this.context.lineTo(n[2][0],n[2][1]),this.context.lineTo(n[4][0],n[4][1])):this.context.quadraticCurveTo(n[2][0],n[2][1],n[4][0],n[4][1]),this.context.stroke(),this.coordsSticks[l]=[n[0],n[1],n[2],n[3],n[4]])}},this.getShape=function(t){for(var e,i=this.properties,s=(this.canvas,this.context),a=DxChart.getMouseXY(t),o=a[0],r=a[1],n=(this.radius,this.angles),h=0,l=(n=isNexacroRuntime?this.angles2:n).length;h<l;++h)if(this.context.beginPath(),this.context.strokeStyle="rgba(0,0,0,0)",isNexacroRuntime&&s.setElementStrokeStyle("rgba(0,0,0,0)"),this.context.arc(n[h][2],n[h][3],this.radius,n[h][0],n[h][1],!1),"pie"!==this.type||-1===i.variantValue.indexOf("donut")||isNexacroRuntime?this.context.lineTo(n[h][2],n[h][3]):this.context.arc(n[h][2],n[h][3],this.getDonutWidth(this.radius),n[h][1],n[h][0],!0),this.context.closePath(),this.context.isPointInPath(o,r))return n[h][0]<0&&(n[h][0]+=DxChart.TWOPI),n[h][1]>DxChart.TWOPI&&(n[h][1]-=DxChart.TWOPI),DxChart.parseTooltipText&&i.tooltipsData&&(e=DxChart.parseTooltipText(i.tooltipsData,h)),{object:this,x:n[h][2],y:n[h][3],radius:this.radius,angleStart:n[h][0],angleEnd:n[h][1],index:h,dataset:0,sequentialIndex:h,label:i.labelsData&&"string"==typeof i.labelsData[h]?i.labelsData[h]:null,tooltip:"string"==typeof e?e:null};return null},this.drawBorders=function(){var t=this.properties;if(0<t.lineWidth){this.context.lineWidth=t.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle);for(var e=this.radius,i=0,s=this.angles.length;i<s;++i){var a=this.angles[i];this.context.beginPath(),this.context.arc(a[2],a[3],e,a[0],a[0]+.001,0),this.context.arc(a[2],a[3],"donut"==t.variantValue?this.getDonutWidth(e):e,a[0],a[0]+1e-4,0),this.context.closePath(),this.context.stroke()}}},this.getRadius=function(){var t=this.properties;return this.graph={width:this.canvas.width-t.marginLeft-t.marginRight,height:this.canvas.height-t.marginTop-t.marginBottom},"number"==typeof t.radius?this.radius=t.radius:this.radius=Math.min(this.graph.width,this.graph.height)/2,"string"==typeof t.radius&&(this.radius=this.radius+parseFloat(t.radius)),this.radius},this.explodeSegment=function(t,e){var i=this.properties;if("number"!=typeof this.exploding||this.exploding!==t){if(i.exploded||(i.exploded=[]),"number"==typeof i.exploded){var s=i.exploded,a=i.exploded;i.exploded=[];for(var o=0,r=this.data.length;o<r;++o)i.exploded[o]=a}i.exploded[t]="number"==typeof s?s:0,this.exploding=t;for(var n=DxChart.ISIE?25:16.666,h=this,l=0;l<e;++l)isNexacroRuntime?nexacro._OnceCallbackTimer.callonce(this.canvas._refform,function(){i.exploded[t]+=1,DxChart.clear(h.canvas),DxChart.redrawCanvas(h.canvas)},l*n):setTimeout(function(){i.exploded[t]+=1,DxChart.clear(h.canvas),DxChart.redrawCanvas(h.canvas)},l*n);h=this;isNexacroRuntime?nexacro._OnceCallbackTimer.callonce(this.canvas._refform,function(){h.exploding=null},e*n):setTimeout(function(){h.exploding=null},e*n)}},this.highlight_segment=function(t){this.context.beginPath(),this.context.strokeStyle=properties.highlightStyleTwodStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=properties.highlightStyleTwodFill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.moveTo(t[0],t[1]),this.context.arc(t[0],t[1],t[2],this.angles[t[5]][0],this.angles[t[5]][1],0),this.context.lineTo(t[0],t[1]),this.context.closePath(),this.context.stroke(),this.context.fill()},this.highlight=function(t){var e,i,s,a,o=this.properties;if(o.tooltipsHighlight)if("function"==typeof o.highlightStyle)o.highlightStyle(t);else if("invert"===o.highlightStyle)for(var r=isNexacroRuntime?this.angles2:this.angles,n=0;n<r.length;++n)n!==t.index&&(this.context.beginPath(),this.context.lineWidth=o.highlightStyleTwodLineWidth,isNexacroRuntime&&this.context.setElementLineWidth(o.highlightStyleTwodLineWidth),isNexacroRuntime?(this.context.moveTo(r[n][2],r[n][3]),this.context.arc(r[n][2],r[n][3],t.radius,r[n][0],r[n][1],!1),this.context.lineTo(r[n][2],r[n][3])):(this.context.moveTo(r[n][2],r[n][3]),this.context.arc(r[n][2],r[n][3],t.radius,r[n][0],r[n][1],!1)),this.context.closePath(),this.context.strokeStyle=o.highlightStyleTwodStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(o.highlightStyleTwodStroke),this.context.stroke(),this.context.fillStyle=o.highlightStyleTwodFill,isNexacroRuntime&&this.context.setElementFillStyle(o.highlightStyleTwodFill),this.context.fill());else"3d"==o.highlightStyle?(this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.beginPath(),DxChart.noShadow(this),this.context.fillStyle="rgba(0,0,0,0)",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.arc(t.x,t.y,t.radius,t.angleStart,t.angleEnd,!1),"donut"==o.variantValue?this.context.arc(t.x,t.y,t.radius/5,t.angleEnd,t.angleStart,!0):this.context.lineTo(t.x,t.y),this.context.closePath(),this.context.fill(),this.context.beginPath(),this.context.shadowColor="#666666",this.context.shadowBlur=3,this.context.shadowOffsetX=3,this.context.shadowOffsetY=3,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY),this.context.fillStyle=o.colors[t.index],isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.strokeStyle=o.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.arc(t.x-2,t.y-2,t.radius,t.angleStart,t.angleEnd,!1),"donut"==o.variantValue?this.context.arc(t.x-2,t.y-2,t.radius/2,t.angleEnd,t.angleStart,!0):this.context.lineTo(t.x-2,t.y-2),this.context.closePath(),this.context.stroke(),this.context.fill(),DxChart.noShadow(this),o.borderUse&&(this.context.beginPath(),this.context.strokeStyle=o.borderColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=5,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.arc(t.x-2,t.y-2,t.radius-2,t.angleStart,t.angleEnd,!1),this.context.stroke())):"outline"===o.highlightStyle?(a=DxChart.Registry.get("tooltip").__index__,e=this.angles[a],i=this.get("colors")[a],s=this.radius/12.5,"number"==typeof o.highlightStyleOutlineWidth&&(s=o.highlightStyleOutlineWidth),this.context.globalAlpha=.25,isNexacroRuntime&&(this.context.setElementGlobalAlpha(.25),this.context._globalAlphaFill=.25,this.context._globalAlphaStroke=.25),isNexacroRuntime?(e=this.angles2[a],this.context.beginPath(),this.context.arc(e[2],e[3],this.radius+2+s,e[0],e[1],!1),this.context.lineTo(e[2],e[3]),this.context.closePath(),this.context.fillStyle=i,isNexacroRuntime&&this.context.setElementFillStyle(i),this.context.fill(),this.context.globalAlpha=1,isNexacroRuntime&&(this.context.setElementGlobalAlpha(1),this.context._globalAlphaFill=1,this.context._globalAlphaStroke=1),this.context.lineWidth=2,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.globalAlpha=.25,isNexacroRuntime&&(this.context.setElementGlobalAlpha(.25),this.context._globalAlphaFill=.25,this.context._globalAlphaStroke=.25),this.context.beginPath(),this.context.arc(e[2],e[3],this.radius,e[0],e[1],!1),this.context.lineTo(e[2],e[3]),this.context.strokeStyle="white",isNexacroRuntime&&this.context.setElementStrokeStyle("white"),this.context.stroke()):(this.context.beginPath(),this.context.arc(e[2],e[3],this.radius+2+s,e[0],e[1],!1),this.context.arc(e[2],e[3],this.radius+2,e[1],e[0],!0),this.context.closePath(),this.context.fillStyle=i,isNexacroRuntime&&this.context.setElementFillStyle(i),this.context.fill()),this.context.globalAlpha=1,isNexacroRuntime&&(this.context.setElementGlobalAlpha(1),this.context._globalAlphaFill=1,this.context._globalAlphaStroke=1)):(this.context.beginPath(),this.context.strokeStyle=o.highlightStyleTwodStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=o.highlightStyleTwodFill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),-1<o.variantValue.indexOf("donut")?isNexacroRuntime?(this.context.arc(t.x,t.y,t.radius,t.angleStart,t.angleEnd,!1),this.context.lineTo(t.x,t.y)):(this.context.arc(t.x,t.y,t.radius,t.angleStart,t.angleEnd,!1),this.context.arc(t.x,t.y,this.getDonutWidth(t.radius),t.angleEnd,t.angleStart,!0)):(this.context.arc(t.x,t.y,t.radius+1,t.angleStart,t.angleEnd,!1),this.context.lineTo(t.x,t.y)),this.context.closePath(),isNexacroRuntime||this.context.stroke(),this.context.fill(),isNexacroRuntime&&-1<o.variantValue.indexOf("donut")&&(this.context.beginPath(),this.context.arc(t.x,t.y,this.getDonutWidth(t.radius,4),t.angleStart,t.angleEnd,!1),this.context.lineTo(t.x,t.y),this.context.closePath(),a=("transparent"==o.backgroundColor?null:o.backgroundColor)||this.canvas._refform.parent.background||"#ffffff",this.context.setElementFillStyle(a),this.context.fill()))},this.getObjectByXY=function(t){if(this.getShape(t))return this},this.drawCenterpin=function(){var t,e,i=this.properties;"number"==typeof i.centerpin&&0<i.centerpin&&(t=this.centerx,e=this.centery,this.context.beginPath(),this.context.strokeStyle=i.centerpinStroke||i.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=i.centerpinFill||i.colorsStroke,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.moveTo(t,e),this.context.arc(t,e,i.centerpin,0,DxChart.TWOPI,!1),this.context.stroke(),this.context.fill())},this.drawInGraphLabels=function(){var t,e,i,s=this.properties,a=(this.context,this.centerx,this.centery,s.labelsIngraphRadius);this.set("labelsIngraphUndrawn",[]),DxChart.isNumber(s.labelsIngraphRadiusOffset)&&s.labelsIngraphRadiusOffset,t=a<=2&&0<a?a:.5,"donut"==s.variantValue?(i=this.radius*(.5+.5*t),"number"==typeof s.variantDonutWidth?i=this.radius-s.variantDonutWidth+s.variantDonutWidth/2:"string"==typeof s.variantDonutWidth&&(e=parseInt(parseInt(s.variantDonutWidth.replace("%",""))*this.radius/100),i=this.radius-e+e/2)):i=this.radius*t,2<a&&(i=a);for(var o=0,r=this.angles.length;o<r;++o){p="object"==typeof s.exploded&&"number"==typeof s.exploded[o]?s.exploded[o]:"number"==typeof s.exploded?parseInt(s.exploded):0;var n,h,l,c,x,d,u=this.angles[o][0],g=this.angles[o][1],g=DxChart.getRadiusEndPoint(this.centerx,this.centery,(g-u)/2+u,i+(p||0)+(s.labelsIngraphRadiusOffset||0)),u=g[0],p=g[1],g=s.labelsIngraphSpecific&&"string"==typeof s.labelsIngraphSpecific[o]?s.labelsIngraphSpecific[o]:DxChart.numberFormat({object:this,number:this.data[o].toFixed(s.labelsIngraphDecimals),unitspre:s.labelsIngraphUnitsPre,unitspost:s.labelsIngraphUnitsPost,point:s.labelsIngraphPoint,thousand:s.labelsIngraphThousand});g&&(this.context.beginPath(),n=DxChart.getTextInfo({object:this,prefix:"labelsIngraph"}),c=DxChart.text({object:this,font:n.font,size:n.size,color:"transparent",bold:n.bold,italic:n.italic,x:u,y:p,text:g,valign:"center",halign:"center",bounding:!1}),this.context.stroke(),this.path("b lw 1 m % % a % % % % % false",this.centerx,this.centery,this.centerx,this.centery,1.2*this.radius,this.angles[o][0],this.angles[o][1]),x=c.x,h=c.y,d=c.width,l=c.height,isNexacroRuntime||this.context.isPointInPath(x,h)&&this.context.isPointInPath(x+d,h)&&this.context.isPointInPath(x,h+l)&&this.context.isPointInPath(x+d,h+l)?(this.context.beginPath(),c=DxChart.text({object:this,font:n.font,size:n.size,color:n.color,bold:n.bold,italic:n.italic,x:u,y:p,text:g,valign:"center",halign:"center",bounding:s.labelsIngraphBounding,boundingFill:s.labelsIngraphBoundingFill,boundingStroke:s.labelsIngraphBoundingStroke,tag:"labels.ingraph"}),this.context.stroke()):(this.context.beginPath(),x={index:o,text:g},this.get("labelsIngraphUndrawn").push(x),s.labelsIngraphUndrawn&&s.labelsIngraphUndrawnAsLabels&&(DxChart.isArray(this.properties.labelsData)||(this.properties.labelsData=[]),this.properties.labelsData[x.index]=x.text,DxChart.Registry.get("pie-chart-ingraphlabels-redraw-function-added")||(d=DxChart.addCustomEventListener(this,"draw",function(t){DxChart.removeCustomEventListener(t,DxChart.Registry.get("pie-chart-ingraphlabels-redraw-function-added")),DxChart.runOnce("pie-chart-ingraphlabels-redraw-function",function(){DxChart.redraw()})}),DxChart.Registry.set("pie-chart-ingraphlabels-redraw-function-added",d)))))}},this.drawCenterLabel=function(t){var e=this.properties,i=DxChart.getTextInfo({object:this,prefix:"labelsCenter"});t=DxChart.numberFormat({object:this,number:t,unitspre:e.labelsCenterUnitsPre,unitspost:e.labelsCenterUnitsPost,point:e.labelsCenterPoint,thousand:e.labelsCenterThousand}),DxChart.text({object:this,font:i.font,size:i.size,color:i.color,bold:i.bold,italic:i.italic,x:this.centerx+e.labelsCenterOffsetX,y:this.centery+e.labelsCenterOffsetY,halign:"center",valign:"center",text:t,bounding:!0,boundingFill:"rgba(255,255,255,0.7)",boundingStroke:"rgba(0,0,0,0)",tag:"labels.center"})},this.getAngle=function(t){var e=this.properties;return t>this.total?null:t/this.total*DxChart.TWOPI+e.origin},this.parseColors=function(){var t=this.properties,e=(this.original_colors.colors||(this.original_colors={},this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.keyColors=DxChart.arrayClone(t.keyColors),this.original_colors.colorsStroke=DxChart.arrayClone(t.colorsStroke),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightStyleTwodFill=DxChart.arrayClone(t.highlightStyleTwodFill),this.original_colors.highlightStyleTwodStroke=DxChart.arrayClone(t.highlightStyleTwodStroke),this.original_colors.labelsIngraphBoundingFill=DxChart.arrayClone(t.labelsIngraphBoundingFill),this.original_colors.labelsIngraphColor=DxChart.arrayClone(t.labelsIngraphColor)),t.keyColors);if(e)for(var i=0;i<e.length;++i)e[i]=this.parseSingleColorForGradient(this.original_colors.keyColors[i]);t.colorsStroke=this.parseSingleColorForGradient(this.original_colors.colorsStroke),t.highlightStroke=this.parseSingleColorForGradient(this.original_colors.highlightStroke),t.highlightStyleTwodFill=this.parseSingleColorForGradient(this.original_colors.highlightStyleTwodFill),t.highlightStyleTwodStroke=this.parseSingleColorForGradient(this.original_colors.highlightStyleTwodStroke),t.labelsIngraphBoundingFill=this.parseSingleColorForGradient(this.original_colors.labelsIngraphBoundingFill),t.labelsIngraphColor=this.parseSingleColorForGradient(this.original_colors.labelsIngraphColor)},this.reset=function(){},this.interactiveKeyHighlight=function(t){var e,i,s=this.properties,a=isNexacroRuntime?this.angles2:this.angles;a&&a[t]&&(t=(a=a[t])[2],e=a[3],i=a[0],a=a[1],this.context.strokeStyle=s.keyInteractiveHighlightChartStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(s.keyInteractiveHighlightChartStroke),this.context.fillStyle=s.keyInteractiveHighlightChartFill,isNexacroRuntime&&this.context.setElementFillStyle(s.keyInteractiveHighlightChartFill),this.context.lineWidth=2,isNexacroRuntime&&this.context.setElementLineWidth(2),this.context.lineJoin="bevel",isNexacroRuntime&&this.context.setElementLineJoin("bevel"),this.context.beginPath(),this.context.moveTo(t,e),this.context.arc(t,e,this.radius,i,a,!1),isNexacroRuntime&&this.context.lineTo(t,e),this.context.closePath(),this.context.fill(),this.context.stroke())},this.firstDrawFunc=function(){},this.draw3d=function(){var t=this.properties,e=t.variant3dScaleX||1,i=t.variantThreedDepth,s=t.shadowUse,a=t.labelsData,o=t.labelsSticks,r=t.titleText;this.set({labelsData:[],labelsSticks:!1,strokestyle:"rgba(0,0,0,0)",titleText:""}),this.set({variantValue:this.get("variantValue").replace(/3d/,"")}),this.context.setTransform(e,0,0,1,-.5*(this.canvas.width*e-this.canvas.width),0);for(var n=i;0<n;--n)if(this.set({centeryAdjust:n}),n===parseInt(i/2)&&this.set({labelsData:a,labelsSticks:o}),0===n&&this.set({shadowUse:s}),1===n&&this.set({titleText:r}),this.draw(),this.set({shadowUse:!1,titleText:""}),n<=parseInt(i/2)&&this.set({labelsData:[],labelsSticks:!1}),1<n){var h=this.angles,h=isNexacroRuntime?this.angles2:this.angles;if(-1!==t.variantValue.indexOf("donut"))for(var l=0;l<h.length;++l){var c=h[l][2],x=h[l][3],d=this.radius,u=this.radius/2,g=h[l][0],p=h[l][1];this.path("b a % % % % % false a % % % % % true f rgba(0,0,0,0.15)",c,x,d,g,p,c,x,u,p,g)}else for(l=0;l<h.length;++l){c=h[l][2],x=h[l][3],d=this.radius,u=this.radius/2,g=h[l][0],p=h[l][1];this.path("b m % % a % % % % % false f rgba(0,0,0,0.15)",c,x,c,x,d+1,g,p)}}return this.set({variantValue:this.get("variantValue")+"3d",shadowUse:s,labelsData:a,labelsSticks:o,titleText:r}),this},this.drawAni=function(){var t=arguments[0]||"grow",e=arguments[1]||{},i=arguments[2]||function(){};switch(t){case"explode":this.explode(e,i);break;case"grow":this.grow(e,i);break;case"roundRobin":this.roundRobin(e,i);break;case"roundRobinSequential":this.roundRobinSequential(e,i);break;case"implode":this.implode(e,i);break;case"explodeSegment":this.explodeSegment(index,size)}},this.explode=function(){this.properties;this.cancelStopAnimation();var t=this,e=arguments[0]||{},i=arguments[1]||function(){},s=e.frames||30,a=0,e=Number("number"==typeof e.radius?e.radius:Math.max(this.canvas.width,this.canvas.height)),o=Number(t.get("exploded"))||0,r=(o===e&&(o=0,this.set("exploded",0)),(e-o)/s),n=(this.set("labels",null),function(){t.stopAnimationRequested?t.stopAnimationRequested=!1:(t.set("exploded",o+r*a),DxChart.clear(t.canvas),DxChart.redrawCanvas(t.canvas),a++<s?DxChart.Effects.updateCanvas(n,t.canvas):i(t))});return n(),this},this.grow=function(){var t=this.properties,e=(this.cancelStopAnimation(),this),i=e.canvas,s=(arguments[0]||{}).frames||30,a=0,o=arguments[1]||function(){},r=t.radius,n=e.getRadius(),h=(t.radius=0,function(){e.stopAnimationRequested?e.stopAnimationRequested=!1:(e.set("radius",a/s*n),DxChart.redrawCanvas(i),a++<s?DxChart.Effects.updateCanvas(h,i):(DxChart.redrawCanvas(e.canvas),e.set("radius",r),o(e)))});return h(),this},this.roundRobin=function(){this.properties;this.cancelStopAnimation();var t=this,e=arguments[0]||{},i=arguments[1]||function(){},s=0,a=e.frames||30,o=(t.getRadius(),t.get("labelsData")),r=(t.set("events",!1),t.set("labels",[]),function(){t.stopAnimationRequested?t.stopAnimationRequested=!1:(t.set("effectRoundrobinMultiplier",DxChart.Effects.getEasingMultiplier(a,s)),DxChart.redrawCanvas(t.canvas),s<a?(DxChart.Effects.updateCanvas(r,t.canvas),s++):(t.set({events:!0,labels:o}),DxChart.redrawCanvas(t.canvas),i(t)))});return r(),this},this.roundRobinSequential=function(){this.properties;var t=DxChart.getArgs(arguments,"options,callback"),e=(this.cancelStopAnimation(),this),i=t.options||{},s=t.callback||function(){},a=0,o=i.frames||20,r=this.getRadius(),n=this.get("labelsData"),r=(this.set("events",!1),this.set("labels",[]),2*Math.max(this.canvas.width,this.canvas.height)),h=function(){e.stopAnimationRequested?e.stopAnimationRequested=!1:(DxChart.redrawCanvas(e.canvas),isNexacroRuntime?e.path("b m % % a % % % % % false l % % f white",e.centerx,e.centery,e.centerx,e.centery,r,0-Math.PI+a/o*DxChart.TWOPI,Math.PI,e.centerx,e.centery):e.path("b m % % a % % % % % false f white",e.centerx,e.centery,e.centerx,e.centery,r,0-DxChart.HALFPI+a/o*DxChart.TWOPI,DxChart.TWOPI-DxChart.HALFPI),a<o?(DxChart.Effects.updateCanvas(h,e.canvas),a++):(e.set({events:!0,labels:n}),DxChart.redrawCanvas(e.canvas),s(e)))};return h(),this},this.implode=function(){this.properties;this.cancelStopAnimation();var i=this,t=arguments[0]||{},s=arguments[1]||function(){},a=t.frames||30,o=0,r=(Number(this.get("exploded")),Math.max(this.canvas.width,this.canvas.height)),r=Number(this.get("exploded"))||r;return Number(this.get("exploded"))===r&&this.set("exploded",0),function t(){var e;i.stopAnimationRequested?i.stopAnimationRequested=!1:(e=r-o/a*r,i.set("exploded",e),DxChart.clear(i.canvas),DxChart.redrawCanvas(i.canvas),o++<a?DxChart.Effects.updateCanvas(t,i.canvas):(DxChart.clear(i.canvas),DxChart.redrawCanvas(i.canvas),s(i)))}(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.tooltipSubstitutions=function(t){return{index:t.index,dataset:0,sequentialIndex:t.index,value:this.data[t.index],values:[this.data[t.index]]}},this.tooltipsFormattedCustom=function(t,e,i){var s=this.properties;return{color:i[t.index],label:"object"==typeof s.tooltipsFormattedKeyLabels&&"string"==typeof s.tooltipsFormattedKeyLabels[t.index]?s.tooltipsFormattedKeyLabels[t.index]:""}},this.positionTooltipStatic=function(t){var e,i,s,a,o,r,n=t.object,h=t.event,l=t.tooltip,c=t.index,x=n.properties,d=DxChart.getCanvasXY(n.canvas),u=n.angles[c],u=(u[1]-u[0])/2+u[0],c=(e=0<=x.variantValue.indexOf("donut")?DxChart.isNull(x.variantDonutWidth)?this.radius/2+this.radius/4:this.radius-x.variantDonutWidth+x.variantDonutWidth/2:.5*this.radius,"number"==typeof x.exploded?x.exploded:x.exploded[c]),u=DxChart.getRadiusEndPoint(this.centerx,this.centery,u,e+(c||0));0<x.variantValue.indexOf("3d")&&("number"===x.variantDonutWidth?x.variantDonutWidth:"string"===x.variantDonutWidth?parseInt(parseInt(x.variantDonutWidth.replace("%",""))*this.radius/100):this.radius,u[0]=1.5*(u[0]-this.centerx)+this.centerx),isNexacroRuntime?(t.tooltip._upposition=!0,t.tooltip.set_left(d[0]+u[0]-l.offsetWidth/2+n.properties.tooltipsOffsetX),t.tooltip.set_top(d[1]+u[1]-l.offsetHeight+n.properties.tooltipsOffsetY-10),i=parseInt(t.tooltip.style.height.replace("px","")),s=parseInt(t.tooltip.style.top.replace("px","")),a=parseInt(t.tooltip.style.left.replace("px","")),o=parseInt(t.tooltip.style.width.replace("px","")),h.pageY>=s&&h.pageY<=s+i&&h.pageX>=a&&h.pageX<a+o&&(r=s+i-h.pageY,t.tooltip.set_top(d[1]+u[1]-l.offsetHeight+n.properties.tooltipsOffsetY-10-r-30))):(t.tooltip.style.left=d[0]+u[0]-l.offsetWidth/2+n.properties.tooltipsOffsetX+"px",t.tooltip.style.top=d[1]+u[1]-l.offsetHeight+n.properties.tooltipsOffsetY-10+"px",i=parseInt(t.tooltip.style.height.replace("px","")),s=parseInt(t.tooltip.style.top.replace("px","")),a=parseInt(t.tooltip.style.left.replace("px","")),o=parseInt(t.tooltip.style.width.replace("px","")),h.pageY>=s&&h.pageY<=s+i&&h.pageX>=a&&h.pageX<a+o&&(r=s+i-h.pageY,t.tooltip.style.top=d[1]+u[1]-l.offsetHeight+n.properties.tooltipsOffsetY-10-r-30+"px"))},this.resetData(t.data),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartPieSegment(t){return DxChart._Base.call(this,t,"pie"),this.total=0,this.subTotal=0,this.angles=[],this.angles2=[],this.coordsLineCurve=[],this.coordsSticks=[],this.coordsAxes={xaxis:[],yaxis:[]},this.hasnegativevalues=!1,this.exploding=null,DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"border"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"variant"),DxChart.setDefaultProperties(this,"default"),this.properties.variantValue="donut",this.properties.keyPosition="graph",this.properties.transformType="flat",this.properties.labelsList=!0,this.properties.labelsSticks=!1,this.properties.labelsStickStyle="line",this.properties.lineWidth=5,this.properties.transformPointer=!0,this.properties.shadowUse=!1,this.properties.colors=["#387EC3","#5253A3","#F6842E","#FBAC33","#8AC340","#46B863","#41BC9F","#29C2EC"],t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t){this.binddataset&&0<=t.toString().indexOf("bind:")&&(t=DxChart.parseDataset(this,t)),this.data=t,this.data=DxChart.str2num(this.data);for(var e=0,i=t.length;e<i;e++)this.total+=t[e],this["$"+e]={}},this.draw=function(){if(!this.data||0==this.data.length)return DxChart.NoDataShow(this);var t=this.properties;if(isNexacroRuntime&&(t.origin=0-Math.PI),this.radius=this.getRadius(),this.centerx=this.graph.width/2+this.properties.marginLeft+t.centerxAdjust,this.centery=this.graph.height/2+this.properties.marginTop+t.centeryAdjust,"number"==typeof t.radius&&(this.radius=t.radius),"number"==typeof t.centerx&&(this.centerx=t.centerx),"number"==typeof t.centery&&(this.centery=t.centery),!(this.radius<=0)){DxChart._BeforeDraw(this),this.subTotal=t.origin,this.angles=[],this.angles2=[],this.anglesCenter=[],this.coordsText=[],this.drawTitle(),this.total=DxChart.arraySum(this.data);for(var e=this.total,i=this.data,s=0,a=this.data.length;s<a;s++){var o=i[s]/e*DxChart.TWOPI;this.drawSegment(o,t.colors[s],s==a-1,s)}return DxChart.noShadow(this),t.labelsSticks&&(this.drawSticks(),t.colorsStroke),t.labelsData&&0<t.labelsData.length&&this.drawLabels(),t.centerpin&&this.drawCenterpin(),t.labelsIngraph&&this.drawInGraphLabels(),("string"==typeof t.labelsCenter||nexacro&&t.labelsCenter instanceof nexacro.Decimal)&&(nexacro&&t.labelsCenter instanceof nexacro.Decimal&&(t.labelsCenter=t.labelsCenter.valueOf()+""),this.drawCenterLabel(t.labelsCenter)),t.contextmenu&&DxChart.showContext(this),t.borderUse&&(this.context.beginPath(),this.context.lineWidth=5,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=t.borderColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.arc(this.centerx,this.centery,this.radius-2,0,DxChart.TWOPI,0),this.context.stroke()),t.keyData&&0<t.keyData.length&&DxChart.drawKey(this,t.keyData,t.colors),DxChart.noShadow(this),DxChart.addCustomText(this),1==t.events&&DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this}},this.drawTitle=function(){DxChart.drawTitle(this)},this.drawSegment=function(t,e,i,s){var a,o,r,n,h,l,c,x,d,u,g,p,f,m,b,C=this.properties,y=this.subTotal,D=(t*=C.effectRoundrobinMultiplier,isNexacroRuntime?this.context.save():e=this.parseSingleColorForGradient(e),e),v=(this.context.fillStyle=e,this.context.strokeStyle=C.colorsStroke,this.context.lineWidth=0,this.context.beginPath(),C.shadowUse&&DxChart.setShadow(this,C.shadowStyleObj.color,C.shadowStyleObj.offsetx,C.shadowStyleObj.offsety,C.shadowStyleObj.blur),y),S=y+t,k=("object"==typeof C.exploded&&0<C.exploded[s]||"number"==typeof C.exploded?(r=o=0,n="number"==typeof C.exploded?C.exploded:C.exploded[s],k=y+t/2,o=parseInt(Math.cos(k)*n),r=parseInt(Math.sin(k)*n),a=this.radius,isNexacroRuntime&&(k=y+Math.PI/2+t/2,o=parseInt(Math.cos(k)*n),r=parseInt(Math.sin(k)*n)),this.context.moveTo(this.centerx+o,this.centery+r)):(r=o=0,a=this.radius),this.centerx),w=this.centery,_=a;isNexacroRuntime&&(this.context.translate(k-_,w-_),d=DxChart.parseRadialGradientInfo(this,e=e||"transparent",(k=_)+o,(w=_)+r,0,k+o,w+r,_),D=e,this.context.setElementFillStyle(d),this.context.setElementStrokeStyle(C.colorsStroke),this.context.setElementLineWidth(0)),"none"==C.transformType||"flow"==C.transformType?("flow"==C.transformType&&(C.variantValue="donut"),this.context.arc(k+o,w+r,a,v,S,0),"donut"!=C.variantValue||isNexacroRuntime?this.context.lineTo(k+o,w+r):this.context.arc(k+o,w+r,"number"==typeof C.variantDonutWidth?a-C.variantDonutWidth:a/2,S,v,!0),this.context.closePath(),this.context.fill(),"flow"==C.transformType&&(e=.008,c=S,x=v,isNexacroRuntime&&(c=S+DxChart.HALFPI,x=v+DxChart.HALFPI,e=2<S?.025:0),b=DxChart.getRadiusEndPoint(k+o,w+r,c-e,a),p="number"==typeof C.variantDonutWidth?a-C.variantDonutWidth:a/2,l=DxChart.getRadiusEndPoint(k+o,w+r,c-e,p),f=DxChart.HALFPI/7,g=DxChart.getRadiusEndPoint(k+o,w+r,c+f,a-(a-p)/2),this.path("b m % % l % % l % % l % % c",b[0],b[1],g[0],g[1],l[0],l[1],b[0],b[1]),this.context.fill(),0<s)&&(h=C.colors[s-1],h=this.parseSingleColorForGradient(h),this.context.fillStyle=h,isNexacroRuntime&&(d=DxChart.parseRadialGradientInfo(this,h=h||"transparent",k+o,w+r,0,k+o,w+r,_),this.context.setElementFillStyle(d)),isNexacroRuntime&&(e=0<v?.025:0),b=DxChart.getRadiusEndPoint(k+o,w+r,x-e,a),p="number"==typeof C.variantDonutWidth?a-C.variantDonutWidth:a/2,l=DxChart.getRadiusEndPoint(k+o,w+r,x-e,p),f=DxChart.HALFPI/7,g=DxChart.getRadiusEndPoint(k+o,w+r,x+f,a-(a-p)/2),this.path("b m % % l % % l % % l % % c",b[0],b[1],g[0],g[1],l[0],l[1],b[0],b[1]),this.context.fill()),isNexacroRuntime&&this.context.restore(),isNexacroRuntime&&"donut"==C.variantValue&&(c=S+DxChart.HALFPI,x=v+DxChart.HALFPI,n=(n="number"==typeof C.exploded?C.exploded:C.exploded[s])||0,h=("transparent"==C.backgroundColor?null:C.backgroundColor)||this.canvas._refform.parent.background||"#ffffff",this.context.setElementFillStyle(h),this.context.beginPath(),this.context.arc(this.centerx+o,this.centery+r,"number"==typeof C.variantDonutWidth?a-C.variantDonutWidth:a/2,v-.08,S+.08,!1),this.context.lineTo(this.centerx+o,this.centery+r),this.context.closePath(),this.context.fill(),this.context.beginPath(),this.context.arc(this.centerx+o,this.centery+r,5,0,2*DxChart.PI,!1),this.context.closePath(),this.context.fill())):"flat"==C.transformType?(S+=DxChart.HALFPI,v+=DxChart.HALFPI,m=DxChart.getRadiusEndPoint(k+o,w+r,v,a),b=DxChart.getRadiusEndPoint(k+o,w+r,S,a),"donut"==C.variantValue?(p="number"==typeof C.variantDonutWidth?a-C.variantDonutWidth:a/2,u=DxChart.getRadiusEndPoint(k+o,w+r,v,p),l=DxChart.getRadiusEndPoint(k+o,w+r,S,p),this.path("b m % % l % % l % % l % % l % % c",u[0],u[1],l[0],l[1],b[0],b[1],m[0],m[1],u[0],u[1])):this.path("b m % % l % % l % % l % % c",k+o,w+r,m[0],m[1],b[0],b[1],k+o,w+r),this.context.fill(),isNexacroRuntime&&this.context.restore()):"fold"==C.transformType&&(S+=DxChart.HALFPI,v+=DxChart.HALFPI,m=DxChart.getRadiusEndPoint(k+o,w+r,v,1.1*a),b=DxChart.getRadiusEndPoint(k+o,w+r,S,.9*a),"donut"==C.variantValue?(p="number"==typeof C.variantDonutWidth?a-C.variantDonutWidth:a/2,u=DxChart.getRadiusEndPoint(k+o,w+r,v,p),l=DxChart.getRadiusEndPoint(k+o,w+r,S,p),this.path("b m % % l % % l % % l % % l % % c",u[0],u[1],l[0],l[1],b[0],b[1],m[0],m[1],u[0],u[1])):this.path("b m % % l % % l % % l % % c",k+o,w+r,m[0],m[1],b[0],b[1],k+o,w+r),this.context.fill(),isNexacroRuntime)&&this.context.restore(),u=(e=(d=(_=isNexacroRuntime?(this.angles.push([y+Math.PI/2,y+Math.PI/2+t,this.centerx+o,this.centery+r]),this.angles2.push([y,y+t,this.centerx+o,this.centery+r]),c=S+DxChart.HALFPI,(x=v+DxChart.HALFPI)+(c-x)/2):(this.angles.push([y,y+t,this.centerx+o,this.centery+r]),v+(S-v)/2),"flow"==C.transformType&&(_+=.05),0),a-(a-(d="donut"==C.variantValue?"number"==typeof C.variantDonutWidth?a-C.variantDonutWidth:a/2:d))/2),DxChart.getRadiusEndPoint(this.centerx+o,this.centery+r,_,e)),this.anglesCenter.push(u),1==C.transformPointer&&"donut"==C.variantValue&&(this.context.fillStyle=D,isNexacroRuntime&&this.context.setElementFillStyle(D),!isNexacroRuntime||"none"!=C.transformType&&"flow"!=C.transformType||(S+=DxChart.HALFPI,v+=DxChart.HALFPI),g=v+(S-v)/2,"flow"==C.transformType&&(g+=DxChart.HALFPI/20),p="number"==typeof C.variantDonutWidth?a-C.variantDonutWidth:a/2,"flat"!=C.transformType&&"fold"!=C.transformType||(p-=8),f=DxChart.HALFPI/20,m=DxChart.getRadiusEndPoint(this.centerx+o,this.centery+r,g-f,p+1),b=DxChart.getRadiusEndPoint(this.centerx+o,this.centery+r,g+f,p+1),s=DxChart.getRadiusEndPoint(this.centerx+o,this.centery+r,g,p-10),this.path("b m % % l % % l % % l % % c",m[0],m[1],b[0],b[1],s[0],s[1],m[0],m[1]),this.context.fill()),this.subTotal+=t},this.drawLabels=function(){var t=this.properties;if(t.labelsData&&t.labelsData.length){"string"==typeof t.labelsData&&(t.labelsData=DxChart.arrayPad({array:[],length:this.data.length,value:t.labelsData}));for(var e=0;e<t.labelsData.length;++e)DxChart.isTextual(t.labelsData[e])&&(t.labelsData[e]=DxChart.labelSubstitution({object:this,text:t.labelsData[e],index:e,value:this.data[e],decimals:t.labelsFormattedDecimals||0,unitsPre:t.labelsFormattedUnitsPre||"",unitsPost:t.labelsFormattedUnitsPost||"",thousand:t.labelsFormattedThousand||",",point:t.labelsFormattedPoint||"."}))}if(t.labelsData.length&&t.labelsList)return this.drawLabelsList();var i=t.labelsData,s=(this.context,t.textFontStyleObj.face,t.labelsBold,t.textFontStyleObj.size,this.centerx),a=this.centery,o=this.radius;if(DxChart.noShadow(this),this.context.fillStyle="black",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.beginPath(),i&&i.length){for(var r=DxChart.getTextInfo({object:this,prefix:"labels"}),e=0;e<this.angles.length;++e){var n,h,l,c=this.angles[e];"string"!=typeof i[e]&&"number"!=typeof i[e]||(this.context.moveTo(s,a),n=c[0]+(c[1]-c[0])/2,l=(c[1]-c[0])/2+c[0],c="object"==typeof t.exploded&&t.exploded[e]||"number"==typeof t.exploded?(c[1],c[0],c="number"==typeof t.exploded?t.exploded:t.exploded[e],h=Math.cos(l)*c,Math.sin(l)*c):h=0,t.labelsSticks&&(h+=Math.cos(l)*("object"==typeof t.labelsSticksLength?t.labelsSticksLength[e]:t.labelsSticksLength),c+=Math.sin(l)*("object"==typeof t.labelsSticksLength?t.labelsSticksLength[e]:t.labelsSticksLength)),l=s+h+(o+10+t.labelsRadiusOffset)*Math.cos(n)+(t.labelsSticks?n<DxChart.HALFPI||n>DxChart.TWOPI+DxChart.HALFPI?2:-2:0),c=a+c+(o+10+t.labelsRadiusOffset)*Math.sin(n),this.coordsSticks&&this.coordsSticks[e]&&(l=this.coordsSticks[e][4][0]+(l<s?-5:5),c=this.coordsSticks[e][4][1]),n=l<s?"right":"left",this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),DxChart.text({object:this,font:r.font,size:r.size,color:r.color,bold:r.bold,italic:r.italic,x:l,y:c,text:i[e],valign:"center",halign:n,tag:"labels",cssClass:DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:e})}))}this.context.fill()}},this.drawLabelsList=function(){for(var t,e,i,s,a,o=this.properties,r=(this.angles[d],o.labelsData),n=[],h=[],l=this.centerx,c=this.centery,x=this.radius,d=0;d<this.angles.length;++d)DxChart.isNull(this.data[d])||(t=this.angles[d][0]+(this.angles[d][1]-this.angles[d][0])/2,e=DxChart.getRadiusEndPoint(l,c,t,x+5),i=DxChart.getRadiusEndPoint(l,c,t,x+30),s=["number"==typeof o.exploded?o.exploded:o.exploded[d],Math.cos(t)*("number"==typeof o.exploded?o.exploded:o.exploded[d]),Math.sin(t)*("number"==typeof o.exploded?o.exploded:o.exploded[d])],a=DxChart.getTextInfo({object:this,prefix:"labels"}),(t>-1*DxChart.HALFPI&&t<DxChart.HALFPI?n:h).push([d,t,r[d]||"",e,i,a.color,DxChart.arrayClone(s)]));for(var u=(this.canvas.height-o.marginTop-o.marginBottom)/n.length,d=0,g=o.marginTop+u/2;d<n.length;g+=u,d++)n[d][2]&&(p=this.centerx+this.radius+50,n[d][0],f=n[d][6][0]?n[d][6][1]:0,m=n[d][6][0]?n[d][6][2]:0,(b=DxChart.text({object:this,font:a.font,size:a.size,color:a.color,bold:a.bold,italic:a.italic,x:p+f+o.labelsListRightOffsetX,y:g+m+o.labelsListRightOffsetY,text:n[d][2],valign:"center",halign:"left",tag:"labels",color:n[d][5],cssClass:DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:d})}))&&b.node&&(b.node.__index__=n[d][0]),"curve"!=o.labelsStickStyle?(C=b.x-5,y=b.y+b.height/2,S=C-(D=n[d][3][0]),v=n[d][3][1],k=Math.abs(.4*S),w=Math.abs(.6*S),R=y,T=S<0?(_=D-k,D-w):(_=D+k,D+w),this.path("lw % b m % % l % % l % % l % % s %",o.labelsSticksLineWidth,D,P=v,_,P,T,R,C,y,n[d][5])):this.path("lc round lw % b m % % qc % % % % s %",o.labelsSticksLineWidth,n[d][3][0]+f,n[d][3][1]+m,n[d][4][0]+f,n[d][4][1]+m,b.x-5,b.y+b.height/2,n[d][5]),this.path("b a % % 2 0 6.2830 false, f %",b.x-5,b.y+b.height/2,n[d][5]));for(var p,f,m,b,C,y,D,v,S,k,w,_,T,P,R,L=(this.canvas.height-o.marginTop-o.marginBottom)/h.length,d=h.length-1,g=o.marginTop+L/2;0<=d;g+=L,d--)h[d][2]&&(p=this.centerx-this.radius-50,h[d][0],f=h[d][6][0]?h[d][6][1]:0,m=h[d][6][0]?h[d][6][2]:0,(b=DxChart.text({object:this,font:a.font,size:a.size,color:a.color,bold:a.bold,italic:a.italic,x:p+f+o.labelsListLeftOffsetX,y:g+m+o.labelsListLeftOffsetY,text:h[d][2],valign:"center",halign:"right",tag:"labels",cssClass:DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:d})}))&&b.node&&(b.node.__index__=h[d][0]),"curve"!=o.labelsStickStyle?(C=b.x+5+b.width,y=b.y+b.height/2,S=C-(D=h[d][3][0]),v=h[d][3][1],k=Math.abs(.4*S),w=Math.abs(.6*S),R=y,T=S<0?(_=D-k,D-w):(_=D+k,D+w),this.path("lw % b m % % l % % l % % l % % s %",o.labelsSticksLineWidth,D,P=v,_,P,T,R,C,y,h[d][5])):this.path("lw % b m % % qc % % % % s %",o.labelsSticksLineWidth,h[d][3][0]+f,h[d][3][1]+m,h[d][4][0]+f,Math.round(h[d][4][1]+m),b.x+5+b.width,b.y+b.height/2,h[d][5]),this.path("b a % % 2 0 6.2830 false, f %",b.x+5+b.width,b.y+b.height/2,h[d][5]))},this.drawSticks=function(){for(var t=this.properties,e=t.lineWidth/2,i=t.exploded,s=t.labelsSticks,a=(t.colors,this.centerx),o=this.centery,r=this.radius,n=[],h=t.labelsSticksLineWidth,l=0,c=this.angles.length;l<c;++l){var x,d,u=this.angles[l];"object"==typeof s&&!s[l]||(x=u[1]-u[0],this.context.beginPath(),this.context.strokeStyle="string"==typeof t.labelsSticksColors?t.labelsSticksColors:DxChart.isNull(t.labelsSticksColors)?"gray":t.labelsSticksColors[l],isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=h,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),"string"==typeof t.labelsSticksColor&&(this.context.strokeStyle=t.labelsSticksColor,isNexacroRuntime)&&this.context.setElementStrokeStyle(this.context.strokeStyle),u=u[0]+x/2,x="object"==typeof i&&i[l]?i[l]:"number"==typeof i?i:0,d="object"==typeof t.labelsSticksLength?t.labelsSticksLength[l]:t.labelsSticksLength,n[0]=DxChart.getRadiusEndPoint(a,o,u,r+x+e),n[1]=DxChart.getRadiusEndPoint(a,o,u,r+d+x-5),n[2]=DxChart.getRadiusEndPoint(a,o,u,r+d+x+t.labelsRadiusOffset),n[3]=DxChart.getRadiusEndPoint(a,o,u,r+d+x+t.labelsRadiusOffset),n[3][0]+=n[3][0]>a?5:-5,n[4]=[n[2][0]+(n[2][0]>a?5+t.labelsSticksHlength:-5-t.labelsSticksHlength),n[2][1]],this.context.moveTo(n[0][0],n[0][1]),"curve"!=t.labelsStickStyle?(this.context.lineTo(n[2][0],n[2][1]),this.context.lineTo(n[4][0],n[4][1])):this.context.quadraticCurveTo(n[2][0],n[2][1],n[4][0],n[4][1]),this.context.stroke(),this.coordsSticks[l]=[n[0],n[1],n[2],n[3],n[4]])}},this.getShape=function(t){for(var e,i=this.properties,s=(this.canvas,this.context),a=DxChart.getMouseXY(t),o=a[0],r=a[1],n=(this.radius,this.angles),h=0,l=(n=isNexacroRuntime?this.angles2:n).length;h<l;++h)if(this.context.beginPath(),this.context.strokeStyle="rgba(0,0,0,0)",isNexacroRuntime&&s.setElementStrokeStyle("rgba(0,0,0,0)"),this.context.arc(n[h][2],n[h][3],this.radius,n[h][0],n[h][1],!1),"pie"!==this.type||-1===i.variantValue.indexOf("donut")||isNexacroRuntime?this.context.lineTo(n[h][2],n[h][3]):this.context.arc(n[h][2],n[h][3],"number"==typeof i.variantDonutWidth?this.radius-i.variantDonutWidth:this.radius/2,n[h][1],n[h][0],!0),this.context.closePath(),this.context.isPointInPath(o,r))return n[h][0]<0&&(n[h][0]+=DxChart.TWOPI),n[h][1]>DxChart.TWOPI&&(n[h][1]-=DxChart.TWOPI),DxChart.parseTooltipText&&i.tooltipsData&&(e=DxChart.parseTooltipText(i.tooltipsData,h)),{object:this,x:n[h][2],y:n[h][3],radius:this.radius,angleStart:n[h][0],angleEnd:n[h][1],index:h,dataset:0,sequentialIndex:h,label:i.labelsData&&"string"==typeof i.labelsData[h]?i.labelsData[h]:null,tooltip:"string"==typeof e?e:null};return null},this.getRadius=function(){var t=this.properties;return this.graph={width:this.canvas.width-t.marginLeft-t.marginRight,height:this.canvas.height-t.marginTop-t.marginBottom},"number"==typeof t.radius?this.radius=t.radius:this.radius=Math.min(this.graph.width,this.graph.height)/2,"string"==typeof t.radius&&(this.radius=this.radius+parseFloat(t.radius)),this.radius},this.explodeSegment=function(t,e){var i=this.properties;if("number"!=typeof this.exploding||this.exploding!==t){if(i.exploded||(i.exploded=[]),"number"==typeof i.exploded){var s=i.exploded,a=i.exploded;i.exploded=[];for(var o=0,r=this.data.length;o<r;++o)i.exploded[o]=a}i.exploded[t]="number"==typeof s?s:0,this.exploding=t;for(var n=DxChart.ISIE?25:16.666,h=this,l=0;l<e;++l)isNexacroRuntime?nexacro._OnceCallbackTimer.callonce(this.canvas._refform,function(){i.exploded[t]+=1,DxChart.clear(h.canvas),DxChart.redrawCanvas(h.canvas)},l*n):setTimeout(function(){i.exploded[t]+=1,DxChart.clear(h.canvas),DxChart.redrawCanvas(h.canvas)},l*n);h=this;isNexacroRuntime?nexacro._OnceCallbackTimer.callonce(this.canvas._refform,function(){h.exploding=null},e*n):setTimeout(function(){h.exploding=null},e*n)}},this.highlight_segment=function(t){this.context.beginPath(),this.context.strokeStyle=properties.highlightStyleTwodStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=properties.highlightStyleTwodFill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.moveTo(t[0],t[1]),this.context.arc(t[0],t[1],t[2],this.angles[t[5]][0],this.angles[t[5]][1],0),this.context.lineTo(t[0],t[1]),this.context.closePath(),this.context.stroke(),this.context.fill()},this.highlight=function(t){},this.getObjectByXY=function(t){if(this.getShape(t))return this},this.drawCenterpin=function(){var t,e,i=this.properties;"number"==typeof i.centerpin&&0<i.centerpin&&(t=this.centerx,e=this.centery,this.context.beginPath(),this.context.strokeStyle=i.centerpinStroke||i.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=i.centerpinFill||i.colorsStroke,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.moveTo(t,e),this.context.arc(t,e,i.centerpin,0,DxChart.TWOPI,!1),this.context.stroke(),this.context.fill())},this.drawInGraphLabels=function(){var t,e,i=this.properties,s=(this.context,this.centerx,this.centery,i.labelsIngraphRadius);this.set("labelsIngraphUndrawn",[]),DxChart.isNumber(i.labelsIngraphRadiusOffset)&&i.labelsIngraphRadiusOffset,t=s<=2&&0<s?s:.5,"donut"==i.variantValue?(e=this.radius*(.5+.5*t),"number"==typeof i.variantDonutWidth&&(e=this.radius-i.variantDonutWidth+i.variantDonutWidth/2)):e=this.radius*t,2<s&&(e=s);for(var a=0,o=this.angles.length;a<o;++a){l="object"==typeof i.exploded&&"number"==typeof i.exploded[a]?i.exploded[a]:"number"==typeof i.exploded?parseInt(i.exploded):0;var r,n,h=this.angles[a][0],h=(this.angles[a][1]-h)/2+h,h=("flow"==i.transformType?h+=.08:isNexacroRuntime||"flat"!=i.transformType&&"fold"!=i.transformType||(h-=.24),DxChart.getRadiusEndPoint(this.centerx,this.centery,h,e+(l||0)+(i.labelsIngraphRadiusOffset||0))),l=h[0],h=h[1],c=i.labelsIngraphSpecific&&"string"==typeof i.labelsIngraphSpecific[a]?i.labelsIngraphSpecific[a]:DxChart.numberFormat({object:this,number:this.data[a].toFixed(i.labelsIngraphDecimals),unitspre:i.labelsIngraphUnitsPre,unitspost:i.labelsIngraphUnitsPost,point:i.labelsIngraphPoint,thousand:i.labelsIngraphThousand});c&&(this.context.beginPath(),r=DxChart.getTextInfo({object:this,prefix:"labelsIngraph"}),n=DxChart.text({object:this,font:r.font,size:r.size,color:"transparent",bold:r.bold,italic:r.italic,x:l,y:h,text:c,valign:"center",halign:"center",bounding:!1}),this.context.stroke(),this.path("b lw 1 m % % a % % % % % false",this.centerx,this.centery,this.centerx,this.centery,1.2*this.radius,this.angles[a][0],this.angles[a][1]),n.x,n.y,n.width,n.height,this.context.beginPath(),n=DxChart.text({object:this,font:r.font,size:r.size,color:r.color,bold:r.bold,italic:r.italic,x:l,y:h,text:c,valign:"center",halign:"center",bounding:i.labelsIngraphBounding,boundingFill:i.labelsIngraphBoundingFill,boundingStroke:i.labelsIngraphBoundingStroke,tag:"labels.ingraph"}),this.context.stroke())}},this.drawCenterLabel=function(t){var e=this.properties,i=DxChart.getTextInfo({object:this,prefix:"labelsCenter"});t=DxChart.numberFormat({object:this,number:t,unitspre:e.labelsCenterUnitsPre,unitspost:e.labelsCenterUnitsPost,point:e.labelsCenterPoint,thousand:e.labelsCenterThousand}),DxChart.text({object:this,font:i.font,size:i.size,color:i.color,bold:i.bold,italic:i.italic,x:this.centerx+e.labelsCenterOffsetX,y:this.centery+e.labelsCenterOffsetY,halign:"center",valign:"center",text:t,bounding:!0,boundingFill:"rgba(255,255,255,0.7)",boundingStroke:"rgba(0,0,0,0)",tag:"labels.center"})},this.getAngle=function(t){var e=this.properties;return t>this.total?null:t/this.total*DxChart.TWOPI+e.origin},this.parseColors=function(){var t=this.properties,e=(this.original_colors.colors||(this.original_colors={},this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.keyColors=DxChart.arrayClone(t.keyColors),this.original_colors.colorsStroke=DxChart.arrayClone(t.colorsStroke),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightStyleTwodFill=DxChart.arrayClone(t.highlightStyleTwodFill),this.original_colors.highlightStyleTwodStroke=DxChart.arrayClone(t.highlightStyleTwodStroke),this.original_colors.labelsIngraphBoundingFill=DxChart.arrayClone(t.labelsIngraphBoundingFill),this.original_colors.labelsIngraphColor=DxChart.arrayClone(t.labelsIngraphColor)),t.keyColors);if(e)for(var i=0;i<e.length;++i)e[i]=this.parseSingleColorForGradient(this.original_colors.keyColors[i]);t.colorsStroke=this.parseSingleColorForGradient(this.original_colors.colorsStroke),t.highlightStroke=this.parseSingleColorForGradient(this.original_colors.highlightStroke),t.highlightStyleTwodFill=this.parseSingleColorForGradient(this.original_colors.highlightStyleTwodFill),t.highlightStyleTwodStroke=this.parseSingleColorForGradient(this.original_colors.highlightStyleTwodStroke),t.labelsIngraphBoundingFill=this.parseSingleColorForGradient(this.original_colors.labelsIngraphBoundingFill),t.labelsIngraphColor=this.parseSingleColorForGradient(this.original_colors.labelsIngraphColor)},this.reset=function(){},this.interactiveKeyHighlight=function(t){var e,i,s=this.properties,a=isNexacroRuntime?this.angles2:this.angles;a&&a[t]&&(t=(a=a[t])[2],e=a[3],i=a[0],a=a[1],this.context.strokeStyle=s.keyInteractiveHighlightChartStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(s.keyInteractiveHighlightChartStroke),this.context.fillStyle=s.keyInteractiveHighlightChartFill,isNexacroRuntime&&this.context.setElementFillStyle(s.keyInteractiveHighlightChartFill),this.context.lineWidth=2,isNexacroRuntime&&this.context.setElementLineWidth(2),this.context.lineJoin="bevel",isNexacroRuntime&&this.context.setElementLineJoin("bevel"),this.context.beginPath(),this.context.moveTo(t,e),this.context.arc(t,e,this.radius,i,a,!1),isNexacroRuntime&&this.context.lineTo(t,e),this.context.closePath(),this.context.fill(),this.context.stroke())},this.firstDrawFunc=function(){},this.drawAni=function(){var t=arguments[0]||"grow",e=arguments[1]||{},i=arguments[2]||function(){};switch(t){case"explode":this.explode(e,i);break;case"grow":this.grow(e,i);break;case"roundRobin":this.roundRobin(e,i);break;case"roundRobinSequential":this.roundRobinSequential(e,i);break;case"implode":this.implode(e,i)}},this.explode=function(){this.properties;this.cancelStopAnimation();var t=this,e=arguments[0]||{},i=arguments[1]||function(){},s=e.frames||30,a=0,e=Number("number"==typeof e.radius?e.radius:Math.max(this.canvas.width,this.canvas.height)),o=Number(t.get("exploded"))||0,r=(o===e&&(o=0,this.set("exploded",0)),(e-o)/s),n=(this.set("labels",null),function(){t.stopAnimationRequested?t.stopAnimationRequested=!1:(t.set("exploded",o+r*a),DxChart.clear(t.canvas),DxChart.redrawCanvas(t.canvas),a++<s?DxChart.Effects.updateCanvas(n,t.canvas):i(t))});return n(),this},this.grow=function(){var t=this.properties,e=(this.cancelStopAnimation(),this),i=e.canvas,s=(arguments[0]||{}).frames||30,a=0,o=arguments[1]||function(){},r=e.getRadius(),n=(t.radius=0,function(){e.stopAnimationRequested?e.stopAnimationRequested=!1:(e.set("radius",a/s*r),DxChart.redrawCanvas(i),a++<s?DxChart.Effects.updateCanvas(n,i):(DxChart.redrawCanvas(e.canvas),o(e)))});return n(),this},this.roundRobin=function(){this.properties;this.cancelStopAnimation();var t=this,e=arguments[0]||{},i=arguments[1]||function(){},s=0,a=e.frames||30,o=(t.getRadius(),t.get("labelsData")),r=(t.set("events",!1),t.set("labels",[]),function(){t.stopAnimationRequested?t.stopAnimationRequested=!1:(t.set("effectRoundrobinMultiplier",DxChart.Effects.getEasingMultiplier(a,s)),DxChart.redrawCanvas(t.canvas),s<a?(DxChart.Effects.updateCanvas(r,t.canvas),s++):(t.set({events:!0,labels:o}),DxChart.redrawCanvas(t.canvas),i(t)))});return r(),this},this.roundRobinSequential=function(){this.properties;var t=DxChart.getArgs(arguments,"options,callback"),e=(this.cancelStopAnimation(),this),i=t.options||{},s=t.callback||function(){},a=0,o=i.frames||20,r=this.getRadius(),n=this.get("labelsData"),r=(this.set("events",!1),this.set("labels",[]),2*Math.max(this.canvas.width,this.canvas.height)),h=function(){e.stopAnimationRequested?e.stopAnimationRequested=!1:(DxChart.redrawCanvas(e.canvas),isNexacroRuntime?e.path("b m % % a % % % % % false l % % f white",e.centerx,e.centery,e.centerx,e.centery,r,0-Math.PI+a/o*DxChart.TWOPI,Math.PI,e.centerx,e.centery):e.path("b m % % a % % % % % false f white",e.centerx,e.centery,e.centerx,e.centery,r,0-DxChart.HALFPI+a/o*DxChart.TWOPI,DxChart.TWOPI-DxChart.HALFPI),a<o?(DxChart.Effects.updateCanvas(h,e.canvas),a++):(e.set({events:!0,labels:n}),DxChart.redrawCanvas(e.canvas),s(e)))};return h(),this},this.implode=function(){this.properties;this.cancelStopAnimation();var i=this,t=arguments[0]||{},s=arguments[1]||function(){},a=t.frames||30,o=0,r=(Number(this.get("exploded")),Math.max(this.canvas.width,this.canvas.height)),r=Number(this.get("exploded"))||r;return Number(this.get("exploded"))===r&&this.set("exploded",0),function t(){var e;i.stopAnimationRequested?i.stopAnimationRequested=!1:(e=r-o/a*r,i.set("exploded",e),DxChart.clear(i.canvas),DxChart.redrawCanvas(i.canvas),o++<a?DxChart.Effects.updateCanvas(t,i.canvas):(DxChart.clear(i.canvas),DxChart.redrawCanvas(i.canvas),s(i)))}(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.tooltipSubstitutions=function(t){return{index:t.index,dataset:0,sequentialIndex:t.index,value:this.data[t.index],values:[this.data[t.index]]}},this.tooltipsFormattedCustom=function(t,e,i){var s=this.properties;return{color:i[t.index],label:"object"==typeof s.tooltipsFormattedKeyLabels&&"string"==typeof s.tooltipsFormattedKeyLabels[t.index]?s.tooltipsFormattedKeyLabels[t.index]:""}},this.positionTooltipStatic=function(t){var e,i=t.object,s=(t.event,t.tooltip),a=t.index,o=i.properties,r=DxChart.getCanvasXY(i.canvas),n=i.angles[a],n=(n[1]-n[0])/2+n[0],a=(e=0<=o.variantValue.indexOf("donut")?DxChart.isNull(o.variantDonutWidth)?this.radius/2+this.radius/4:this.radius-o.variantDonutWidth+o.variantDonutWidth/2:.5*this.radius,"number"==typeof o.exploded?o.exploded:o.exploded[a]),n=DxChart.getRadiusEndPoint(this.centerx,this.centery,n,e+(a||0));0<o.variantValue.indexOf("3d")&&("number"===o.variantDonutWidth?o.variantDonutWidth:this.radius,n[0]=1.5*(n[0]-this.centerx)+this.centerx),isNexacroRuntime?(t.tooltip._upposition=!0,t.tooltip.set_left(r[0]+n[0]-s.offsetWidth/2+i.properties.tooltipsOffsetX),t.tooltip.set_top(r[1]+n[1]-s.offsetHeight+i.properties.tooltipsOffsetY-10)):(t.tooltip.style.left=r[0]+n[0]-s.offsetWidth/2+i.properties.tooltipsOffsetX+"px",t.tooltip.style.top=r[1]+n[1]-s.offsetHeight+i.properties.tooltipsOffsetY-10+"px")},this.resetData(t.data),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartBipolar(t){return DxChart._Base.call(this,t,"bipolar"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"xaxis"),DxChart.setDefaultProperties(this,"yaxis"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"variant"),DxChart.setDefaultProperties(this,"default"),t.binddataset&&(this.binddataset=t.binddataset),this.coords=[],this.coords2=[],this.coordsLeft=[],this.coordsRight=[],this.coords2Left=[],this.coords2Right=[],this.max=0,this.stopAnimationRequested_left=!1,this.stopAnimationRequested_right=!1,this.properties.backgroundGrid=!0,this.properties.backgroundGridColor="#dddddd",this.properties.backgroundGridVlines=!0,this.properties.backgroundGridHlines=!0,this.properties.backgroundGridHlinesCount=null,this.properties.xaxisTickmarksCount=5,this.properties.xaxisLabelsCount=5,this.properties.xaxisLabels=!0,this.properties.highlightFill="rgba(255,255,255,0.7)",this.properties.marginInner=5,this.properties.marginInnerGrouped=3,this.resetData=function(t,e){this.binddataset&&(t=DxChart._getColumnDataset(this.binddataset,t),e=DxChart._getColumnDataset(this.binddataset,e));var i=[t,e];i[0]=DxChart.str2num(i[0]),i[1]=DxChart.str2num(i[1]),this.left=i[0],this.right=i[1],this.data=[i[0],i[1]],this.data2=[];for(var s=0;s<t.length;++s)this.data2.push(t[s]);for(s=0;s<e.length;++s)this.data2.push(e[s]);this.properties.yaxisTickmarksCount=this.left.length;for(var a=DxChart.arrayLinearize(this.left,this.right),s=0;s<a.length;++s)this["$"+s]={}},this.draw=function(){if(!this.left&&!this.right)return DxChart.NoDataShow(this);var t=this.properties;if(DxChart._BeforeDraw(this),this.marginCenter=t.marginCenter,this.marginCenterAuto=t.marginCenterAuto,t.yaxisLabels&&t.yaxisLabels.length){"string"==typeof t.yaxisLabels&&(t.yaxisLabels=DxChart.arrayPad({array:[],length:this.left.length,value:t.yaxisLabels}));for(var e=0;e<t.yaxisLabels.length;++e)t.yaxisLabels[e]=DxChart.labelSubstitution({object:this,text:t.yaxisLabels[e],index:e,value:this.left[e],decimals:t.yaxisLabelsFormattedDecimals||0,unitsPre:t.yaxisLabelsFormattedUnitsPre||"",unitsPost:t.yaxisLabelsFormattedUnitsPost||"",thousand:t.yaxisLabelsFormattedThousand||",",point:t.yaxisLabelsFormattedPoint||"."})}return t.marginCenterAuto&&!t.marginCenter&&(t.marginCenter=this.getMarginCenter()),this.marginCenter=t.marginCenter,this.left=this.data[0],this.right=this.data[1],this.coords=[],this.coords2=[],this.coordsLeft=[],this.coordsRight=[],this.coords2Left=[],this.coords2Right=[],this.coordsText=[],"3d"!==t.variantValue||t.textAccessible||this.context.setTransform(1,t.variantThreedAngle,0,1,0,0),this.axisWidth=(this.canvas.width-t.marginCenter-this.marginLeft-this.marginRight)/2,this.axisHeight=this.canvas.height-this.marginTop-this.marginBottom,this.sequentialFullIndex=0,this.getMax(),this.drawBackgroundGrid(),this.draw3DAxes(),this.drawAxes(),this.drawTicks(),this.drawLeftBars(),this.drawRightBars(),t.leftVisible&&this.drawLeftBars({shadow:!1}),t.rightVisible&&this.drawRightBars({shadow:!1}),this.drawAxes(),this.drawLabels(),this.drawTitles(),this.redraw3Dfaces(),t.contextmenu&&DxChart.showContext(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.redraw3Dfaces=function(){var t=this.properties;if("3d"===t.variantValue){if(DxChart.isNull(t.colorsLeft)||(t.colorsInitial=t.colors,t.colors=t.colorsLeft),0<this.coordsLeft.length&&0===this.coords2Left.length)for(var e=0;e<this.coordsLeft.length;++e)this.path("b r % % % % f %",this.coordsLeft[e][0],this.coordsLeft[e][1],this.coordsLeft[e][2],this.coordsLeft[e][3],DxChart.parseGradient(this,t.colors[0],this.coordsLeft[e][0],this.coordsLeft[e][1],this.coordsLeft[e][2],this.coordsLeft[e][3],null,null,!0));else for(e=0;e<this.coords2Left.length;++e)for(var i=0;i<this.coords2Left[e].length;++i)this.path("b r % % % % f %",this.coords2Left[e][i][0],this.coords2Left[e][i][1],this.coords2Left[e][i][2],this.coords2Left[e][i][3],DxChart.parseGradient(this,t.colors[i],this.coordsLeft[e][i][0],this.coordsLeft[e][i][1],this.coordsLeft[e][i][2],this.coordsLeft[e][i][3],null,null,!0));DxChart.isNull(t.colorsLeft)||(t.colors=t.colorsInitial),DxChart.isNull(t.colorsRight)||(t.colorsInitial=t.colors,t.colors=t.colorsRight);var s=t.variantThreedOffsetX,a=t.variantThreedOffsetY;if(0<this.coordsRight.length&&0===this.coords2Right.length)for(e=0;e<this.coordsRight.length;++e){var o=this.coordsRight[e];this.path("b r % % % % f %",o[0],o[1],o[2],o[3],DxChart.parseGradient(this,t.colors[0],o[0],o[1],o[2],o[3],null,null,!1)),this.path("b m % % l % % l % % l % % f %",o[0]+o[2],o[1],o[0]+o[2]+s,o[1]-a,o[0]+o[2]+s,o[1]-a+o[3],o[0]+o[2],o[1]+o[3],"rgba(0,0,0,0.3)")}else for(e=0;e<this.coords2Right.length;++e)for(i=this.coords2Right[e].length-1;0<=i;--i){o=this.coords2Right[e][i];this.path("b r % % % % f %",o[0],o[1],o[2],o[3],DxChart.parseGradient(this,t.colors[i],o[0],o[1],o[2],o[3],null,null,!1)),this.path("b m % % l % % l % % l % % f %",o[0],o[1],o[0]+s,o[1]-a,o[0]+o[2]+s,o[1]-a,o[0]+o[2],o[1],DxChart.parseGradient(this,t.colors[i],o[0],o[1],o[0]+o[2]+s,o[1]-a,null,null,!1)),this.path("b m % % l % % l % % l % % f rgba(255,255,255,0.6)",o[0],o[1],o[0]+s,o[1]-a,o[0]+o[2]+s,o[1]-a,o[0]+o[2],o[1]),this.path("b m % % l % % l % % l % % f %",o[0]+o[2],o[1],o[0]+o[2]+s,o[1]-a,o[0]+o[2]+s,o[1]-a+o[3],o[0]+o[2],o[1]+o[3],DxChart.parseGradient(this,t.colors[i],o[0]+o[2],o[1],o[0]+o[2]+s,o[1]-a+o[3],null,null,!1)),this.path("b m % % l % % l % % l % % f %",o[0]+o[2],o[1],o[0]+o[2]+s,o[1]-a,o[0]+o[2]+s,o[1]-a+o[3],o[0]+o[2],o[1]+o[3],"rgba(0,0,0,0.3)")}DxChart.isNull(t.colorsRight)||(t.colors=t.colorsInitial)}},this.draw3DAxes=function(){var t,e,i=this.properties;"3d"===i.variantValue&&(t=i.variantThreedOffsetX,e=i.variantThreedOffsetY,this.context.lineWidth=i.axesLineWidth+.001,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.beginPath(),this.context.strokeStyle=i.axesColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.path("b m % % l % % l % % l % % s #aaa f #ddd",this.marginLeft,this.canvas.height-this.marginBottom,this.marginLeft+t,this.canvas.height-this.marginBottom-e,this.marginLeft+t+this.axisWidth,this.canvas.height-this.marginBottom-e,this.marginLeft+this.axisWidth,this.canvas.height-this.marginBottom),this.draw3DLeftVerticalAxis(),this.path("b m % % l % % l % % l % % s #aaa f #ddd",this.marginLeft+this.marginCenter+this.axisWidth,this.canvas.height-this.marginBottom,this.marginLeft+this.marginCenter+this.axisWidth+t,this.canvas.height-this.marginBottom-e,this.marginLeft+this.marginCenter+this.axisWidth+this.axisWidth+t,this.canvas.height-this.marginBottom-e,this.marginLeft+this.marginCenter+this.axisWidth+this.axisWidth,this.canvas.height-this.marginBottom),this.path("b m % % l % % l % % l % % s #aaa f #ddd",this.marginLeft+this.marginCenter+this.axisWidth,this.canvas.height-this.marginBottom,this.marginLeft+this.marginCenter+this.axisWidth,this.canvas.height-this.marginBottom-this.axisHeight,this.marginLeft+this.marginCenter+this.axisWidth+t,this.canvas.height-this.marginBottom-this.axisHeight-e,this.marginLeft+this.marginCenter+this.axisWidth+t,this.canvas.height-this.marginBottom-e))},this.draw3DLeftVerticalAxis=function(){var t,e=this.properties;"3d"===e.variantValue&&(t=e.variantThreedOffsetX,e=e.variantThreedOffsetY,this.path("b m % % l % % l % % l % % s #aaa f #ddd",this.marginLeft+this.axisWidth,this.marginTop,this.marginLeft+this.axisWidth+t,this.marginTop-e,this.marginLeft+this.axisWidth+t,this.canvas.height-this.marginBottom-e,this.marginLeft+this.axisWidth,this.canvas.height-this.marginBottom))},this.drawAxes=function(){var t,e=this.properties;this.context.lineWidth=e.axesLineWidth+.001,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.beginPath(),this.context.strokeStyle=e.axesColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.axisWidth=(this.canvas.width-e.marginCenter-this.marginLeft-this.marginRight)/2,this.axisHeight=this.canvas.height-this.marginTop-this.marginBottom,e.axesUse&&(e.leftVisible&&(e.xaxisUse&&(this.context.moveTo(this.marginLeft,this.canvas.height-this.marginBottom),this.context.lineTo(this.marginLeft+this.axisWidth,this.canvas.height-this.marginBottom)),e.yaxisUse&&(this.context.moveTo(this.marginLeft+this.axisWidth,this.canvas.height-this.marginBottom),this.context.lineTo(this.marginLeft+this.axisWidth,this.marginTop)),this.context.stroke()),this.context.beginPath(),t=this.marginLeft+this.axisWidth+e.marginCenter,e.rightVisible)&&(e.yaxisUse&&(this.context.moveTo(t,this.marginTop),this.context.lineTo(t,this.canvas.height-this.marginBottom)),e.xaxisUse&&(this.context.moveTo(t,this.canvas.height-this.marginBottom),this.context.lineTo(this.canvas.width-this.marginRight,this.canvas.height-this.marginBottom)),this.context.stroke())},this.drawTicks=function(){var t=this.properties,e=(this.context.lineWidth=t.axesLineWidth+.001,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.left.length),e=(this.canvas.height-this.marginTop-this.marginBottom-this.left.length*(2*t.marginInner))/e;if(this.barHeight=e,t.axesUse){if(t.yaxisUse&&0<t.yaxisTickmarksCount){if(t.leftVisible){this.context.beginPath();for(var i=0;i<t.yaxisTickmarksCount;++i){var s=t.marginTop+(this.canvas.height-this.marginTop-this.marginBottom)/t.yaxisTickmarksCount*i;this.context.moveTo(this.marginLeft+this.axisWidth,s),this.context.lineTo(this.marginLeft+this.axisWidth+3,s)}this.context.stroke()}if(t.rightVisible){this.context.beginPath();for(i=0;i<t.yaxisTickmarksCount;++i){s=t.marginTop+(this.canvas.height-this.marginTop-this.marginBottom)/t.yaxisTickmarksCount*i;this.context.moveTo(this.marginLeft+this.axisWidth+t.marginCenter,s),this.context.lineTo(this.marginLeft+this.axisWidth+t.marginCenter-3,s)}this.context.stroke()}t.xaxisUse||(t.leftVisible&&this.path("b m % % l % % s %",this.marginLeft+this.axisWidth,this.canvas.height-this.marginBottom,this.marginLeft+this.axisWidth+4,this.canvas.height-this.marginBottom,this.context.strokeStyle),t.rightVisible&&this.path("b m % % l % % s %",this.marginLeft+this.axisWidth+t.marginCenter,this.canvas.height-this.marginBottom,this.marginLeft+this.axisWidth+t.marginCenter-4,this.canvas.height-this.marginBottom,this.context.strokeStyle))}if(t.xaxisUse&&0<t.xaxisTickmarksCount){var a=this.axisWidth/t.xaxisTickmarksCount;if("number"==typeof t.xaxisTickmarksInterval&&(a=t.xaxisTickmarksInterval),t.leftVisible)for(i=this.marginLeft;i<this.marginLeft+this.axisWidth;i+=a)this.context.beginPath(),this.context.moveTo(i,this.canvas.height-this.marginBottom),this.context.lineTo(i,this.canvas.height-this.marginBottom+4),this.context.closePath(),this.context.stroke();if(t.rightVisible)for(var o=this.canvas.width-this.marginRight+1,i=this.marginLeft+this.axisWidth+t.marginCenter+a;i<=o;i+=a)this.context.beginPath(),this.context.moveTo(i,this.canvas.height-this.marginBottom),this.context.lineTo(i,this.canvas.height-this.marginBottom+4),this.context.closePath(),this.context.stroke();t.yaxisUse||(t.leftVisible&&this.path("b m % % l % % s %",this.marginLeft+this.axisWidth,this.canvas.height-this.marginBottom,this.marginLeft+this.axisWidth,this.canvas.height-this.marginBottom+4,this.context.strokeStyle),t.rightVisible&&this.path("b m % % l % % s %",this.marginLeft+this.axisWidth+t.marginCenter,this.canvas.height-this.marginBottom,this.marginLeft+this.axisWidth+t.marginCenter,this.canvas.height-this.marginBottom+4,this.context.strokeStyle))}}},this.getMax=function(){var t=this.properties;t.xaxisScaleDecimals;if(t.xaxisScaleMax){var e=t.xaxisScaleMax,i=t.xaxisScaleMin;this.scale2=DxChart.getScale({object:this,options:{"scale.max":e,"scale.min":i,"scale.strict":!0,"scale.thousand":t.xaxisScaleThousand,"scale.point":t.xaxisScalePoint,"scale.decimals":t.xaxisScaleDecimals,"scale.labels.count":t.xaxisLabelsCount,"scale.round":t.xaxisScaleRound,"scale.units.pre":t.xaxisScaleUnitsPre,"scale.units.post":t.xaxisScaleUnitsPost}})}else{for(var e=1,s=0;s<this.left.length;++s)"number"==typeof this.left[s]?e=Math.max(e,this.left[s]):DxChart.isNull(this.left[s])||(e=Math.max(e,"stacked"===t.grouping?DxChart.arraySum(this.left[s]):DxChart.arrayMax(this.left[s])));for(s=0;s<this.right.length;++s)"number"==typeof this.right[s]?e=Math.max(e,this.right[s]):DxChart.isNull(this.right[s])||(e=Math.max(e,"stacked"===t.grouping?DxChart.arraySum(this.right[s]):DxChart.arrayMax(this.right[s])));this.scale2=DxChart.getScale({object:this,options:{"scale.max":e,"scale.min":t.xaxisScaleMin,"scale.thousand":t.xaxisScaleThousand,"scale.point":t.xaxisScalePoint,"scale.decimals":t.xaxisScaleDecimals,"scale.labels.count":t.xaxisLabelsCount,"scale.round":t.xaxisScaleRound,"scale.units.pre":t.xaxisScaleUnitsPre,"scale.units.post":t.xaxisScaleUnitsPost}})}this.max=this.scale2.max,this.min=this.scale2.min},this.drawLeftBars=function(){var t=this.properties;if(t.leftVisible){var e={},i=(e.shadow="object"!=typeof arguments[0]||arguments[0].shadow,t.variantThreedOffsetX),s=t.variantThreedOffsetY;this.context.strokeStyle=t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=t.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),DxChart.isNull(t.colorsLeft)||(t.colorsInitial=t.colors,t.colors=t.colorsLeft);for(var a=0,o=0;a<this.left.length;++a){if(t.shadowUse&&"3d"!==t.variantValue&&e.shadow&&DxChart.setShadow({object:this,prefix:"shadow"}),"number"==typeof this.left[a]){var r=(this.left[a]-this.min)/(this.max-this.min)*this.axisWidth,n=[this.marginLeft+this.axisWidth-r,this.marginTop+a*(this.axisHeight/this.left.length)+t.marginInner,r,this.barHeight],h=t.colorsSequential?DxChart.parseGradient(this,t.colors[o],n[0],n[1],r,this.barHeight,null,null,!0):DxChart.parseGradient(this,t.colors[0],n[0],n[1],r,this.barHeight,null,null,!0);this.context.fillStyle=h,isNexacroRuntime&&this.context.setElementFillStyle(h),null!==this.left[a]&&(this.context.strokeRect(n[0],n[1],n[2],n[3]),this.context.fillRect(n[0],n[1],n[2],n[3])),"3d"===t.variantValue&&null!==this.left[a]&&(t.shadow&&e.shadow&&(this.context.shadowColor=t.shadowStyleObj.color,this.context.shadowBlur=t.shadowStyleObj.blur,this.context.shadowOffsetX=t.shadowStyleObj.offsetX,this.context.shadowOffsetY=t.shadowStyleObj.offsetY,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY),this.path("b m % % l % % l % % l % % f black sc rgba(0,0,0,0) sx 0 sy 0 sb 0",n[0]+i,n[1]-s,n[0]+i+n[2],n[1]-s,n[0]+i+n[2],n[1]-s+n[3],n[0]+i,n[1]-s+n[3])),h=t.colorsSequential?DxChart.parseGradient(this,t.colors[a],n[0],n[1],r,this.barHeight,null,null,!0):DxChart.parseGradient(this,t.colors[0],n[0],n[1],r,this.barHeight,null,null,!0),this.context.fillStyle=h,isNexacroRuntime&&this.context.setElementFillStyle(h),this.path("b m % % l % % l % % l % % f",n[0],n[1],n[0]+i,n[1]-s,n[0]+i+n[2],n[1]-s,n[0]+n[2],n[1]),this.path("b m % % l % % l % % l % % f rgba(255,255,255,0.4)",n[0],n[1],n[0]+i,n[1]-s,n[0]+i+n[2],n[1]-s,n[0]+n[2],n[1])),e.shadow||(this.coords.push([n[0],n[1],n[2],n[3]]),this.coordsLeft.push([n[0],n[1],n[2],n[3]])),o++}else if("object"==typeof this.left[a]&&"stacked"===t.grouping)for(var l=0,c=0;l<this.left[a].length;++l){var x=this.left[a][l],d=this.min,u=this.max,g=t.marginInner,r=(x-d)/(u-d)*this.axisWidth,p=(b=this.axisHeight/this.left.length)-2*g,f=this.marginLeft+this.axisWidth-r-c,m=this.marginTop+g+a*b;c+=r,h=t.colorsSequential?DxChart.parseGradient(this,t.colors[o],f,m,r,p,null,null,!0):DxChart.parseGradient(this,t.colors[l],f,m,r,p,null,null,!0),this.context.fillStyle=h,isNexacroRuntime&&this.context.setElementFillStyle(h),null!==this.left[a]&&(this.context.strokeRect(f,m,r,p),this.context.fillRect(f,m,r,p)),"3d"===t.variantValue&&null!==this.left[a]&&(t.shadowUse&&e.shadow&&(this.context.shadowColor=t.shadowStyleObj.color,this.context.shadowBlur=t.shadowStyleObj.blur,this.context.shadowOffsetX=t.shadowStyleObj.offsetX,this.context.shadowOffsetY=t.shadowStyleObj.offsetY,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY),this.path("b m % % l % % l % % l % % f black sc rgba(0,0,0,0) sx 0 sy 0 sb 0",f+i,m-s,f+i+r,m-s,f+i+r,m-s+p,f+i,m-s+p)),h=t.colorsSequential?DxChart.parseGradient(this,t.colors[o],f,m,r,p,null,null,!0):DxChart.parseGradient(this,t.colors[l],f,m,r,p,null,null,!0),this.context.fillStyle=h,isNexacroRuntime&&this.context.setElementFillStyle(h),this.path("b m % % l % % l % % l % % f",f,m,f+i,m-s,f+i+r,m-s,f+r,m),this.path("b m % % l % % l % % l % % f rgba(255,255,255,0.4)",f,m,f+i,m-s,f+i+r,m-s,f+r,m)),e.shadow||(this.coords.push([f,m,r,p]),this.coordsLeft.push([f,m,r,p]),DxChart.isArray(this.coords2[a])||(this.coords2[a]=[]),this.coords2[a].push([f,m,r,p]),DxChart.isArray(this.coords2Left[a])||(this.coords2Left[a]=[]),this.coords2Left[a].push([f,m,r,p])),o++}else if("object"==typeof this.left[a]&&!DxChart.isNull(this.left[a]))for(l=0;l<this.left[a].length;++l){var b,x=this.left[a][l],d=this.min,u=this.max,g=t.marginInner,C=t.marginInnerGrouped,r=(x-d)/(u-d)*this.axisWidth,p=((b=this.axisHeight/this.left.length)-2*g-(this.left[a].length-1)*C)/this.left[a].length,f=this.marginLeft+this.axisWidth-r,m=this.marginTop+g+a*b+p*l+l*C;h=t.colorsSequential?DxChart.parseGradient(this,t.colors[o],f,m,r,p,null,null,!0):DxChart.parseGradient(this,t.colors[l],f,m,r,p,null,null,!0),this.context.fillStyle=h,isNexacroRuntime&&this.context.setElementFillStyle(h),null!==this.left[a]&&(this.context.strokeRect(f,m,r,p),this.context.fillRect(f,m,r,p)),"3d"===t.variantValue&&null!==this.left[a]&&(t.shadowUse&&e.shadow&&(this.context.shadowColor=t.shadowStyleObj.color,this.context.shadowBlur=t.shadowStyleObj.blur,this.context.shadowOffsetX=t.shadowStyleObj.offsetX,this.context.shadowOffsetY=t.shadowStyleObj.offsetY,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY),this.path("b m % % l % % l % % l % % f black sc rgba(0,0,0,0) sx 0 sy 0 sb 0",f+i,m-s,f+i+r,m-s,f+i+r,m-s+p,f+i,m-s+p)),h=t.colorsSequential?DxChart.parseGradient(this,t.colors[o],f,m,r,p,null,null,!0):DxChart.parseGradient(this,t.colors[l],f,m,r,p,null,null,!0),this.context.fillStyle=h,isNexacroRuntime&&this.context.setElementFillStyle(h),this.path("b m % % l % % l % % l % % f",f,m,f+i,m-s,f+i+r,m-s,f+r,m),this.path("b m % % l % % l % % l % % f rgba(255,255,255,0.4)",f,m,f+i,m-s,f+i+r,m-s,f+r,m)),e.shadow||(this.coords.push([f,m,r,p]),this.coordsLeft.push([f,m,r,p]),DxChart.isArray(this.coords2[a])||(this.coords2[a]=[]),this.coords2[a].push([f,m,r,p]),DxChart.isArray(this.coords2Left[a])||(this.coords2Left[a]=[]),this.coords2Left[a].push([f,m,r,p])),o++}this.draw3DLeftVerticalAxis()}DxChart.isNull(t.colorsLeft)||(t.colors=t.colorsInitial),DxChart.noShadow(this),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)}},this.drawRightBars=function(){var t=this.properties;if(t.rightVisible){var e={},i=(e.shadow="object"!=typeof arguments[0]||arguments[0].shadow,t.variantThreedOffsetX),s=t.variantThreedOffsetY;this.context.strokeStyle=t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=t.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),t.shadowUse&&"3d"!==t.variantValue&&e.shadow&&(this.context.shadowColor=t.shadowStyleObj.color,this.context.shadowBlur=t.shadowStyleObj.blur,this.context.shadowOffsetX=t.shadowStyleObj.offsetX,this.context.shadowOffsetY=t.shadowStyleObj.offsetY,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime)&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY),DxChart.isNull(t.colorsRight)||(t.colorsInitial=t.colors,t.colors=t.colorsRight);for(var a=0,o=DxChart.arrayLinearize(this.left).length;a<this.right.length;++a)if("number"==typeof this.right[a]){var r=(this.right[a]-this.min)/(this.max-this.min)*this.axisWidth,n=[this.marginLeft+this.axisWidth+t.marginCenter,t.marginInner+a*(this.axisHeight/this.right.length)+this.marginTop,r,this.barHeight],h=t.colorsSequential?DxChart.parseGradient(this,t.colors[o],n[0],n[1],r,this.barHeight):DxChart.parseGradient(this,t.colors[0],n[0],n[1],r,this.barHeight);this.context.fillStyle=h,isNexacroRuntime&&this.context.setElementFillStyle(h),null!==this.right[a]&&(this.context.strokeRect(n[0],n[1],n[2],n[3]),this.context.fillRect(n[0],n[1],n[2],n[3])),"3d"===t.variantValue&&null!==this.right[a]&&(C=this.context.fillStyle,t.shadowUse&&e.shadow&&(this.context.shadowColor=t.shadowStyleObj.color,this.context.shadowBlur=t.shadowStyleObj.blur,this.context.shadowOffsetX=t.shadowStyleObj.offsetX,this.context.shadowOffsetY=t.shadowStyleObj.offsetY,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY),this.path("b m % % l % % l % % l % % f black sc rgba(0,0,0,0) sx 0 sy 0 sb 0",n[0]+i,n[1]-s,n[0]+i+n[2],n[1]-s,n[0]+i+n[2],n[1]-s+n[3],n[0]+i,n[1]-s+n[3])),this.path("b m % % l % % l % % l % % f %",n[0],n[1],n[0]+i,n[1]-s,n[0]+i+n[2],n[1]-s,n[0]+n[2],n[1],C),this.path("b m % % l % % l % % l % % f %",n[0]+n[2],n[1],n[0]+n[2]+i,n[1]-s,n[0]+n[2]+i,n[1]-s+n[3],n[0]+n[2],n[1]+n[3],C),this.path("b m % % l % % l % % l % % f rgba(255,255,255,0.6)",n[0],n[1],n[0]+i,n[1]-s,n[0]+i+n[2],n[1]-s,n[0]+n[2],n[1]),this.path("b m % % l % % l % % l % % f rgba(0,0,0,0.3)",n[0]+n[2],n[1],n[0]+n[2]+i,n[1]-s,n[0]+n[2]+i,n[1]-s+n[3],n[0]+n[2],n[1]+n[3])),e.shadow||(this.coords.push([n[0],n[1],n[2],n[3]]),this.coordsRight.push([n[0],n[1],n[2],n[3]])),o++}else if("object"==typeof this.left&&"stacked"===t.grouping)for(var l=0,c=0;l<this.right[a].length;++l){var x=this.right[a][l],d=this.min,u=this.max,g=t.marginInner,r=(x-d)/(u-d)*this.axisWidth,p=(b=this.axisHeight/this.right.length)-2*g,f=this.marginLeft+this.axisWidth+t.marginCenter+c,m=this.marginTop+g+a*b;c+=r,h=t.colorsSequential?DxChart.parseGradient(this,t.colors[o],f,m,r,p):DxChart.parseGradient(this,t.colors[l],f,m,r,p),this.context.fillStyle=h,isNexacroRuntime&&this.context.setElementFillStyle(h),null!==this.right[a]&&(this.context.strokeRect(f,m,r,p),this.context.fillRect(f,m,r,p)),"3d"===t.variantValue&&null!==this.right[a]&&(C=this.context.fillStyle,t.shadowUse&&e.shadow&&(DxChart.setShadow({object:this,prefix:"shadow"}),this.path("b m % % l % % l % % l % % f black sc rgba(0,0,0,0) sx 0 sy 0 sb 0",f+i,m-s,f+i+r,m-s,f+i+r,m-s+p,f+i,m-s+p)),this.path("b m % % l % % l % % l % % f %",f,m,f+i,m-s,f+i+r,m-s,f+r,m,C),l===this.right[a].length-1&&(this.path("b m % % l % % l % % l % % f %",f+r,m,f+r+i,m-s,f+r+i,m-s+p,f+r,m+p,C),this.path("b m % % l % % l % % l % % f rgba(0,0,0,0.3)",f+r,m,f+r+i,m-s,f+r+i,m-s+p,f+r,m+p)),this.path("b m % % l % % l % % l % % f rgba(255,255,255,0.6)",f,m,f+i,m-s,f+i+r,m-s,f+r,m)),e.shadow||(this.coords.push([f,m,r,p]),DxChart.isArray(this.coords2[o])||(this.coords2[o]=[]),this.coords2[o].push([f,m,r,p]),this.coordsRight.push([f,m,r,p]),DxChart.isArray(this.coords2Right[a])||(this.coords2Right[a]=[]),this.coords2Right[a].push([f,m,r,p])),o++}else if("object"==typeof this.right[a])for(l=0;l<this.right[a].length;++l){var b,C,x=this.right[a][l],d=this.min,u=this.max,g=t.marginInner,y=t.marginInnerGrouped,r=(x-d)/(u-d)*this.axisWidth,p=((b=this.axisHeight/this.right.length)-2*g-(this.right[a].length-1)*y)/this.right[a].length,f=this.marginLeft+this.axisWidth+t.marginCenter,m=this.marginTop+g+a*b+p*l+l*y;h=t.colorsSequential?DxChart.parseGradient(this,t.colors[o],f,m,r,p):DxChart.parseGradient(this,t.colors[l],f,m,r,p),this.context.fillStyle=h,isNexacroRuntime&&this.context.setElementFillStyle(h),null!==this.right[a]&&(this.context.strokeRect(f,m,r,p),this.context.fillRect(f,m,r,p)),e.shadow||(this.coords.push([f,m,r,p]),this.coordsRight.push([f,m,r,p]),DxChart.isArray(this.coords2[this.left.length+a])||(this.coords2[this.left.length+a]=[]),this.coords2[this.left.length+a].push([f,m,r,p]),DxChart.isArray(this.coords2Right[a])||(this.coords2Right[a]=[]),this.coords2Right[a].push([f,m,r,p])),o++,"3d"===t.variantValue&&null!==this.right[a]&&(C=this.context.fillStyle,t.shadowUse&&e.shadow&&(this.context.shadowColor=t.shadowStyleObj.color,this.context.shadowBlur=t.shadowStyleObj.blur,this.context.shadowOffsetX=t.shadowStyleObj.offsetX,this.context.shadowOffsetY=t.shadowStyleObj.offsetY,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY),this.path("b m % % l % % l % % l % % f black sc rgba(0,0,0,0) sx 0 sy 0 sb 0",f+i,m-s,f+i+r,m-s,f+i+r,m-s+p,f+i,m-s+p)),this.path("b m % % l % % l % % l % % f %",f,m,f+i,m-s,f+i+r,m-s,f+r,m,C),this.path("b m % % l % % l % % l % % f %",f+r,m,f+r+i,m-s,f+r+i,m-s+p,f+r,m+p,C),this.path("b m % % l % % l % % l % % f rgba(255,255,255,0.6)",f,m,f+i,m-s,f+i+r,m-s,f+r,m),this.path("b m % % l % % l % % l % % f rgba(0,0,0,0.3)",f+r,m,f+r+i,m-s,f+r+i,m-s+p,f+r,m+p))}DxChart.isNull(t.colorsRight)||(t.colors=t.colorsInitial),DxChart.noShadow(this),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)}},this.drawLabels=function(){var t=this.properties,e=t.yaxisLabels,i=this.canvas.height-this.marginTop-this.marginBottom,s=DxChart.getTextInfo({object:this,prefix:"yaxisLabels"});this.context.fillStyle=s.color,isNexacroRuntime&&this.context.setElementFillStyle(s.color);for(var a=0,o=e.length;a<o;++a)DxChart.text({object:this,color:s.color,font:s.font,size:s.size,bold:s.bold,italic:s.italic,x:isNexacroRuntime?this.marginLeft+this.axisWidth+t.marginCenter/2+t.yaxisLabelsOffsetX+t.marginCenter/8:this.marginLeft+this.axisWidth+t.marginCenter/2+t.yaxisLabelsOffsetX,y:this.marginTop+i/e.length*a+i/e.length/2+t.yaxisLabelsOffsetY,text:String(e[a]?String(e[a]):""),halign:"center",valign:"center",marker:!1,tag:"labels",cssClass:DxChart.getLabelsCSSClassName({object:this,name:"yaxisLabelsClass",index:a})});if(this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(t.textColor),t.xaxisLabels){var r=(this.canvas.width-t.marginCenter-this.marginLeft-this.marginRight)/2,s=DxChart.getTextInfo({object:this,prefix:"xaxisLabels"});if(t.leftVisible||t.rightVisible)for(a=0;a<this.scale2.labels.length;++a)t.leftVisible&&DxChart.text({object:this,font:s.font,size:s.size,bold:s.bold,italic:s.italic,color:s.color,x:this.marginLeft+r/this.scale2.labels.length*a-t.xaxisLabelsOffsetX,y:this.canvas.height-this.marginBottom+7+t.xaxisLabelsOffsetY,text:"function"==typeof t.xaxisScaleFormatter?t.xaxisScaleFormatter(this,this.scale2.values[this.scale2.values.length-a-1]):this.scale2.labels[this.scale2.labels.length-a-1],valign:"top",halign:"center",tag:"scale"}),t.rightVisible&&DxChart.text({object:this,font:s.font,size:s.size,bold:s.bold,italic:s.italic,color:s.color,x:this.marginLeft+r+t.marginCenter+r/this.scale2.labels.length*(a+1)+t.xaxisLabelsOffsetX,y:this.canvas.height-this.marginBottom+7+t.xaxisLabelsOffsetY,text:this.scale2.labels[a],text:"function"==typeof t.xaxisScaleFormatter?t.xaxisScaleFormatter(this,this.scale2.values[a]):this.scale2.labels[a],valign:"top",halign:"center",tag:"scale"});t.xaxisScaleZerostart&&(t.leftVisible&&DxChart.text({object:this,font:s.font,size:s.size,bold:s.bold,italic:s.italic,color:s.color,x:this.marginLeft+this.axisWidth-t.xaxisLabelsOffsetX,y:this.canvas.height-this.marginBottom+7+t.xaxisLabelsOffsetY,text:"function"==typeof t.xaxisScaleFormatter?t.xaxisScaleFormatter(this,0):DxChart.numberFormat({object:this,number:0..toFixed(t.xaxisScaleDecimals),unitspre:t.xaxisScaleUnitsPre,unitspost:t.xaxisScaleUnitsPost}),valign:"top",halign:"center",tag:"scale"}),t.rightVisible)&&DxChart.text({object:this,font:s.font,size:s.size,bold:s.bold,italic:s.italic,color:s.color,x:this.marginLeft+this.axisWidth+this.marginCenter+t.xaxisLabelsOffsetX,y:this.canvas.height-this.marginBottom+7+t.xaxisLabelsOffsetY,text:"function"==typeof t.xaxisScaleFormatter?t.xaxisScaleFormatter(this,0):DxChart.numberFormat({object:this,number:0..toFixed(t.xaxisScaleDecimals),unitspre:t.xaxisScaleUnitsPre,unitspost:t.xaxisScaleUnitsPost}),valign:"top",halign:"center",tag:"scale"})}t.labelsAbove&&this.drawLabelsAbove()},this.drawLabelsAbove=function(){for(var t=this.properties,e=this.coordsLeft,i=this.coordsRight,s=DxChart.getTextInfo({object:this,prefix:"labelsAbove"}),a=0,o=0;a<e.length;++a,++o)if("number"==typeof this.left[a]){var r=this.coords[o];DxChart.text({object:this,font:s.font,size:s.size,bold:s.bold,italic:s.italic,color:s.color,x:r[0]-5-t.labelsAboveOffsetX,y:r[1]+r[3]/2+t.labelsAboveOffsetY,text:"function"==typeof t.labelsAboveFormatter?t.labelsAboveFormatter(this,this.left[a]):DxChart.numberFormat({object:this,number:this.left[a].toFixed("number"==typeof t.labelsAboveDecimals?t.labelsAboveDecimals:0),unitspre:t.labelsAboveUnitsPre,unitspost:t.labelsAboveUnitsPost}),valign:"center",halign:"right",tag:"labels.above"})}else if("object"==typeof this.left[a]){for(var n=0;n<this.left[a].length;++n,++o)"stacked"===t.grouping&&n!==this.left[a].length-1||(r=e[o],DxChart.text({object:this,font:s.font,size:s.size,bold:s.bold,italic:s.italic,color:s.color,x:r[0]-5-t.labelsAboveOffsetX,y:r[1]+r[3]/2+t.labelsAboveOffsetY,text:"function"==typeof t.labelsAboveFormatter?t.labelsAboveFormatter(this,this.left[a][n]):DxChart.numberFormat({object:this,number:DxChart.isNull(this.left[a][n])||isNaN(this.left[a][n])?"":("stacked"===t.grouping?DxChart.arraySum(this.left[a]):Number(this.left[a][n])).toFixed("number"==typeof t.labelsAboveDecimals?t.labelsAboveDecimals:0),unitspre:t.labelsAboveUnitsPre,unitspost:t.labelsAboveUnitsPost}),valign:"center",halign:"right",tag:"labels.above"}));o--}for(a=0,o=0;a<i.length;++a,++o)if("number"==typeof this.right[a]){r=i[o];DxChart.text({object:this,font:s.font,size:s.size,bold:s.bold,italic:s.italic,color:s.color,x:r[0]+r[2]+5+("3d"===t.variantValue?10:0)+t.labelsAboveOffsetX,y:r[1]+r[3]/2+("3d"===t.variantValue?-5:0)+t.labelsAboveOffsetY,text:"function"==typeof t.labelsAboveFormatter?t.labelsAboveFormatter(this,this.right[a]):DxChart.numberFormat({object:this,number:this.right[a].toFixed("number"==typeof t.labelsAboveDecimals?t.labelsAboveDecimals:0),unitspre:t.labelsAboveUnitsPre,unitspost:t.labelsAboveUnitsPost}),valign:"center",halign:"left",tag:"labels.above"})}else if("object"==typeof this.right[a]){for(n=0;n<this.right[a].length;++n,++o)"stacked"===t.grouping&&n!==this.right[a].length-1||(r=i[o],DxChart.text({object:this,font:s.font,size:s.size,bold:s.bold,italic:s.italic,color:s.color,x:r[0]+r[2]+5+("3d"===t.variantValue?10:0)+t.labelsAboveOffsetX,y:r[1]+r[3]/2+("3d"===t.variantValue?-5:0)+t.labelsAboveOffsetY,text:"function"==typeof t.labelsAboveFormatter?t.labelsAboveFormatter(this,this.right[a][n]):DxChart.numberFormat({object:this,number:DxChart.isNull(this.right[a][n])||isNaN(this.right[a][n])?"":"stacked"===t.grouping?DxChart.arraySum(this.right[a]).toFixed(t.labelsAboveDecimals):Number(this.right[a][n]).toFixed("number"==typeof t.labelsAboveDecimals?t.labelsAboveDecimals:0),unitspre:t.labelsAboveUnitsPre,unitspost:t.labelsAboveUnitsPost}),valign:"center",halign:"left",tag:"labels.above"}));--o}},this.drawTitles=function(){var t,e=this.properties;e.titleLeft=String(e.titleLeft),e.titleRight=String(e.titleRight),e.titleText=String(e.titleText),e.titleLeft&&(t=DxChart.getTextInfo({object:this,prefix:"titleLeft"}),DxChart.text({object:this,font:t.font,size:t.size,bold:t.bold,italic:t.italic,color:t.color,x:this.marginLeft+5+e.titleLeftOffsetX,y:this.marginTop-5+e.titleLeftOffsetY,text:e.titleLeft,halign:"left",valign:"bottom",tag:"title.left"})),e.titleRight&&(t=DxChart.getTextInfo({object:this,prefix:"titleRight"}),DxChart.text({object:this,font:t.font,size:t.size,bold:t.bold,italic:t.italic,color:t.color,x:this.canvas.width-this.marginRight-5+e.titleRightOffsetX,y:this.marginTop-5+e.titleRightOffsetY,text:e.titleRight,halign:"right",valign:"bottom",tag:"title.right"})),e.titleText&&DxChart.drawTitle(this,e.titleText,this.marginTop,null,"number"==typeof e.titleFontStyleObj.size?e.titleFontStyleObj.size:null)},this.getShape=function(t){for(var e=this.properties,i=(this.canvas,this.context,DxChart.getMouseXY(t)),s=0,a=0;a<this.coords.length;a++){var o,r,n=i[0],h=i[1],l=this.coords[a][0],c=this.coords[a][1],x=this.coords[a][2],d=this.coords[a][3];if(isNexacroRuntime&&"3d"===e.variantValue)return;if(this.context.beginPath(),this.context.rect(l,c,x,d),this.context.isPointInPath(n,h))return DxChart.parseTooltipText&&(o=DxChart.parseTooltipText(e.tooltipsData,a)),h=(n=DxChart.sequentialIndexToGrouped(a,this.data2))[0],n=n[1],(r=h)+1>this.left.length&&(r-=this.left.length,s=1),{object:this,x:l,y:c,width:x,height:d,tooltip:"string"==typeof o?o:null,side:s,sequentialIndex:a,index:n,dataset:h,dataset2:r,label:e.yaxisLabels&&"string"==typeof e.yaxisLabels[r]?e.yaxisLabels[r]:null}}return null},this.highlight=function(t){var e=this.properties;if("function"==typeof e.highlightStyle)e.highlightStyle(t);else if("string"==typeof e.highlightStyle&&"invert"===e.highlightStyle&&0<=t.sequentialIndex)for(var i=0;i<this.coords.length;++i)i!==t.sequentialIndex&&(this.context.beginPath(),this.context.rect(this.coords[i][0]-.5,this.coords[i][1]-.5,this.coords[i][2]+1,this.coords[i][3]+1),this.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(e.highlightStroke),this.context.stroke(),this.context.fillStyle=e.highlightFill,isNexacroRuntime&&this.context.setElementFillStyle(e.highlightFill),this.context.fill());else DxChart.Highlight.rect(this,t)},this.getValue=function(t){var e,i=this.properties,t=(t.target.__object__,DxChart.getMouseXY(t)[0]);return t>this.marginLeft&&t<this.canvas.width/2-i.marginCenter/2&&(e=(t-i.marginLeft)/this.axisWidth,e=this.max-e*this.max),t<this.canvas.width-this.marginRight&&t>this.canvas.width/2+i.marginCenter/2&&(e=(t-i.marginLeft-this.axisWidth-i.marginCenter)/this.axisWidth,e*=this.max),e},this.getObjectByXY=function(t){var e,i=this.properties,t=DxChart.getMouseXY(t);if("3d"!==i.variantValue||i.textAccessible||(e=i.variantThreedAngle*t[0],t[1]-=e),t[0]>i.marginLeft&&t[0]<this.canvas.width-i.marginRight&&t[1]>i.marginTop&&t[1]<this.canvas.height-i.marginBottom)return this},this.getXCoord=function(t){var e;return t>this.max||t<0?null:(t=t/this.max*this.axisWidth,(e=[])[0]=this.marginLeft+this.axisWidth-t,e[1]=this.canvas.width-this.marginRight-this.axisWidth+t,e)},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill),this.original_colors.axesColor=DxChart.arrayClone(t.axesColor),this.original_colors.colorsStroke=DxChart.arrayClone(t.colorsStroke),this.original_colors.colorsLeft=DxChart.arrayClone(t.colorsLeft),this.original_colors.colorsRight=DxChart.arrayClone(t.colorsRight)),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill),t.axesColor=this.parseSingleColorForGradient(t.axesColor),t.colorsStroke=this.parseSingleColorForGradient(t.colorsStroke)},this.reset=function(){},this.drawBackgroundGrid=function(){var t=this.properties;if(t.backgroundGrid){var e=t.variantValue,i=t.backgroundGridColor,s=t.xaxisLabelsCount,a=this.left.length,o=t.backgroundGridVlines,r=t.backgroundGridHlines,n=t.backgroundGridLineWidth;if("number"==typeof t.backgroundGridHlinesCount&&(a=t.backgroundGridHlinesCount),"number"==typeof t.backgroundGridVlinesCount&&(s=t.backgroundGridVlinesCount),this.context.lineWidth=n,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),"3d"==e&&(this.context.save(),this.context.translate(t.variantThreedOffsetX,-1*t.variantThreedOffsetY)),t.leftVisible){if(o)for(var h=0;h<=s;h+=1)this.path("b m % % l % % s %",this.marginLeft+this.axisWidth/s*h,this.marginTop,this.marginLeft+this.axisWidth/s*h,this.marginTop+this.axisHeight,i);if(r)for(h=0;h<=a;h+=1)this.path("b m % % l % % s %",this.marginLeft,this.marginTop+this.axisHeight/a*h,this.marginLeft+this.axisWidth,this.marginTop+this.axisHeight/a*h,i)}if(t.rightVisible){var l=this.axisWidth;if(o)for(h=0;h<=s;h+=1)this.path("b m % % l % % s %",this.marginLeft+this.marginCenter+l+this.axisWidth/s*h,this.marginTop,this.marginLeft+this.marginCenter+l+this.axisWidth/s*h,this.marginTop+this.axisHeight,i);if(r)for(h=0;h<=a;h+=1)this.path("b m % % l % % s %",this.marginLeft+l+this.marginCenter,this.marginTop+this.axisHeight/a*h,this.marginLeft+this.axisWidth+this.marginCenter+l,this.marginTop+this.axisHeight/a*h,i)}"3d"==e&&this.context.restore()}},this.firstDrawFunc=function(){},this.getMarginCenter=function(){for(var t=this.properties,e=("boolean"==typeof t.yaxisLabelsFontStyleObj.bold?t.yaxisLabelsFontStyleObj:t.textFontStyleObj).bold,i=("string"==typeof t.yaxisLabelsFontStyleObj.face?t.yaxisLabelsFontStyleObj:t.textFontStyleObj).face,s=("number"==typeof t.yaxisLabelsFontStyleObj.size?t.yaxisLabelsFontStyleObj:t.textFontStyleObj).size,a=0,o=0;a<t.yaxisLabels.length;++a)o=Math.max(o,DxChart.measureText(t.yaxisLabels[a],e,i,s)[0]);return o+15},this.drawAni=function(){var t=arguments[0]||"grow",e=arguments[1]||{},i=arguments[2]||function(){};switch(t){case"grow":this.grow(e,i);break;case"wave":this.wave(e,i)}},this.grow=function(){var t=this.properties;this.cancelStopAnimation();var a=(arguments[0]||{}).frames||20,o=0,r=arguments[1]||function(){},n=this,h=DxChart.arrayClone(this.left),l=DxChart.arrayClone(this.right);return DxChart.isNull(t.xaxisScaleMax)&&(this.getMax(),this.set("xaxisScaleMax",this.scale2.max)),function t(){if(n.stopAnimationRequested_left||n.stopAnimationRequested_right)n.stopAnimationRequested_left=!1,n.stopAnimationRequested_right=!1,n.left=DxChart.arrayClone(h),n.right=DxChart.arrayClone(l);else{for(var e=DxChart.Effects.getEasingMultiplier(a,o),i=0;i<n.left.length;i++)if("number"==typeof n.left[i])n.left[i]=e*h[i];else for(var s=0;s<n.left[i].length;++s)n.left[i][s]=e*h[i][s];for(i=0;i<n.right.length;i++)if("number"==typeof n.right[i])n.right[i]=e*l[i];else for(s=0;s<n.right[i].length;++s)n.right[i][s]=e*l[i][s];DxChart.redrawCanvas(n.canvas),o<a?(o++,DxChart.Effects.updateCanvas(t,n.canvas)):r(n)}}(),this},this.wave=function(){this.cancelStopAnimation();for(var o=this,r=arguments[0]||{},n=(r.frames=r.frames||120,r.startFrames_left=[],r.startFrames_right=[],r.counters_left=[],r.counters_right=[],r.frames/3),h=-1,l=-1,c=arguments[1]||function(){},x=DxChart.arrayClone(o.left),d=DxChart.arrayClone(o.right),t=0,e=o.left.length;t<e;t+=1)r.startFrames_left[t]=r.frames/3/(o.left.length-1)*t,r.startFrames_right[t]=r.frames/3/(o.right.length-1)*t,r.counters_left[t]=0,r.counters_right[t]=0;o.draw(),o.set("xaxisScaleMax",o.scale2.max),DxChart.clear(o.canvas);for(t=0,e=o.left.length;t<e;t+=1)"number"==typeof o.left[t]&&(o.left[t]=0),"number"==typeof o.right[t]&&(o.right[t]=0);return function t(){if(o.stopAnimationRequested_left)o.stopAnimationRequested_left=!1,o.left=DxChart.arrayClone(x);else{++h;for(var e=0,i=o.left.length;e<i;e+=1)if(h>r.startFrames_left[e]){var s=DxChart.isNull(o.left[e]);if("number"==typeof o.left[e])o.left[e]=Math.min(Math.abs(x[e]),Math.abs(x[e]*(r.counters_left[e]++/n))),x[e]<0&&(o.left[e]*=-1);else if(DxChart.isArray(o.left[e]))for(var a=0;a<o.left[e].length;++a)o.left[e][a]=Math.min(Math.abs(x[e][a]),Math.abs(x[e][a]*(r.counters_left[e]++/n))),x[e][a]<0&&(o.left[e][a]*=-1);s&&(o.left[e]=null)}else o.left[e]="object"==typeof o.left[e]&&o.left[e]?DxChart.arrayPad([],o.left[e].length,0):DxChart.isNull(o.left[e])?null:0;h<r.frames&&(DxChart.redrawCanvas(o.canvas),DxChart.Effects.updateCanvas(t,o.canvas))}}(),function t(){if(o.stopAnimationRequested_right)o.stopAnimationRequested_right=!1,o.right=DxChart.arrayClone(d);else{++l;for(var e=0,i=o.right.length;e<i;e+=1)if(l>r.startFrames_right[e]){var s=DxChart.isNull(o.right[e]);if("number"==typeof o.left[e])o.right[e]=Math.min(Math.abs(d[e]),Math.abs(d[e]*(r.counters_right[e]++/n))),d[e]<0&&(o.right[e]*=-1),s&&(o.right[e]=null);else if(DxChart.isArray(o.right[e]))for(var a=0;a<o.right[e].length;++a)o.right[e][a]=Math.min(Math.abs(d[e][a]),Math.abs(d[e][a]*(r.counters_right[e]++/n))),d[e][a]<0&&(o.right[e][a]*=-1)}else o.right[e]="object"==typeof o.right[e]&&o.right[e]?DxChart.arrayPad([],o.right[e].length,0):DxChart.isNull(o.right[e])?null:0;l<r.frames?(DxChart.redrawCanvas(o.canvas),DxChart.Effects.updateCanvas(t,o.canvas)):c(this)}}(),this},this.stopAnimation=function(){this.stopAnimationRequested_left=!0,this.stopAnimationRequested_right=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested_left=!1,this.stopAnimationRequested_right=!1},this.tooltipSubstitutions=function(t){var e,i,s,a,o=DxChart.sequentialIndexToGrouped(t.index,this.data2);return a=(o[0]>=this.left.length?(e=o[0]-this.left.length,i="right",s=this.properties.titleRight,this.right):(e=o[0],i="left",s=this.properties.titleLeft,this.left))[e],{index:o[1],dataset:o[0],dataset2:e,sequentialIndex:t.index,value:"number"==typeof this.data2[t.index]?this.data2[t.index]:this.data2[o[0]][o[1]],values:a="number"==typeof a?[a]:a,side:i,side_title:s}},this.tooltipsFormattedCustom=function(t,e){var i=this.properties,e="object"==typeof this[t.dataset+1>this.left.length?"right":"left"][t.dataset2]?!DxChart.isNull(i.tooltipsFormattedKeyLabels)&&"object"==typeof i.tooltipsFormattedKeyLabels&&i.tooltipsFormattedKeyLabels[e]?i.tooltipsFormattedKeyLabels[e]:"":!DxChart.isNull(i.tooltipsFormattedKeyLabels)&&"object"==typeof i.tooltipsFormattedKeyLabels&&i.tooltipsFormattedKeyLabels[t.index]?i.tooltipsFormattedKeyLabels[t.index]:"";return{label:e}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas)),a=e.coords[t.index],o=e.properties;isNexacroRuntime?(t.tooltip.set_left(s[0]+a[0]+a[2]/2-i.getOffsetWidth()/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]+a[1]-i.getOffsetHeight()-10+e.properties.tooltipsOffsetY)):(t.tooltip.style.left=s[0]+a[0]+a[2]/2-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]+a[1]-i.offsetHeight-10+e.properties.tooltipsOffsetY+"px"),"3d"===o.variantValue&&(s=a[0],a[1],i=o.variantThreedAngle,e=Math.tan(i)*s,isNexacroRuntime?t.tooltip.set_top(parseInt(t.tooltip.getOffsetTop())+10+e):t.tooltip.style.top=parseInt(t.tooltip.style.top)+10+e+"px")},this.resetData(t.left,t.right),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartPyramid(t){return DxChart._Base.call(this,t,"pyramid"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"default"),this.properties.backgroundGrid=!1,this.properties.highlightStroke="rgba(0,0,0,0)",this.properties.highlightFill="rgba(255,255,255,0.5)",this.properties.labelsPosition="left",this.properties.keyPosition="margin",this.properties.width=null,t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t){this.binddataset&&0<=t.toString().indexOf("bind:")&&(t=DxChart.parseDataset(this,t)),t=DxChart.str2num(t),this.data=t;for(var e=0;e<t.length;++e)this["$"+e]={}},this.drawAni=function(){this.draw()},this.draw=function(){var t;return this.data&&0!=this.data.length?(t=this.properties,DxChart._BeforeDraw(this),this.coords=[],this.coordsText=[],DxChart.Background.draw(this),DxChart.drawTitle(this),this.drawPyramid(),t.contextmenu&&DxChart.showContext(this),this.drawLabels(),this.drawLabelsIngraph(),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this):DxChart.NoDataShow(this)},this.drawPyramid=function(){var t,e=this.properties,i=this.canvas.width-this.marginLeft-this.marginRight,s=this.canvas.height-this.marginTop-this.marginBottom,a=(DxChart.arrayMax(this.data),DxChart.arraySum(this.data)),o=(this.marginTop,e.ratio),r=this.marginTop,n=s,h=e.width&&10<e.width?e.width:30<o&&o<100?i*(.01*e.ratio):i;switch("volumn"==e.variantValue&&(n*=.7,h*=.8),e.halign){case"left":t=this.marginLeft+h/2;break;case"right":t=this.marginLeft+(i-h);break;default:t=this.marginLeft+i/2}this.graphCenterX=t,this.graphWidth=h,this.graphHeight=n,e.shadowUse&&(this.context.shadowColor=e.shadowStyleObj.color,this.context.shadowBlur=e.shadowStyleObj.blur,this.context.shadowOffsetX=e.shadowStyleObj.offsetX,this.context.shadowOffsetY=e.shadowStyleObj.offsetY,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime)&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY);var l,c,x=0,d=e.ascending;"volumn"==e.variantValue&&(d=!0);for(var u=0,g=this.data.length;u<g;u++){var p,f=(C=x/a)*n,m=(y=d?C*h:(a-x)/a*h,(C=(x+(b=this.data[u]))/a)*n);D=d?C*h:(a-(x+b))/a*h,l=e.colors[u],"volumn"==e.variantValue?(L=t+y/2,j=R=f+r,F=t+D/2,O=t-D/2,A=E=m+r,v=t,S=DxChart.getRadiusEndPoint(P=t-y/2,R,DxChart.HALFPI/3,v-P),k=DxChart.getRadiusEndPoint(O,A,DxChart.HALFPI/3,v-O),w=R+(S[1]-R),_=E+(k[1]-E),p=l.indexOf("gradient")<0?(c=DxChart._shadeColor(l,20),DxChart._shadeColor(l,-20)):c=DxChart.parseGradient(this,l,P,R,L-P,_-R),this.context.strokeStyle=e.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.path("fs % b m % % l % % l % % l % % c",c,P,R,v,w,v,_,O,A),T=[P,R,v,w,v,_,O,A],e.shadowUse||this.context.stroke(),this.context.fill(),this.path("fs % b m % % l % % l % % l % % c",p,v,w,L,j,F,E,v,_),T=T.concat([v,w,L,j,F,E,v,_]),e.shadowUse||this.context.stroke(),this.context.fill(),this.coords.push(T)):(P=t-y/2,L=t+y/2,j=R=f+r,F=t+D/2,O=t-D/2,A=E=m+r,"dual"==e.variantValue&&l.indexOf("gradient")<0?(c=DxChart._shadeColor(l,20),p=DxChart._shadeColor(l,-20),this.path("fs % b m % % l % % l % % l % % c",p,P,R,t,R,t,E,O,E),this.context.fill(),this.path("fs % b m % % l % % l % % l % % c",l,t,R,L,R,F,E,t,E),this.context.fill(),e.shadowUse||(this.path("b m % % l % % l % % l % % c",P,R,L,j,F,E,O,A),this.context.stroke())):(l=d?DxChart.parseGradient(this,l,O,R,F-P,A-R):DxChart.parseGradient(this,l,P,R,L-P,A-R),this.context.strokeStyle=e.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=l,isNexacroRuntime&&this.context.setElementFillStyle(l),this.path("b m % % l % % l % % l % % c",P,R,L,j,F,E,O,A),e.shadowUse||this.context.stroke(),this.context.fill()),this.coords.push([P,R,L,j,F,E,O,A])),x+=b}if(x=0,e.shadowUse){DxChart.noShadow(this);for(u=0,g=this.data.length;u<g;u++){var b,C,y,D,v,S,k,w,_,T,P,R,L,j,F,E,O,A,f=(C=x/a)*n,m=(y=d?C*h:(a-x)/a*h,(C=(x+(b=this.data[u]))/a)*n);D=d?C*h:(a-(x+b))/a*h,l=e.colors[u],"volumn"==e.variantValue?(L=t+y/2,j=R=f+r,F=t+D/2,O=t-D/2,A=E=m+r,v=t,S=DxChart.getRadiusEndPoint(P=t-y/2,R,DxChart.HALFPI/3,v-P),k=DxChart.getRadiusEndPoint(O,A,DxChart.HALFPI/3,v-O),w=R+(S[1]-R),_=E+(k[1]-E),p=l.indexOf("gradient")<0?(c=DxChart._shadeColor(l,20),DxChart._shadeColor(l,-20)):c=DxChart.parseGradient(this,l,P,R,L-P,_-R),this.context.strokeStyle=e.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.path("fs % b m % % l % % l % % l % % c",c,P,R,v,w,v,_,O,A),T=[P,R,v,w,v,_,O,A],e.shadowUse||this.context.stroke(),this.context.fill(),this.path("fs % b m % % l % % l % % l % % c",p,v,w,L,j,F,E,v,_),e.shadowUse||this.context.stroke(),this.context.fill()):(P=t-y/2,L=t+y/2,j=R=f+r,F=t+D/2,O=t-D/2,A=E=m+r,"dual"==e.variantValue&&l.indexOf("gradient")<0?(c=DxChart._shadeColor(l,20),p=DxChart._shadeColor(l,-20),this.path("fs % b m % % l % % l % % l % % c",p,P,R,t,R,t,E,O,E),this.context.fill(),this.path("fs % b m % % l % % l % % l % % c",l,t,R,L,R,F,E,t,E),this.context.fill(),e.shadowUse||(this.path("b m % % l % % l % % l % % c",P,R,L,j,F,E,O,A),this.context.stroke())):(l=d?DxChart.parseGradient(this,l,O,R,F-P,A-R):DxChart.parseGradient(this,l,P,R,L-P,A-R),this.context.strokeStyle=e.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=l,isNexacroRuntime&&this.context.setElementFillStyle(l),this.path("b m % % l % % l % % l % % c",P,R,L,j,F,E,O,A),e.shadowUse||this.context.stroke(),this.context.fill())),x+=b}}e.keyData&&e.keyData.length&&DxChart.drawKey(this,e.keyData,e.colors)},this.drawLabels=function(){var t=this.properties;if(t.labelsData&&t.labelsData.length){"string"==typeof t.labelsData&&(t.labelsData=DxChart.arrayPad({array:[],length:this.coords.length+1,value:t.labelsData}));for(var e=0;e<t.labelsData.length;++e)t.labelsData[e]=DxChart.labelSubstitution({object:this,text:t.labelsData[e],index:e,value:this.data[e],decimals:t.labelsFormattedDecimals||0,unitsPre:t.labelsFormattedUnitsPre||"",unitsPost:t.labelsFormattedUnitsPost||"",thousand:t.labelsFormattedThousand||",",point:t.labelsFormattedPoint||"."})}if(!DxChart.isNull(t.labelsData)&&"object"==typeof t.labelsData&&0<t.labelsData.length){var i,s,a,o=t.textFontStyleObj.face,r=(t.textFontStyleObj.size,t.textColor),n=t.labelsData,h=t.textHalign||"left",l=t.labelsPosition||"left",c=DxChart.getTextInfo({object:this,prefix:"labels"});i="number"==typeof t.labelsX?t.labelsX:"left"==l?(s=this.graphCenterX-this.graphWidth/2,this.marginLeft+(s-this.marginLeft)/2):"right"==l?(s=this.graphCenterX+this.graphWidth/2)+(this.canvas.width-s-this.marginRight)/2:this.graphCenterX-this.graphWidth/2-100;for(var x=0;x<this.coords.length;x++){this.context.beginPath(),this.path("ss black fs %",r),DxChart.noShadow(this),"volumn"==t.variantValue?(a=this.coords[x][1],a+=(this.coords[x][5]-this.coords[x][3])/2):(a=this.coords[x][1],a+=(this.coords[x][5]-this.coords[x][1])/2);var d;DxChart.text({object:this,font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:i+t.labelsOffsetX,y:a+t.labelsOffsetY,text:n[x]||"",valign:"center",halign:h,bounding:!0,boundingFill:"rgba(255,255,255,0.7)",boundingStroke:"rgba(0,0,0,0)",tag:"labels",cssClass:DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:x})});t.labelsSticks&&n[x]&&(this.context.font=c.size+"pt "+o,d=this.context.measureText(n[x]).width,"right"==l?"volumn"==t.variantValue?this.path("b m % % l % % s %",i-d-10,a,this.coords[x][10]+(this.coords[x][12]-this.coords[x][10])/2,a,t.lineColors[x]||t.lineColors[0]):this.path("b m % % l % % s %",i-10,a,this.coords[x][2]+(this.coords[x][4]-this.coords[x][2])/2,a,t.lineColors[x]||t.lineColors[0]):this.path("b m % % l % % s %",i+d+10,a,this.coords[x][0]+(this.coords[x][6]-this.coords[x][0])/2,a,t.lineColors[x]||t.lineColors[0]))}}},this.drawLabelsIngraph=function(){var t=this.properties;if(t.labelsIngraph&&t.labelsIngraph.length){"string"==typeof t.labelsIngraph&&(t.labelsIngraph=DxChart.arrayPad({array:[],length:this.coords.length+1,value:t.labelsIngraph}));for(var e=0;e<t.labelsIngraph.length;++e)t.labelsIngraph[e]=DxChart.labelSubstitution({object:this,text:t.labelsIngraph[e],index:e,value:this.data[e],decimals:t.labelsIngraphDecimals||0,unitsPre:t.labelsIngraphUnitsPre||"",unitsPost:t.labelsIngraphUnitsPost||"",thousand:t.labelsIngraphThousand||",",point:t.labelsIngraphPoint||"."})}t.labelsPosition;if(!DxChart.isNull(t.labelsIngraph)&&"object"==typeof t.labelsIngraph&&0<t.labelsIngraph.length){t.textFontStyleObj.face,t.textFontStyleObj.size,t.textColor;for(var i,s,a=t.labelsIngraph,o="left"==t.textHalign?"left":"center",r=DxChart.getTextInfo({object:this,prefix:"labelsIngraph"}),n=(i="number"==typeof t.labelsX?t.labelsX:"left"==o?this.marginLeft-15:(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft,0);n<this.coords.length;n++){this.context.beginPath(),s=(i="volumn"==t.variantValue?0==n?this.coords[n][6]+(this.coords[n][0]-this.coords[n][6])/2+25:this.coords[n][6]+(this.coords[n][4]-this.coords[n][6])/2:this.coords[n][0]+(this.coords[n][2]-this.coords[n][0])/2,this.coords[n][1]),s+=(this.coords[n][5]-this.coords[n][1])/2;DxChart.text({object:this,font:r.font,size:r.size,color:r.color,bold:r.bold,italic:r.italic,x:i+t.labelsIngraphOffsetX,y:s+t.labelsIngraphOffsetY,text:a[n]||"",valign:"center",halign:o,bounding:t.labelsIngraphBounding,boundingFill:"rgba(255,255,255,0.7)",boundingStroke:"rgba(0,0,0,0)",tag:"labels",angle:(t.variantValue,0),cssClass:DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:n})})}}},this.getShape=function(t){for(var e=this.properties,i=this.coords,t=DxChart.getMouseXY(t),s=t[0],a=t[1],o=0,r=i.length;o<r;++o){var n,h=i[o];if("volumn"==e.variantValue?(this.context.beginPath(),this.context.moveTo(h[0],h[1]),this.context.lineTo(h[2],h[3]),this.context.lineTo(h[10],h[11]),this.context.lineTo(h[12],h[13]),this.context.lineTo(h[4],h[5]),this.context.lineTo(h[6],h[7])):(this.context.beginPath(),this.context.moveTo(h[0],h[1]),this.context.lineTo(h[2],h[3]),this.context.lineTo(h[4],h[5]),this.context.lineTo(h[6],h[7]),this.context.lineTo(h[8],h[9])),this.context.isPointInPath(s,a))return DxChart.parseTooltipText&&e.tooltipsData&&(n=DxChart.parseTooltipText(e.tooltipsData,o)),{object:this,coords:h,dataset:0,index:o,sequentialIndex:o,label:e.labelsData&&"string"==typeof e.labelsData[o]?e.labelsData[o]:null,tooltip:"string"==typeof n?n:null}}return null},this.highlight=function(t){var e=this.properties;if(e.tooltipsHighlight)if("function"==typeof e.highlightStyle)e.highlightStyle(t);else if("string"==typeof e.highlightStyle&&"invert"===e.highlightStyle)for(var i=0;i<this.coords.length;++i)i!==t.sequentialIndex&&(s=this.coords[i],"volumn"==e.variantValue?(this.context.beginPath(),this.context.moveTo(s[0],s[1]),this.context.lineTo(s[2],s[3]),this.context.lineTo(s[10],s[11]),this.context.lineTo(s[12],s[13]),this.context.lineTo(s[4],s[5]),this.context.lineTo(s[6],s[7]),this.context.closePath(),this.path("s % f %",e.highlightStroke,e.highlightFill)):this.path("b m % % l % % l % % l % % c s % f %",s[0]-.5,s[1]-.5,s[2]+.5,s[3]-.5,s[4]+.5,s[5]+.5,s[6]-.5,s[7]+.5,e.highlightStroke,e.highlightFill));else{var s=t.coords;"volumn"==e.variantValue?(this.context.beginPath(),this.context.moveTo(s[0],s[1]),this.context.lineTo(s[2],s[3]),this.context.lineTo(s[10],s[11]),this.context.lineTo(s[12],s[13]),this.context.lineTo(s[4],s[5]),this.context.lineTo(s[6],s[7]),this.context.closePath(),this.path("s % f %",e.highlightStroke,e.highlightFill)):this.path("b m % % l % % l % % l % % c s % f %",s[0]-.5,s[1]-.5,s[2]+.5,s[3]-.5,s[4]+.5,s[5]+.5,s[6]-.5,s[7]+.5,e.highlightStroke,e.highlightFill)}},this.getObjectByXY=function(t){var e=this.properties,t=DxChart.getMouseXY(t);if(t[0]>e.marginLeft&&t[0]<this.canvas.width-e.marginRight&&t[1]>e.marginTop&&t[1]<this.canvas.height-e.marginBottom)return this},this.parseColors=function(){var t=this.properties,e=(0===this.original_colors.length&&(this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.keyColors=DxChart.arrayClone(t.keyColors),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.colorsStroke=DxChart.arrayClone(t.colorsStroke)),t.colors,t.keyColors);if(e)for(var i=0;i<e.length;++i)e[i]=this.parseSingleColorForGradient(e[i]);t.colorsStroke=this.parseSingleColorForGradient(t.colorsStroke),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill)},this.reset=function(){},this.interactiveKeyHighlight=function(t){var e,i=this.properties,t=this.coords[t];t&&8==t.length&&(e=this.context.lineWidth,this.context.lineWidth=2,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=i.keyInteractiveHighlightChartStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=i.keyInteractiveHighlightChartFill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.beginPath(),this.context.moveTo(t[0]-.5,t[1]-.5),this.context.lineTo(t[2]+.5,t[3]-.5),this.context.lineTo(t[4]+.5,t[5]+.5),this.context.lineTo(t[6]-.5,t[7]+.5),this.context.closePath(),this.context.fill(),this.context.stroke(),this.context.lineWidth=e,isNexacroRuntime)&&this.context.setElementLineWidth(this.context.lineWidth)},this.firstDrawFunc=function(){},this.tooltipSubstitutions=function(t){return{index:t.index,dataset:0,sequentialIndex:t.index,value:this.data[t.index],values:[this.data[t.index]]}},this.tooltipsFormattedCustom=function(t,e){var i=this.properties,s=i.colors[t.index];return{label:DxChart.isString(i.tooltipsFormattedKeyLabels[t.index])?i.tooltipsFormattedKeyLabels[t.index]:"",color:s=DxChart.isNull(i.tooltipsFormattedKeyColors)||"object"!=typeof i.tooltipsFormattedKeyColors||"string"!=typeof i.tooltipsFormattedKeyColors[t.index]?s:i.tooltipsFormattedKeyColors[t.index]}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas)),a=e.coords[t.index];isNexacroRuntime?(t.tooltip.set_left(s[0]+((a[2]-a[0])/2+a[0])-i.getOffsetWidth()/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]+a[1]-i.getOffsetHeight()+e.properties.tooltipsOffsetY-10)):(t.tooltip.style.left=s[0]+((a[2]-a[0])/2+a[0])-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]+a[1]-i.offsetHeight+e.properties.tooltipsOffsetY-10+"px"),isNexacroRuntime?parseFloat(t.tooltip.getOffsetTop())<0&&t.tooltip.set_top(parseFloat(t.tooltip.getOffsetTop())+20):parseFloat(t.tooltip.style.top)<0&&(t.tooltip.style.top=parseFloat(t.tooltip.style.top)+20+"px")},this.resetData(t.data),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartOrg(t){return DxChart._Base.call(this,t,"org"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"default"),this.Cubes=[],this.Final=null,this.NodeClick=null,this.NodeSearch=null,this.coords=[],this.dpr=1,this.isDragging=!1,this.dragStart={x:0,y:0},this.cameraOffset={x:this.canvas.width/2,y:this.canvas.height/2},this.cameraZoom=1,this.lastZoom=this.cameraZoom,this.initialPinchDistance=null,this.properties.scaleMaxZoom=5,this.properties.scaleMinZoom=.2,this.properties.treeTemplate="rect",this.properties.positionCenter=!0,this.properties.scaleAuto=!1,this.properties.scaleMove=!1,this.properties.scaleZoom=!1,this.properties.scaleValueX=1,this.properties.scaleValueY=1,this.SCROLL_SENSITIVITY=5e-4,this.properties.treePosition="top",this.properties.highlightStroke="rgba(0,0,0,0)",this.properties.highlightFill="rgba(255,255,255,0.7)",this.properties.itemMetaColor="#000000",this.properties.itemMetaFont="12px Tahoma",this.properties.itemMetaBorderStyle="1px solid #dddddd",this.properties.itemMetaBackgroundColor="transparent",this.properties.itemImagePosition="left",this.properties.itemMaxWidth=120,this.properties.itemLeafGrouping=!0,this.properties.itemDefaultWidth=150,this.properties.itemDefaultHeight=65,this.properties.itemMaxHeight=150,this.properties.itemLevelWidth=40,this.properties.itemNodeGapSize=20,this.properties.itemTreeGapSize=100,this.properties.itemTextMargin=10,this.properties.itemTextHMargin=5,this.properties.itemTextVMargin=5,this.properties.itemLineHeight=10,this.properties.itemImageVMargin=10,this.properties.itemImageHMargin=10,this.properties.itemIconSize=10,this.properties.itemIconBorderStyle="1px solid #dddddd",this.properties.itemRectRatio=.3,this.properties.itemImageStyle="arc",this.properties.itemImageLineWidth=1,this.properties.itemImageLineColor="#dddddd",this.properties.itemImageSize=50,this.properties.itemTextVAlign="middle",this.properties.itemTextHAlign="center",this.properties.itemMetaBorderStyle="1px solid #000000",this.properties.itemMetaStyle="ellipse",this.properties.itemExpandLineWidth=1,this.properties.itemExpandBackgroundColor="#ffffff",this.properties.itemExpandIconColor="#000000",this.properties.itemExpandLineColor="#000000",this.properties.itemExpandTextColor="#000000",this.properties.itemExpandTextWidth=1,this.properties.itemExpandWidth=5,this.properties.itemExpandShow=!0,this.properties.itemGroupSeparateStyle="1px solid #dddddd",this.properties.itemGroupGapSize=5,this.properties.itemGroupFullDraw=!1,this.properties.itemBackgroundColor="rgb(237, 247, 255)",this.properties.itemBackgroundColor2="#ffffff",this.properties.itemImageBorderStyle="1px solid #3F515A",this.properties.itemBorderStyle="1px solid #3F515A",this.properties.itemLineColor="rgb(51,136,221)",this.properties.itemGroupColor="#ffffff",this.properties.itemTextColor="#000000",this.properties.itemCommandColor="gray",this.properties.itemFontStyle="12px Sans-Serif",this.properties.itemFontStyleObj=DxChart._parseFontInfo(this.properties.itemFontStyle),this.properties.itemSearchText="search",this.properties.itemLineWidth=2,this.properties.itemBoxStyle="roundrect",this.properties.animationGrowMultiplier=1,this.sequence=0,t.binddataset&&(this.binddataset=t.binddataset),DxChart.parseProperties(this,t.options),this.properties.itemGroupSeparateStyleObj=DxChart._parseBorderInfo(this.properties.itemGroupSeparateStyle),this.resetData=function(t){this.NODEMAXW=0,this.NODEMAXH=0,this.Cubes=null,this.Cubes=[];var I=t.idColumn,N=t.parentIdColumn,e=t.nameColumn,i=t.nameColorColumn,s=t.nameFontColumn,a=t.groupColumn,o=t.groupColorColumn,r=t.groupFontColumn,n=t.bgColorColumn,h=t.bgColorColumn2,l=t.borderStyleColumn,c=t.expandColumn,x=t.widthColumn,d=t.heightColumn,u=t.boxStyleColumn,g=t.leafGroupColumn,p=t.imageUrlColumn,f=t.imageSizeColumn,m=t.imageBorderStyleColumn,b=t.metaColumn,C=t.metaFontColumn,y=t.metaColorColumn,M=t.metaBackgroundColorColumn,D=t.metaBorderStyleColumn,v=t.textColumn,S=t.textFontColumn,k=t.textColorColumn,w=t.textAlignColumn,_=t.iconColumn,T=t.iconColorColumn,P=t.iconSizeColumn,W=t.iconBorderStyleColumn,B=t.iconStyleColumn,R=[];if(v)for(var G=v.split(","),L=0;L<G.length;L++)R.push(G[L]);var j=[];if(k)for(var H=k.split(","),L=0;L<H.length;L++)j.push(H[L]);var Y=[];if(w)for(var z=w.split(","),L=0;L<z.length;L++)Y.push(z[L]);var F=[];if(S)for(var X=S.split(","),L=0;L<X.length;L++)F.push(X[L]);for(var E=this.binddataset,L=0;L<E.rowcount;L++){for(var V=[],U=[],q=[],O=0,A=R.length;O<A;O++)V.push(E.getColumn(L,R[O]));for(O=0,A=j.length;O<A;O++)U.push(E.getColumn(L,j[O]));for(O=0,A=F.length;O<A;O++)q.push(E.getColumn(L,F[O]));var K=new _Cube(E.getColumn(L,I),E.getColumn(L,N),{n:e?E.getColumn(L,e):null,nc:i?E.getColumn(L,i):this.properties.itemTextColor,nf:s?E.getColumn(L,s):this.properties.itemFontStyle,g:a?E.getColumn(L,a):null,gc:o?E.getColumn(L,o):this.properties.itemGroupColor,gf:r?E.getColumn(L,r):this.properties.itemFontStyle,e:!c||E.getColumn(L,c),w:x?E.getColumn(L,x):this.properties.itemDefaultWidth,h:d?E.getColumn(L,d):this.properties.itemDefaultHeight,bs:u?E.getColumn(L,u):this.properties.itemBoxStyle,b:l?E.getColumn(L,l):this.properties.itemBorderStyle,leaf:!!g&&E.getColumn(L,g),item:{i:p?E.getColumn(L,p):null,is:f?E.getColumn(L,f):this.properties.itemImageSize,ib:m?E.getColumn(L,m):this.properties.itemImageBorderStyle,t:V,c:U,f:q,a:Y,icon:_?E.getColumn(L,_):null,iconcolor:T?E.getColumn(L,T):this.properties.itemIconColor,iconsize:P?E.getColumn(L,P):this.properties.itemIconSize,iconborderstyle:W?E.getColumn(L,W):this.properties.itemIconBorderStyle,iconstyle:B?E.getColumn(L,B):"rect"},b1:n?E.getColumn(L,n):this.properties.itemBackgroundColor,b2:h?E.getColumn(L,h):this.properties.itemBackgroundColor2,m:b?E.getColumn(L,b):null,mc:y?E.getColumn(L,y):this.properties.itemMetaColor,mb:M?E.getColumn(L,y):this.properties.itemMetaBackgroundColor,mbs:D?E.getColumn(L,D):this.properties.itemMetaBorderStyle,mf:C?E.getColumn(L,C):this.properties.itemMetaFont},this.properties,this);this.Push(K)}},this.HasSearch=function(){return null!==this.NodeSearch&&void 0!==this.NodeSearch},this.IsInSearch=function(t,e){return e/=this.dpr,this.HasSearch()&&e>this.SeperatorY},this.IsSolid=function(t){return!this.IsNull(t)&&("boolean"!=typeof t||t)},this.IsFunction=function(t){return!this.IsNull(t)&&"function"==typeof t},this.IsNull=function(t){return null==t},this.Each=function(t,e){for(var i=0;i<t.length;++i){var s=e(t[i],i);if(this.IsSolid(s))return s}return null},this.SearchClickedOne=function(t,e,i){var s;return t.ClickMe(e,i)?t:(s=this).Each(t.Children,function(t){return s.SearchClickedOne(t,e,i)})},this.GetClickedCube=function(t,e){return this.IsNull(this.Final)?null:this.SearchClickedOne(this.Final,t,e)},this.Push=function(i){for(i.canvas=this.canvas,i.context=this.context,i.OC=this;;){var t=this.Each(this.Cubes,function(t,e){if(t.ParentId==i.Id)return e});if(this.IsNull(t))break;t=this.Cubes.splice(t,1)[0];i.AddChild(t)}var e=this.Each(this.Cubes,function(t,e){return t.FindNode(i.ParentId)});this.IsNull(e)?(this.Cubes.push(i),i.IsRoot=!0):(e.AddChild(i),i.parentNode=e,i.IsRoot=!1)},this.Layout=function(t){for(var e,i=this.properties,s=(t.RefreshLevel(),t.SetLevelInfo(t),t.ComputeSpan(),this.canvas.width-i.marginLeft-i.marginRight),a=this.canvas.height-i.marginTop-i.marginBottom,o=0,r=("top"==i.treePosition&&(t.Position.x=this.canvas.width/2-t.Dimen.width/2,t.Position.x=this.canvas.width/2),"left"==i.treePosition&&(t.Position.x=i.marginLeft),void 0===i.itemTreeGapSize||null===i.itemTreeGapSize?"top"==i.treePosition&&(o=a/t.LevelDictShowSize.length):"top"==i.treePosition&&(o=i.itemTreeGapSize+this.NODEMAXH),"left"==i.treePosition&&(o=s/t.LevelDictShowSize.length),[]),n=(r.push(t),"top"==i.treePosition?(t.Position.l=i.marginLeft+(s-t.SpanWidth)/2,t.Position.y=i.marginTop):"left"==i.treePosition&&(t.Position.l=i.marginTop+(a-t.SpanHeight)/2,t.Position.y=this.canvas.height/2-t.Dimen.height/2),t.Position.x,t.Position.y,Math.max(s,a),0),h=0,l=0,c=0,x=0,d=(t.Size,this.nDiv=o,0);0<r.length;){var u=r.shift();if(!u.parentNode||0!=u.parentNode.Expand)for(var n=Math.max(n,u.Position.x+u.Dimen.width),h=Math.max(h,u.Position.y+u.Dimen.height),c=Math.min(c,u.Position.x),l=Math.min(l,u.Position.y),g=!1,p=(i.itemLeafGrouping&&1==u.LeafGroup&&(g=!0),o),f=0;f<u.Children.length;++f){var m=u.Children[f];0==f&&(x=u.Position.l,"left"==i.treePosition)&&x<i.marginTop&&(x=i.marginTop),(p=o)<u.Dimen.height&&(d=(p=u.Dimen.height+this.NODEMAXH)-o),p*=i.animationGrowMultiplier,"top"==i.treePosition?(e=m.SpanWidth,e*=i.animationGrowMultiplier,m.Position.x=x+e/2,m.Position.l=m.Position.x-e/2,1==g?m.Position.y=0==f?u.Position.y+u.Dimen.height+i.itemGroupGapSize:u.Children[f-1].Position.y+u.Children[f-1].Dimen.height+i.itemGroupGapSize:(x+=e,u.IsRoot?"top"==i.treePosition&&(m.Position.y=m.Level*p+i.marginTop):m.Position.y=m.Level*p+i.marginTop+d)):"left"==i.treePosition&&(e=m.SpanHeight,m.Position.y=x+e/2*i.animationGrowMultiplier,m.Position.y<i.marginTop&&(m.Position.y=i.marginTop),m.Position.l=m.Position.y-e/2,x+=e,t.LevelDictSize[m.Level]>o?m.Position.x=m.Level*(t.LevelDictSize[m.Level]*i.animationGrowMultiplier):m.Position.x=m.Level*o),n=Math.max(n,m.Position.x+m.Dimen.width),h=Math.max(h,m.Position.y+m.Dimen.height),c=Math.min(c,m.Position.x),l=Math.min(l,m.Position.y),r.push(m)}}this.TREEMaxW=n+Math.abs(c),this.TREEMaxH=h+Math.abs(l),this.TREEMinL=c,this.TREEMinT=l},this.stopAnimation=function(){this.set("animationGrowMultiplier",1),this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.drawAni=function(){"grow"===(arguments[0]||"grow")&&this.grow(arguments[1]||{},arguments[2]||function(){})},this.grow=function(){this.cancelStopAnimation();var e=this,t=arguments[0]||{},i=arguments[1]||function(){},s=t.frames||30,a=0;return function t(){e.stopAnimationRequested?e.stopAnimationRequested=!1:(e.set("animationGrowMultiplier",a/s),DxChart.redrawCanvas(e.canvas),a<s?(a++,DxChart.Effects.updateCanvas(t,e.canvas)):i(e))}(),this},this.draw=function(){var t=this.properties,e=(this.sequence++,t.treePosition="top",this.TREEMaxW=0,this.TREEMaxH=0,this.TREEMinL=0,this.TREEMinT=0,this.coords=[],this.dprX=t.scaleValueX,this.dprY=t.scaleValueY,DxChart._BeforeDraw(this),this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this);if(this.Each(this.Cubes,function(t){return e.Layout(t),null}),0<this.Cubes.length){this.Final=this.Cubes[0];for(var i=1;i<this.Cubes.length;++i)this.Cubes[i].Size>this.Final.Size&&(this.Final=this.Cubes[i]);var s=1,a=1;this.TREEMaxW>this.canvas.width&&(s=this.canvas.width/this.TREEMaxW),this.TREEMaxH>this.canvas.height&&(a=this.canvas.height/this.TREEMaxH),t.scaleAuto?s<1||a<1?this.context.setTransform(s,0,0,a,Math.abs(this.TREEMinL)*s,Math.abs(this.TREEMinT)*a):this.context.setTransform(1,0,0,1,0,0):0==t.scaleZoom?this.context.setTransform(1,0,0,1,0,0):(this.context.scale(this.cameraZoom,this.cameraZoom),this.context.translate(-this.canvas.width/2+this.cameraOffset.x,-this.canvas.height/2+this.cameraOffset.y)),this.Final.Draw()}DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw")),DxChart._fireEvent(this,"onenddraw")},this.getEventLocation=function(t){return isNexacroRuntime?{x:t.clientx,y:t.clienty}:t.touches&&1==t.touches.length?{x:t.touches[0].clientX,y:t.touches[0].clientY}:t.clientX&&t.clientY?{x:t.clientX,y:t.clientY}:void 0},this.onPointerDown=function(t){this.properties.scaleZoom&&(this.isDragging=!0,this.dragStart.x=this.getEventLocation(t).x/this.cameraZoom-this.cameraOffset.x,this.dragStart.y=this.getEventLocation(t).y/this.cameraZoom-this.cameraOffset.y)},this.onPointerUp=function(t){this.properties.scaleZoom&&(this.isDragging=!1,this.initialPinchDistance=null,this.lastZoom=this.cameraZoom)},this.onPointerMove=function(t){var e;this.properties.scaleZoom&&(this.isDragging&&(this.cameraOffset.x=this.getEventLocation(t).x/this.cameraZoom-this.dragStart.x,this.cameraOffset.y=this.getEventLocation(t).y/this.cameraZoom-this.dragStart.y),e=this,DxChart.Effects.updateCanvas(function(){DxChart.redrawCanvas(e.canvas)},this.canvas))},this.handleTouch=function(t,e){1==t.touches.length?this.singleTouchHandler(t):"touchmove"==t.type&&2==t.touches.length&&(this.isDragging=!1,this.handlePinch(t))},this.handlePinch=function(t){t.preventDefault();var e=t.touches[0].clientX,i=t.touches[0].clientY,s=t.touches[1].clientX,t=t.touches[1].clientY,e=(e-s)*(e-s)+(i-t)*(i-t);null==this.initialPinchDistance?this.initialPinchDistance=e:this.adjustZoom_(null,e/this.initialPinchDistance)},this.adjustZoom=function(t,e){var i;this.properties.scaleZoom&&(i=t.deltaY*this.SCROLL_SENSITIVITY,this.adjustZoom_(e,i),t.stopPropagation())},this.adjustZoom_=function(t,e,i){var s;this.isDragging||(e?this.cameraZoom+=e:i&&(this.cameraZoom=i*this.lastZoom),this.cameraZoom=Math.min(this.cameraZoom,this.properties.scaleMaxZoom),this.cameraZoom=Math.max(this.cameraZoom,this.properties.scaleMinZoom),s=this,DxChart.Effects.updateCanvas(function(){DxChart.redrawCanvas(s.canvas)},this.canvas))},this.getObjectByXY=function(t){var e=this.properties,t=DxChart.getMouseXY(t);if(t[0]>=e.marginLeft&&t[0]<=this.canvas.width-e.marginRight&&t[1]>=e.marginTop&&t[1]<=this.canvas.height-e.marginBottom)return this},this.onclick=function(t,e){e&&e.cube&&("node"==e.type?e.object.onnodeclick&&e.object.onnodeclick(e.cube):(e.cube.IsExpand=!e.cube.IsExpand,e.cube.Expand=!e.cube.Expand,e.object.draw()))},this.highlight=function(t){var e=this.properties;t.cube;"arc"!=cube.BoxStyle&&(this.context.beginPath(),this.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=e.highlightFill,isNexacroRuntime&&this.context.setElementFillStyle(e.highlightFill),this.context.rect(cube.Position.x-cube.Dimen.width/2,cube.Position.y,cube.Dimen.width,cube.Dimen.height),this.context.codePath())},this.getShape=function(t){this.properties;for(var e=arguments[1]||this,i=DxChart.getMouseXY(t),s=i[0],a=i[1],o=(e.canvas,e.context,e.coords),r=o.length-1;0<=r;r--)if(0!=e.coords[r].length){var n,h=o[r][1],l=o[r][2],c=o[r][3],x=o[r][4];if(this.context.beginPath(),"node"==h?(n=o[r][5],this.context.rect(l,c,x,n)):this.context.arc(l,c,x,0,2*DxChart.PI,!1),this.context.isPointInPath(s,a))return{object:this,cube:n=o[r][0],x:n.Position.x,y:n.Position.x,width:n.Dimen.width,height:n.Dimen.height,tooltip:"string"==typeof tooltip?tooltip:null,label:"",dataset:0,type:h,index:n.Id}}return null},this.resetData(t),DxChart.register(this),this}function _Cube(t,e,i,s,a){this.Id=t,this.ParentId=e,this.Group=i.g,this.GroupColor=i.gc||s.itemGroupColor,this.GroupFont=DxChart._parseFontInfo(i.gf||s.itemFontStyle),this.Name=i.n,this.NameColor=i.nc||s.itemTextColor,this.NameFont=DxChart._parseFontInfo(i.nf||s.itemFontStyle),this.BGColor1=i.b1||s.itemBackgroundColor,this.BGColor2=i.b2||s.itemBackgroundColor2,this.Width=i.w||s.itemDefaultWidth,this.Height=i.h||s.itemDefaultHeight,this.Border=DxChart._parseBorderInfo(i.b||s.itemBorderStyle),this.BoxStyle=i.bs||s.itemBoxStyle,null===i.e||void 0===i.e?this.Expand=!0:this.Expand=nexacro._toBoolean(i.e),null===i.leaf||void 0===i.leaf?this.LeafGroup=!1:this.LeafGroup=nexacro._toBoolean(i.leaf),this.IsExpand=this.Expand;i.item;return this.Item={image:i.item.i,imageSize:i.item.is,imageBorder:DxChart._parseBorderInfo(i.item.ib||s.itemImageBorderStyle),text:i.item.t,textColor:i.item.c||s.itemTextColor,textFont:i.item.f||s.itemFontStyle,textAlign:i.item.a||"left",icon:i.item.icon,iconColor:i.item.iconcolor,iconSize:i.item.iconsize,iconBorderStyle:i.item.iconborderstyle,iconStyle:i.item.iconstyle},this.Meta=i.m,this.MetaColor=i.mc||s.itemMetaColor,this.MetaFont=DxChart._parseFontInfo(i.mf||s.itemMetaFont),this.MetaBgColor=i.mb||s.itemMetaBackgroundColor,this.MetaBorder=DxChart._parseBorderInfo(i.mbs||s.itemMetaBorderStyle),this.LineWidth=i.lw||s.itemLineWidth||1,this.LineColor=i.lc||s.itemLineColor,this.Background=i.b||s.itemBackgroundColor,this.Image={},this.Image.dim={width:50,height:50},this.properties=s,this.Level=0,this.LevelMaxNodes=1,this.Depth=0,this.TotalHeight=0,this.coords=[],this.Size=1,"top"==s.treePosition?this.Dimen={width:this.Width+("arc"==this.BoxStyle?0:2*s.itemNodeGapSize),height:this.Height}:this.Dimen={width:this.Height,height:this.Width},this.Span=0,this.Lines=[],this.Children=[],this.Position={x:0,y:0},"arc"!=this.BoxStyle&&(a.NODEMAXW=Math.max(a.NODEMAXW,this.Dimen.width),a.NODEMAXH=Math.max(a.NODEMAXH,this.Dimen.height)),this.SeperatorY=999999,this.canvas=null,this.context=null,this.OC=a,this.DrawCircle=function(t,e,i,s,a,o,r){t.lineWidth=r,isNexacroRuntime&&t.setElementLineWidth(r),t.fillStyle=a,isNexacroRuntime&&t.setElementFillStyle(a),t.beginPath(),t.arc(e,i,s,0,2*Math.PI,!1),t.strokeStyle=o,isNexacroRuntime&&t.setElementStrokeStyle(o),t.stroke(),t.fill()},this.DrawCirclePlus=function(t,e,i,s,a,o,r){t.lineWidth=r,isNexacroRuntime&&t.setElementLineWidth(r),t.beginPath(),t.moveTo(e-s,i),t.lineTo(e+s,i),t.moveTo(e,i-s),t.lineTo(e,i+s),t.strokeStyle=o,isNexacroRuntime&&t.setElementStrokeStyle(o),t.stroke()},this.DrawCircleMinus=function(t,e,i,s,a,o){t.beginPath(),t.moveTo(e-s,i),t.lineTo(e+s,i),t.strokeStyle=o,isNexacroRuntime&&t.setElementStrokeStyle(o),t.stroke()},this.DrawConnection=function(t,e,i){this.DrawLine(t,e,i,this.LineWidth,this.LineColor)},this.DrawSeperator=function(t,e,i){this.DrawLine(t,e,i,.5,this.properties.itemCommandColor)},this.DrawLine=function(t,e,i,s,a){t.beginPath(),t.lineWidth=s,isNexacroRuntime&&t.setElementLineWidth(s),t.strokeStyle=a,isNexacroRuntime&&t.setElementStrokeStyle(a),t.moveTo(e.x,e.y),t.lineTo(i.x,i.y),t.stroke()},this.DrawRect=function(t,e,i,s,a,o){t.strokeStyle=this.LineColor||this.properties.itemBorderColor,isNexacroRuntime&&t.setElementStrokeStyle(t.strokeStyle);s=DxChart.parseGradient(this,s,e.x+o,e.y+o,i.width-2*o,i.height-2*o),t.fillStyle=s,isNexacroRuntime&&t.setElementFillStyle(s),o=this.LineWidth||this.properties.itemLineWidth;t.lineWidth=o,isNexacroRuntime&&t.setElementLineWidth(o),t.fillRect(e.x+o,e.y+o,i.width-2*o,i.height-2*o),t.strokeRect(e.x,e.y,i.width,i.height)},this._DrawMeta=function(t,e,i){this.Meta&&""!=this.Meta&&this.DrawText(t,"right","bottom",e,i-2,this.Meta,this.MetaColor,this.MetaFont)},this._DrawSeparateStyle=function(t,e,i,s,a,o,r){var n=this.properties.itemGroupSeparateStyleObj;t.lineWidth=n._width,isNexacroRuntime&&t.setElementLineWidth(n._width),t.strokeStyle=n.color,isNexacroRuntime&&t.setElementStrokeStyle(t.strokeStyle),e+=5,s-=5,i+=n._width,n._width,t.beginPath(),t.moveTo(e,i),t.lineTo(s,i),t.stroke(),t.lineWidth=r,isNexacroRuntime&&t.setElementLineWidth(r),t.strokeStyle=o,isNexacroRuntime&&t.setElementStrokeStyle(o)},this._DrawResetStyle=function(t){var e=this.Border;t.strokeStyle=e.color,isNexacroRuntime&&t.setElementStrokeStyle(t.strokeStyle),e._width;t.lineWidth=1,isNexacroRuntime&&t.setElementLineWidth(e._width)},this.DrawItemRect=function(t,e,I,i,s){var a,o,r,n,h,l,c,x,N,d,u,g,p,f,m,b,C,y=this.context,M=this.Border._width,D=this.BGColor1,v=this.BGColor2,S=this.Border,W=(this.Dimen.width,this.properties.itemNodeGapSize,this.Dimen.height),k=this.Item,w=s.x-i.width/2,_=s.y,T=w,P=_,R=w,L=_,B=(this._DrawMeta(y,s.x+i.width/2,_),this.OC.properties.treeTemplate),I=(t&&(a=0==e?"top":e==I-1?"bottom":"middle"),1==this.properties.itemGroupFullDraw&&(a=t=null),this.OC.properties.itemTextHMargin,this.OC.properties.itemTextVMargin);if("arc"==this.BoxStyle?(C=Math.min(i.width,i.height),Math.abs(i.width-i.height),c=s.x,_=(u=s.y+i.height-(g=C/2))-g,o=DxChart.parseRadialGradientInfo(this,D,c,u,0,c,u,C),y.fillStyle=o,isNexacroRuntime&&y.setElementFillStyle(o),y.beginPath(),y.arc(c,u,g,0,2*DxChart.PI,!1),y.closePath(),y.fill(),y.stroke(),v&&(d=DxChart.parseRadialGradientInfo(this,v,c,u,0,c,u,C),y.fillStyle=d,isNexacroRuntime&&y.setElementFillStyle(d),y.beginPath(),y.arc(c,u,g-5,0,2*DxChart.PI,!1),y.closePath(),y.fill()),this._DrawResetStyle(y)):"toprect"==B?(P=_+(x=i.height*this.OC.properties.itemRectRatio),"roundrect"==this.BoxStyle?(r=5,n=w+i.width,h=_+x,o=DxChart.parseGradient(this,D,w,_,i.width,x),y.fillStyle=o,isNexacroRuntime&&y.setElementFillStyle(o),"top"!=a&&t||(y.beginPath(),y.moveTo(w+r,_),y.lineTo(n-r,_),y.quadraticCurveTo(n,_,n,_+r),y.lineTo(n,h),y.lineTo(w,h),y.lineTo(w,_+r),y.quadraticCurveTo(w,_,w+r,_),y.closePath(),y.fill()),v&&(d=DxChart.parseGradient(this,v,w,_,i.width,i.height),y.fillStyle=d,isNexacroRuntime&&y.setElementFillStyle(d),l=_+i.height,t?"bottom"==a?(y.beginPath(),y.moveTo(w,_),y.lineTo(n,_),y.lineTo(n,_+i.height-r),y.quadraticCurveTo(n,l,n-r,l),y.lineTo(w+r,l),y.quadraticCurveTo(w,l,w,l-r),y.lineTo(w,_),y.closePath(),y.fill(),0==this.properties.itemGroupGapSize&&this.properties.itemGroupSeparateStyle&&this._DrawSeparateStyle(y,w,_,w+i.width,_,S.color,S._width)):"middle"==a?(y.beginPath(),y.rect(w,_,i.width,i.height),y.closePath(),y.fill(),0==this.properties.itemGroupGapSize&&this.properties.itemGroupSeparateStyle&&this._DrawSeparateStyle(y,w,_,w+i.width,_,S.color,S._width)):"top"==a&&(y.beginPath(),y.rect(w,h,i.width,i.height-(h-_)),y.closePath(),y.fill()):(y.beginPath(),y.moveTo(w,h),y.lineTo(n,h),y.lineTo(n,_+i.height-r),y.quadraticCurveTo(n,l,n-r,l),y.lineTo(w+r,l),y.quadraticCurveTo(w,l,w,l-r),y.lineTo(w,h),y.closePath(),y.fill())),this._DrawResetStyle(y),M&&(t?"top"==a?(n=w+i.width,h=_+i.height,y.beginPath(),y.moveTo(w,h),y.lineTo(w,_+r),y.quadraticCurveTo(w,_,w+r,_),y.lineTo(n-r,_),y.quadraticCurveTo(n,_,n,_+r),y.lineTo(n,h),y.closePath(),y.stroke(),0==this.Children.length&&1==this.LeafGroup&&(y.beginPath(),n=w+i.width,h=_+i.height,y.moveTo(n,_),y.lineTo(n,h-r),y.quadraticCurveTo(n,h,n-r,h),y.lineTo(w+r,h),y.quadraticCurveTo(w,h,w,h-r),y.lineTo(w,_),y.closePath(),y.stroke())):"middle"==a?(y.beginPath(),n=w+i.width,h=_+i.height,y.moveTo(w,_),y.lineTo(w,h),y.moveTo(n,_),y.lineTo(n,h),y.closePath(),y.stroke(),0==this.properties.itemGroupGapSize&&this.properties.itemGroupSeparateStyle&&this._DrawSeparateStyle(y,w,_,w+i.width,_,S.color,S._width)):"bottom"==a&&(y.beginPath(),n=w+i.width,h=_+i.height,y.moveTo(n,_),y.lineTo(n,h-r),y.quadraticCurveTo(n,h,n-r,h),y.lineTo(w+r,h),y.quadraticCurveTo(w,h,w,h-r),y.lineTo(w,_),y.closePath(),y.stroke(),0==this.properties.itemGroupGapSize)&&this.properties.itemGroupSeparateStyle&&this._DrawSeparateStyle(y,w,_,w+i.width,_,S.color,S._width):(y.beginPath(),n=w+i.width,h=_+i.height,y.moveTo(w+r,_),y.lineTo(n-r,_),y.quadraticCurveTo(n,_,n,_+r),y.lineTo(n,h-r),y.quadraticCurveTo(n,h,n-r,h),y.lineTo(w+r,h),y.quadraticCurveTo(w,h,w,h-r),y.lineTo(w,_+r),y.quadraticCurveTo(w,_,w+r,_),y.closePath(),y.stroke()))):(o=DxChart.parseGradient(this,D,w,_,i.width,x),y.fillStyle=o,isNexacroRuntime&&y.setElementFillStyle(o),"top"!=a&&t||(y.beginPath(),y.rect(w,_,i.width,x),y.closePath(),y.fill()),v&&(d=DxChart.parseGradient(this,v,w,_+x,i.width,i.height-x),y.fillStyle=d,isNexacroRuntime&&y.setElementFillStyle(d),"top"!=a&&t?"middle"!=a&&"bottom"!=a||(y.beginPath(),y.rect(w,_,i.width,i.height),y.closePath(),y.fill(),0==this.properties.itemGroupGapSize&&this.properties.itemGroupSeparateStyle&&this._DrawSeparateStyle(y,w,_,w+i.width,_,S.color,S._width)):(y.beginPath(),y.rect(w,_+x,i.width,i.height-x),y.closePath(),y.fill())),this._DrawResetStyle(y),M&&(t?"top"==a?(y.beginPath(),y.moveTo(w,_),y.lineTo(w,_+i.height),y.moveTo(w+i.width,_),y.lineTo(w+i.width,_+i.height),y.moveTo(w,_),y.lineTo(w+i.width,_),0<this.properties.itemGroupGapSize&&(y.moveTo(w,_+i.height),y.lineTo(w+i.width,_+i.height)),y.stroke()):"middle"==a?(y.beginPath(),y.moveTo(w,_),y.lineTo(w,_+i.height),y.moveTo(w+i.width,_),y.lineTo(w+i.width,_+i.height),0<this.properties.itemGroupGapSize&&(y.moveTo(w,_),y.lineTo(w+i.width,_),y.moveTo(w,_+i.height),y.lineTo(w+i.width,_+i.height)),y.stroke()):"bottom"==a&&(y.beginPath(),y.moveTo(w,_),y.lineTo(w,_+i.height),y.moveTo(w+i.width,_),y.lineTo(w+i.width,_+i.height),y.lineTo(w,_+i.height),0<this.properties.itemGroupGapSize&&(y.moveTo(w,_),y.lineTo(w+i.width,_)),y.stroke()):(y.beginPath(),y.rect(w,_,i.width,i.height),y.stroke()))),"middle"==a||"bottom"==a?(R=w,P=L=_):(R=w,L=_+x),("top"==a&&0==e||!t)&&this.Group&&this.DrawText(y,"center","middle",s.x,s.y+x/2,this.Group,this.GroupColor,this.GroupFont)):"leftrect"==B?(x=i.height,C=this.OC.properties.itemRectRatio*i.width,T=w,"roundrect"==this.BoxStyle?(r=5,n=w+C,h=_+x,o=DxChart.parseGradient(this,D,w,_,C,x),y.fillStyle=o,isNexacroRuntime&&y.setElementFillStyle(o),"top"!=a&&t?"middle"==a?(y.beginPath(),y.moveTo(w,_),y.lineTo(n,_),y.lineTo(n,h),y.lineTo(w,h),y.lineTo(w,_),y.closePath(),y.fill()):"bottom"==a&&(y.beginPath(),y.moveTo(w,_),y.lineTo(n,_),y.lineTo(n,h),y.lineTo(w+r,h),y.quadraticCurveTo(w,h,w,h-r),y.lineTo(w,_+r),y.quadraticCurveTo(w,_,w+r,_),y.moveTo(w,_),y.closePath(),y.fill()):(y.beginPath(),y.moveTo(w+r,_),y.lineTo(n,_),y.lineTo(n,h),y.lineTo(w+r,h),y.quadraticCurveTo(w,h,w,h-r),y.lineTo(w,_+r),y.quadraticCurveTo(w,_,w+r,_),y.closePath(),y.fill()),v&&(d=DxChart.parseGradient(this,v,n,h,C,i.height),y.fillStyle=d,isNexacroRuntime&&y.setElementFillStyle(d),l=_+i.height,"top"!=a&&t?"middle"==a?(y.beginPath(),y.rect(n,_,i.width-C,i.height),y.closePath(),y.fill(),0==this.properties.itemGroupGapSize&&this.properties.itemGroupSeparateStyle&&this._DrawSeparateStyle(y,w,_,w+i.width,_,S.color,S._width)):"bottom"==a&&(y.beginPath(),y.moveTo(n,_),y.lineTo(w+i.width,_),y.lineTo(w+i.width,_+i.height-r),y.quadraticCurveTo(w+i.width,_+i.height,w+i.width-r,_+i.height),y.lineTo(n,_+i.height),y.lineTo(n,_),y.closePath(),y.fill(),0==this.properties.itemGroupGapSize)&&this.properties.itemGroupSeparateStyle&&this._DrawSeparateStyle(y,w,_,w+i.width,_,S.color,S._width):(y.beginPath(),y.moveTo(n,_),y.lineTo(w+i.width-r,_),y.quadraticCurveTo(w+i.width,_,w+i.width,_+r),y.lineTo(w+i.width,_+i.height-r),y.quadraticCurveTo(w+i.width,_+i.height,w+i.width-r,_+i.height),y.lineTo(n,_+i.height),y.lineTo(n,_),y.closePath(),y.fill())),this._DrawResetStyle(y),M&&(y.beginPath(),r=5,n=w+i.width,h=_+i.height,t?"top"==a?(y.moveTo(n,h),y.lineTo(w,_+r),y.quadraticCurveTo(w,_,w+r,_),y.lineTo(n-r,_),y.quadraticCurveTo(n,h,n,_+r),y.lineTo(n,h),y.closePath(),y.stroke()):"middle"==a?(y.moveTo(w,_),y.lineTo(w,h),y.moveTo(n,_),y.lineTo(n,h),y.closePath(),y.stroke()):"bottom"==a&&(y.moveTo(n,_),y.lineTo(n,h-r),y.quadraticCurveTo(n,h,n-r,h),y.lineTo(w+r,h),y.quadraticCurveTo(n,h,w,h-r),y.lineTo(w,_),y.moveTo(n,_),y.closePath(),y.stroke()):(y.moveTo(w+r,_),y.lineTo(n-r,_),y.quadraticCurveTo(n,_,n,_+r),y.lineTo(n,h-r),y.quadraticCurveTo(n,h,n-r,h),y.lineTo(w+r,h),y.quadraticCurveTo(w,h,w,h-r),y.lineTo(w,_+r),y.quadraticCurveTo(w,_,w+r,_),y.closePath(),y.stroke()))):(o=DxChart.parseGradient(this,D,w,_,C,x),y.fillStyle=o,isNexacroRuntime&&y.setElementFillStyle(o),y.beginPath(),y.rect(w,_,C,x),y.closePath(),y.fill(),v&&(d=DxChart.parseGradient(this,v,w+C,_,C,x),y.fillStyle=d,isNexacroRuntime&&y.setElementFillStyle(d),y.beginPath(),y.rect(w+C,_,i.width-C,x),y.closePath(),y.fill()),this._DrawResetStyle(y),M&&(n=w+i.width,h=w+i.height,t?"top"==a?(y.beginPath(),y.moveTo(w,_),y.lineTo(w,_+i.height),y.moveTo(w+i.width,_),y.lineTo(w+i.width,_+i.height),y.stroke()):"middle"==a?(y.beginPath(),y.moveTo(w,_),y.lineTo(w,h),y.moveTo(n,_),y.lineTo(n,h),y.closePath(),y.stroke()):"bottom"==a&&(y.beginPath(),y.moveTo(n,_),y.lineTo(n,h),y.lineTo(w,h),y.lineTo(w,_),y.moveTo(n,_),y.closePath(),y.stroke()):(y.beginPath(),y.rect(w,_,i.width,i.height),y.stroke()))),R=w+C,L=_,this.Group&&(Y=(this.GroupFont.italic?"italic ":"")+(this.GroupFont.bold?"bold ":"")+this.GroupFont.size+"px "+this.GroupFont.face,A=this.GetTextSize(this.Group,Y),this.DrawText(y,"center","middle",w+C+(i.width-C)/2,_+I+A[1]/2,this.Group,this.GroupColor,this.GroupFont),L=_+A[1])):"topgraph"==B?(n=w+i.width-(j=10),h=_+j,c=w+j,u=_+i.height-j,C=i.width,x=i.height,o=DxChart.parseGradient(this,D,w,_,C,x),y.fillStyle=o,isNexacroRuntime&&y.setElementFillStyle(o),this._DrawResetStyle(y),t?"top"==a?(y.beginPath(),y.moveTo(w,_),y.lineTo(n,_),y.lineTo(w+i.width,h),y.lineTo(w+i.width,_+i.height),y.lineTo(w,_+i.height),y.lineTo(w,_),y.closePath(),y.fill(),y.beginPath(),y.moveTo(w,_),y.lineTo(n,_),y.lineTo(w+i.width,h),y.lineTo(w+i.width,_+i.height),y.moveTo(w,_),y.lineTo(w,_+i.height),y.closePath(),y.stroke()):"middle"==a?(y.beginPath(),y.rect(w,_,i.width,i.height),y.closePath(),y.fill(),y.beginPath(),y.moveTo(w,_),y.lineTo(w,_+i.height),y.moveTo(w+i.width,_),y.lineTo(w+i.width,_+i.height),y.closePath(),y.stroke(),0==this.properties.itemGroupGapSize&&this.properties.itemGroupSeparateStyle&&this._DrawSeparateStyle(y,w,_,w+i.width,_,S.color,S._width)):"bottom"==a&&(y.beginPath(),y.moveTo(w,_),y.lineTo(w+i.width,_),y.lineTo(w+i.width,_+i.height),y.lineTo(c,_+i.height),y.lineTo(w,u),y.lineTo(w,_),y.closePath(),y.fill(),y.beginPath(),y.moveTo(w+i.width,_),y.lineTo(w+i.width,_+i.height),y.lineTo(c,_+i.height),y.lineTo(w,u),y.lineTo(w,_),y.moveTo(w,_),y.closePath(),y.stroke(),0==this.properties.itemGroupGapSize)&&this.properties.itemGroupSeparateStyle&&this._DrawSeparateStyle(y,w,_,w+i.width,_,S.color,S._width):(y.beginPath(),y.moveTo(w,_),y.lineTo(n,_),y.lineTo(w+i.width,h),y.lineTo(w+i.width,_+i.height),y.lineTo(c,_+i.height),y.lineTo(w,u),y.lineTo(w,_),y.closePath(),y.fill(),y.stroke()),C=i.width-10,x=i.height*this.OC.properties.itemRectRatio,P=_+(x=t?W*this.OC.properties.itemRectRatio:x),n=(g=5+w)+C-j,h=(E=_+5)+j,c=g+j,u=E+x-j,d=DxChart.parseGradient(this,v,w,_,C,x),y.fillStyle=d,isNexacroRuntime&&y.setElementFillStyle(d),this._DrawResetStyle(y),t&&"top"!=a||(y.beginPath(),y.moveTo(g,E),y.lineTo(n,E),y.lineTo(n+j,h),y.lineTo(n+j,u+j),y.lineTo(g+j,u+j),y.lineTo(g,u),y.lineTo(g,E),y.closePath(),y.fill()),"middle"==a||"bottom"==a?(R=w,P=L=_):(R=w,L=_+x),this.Group&&this.DrawText(y,"center","middle",s.x,E+x/2,this.Group,this.GroupColor,this.GroupFont)):(o=DxChart.parseGradient(this,D,w,_,C,x),y.fillStyle=o,isNexacroRuntime&&y.setElementFillStyle(o),y.beginPath(),this._DrawResetStyle(y),"roundrect"==this.BoxStyle?(r=5,_=s.y,n=w+i.width,h=_+i.height,t?"top"==a?(y.moveTo(w+r,_),y.lineTo(n-r,_),y.quadraticCurveTo(n,_,n,_+r),y.lineTo(n,h),y.lineTo(w,h),y.lineTo(w,_+r),y.quadraticCurveTo(w,_,w+r,_),y.lineTo(w+r,_),y.closePath(),y.fill(),y.beginPath(),y.moveTo(w,h),y.lineTo(w,_+r),y.quadraticCurveTo(w,_,w+r,_),y.lineTo(n-r,_),y.quadraticCurveTo(n,_,n,_+r),y.lineTo(n,h),y.closePath(),y.stroke()):"middle"==a?(0==this.properties.itemGroupGapSize&&this.properties.itemGroupSeparateStyle&&this._DrawSeparateStyle(y,w,_,w+i.width,_,S.color,S._width),y.beginPath(),y.rect(w,_,i.width,i.height),y.fill(),y.beginPath(),y.moveTo(w,_),y.lineTo(w,h),y.moveTo(n,_),y.lineTo(n,h),y.closePath(),y.stroke()):"bottom"==a&&(y.moveTo(w,_),y.lineTo(n,_),y.lineTo(n,h-r),y.quadraticCurveTo(n,h,n-r,h),y.lineTo(w+r,h),y.quadraticCurveTo(w,h,w,h-r),y.lineTo(w,_),y.closePath(),y.fill(),y.beginPath(),y.moveTo(n,_),y.lineTo(n,h-r),y.quadraticCurveTo(n,h,n-r,h),y.lineTo(w+r,h),y.quadraticCurveTo(w,h,w,h-r),y.lineTo(w,_),y.closePath(),y.stroke()):(y.moveTo(w+r,_),y.lineTo(n-r,_),y.quadraticCurveTo(n,_,n,_+r),y.lineTo(n,h-r),y.quadraticCurveTo(n,h,n-r,h),y.lineTo(w+r,h),y.quadraticCurveTo(w,h,w,h-r),y.lineTo(w,_+r),y.quadraticCurveTo(w,_,w+r,_),y.closePath(),y.fill()),M&&!t&&y.stroke()):(y.rect(w,_,i.width,i.height),y.fill(),y.stroke()),this.Group&&(Y=(this.GroupFont.italic?"italic ":"")+(this.GroupFont.bold?"bold ":"")+this.GroupFont.size+"px "+this.GroupFont.face,A=this.GetTextSize(this.Group,Y),this.DrawText(y,"center","middle",s.x,_+I+A[1]/2,this.Group,this.GroupColor,this.GroupFont),R=w,L=_+A[1])),this._DrawResetStyle(y),k.image&&1==this.properties.animationGrowMultiplier?(e=k.image,l=k.imageSize,W=this.OC.properties.itemImageStyle,m=k.imageBorder._width,b=k.imageBorder.color,e&&"left"==this.OC.properties.itemImagePosition?(c=this.OC.properties.itemImageVMargin,v=this.OC.properties.itemImageHMargin,(x=l)>i.height&&(c=-(l-i.height)/2,c+=this.OC.properties.itemImageVMargin),p=(T=T<0?w:T)+v,f=(P=P<0?_:P)+c,this.drawImage(e,p,f,x,x,W,m,b,N=1),"leftrect"!=B&&(R+=x,this.OC.properties.itemImageHMargin<0)&&(R+=this.OC.properties.itemImageHMargin)):e&&"top"==this.OC.properties.itemImagePosition&&(p=s.x-l/2,f=s.y-l/2+this.OC.properties.itemImageVMargin,this.drawImage(e,p,f,l,l,W,m,b,N),"toprect"==B||"topgraph"==B?(d=i.height*this.OC.properties.itemRectRatio)<l/2&&(L+=l/2-d):L+=l/2)):k.icon&&(u=k.iconSize||this.OC.properties.itemIconSize,f=(P=P<0?_:P)+j,R=p=(T=T<0?w:T)+j,L=s.y,D=(g=u)/2,m=(S=DxChart._parseBorderInfo(k.iconBorderStyle))._width,b=S.color,C=k.iconColor||this.properties.itemIconColor,s={x:p+this.OC.properties.itemTextHMargin,y:f+this.OC.properties.itemTextHMargin},"rect"==this.Icon?this.DrawRect(this.context,s,{width:u,height:g},C,b,m):"arc"==this.Icon&&this.DrawCircle(this.context,p+D,f+D,D,C,b,m)),k.text){"center"!=this.OC.properties.itemTextHAlign&&(R+=this.OC.properties.itemTextHMargin);for(var G,H,Y,j=_+i.height-L,z=[],X=[],V=0,F=0,U=k.text.length;F<U;F++)(E=k.text[F])&&""!=E&&(H=this.OC.properties.itemFontStyle,k.textFont&&k.textFont[F]&&(H=k.textFont[F]),Y=((O=DxChart._parseFontInfo(H)).italic?"italic ":"")+(O.bold?"bold ":"")+O.size+"px "+O.face,z[F]=this.GetTextSize(E,Y),X[F]=O,V+=z[F][1]+this.OC.properties.itemTextVMargin);V<j&&"middle"==this.properties.itemTextVAlign?L=L+(j-V)/2-this.OC.properties.itemTextVMargin/2:V<j&&(L=L+(j-V)/2-this.OC.properties.itemTextVMargin);for(var E,O,A,q=R+(w+i.width-R)/2,F=0,U=k.text.length;F<U;F++)(E=k.text[F])&&""!=E&&(G=this.OC.properties.itemTextColor,k.textColor&&k.textColor[F]&&(G=k.textColor[F]),O=X[F],A=z[F],"center"==this.OC.properties.itemTextHAlign?this.DrawText(y,"center","top",q,L+this.OC.properties.itemTextVMargin,E,G,O):this.DrawText(y,"left","top",R,L+this.OC.properties.itemTextVMargin,E,G,O),L+=A[1]+this.OC.properties.itemTextVMargin)}},this.DrawText=function(t,e,i,s,a,o,r,n){t.textAlign=e,t.textBaseline=i,isNexacroRuntime&&(t.setElementTextAlign("left"==e?"start":"right"==e?"end":"center"),t.setElementTextBaseline(t.textBaseline)),t.fillStyle=r,isNexacroRuntime&&t.setElementFillStyle(r);i=(n.italic?"italic ":"")+(n.bold?"bold ":"")+n.size+"px "+n.face;isNexacroRuntime?(e=new nexacro.FontObject(i),t.setElementFont(e)):t.font=i,t.fillText(o,s,a)},this.IsSolid=function(t){return null!=t&&("boolean"!=typeof t||t)},this.Each=function(t,e){for(var i=0;i<t.length;++i){var s=e(t[i],i);if(this.IsSolid(s))return s}return null},this.HasSearch=function(){return null!==this.OC.NodeSearch&&void 0!==this.OC.NodeSearch},this.IsInSearch=function(t,e){return e/=OC.dpr,this.HasSearch()&&e>this.SeperatorY},this.AddChild=function(t){this.Children.push(t)},this.RefreshLevel=function(){var e=this.Level;return this.Each(this.Children,function(t){return t.Level=e+1,t.RefreshLevel()})},this.Count=function(t,e,i,s,a){var o=this.OC.properties;null==e[this.Level]||null==e[this.Level]?(e[this.Level]=1,i[this.Level]={w:t.Dimen.width,h:t.Dimen.height},s[this.Level]={w:t.Dimen.width,h:t.Dimen.height}):(e[this.Level]+=1,"top"==o.treePosition?(i[this.Level].w=i[this.Level].w+t.Dimen.width,i[this.Level].h=Math.max(i[this.Level].h,t.Dimen.height),1==a&&(s[this.Level].w=s[this.Level].w+t.Dimen.width,s[this.Level].h=Math.max(s[this.Level].h,t.Dimen.height))):(i[this.Level].w=Math.max(i[this.Level].w,t.Dimen.width),i[this.Level].h=i[this.Level].h+t.Dimen.height,1==a&&(s[this.Level].w=Math.max(s[this.Level].w,t.Dimen.width),s[this.Level].h=s[this.Level].h+t.Dimen.height)),0==t.Expand&&(a=!1)),this.Each(this.Children,function(t){t.Count(t,e,i,s,a)})},this.SetLevelInfo=function(t){var e,i={},s=[],a=[],o=(this.Count(t,i,s,a,!0),1),r=1;for(e in i)r++,o<i[e]&&(o=i[e]);for(var n=0,h=0,l=0;l<s.length;l++)n=Math.max(s[l].w,n),h=Math.max(s[l].h,h);this.LevelMaxSize=[n,h];for(n=0,h=0,l=0;l<a.length;l++)n=Math.max(a[l].w,n),h=Math.max(a[l].h,h);this.LevelMaxShowSize=[n,h],this.LevelDict=i,this.LevelDictSize=s,this.LevelDictShowSize=a,this.LevelMaxNodes=o,this.Depth=r},this.RealSpan=function(){return[Math.max(this.SpanWidth,this.Dimen.width),Math.max(this.SpanHeight,this.Dimen.height)]},this.ComputeSpan=function(){var t,e=1,i=0,s=0,a=!1,o=0,r=0,n=1;if(0<this.Children.length&&(this.IsRoot||this.parentNode&&1==this.parentNode.Expand)){if(this.properties.itemLeafGrouping&&1==this.LeafGroup)for(var a=!0,h=0;h<this.Children.length;++h)o=Math.max(o,this.Dimen.width),r+=this.Dimen.height,n+=this.Children[h].Size;if(a){i+=o,s+=r,e+=n;for(h=0;h<this.Children.length;++h)this.Children[h].SpanWidth=this.Dimen.width,this.Children[h].SpanHeight=this.Dimen.height}else for(h=0;h<this.Children.length;++h)i+=(t=this.Children[h].ComputeSpan())[0],s+=t[1],e+=this.Children[h].Size}return 0==i&&(i=this.Dimen.width),0==s&&(s=this.Dimen.height),this.Size=e,this.SpanWidth=i,this.SpanHeight=s,this.RealSpan()},this.GetTextSize=function(t,e){var i;if(isNexacroRuntime)return s=new nexacro.FontObject(e),i=nexacro._getTextSize(t,s),s=null,[i[0],i[1]];this.context.font=e;var s=this.context.measureText(t);return[s.width,s.actualBoundingBoxAscent+s.actualBoundingBoxDescent]},this.FindNode=function(i){return this.Id==i?this:this.Each(this.Children,function(t,e){return t.FindNode(i)})},this.ClickMe=function(t,e){return t/=this.OC.dpr,e/=this.OC.dpr,t>this.Position.x&&t<this.Position.x+this.Dimen.width&&e>this.Position.y&&e<this.Position.y+this.Dimen.height},this.drawImage=function(t,a,o,r,n,h,l,c,x,e){var d;null==x&&(x=1),null==l&&(l=0);var u=(u=t.split("/").join("")).split("::").join(""),i=t,g=(isNexacroRuntime&&(d={}),this.OC.sequence);if("string"==typeof t)if(void 0===this.canvas["_cached_"+u+r]){var p=this;if(isNexacroRuntime)d.src=i,d.handle=nexacro._getImageObject(i,function(t,e,i,s){d.width=e,d.height=i,d.imagewidth=e,d.imageheight=i,p._drawImageCallback(g,u,d,a,o,r,n,h,l,c,x)},this,"",!1);else{if(d=new Image,nexacro){if(!(i="url("==i.substring(0,4).toLowerCase()?i.substring(5,i.length-2):i)||!i.length)return null;i=nexacro._getImageLocation(i)}d.onload=function(){p._drawImageCallback(g,u,d,a,o,r,n,h,l,c,x)},d.src=i}}else d=this.canvas["_cached_"+u+r],this._drawImageCallback(g,u,d,a,o,r,n,h,l,c,x)},this._drawImageCallback=function(t,e,i,s,a,o,r,n,h,l,c){var x,d;t==this.OC.sequence&&((i.cube=this).canvas["_cached_"+e+o]||(this.canvas["_cached_"+e+o]=i),e=(t=this.context).lineWidth,t.save(),"rect"==n?(t.beginPath(),t.moveTo(s,a),t.lineTo(s+o,a),t.lineTo(s+o,a+r),t.lineTo(s,a+r),t.lineTo(s,a),t.lineTo(s,a)):"roundrect"!=n&&"arc"==n&&(n=parseInt(s+o/2),x=parseInt(a+r/2),d=parseInt(o/2),t.beginPath(),t.moveTo(n,x),t.arc(n,x,d,0,2*DxChart.PI)),0<h&&(t.lineWidth=h,isNexacroRuntime&&t.setElementLineWidth(h),t.strokeStyle=l,isNexacroRuntime&&t.setElementStrokeStyle(l),t.stroke()),t.clip(),n=t.globalAlpha,t.globalAlpha=c,isNexacroRuntime&&t.setElementGlobalAlpha(c),t.drawImage(i,s,a,o,r),t.restore(),t.globalAlpha=n,isNexacroRuntime&&t.setElementGlobalAlpha(t.globalAlpha),t.lineWidth=e,isNexacroRuntime)&&t.setElementLineWidth(e)},this.Draw=function(){var t={width:this.Dimen.width-2*this.properties.itemNodeGapSize,height:this.Dimen.height},e={x:this.Position.x,y:this.Position.y};!this.properties.itemLeafGrouping||1!=this.LeafGroup||0==this.Children.length?this.DrawItemRect(null,0,0,t,e):this.DrawItemRect(this,0,99,t,e),this.OC.coords.push([this,"node",this.Position.x-this.Dimen.width/2,this.Position.y,this.Dimen.width,this.Dimen.height]),this.Position.x,this.Position.y;if(1==this.Expand){if(1<this.Children.length)if(this.properties.itemLeafGrouping&&1==this.LeafGroup){for(var i={x:this.Position.x,y:this.Position.y+this.Dimen.height},s=0;s<this.Children.length;++s){t={width:this.Children[s].Dimen.width-2*this.properties.itemNodeGapSize,height:this.Children[s].Dimen.height},e={x:this.Children[s].Position.x,y:this.Children[s].Position.y};1==this.Children[s].Expand&&(0<s&&(i={x:this.Children[s-1].Position.x,y:this.Children[s-1].y+this.Children[s-1].Dimen.height}),0<s&&(i={x:this.Children[s-1].Position.x,y:this.Children[s-1].Position.y+this.Children[s-1].Dimen.height}),this.DrawConnection(this.context,i,{x:this.Children[s].Position.x,y:this.Children[s].Position.y}),this.Children[s].DrawItemRect(this.Children[s],s+1,this.Children.length+1,t,e),this.OC.coords.push([this.Children[s],"node",e.x-t.width/2,e.y,t.width,t.height]))}return}this.Each(this.Children,function(t){return t.Draw()})}if(0<this.Children.length){i={x:this.Position.x,y:this.Position.y+this.Dimen.height};if(this.properties.itemExpandShow){if(this.OC.coords.push([this,"expand",i.x,i.y,this.properties.itemExpandWidth,this.IsExpand]),this.DrawCircle(this.context,i.x,i.y,this.properties.itemExpandWidth,this.properties.itemExpandBackgroundColor,this.properties.itemExpandLineColor,this.properties.itemExpandLineWidth),1!=this.IsExpand)return void this.DrawCircleMinus(this.context,i.x,i.y,this.properties.itemExpandWidth,this.properties.itemExpandBackgroundColor,this.properties.itemExpandIconColor,this.properties.itemExpandLineWidth);this.DrawCirclePlus(this.context,i.x,i.y,this.properties.itemExpandWidth,this.properties.itemExpandBackgroundColor,this.properties.itemExpandIconColor,this.properties.itemExpandLineWidth)}var a=i.y+(this.Children[0].Position.y-i.y)/2,o={x:i.x,y:i.y+(this.properties.itemExpandShow&&0<this.properties.itemExpandWidth?this.properties.itemExpandWidth:0)};if("top"==this.properties.treePosition&&this.DrawConnection(this.context,o,{x:i.x,y:a}),1==this.Expand){for(var r,s=0;s<this.Children.length;++s){var n={x:this.Children[s].Position.x,y:a};this.DrawConnection(this.context,n,{x:n.x,y:this.Children[s].Position.y})}1<this.Children.length&&(o={x:this.Children[0].Position.x,y:a},r={x:this.Children[this.Children.length-1].Position.x,y:a},this.DrawConnection(this.context,o,r))}}return null},this}function DxChartRadar(t){return DxChart._Base.call(this,t,"radar"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"scale"),DxChart.setDefaultProperties(this,"xaxis"),DxChart.setDefaultProperties(this,"yaxis"),DxChart.setDefaultProperties(this,"filled"),DxChart.setDefaultProperties(this,"default"),this.orgData=[],this.properties.backgroundGrid=!1,this.properties.labelsData=[],this.properties.xaxisTickmarksCount=5,this.properties.yaxisTickmarksCount=5,this.properties.highlightValue=!1,this.properties.highlightStroke=null,this.properties.colorsAlpha=.5,this.properties.labelsAxesCount=5,this.properties.highlightsStroke="#dddddd",this.properties.highlightFill=null,this.properties.highlightStyleInvertFill="rgba(255,255,255,0.7)",this.properties.fillHighlightFill="rgba(255,255,255,0.7)",this.properties.fillHighlightStroke="rgba(0,0,0,0)",this.properties.backgroundCirclesSpokes=null,t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t){this.binddataset&&0<=t.toString().indexOf("bind:")&&(t=DxChart.parseDataset(this,t,!0)),"number"==typeof(t=DxChart.str2num(t))[0]&&(t=[t]),this.data=[],this.orgData=[];for(var e=this.max=0,i=t.length;e<i;++e){for(var s=0;s<t[e].length;++s)"string"==typeof t[e][s]&&(t[e][s]=parseFloat(t[e][s]));this.orgData.push(DxChart.arrayClone(t[e])),this.data.push(DxChart.arrayClone(t[e])),this.max=Math.max(this.max,DxChart.arrayMax(t[e])),this.unmodified_data=DxChart.arrayClone(this.orgData)}for(var a=0;a<this.data.length;++a)if(this.data[a].length<3)return void trace("[RADAR] You must specify at least 3 data points");var o=0;this.data_arr=[];for(a=0;a<this.data.length;++a)for(e=0,i=this.data[a].length;e<i;++e)this["$"+o++]={},this.data_arr.push(this.data[a][e])},this.draw=function(){if(!this.data||0==this.data.length)return DxChart.NoDataShow(this);var t=this.properties;if(DxChart._BeforeDraw(this,!0),this.coords=[],this.coords2=[],this.coordsText=[],this.data=DxChart.arrayClone(this.orgData),t.accumulative)for(var e=0;e<this.data.length;++e)this.data[e].length!=this.data[0].length&&alert("[RADAR] Error! When the radar has the accumulative option set to true all the datasets must have the same number of elements");if(DxChart.isNull(t.labelsAxesBoxed)){t.labelsAxesBoxed=[];for(e=0;e<(DxChart.isArray(t.labelsAxesSpecific)&&t.labelsAxesSpecific.length||t.labelsAxesCount||5);++e)t.labelsAxesBoxed[e]=!1}if(this.radius=Math.max(Math.min(this.canvas.width-this.marginLeft-this.marginRight,this.canvas.height-this.marginTop-this.marginBottom)/2,1),this.centerx=(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft,this.centery=(this.canvas.height-this.marginTop-this.marginBottom)/2+this.marginTop,!(this.radius<0)){if("number"==typeof t.centerx&&(this.centerx=2*t.centerx),"number"==typeof t.centery&&(this.centery=2*t.centery),"number"==typeof t.radius&&(this.radius=t.radius),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),t.scaleMax){var i=t.scaleMax;this.scale2=DxChart.getScale({object:this,options:{"scale.max":i,"scale.min":0,"scale.strict":!0,"scale.decimals":Number(t.scaleDecimals),"scale.point":t.scalePoint,"scale.thousand":t.scaleThousand,"scale.round":t.scaleRound,"scale.units.pre":t.scaleUnitsPre,"scale.units.post":t.scaleUnitsPost,"scale.labels.count":t.labelsAxesCount}})}else{if(t.accumulative)for(var s=this.orgData[0].length,e=1;e<this.orgData.length;++e){this.orgData[e].length!=s&&alert("[RADAR] Error! Stacked Radar chart datasets must all be the same size!");for(var a=0;a<this.orgData[e].length;++a)this.data[e][a]+=this.data[e-1][a],this.max=Math.max(this.max,this.data[e][a])}this.scale2=DxChart.getScale({object:this,options:{"scale.max":"number"==typeof t.scaleMax?t.scaleMax:this.max,"scale.min":0,"scale.decimals":Number(t.scaleDecimals),"scale.point":t.scalePoint,"scale.thousand":t.scaleThousand,"scale.round":t.scaleRound,"scale.units.pre":t.scaleUnitsPre,"scale.units.post":t.scaleUnitsPost,"scale.labels.count":t.labelsAxesCount}})}return this.max=this.scale2.max,this.drawBackground(),this.drawAxes(),this.drawCircle(),this.drawLabels(),this.context.save(),this.context.beginPath(),this.context.arc(this.centerx,this.centery,2*this.radius,-DxChart.HALFPI,DxChart.TWOPI*t.animationTraceClip-DxChart.HALFPI,!1),this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.clip(),this.drawChart(),this.drawTickMarks(),this.context.restore(),!0===t.lineLastDraw&&this.drawBackground(!0),this.drawAxisLabels(),t.titleText&&DxChart.drawTitle(this),t.keyData&&DxChart.drawKey(this,t.keyData,t.colors),t.contextmenu&&DxChart.showContext(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),!t.filledClick&&!t.filledMousemove&&DxChart.isNull(t.filledTooltips)||this.__fill_click_listeners_installed__||(this.addFillListeners(),this.__fill_click_listeners_installed__=!0),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this}},this.drawBackground=function(t){var e=this.properties,i=e.backgroundCirclesColor,s=e.backgroundCirclesPoly,a=(e.backgroundCirclesSpacing,e.backgroundCirclesSpokes),o=e.backgroundCirclesFillColors;if(this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),e.backgroundCircles&&0==s){this.context.strokeStyle=i,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.beginPath();var r,n="number"==typeof e.backgroundCirclesCount?e.backgroundCirclesCount:e.labelsAxesCount,a=a||n,h=0;if(!t){if(isNexacroRuntime&&o)for(var l=this.radius;0<=l;l-=this.radius/n)o&&this.context.beginPath(),this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,l,0,DxChart.TWOPI,!1),o&&(0<l&&(o[n-++h]?this.context.fillStyle=o[n-h]:o[0]&&(this.context.fillStyle=o[0]),this.context.setElementFillStyle(this.context.fillStyle),t||this.context.fill()),r=l);else for(l=0;l<=this.radius;l+=this.radius/n)o&&this.context.beginPath(),this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,l,-DxChart.PI/2,DxChart.TWOPI,!1),o&&(0<r&&this.context.arc(this.centerx,this.centery,r,DxChart.TWOPI,0,!0),0<l&&(o[h]?this.context.fillStyle=o[h]:o[0]&&(this.context.fillStyle=o[0]),this.context.fill(),h++),r=l);this.context.stroke()}if(this.context.strokeStyle=i,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),isNexacroRuntime)for(var c=a,x=0;x<c;x++){this.radius;var d=DxChart.TWOPI/c*x,u=(d-=DxChart.HALFPI,this.centerx+Math.cos(d)*this.radius),g=this.centery+Math.sin(d)*this.radius;this.context.beginPath(),this.context.moveTo(this.centerx,this.centery),this.context.lineTo(u,g),this.context.closePath(),this.context.stroke()}else for(x=0;x<360;x+=360/a)this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.radius,(x-90)/180*DxChart.PI,(x-90+360/a)/180*DxChart.PI,!1),this.context.lineTo(this.centerx,this.centery),this.context.stroke()}else if(e.backgroundCircles&&1==s){this.context.strokeStyle=i,isNexacroRuntime&&(this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.setElementFillStyle(this.context.strokeStyle));var p=360/this.data[0].length;if(isNexacroRuntime){Math.PI,Math.PI,this.data[0].length;for(c=(this.context.setElementLineWidth(1),this.data[0].length),x=0;x<c;x++){this.radius;d=DxChart.TWOPI/c*x,u=(d-=DxChart.HALFPI,this.centerx+Math.cos(d)*this.radius),g=this.centery+Math.sin(d)*this.radius;this.context.beginPath(),this.context.moveTo(this.centerx,this.centery),this.context.lineTo(u,g),this.context.closePath(),this.context.stroke()}}else for(x=0;x<360;x+=p)this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.radius,x/360*DxChart.TWOPI-DxChart.HALFPI,(x+.001)/360*DxChart.TWOPI-DxChart.HALFPI,!1),this.context.lineTo(this.centerx,this.centery),this.context.stroke();this.context.strokeStyle=i,isNexacroRuntime&&this.context.setElementStrokeStyle(i);n="number"==typeof e.backgroundCirclesCount?e.backgroundCirclesCount:e.labelsAxesCount;if(!t)if(isNexacroRuntime)for(c=this.data[0].length,l=0;l<=this.radius;l+=this.radius/n){this.context.beginPath();for(x=0;x<c;x++){this.radius;d=DxChart.TWOPI/c*x,u=(d-=DxChart.HALFPI,this.centerx+Math.cos(d)*l),g=this.centery+Math.sin(d)*l;0==x&&this.context.moveTo(u,g),this.context.lineTo(u,g)}this.context.closePath(),this.context.stroke()}else for(l=0;l<=this.radius;l+=this.radius/n){this.context.beginPath();for(var f=0;f<=360;f+=360/this.data[0].length)this.context.arc(this.centerx,this.centery,l,DxChart.toRadians(f)-DxChart.HALFPI,DxChart.toRadians(f)+.001-DxChart.HALFPI,!1);this.context.closePath(),this.context.stroke()}}},this.drawAxes=function(){var t=this.properties;this.context.strokeStyle=t.axesColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=t.axesLineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.radius;this.context.beginPath(),this.context.moveTo(Math.round(this.centerx),this.centery+this.radius),this.context.lineTo(Math.round(this.centerx),this.centery-this.radius),this.context.moveTo(this.centerx-5,Math.round(this.centery+this.radius)),this.context.lineTo(this.centerx+5,Math.round(this.centery+this.radius)),this.context.moveTo(this.centerx-5,Math.round(this.centery-this.radius)),this.context.lineTo(this.centerx+5,Math.round(this.centery-this.radius));for(var e=this.centery-this.radius;e<this.centery+this.radius;e+=this.radius/t.yaxisTickmarksCount)this.context.moveTo(this.centerx-3,Math.round(e)),this.context.lineTo(this.centerx+3,Math.round(e));this.context.moveTo(this.centerx-this.radius,Math.round(this.centery)),this.context.lineTo(this.centerx+this.radius,Math.round(this.centery)),this.context.moveTo(Math.round(this.centerx-this.radius),this.centery-5),this.context.lineTo(Math.round(this.centerx-this.radius),this.centery+5),this.context.moveTo(Math.round(this.centerx+this.radius),this.centery-5),this.context.lineTo(Math.round(this.centerx+this.radius),this.centery+5);for(var i=this.centerx-this.radius;i<this.centerx+this.radius;i+=this.radius/t.xaxisTickmarksCount)this.context.moveTo(Math.round(i),this.centery-3),this.context.lineTo(Math.round(i),this.centery+3);this.context.stroke()},this.drawChart=function(){for(var t,e=this.properties,i=e.colorsAlpha,s=("number"==typeof i&&(t=this.context.globalAlpha,this.context.globalAlpha=i,isNexacroRuntime)&&(this.context._globalAlphaFill=e.colorsAlpha,this.context.setElementGlobalAlpha(this.context.globalAlpha)),this.data.length,0);s<this.data.length;++s){for(var a=[],o=0;o<this.data[s].length;++o){var r=this.getCoordinates(s,o);(a=null==a?[]:a).push(r),this.coords.push(r)}this.coords2[s]=a,this.context.strokeStyle="object"==typeof e.colorsStroke&&e.colorsStroke[s]?e.colorsStroke[s]:e.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=e.colors[s]||"transparent",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),"transparent"===this.context.fillStyle&&(this.context.fillStyle="rgba(0,0,0,0)",isNexacroRuntime)&&this.context.setElementFillStyle(this.context.fillStyle),this.context.lineWidth=e.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.beginPath();for(o=0;o<a.length;++o)0==o?this.context.moveTo(a[o][0],a[o][1]):this.context.lineTo(a[o][0],a[o][1]);if(e.accumulative&&0<s){this.context.lineTo(a[0][0],a[0][1]),this.context.moveTo(n[0][0],n[0][1]);for(o=a.length-1;0<=o;--o)this.context.lineTo(n[o][0],n[o][1])}var n=a;this.context.closePath(),isNexacroRuntime&&"transparent"!=this.context.fillStyle&&(this.context._globalAlphaFill=e.colorsAlpha,this.context.setElementGlobalAlpha(this.context.globalAlpha)),this.context.fill(),isNexacroRuntime&&(this.context._globalAlphaStroke=e.colorsAlpha,this.context.setElementGlobalAlpha(this.context.globalAlpha)),this.context.beginPath();for(o=0;o<a.length;++o)0==o?this.context.moveTo(a[o][0],a[o][1]):this.context.lineTo(a[o][0],a[o][1]);this.context.closePath(),this.context.stroke()}"number"==typeof i&&(this.context.globalAlpha=t,isNexacroRuntime)&&(this.context._globalAlphaFill=this.context.globalAlpha,this.context._globalAlphaStroke=this.context.globalAlpha,this.context.setElementGlobalAlpha(this.context.globalAlpha))},this.getCoordinates=function(t,e){this.properties;var i=this.data[t].length,t=this.data[t][e]/this.max*this.radius,i=DxChart.TWOPI/i*e,e=(i-=DxChart.HALFPI,Math.cos(i)*t),i=Math.sin(i)*t;return[this.centerx+e,this.centery+i]},this.drawLabels=function(){var t=this.properties;if(t.labelsData&&t.labelsData.length){"string"==typeof t.labelsData&&(t.labelsData=DxChart.arrayPad({array:[],length:this.data[0].length,value:t.labelsData}));for(var e=0;e<t.labelsData.length;++e)t.labelsData[e]=DxChart.labelSubstitution({object:this,text:t.labelsData[e],index:e,value:this.data[0][e],decimals:t.labelsFormattedDecimals||0,unitsPre:t.labelsFormattedUnitsPre||"",unitsPost:t.labelsFormattedUnitsPost||"",thousand:t.labelsFormattedThousand||",",point:t.labelsFormattedPoint||"."})}var i=t.labelsData;if(i&&0<i.length){this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle="gray",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=t.labelsColor||t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle);for(var s=t.labelsBackgroundFill,a=(t.labelsBold,t.labelsBoxed),o=t.labelsOffsetRadius,r=(t.textFontStyleObj.face,t.textFontStyleObj.size,this.radius),e=(t.labelsColor||t.textColor,0);e<i.length;++e){var n,h=DxChart.TWOPI/t.labelsData.length*e,l=(h-=DxChart.HALFPI,this.centerx+Math.cos(h)*(r+10+o)),h=this.centery+Math.sin(h)*(r+10+o),c=l<this.centerx?"right":"left";0!=e&&e/i.length!=.5||(c="center"),0==e&&"n"==t.labelsAxes&&(h-=5),i[e]&&i[e].length&&(n=DxChart.getTextInfo({object:this,prefix:"labels"}),DxChart.text({object:this,font:n.font,size:n.size,color:n.color,bold:n.bold,italic:n.italic,x:l,y:h,text:i[e],valign:"center",halign:c,bounding:a,boundingFill:s,tag:"labels",cssClass:DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:e})}))}}},this.drawCircle=function(){var t=this.properties,e={};e.limit=t.circleLimit,e.fill=t.circleFill,e.stroke=t.circleStroke,e.limit&&(t=e.limit/this.max*this.radius,this.context.fillStyle=e.fill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.strokeStyle=e.stroke,this.context.beginPath(),this.context.arc(this.centerx,this.centery,t,0,DxChart.TWOPI,0),this.context.fill(),this.context.stroke())},this.drawAxisLabels=function(){var t=this.properties;if(DxChart.isArray(t.labelsAxesSpecific)&&t.labelsAxesSpecific.length)this.drawSpecificAxisLabels();else{this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.fillStyle="black",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.strokeStyle="black",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle);var e=this.radius,i=(t.textFontStyleObj.face,t.labelsAxes.toLowerCase()),s=t.labelsAxesBoxedBackground,a=!1,o=t.scaleUnitsPre,r=t.scaleUnitsPost,n=(t.scaleDecimals,t.labelsAxesBold,t.labelsAxesBoxed),h=this.centerx,l=this.centery,c=(this.scale,this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),DxChart.getTextInfo({object:this,prefix:"labelsAxes"}));if(-1<i.indexOf("n")){for(var x=0;x<this.scale2.labels.length;++x)DxChart.text({object:this,font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:h+t.labelsAxesOffsetX,y:l-e*((x+1)/this.scale2.labels.length)+t.labelsAxesOffsetY,text:this.scale2.labels[x],valign:"center",halign:"center",bounding:n[x]||s,boundingFill:s,boundingStroke:"rgba(0,0,0,0)",tag:"scale"});a=!0}if(-1<i.indexOf("s")){for(x=0;x<this.scale2.labels.length;++x)DxChart.text({object:this,font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:h+t.labelsAxesOffsetX,y:l+e*((x+1)/this.scale2.labels.length)+t.labelsAxesOffsetY,text:this.scale2.labels[x],valign:"center",halign:"center",bounding:n[x]||s,boundingFill:s,boundingStroke:"rgba(0,0,0,0)",tag:"scale"});a=!0}if(-1<i.indexOf("e")){for(x=0;x<this.scale2.labels.length;++x)DxChart.text({object:this,font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:h+e*((x+1)/this.scale2.labels.length)+t.labelsAxesOffsetX,y:l+t.labelsAxesOffsetY,text:this.scale2.labels[x],valign:"center",halign:"center",bounding:n[x]||s,boundingFill:s,boundingStroke:"rgba(0,0,0,0)",tag:"scale"});a=!0}if(-1<i.indexOf("w")){for(x=0;x<this.scale2.labels.length;++x)DxChart.text({object:this,font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:h-e*((x+1)/this.scale2.labels.length)+t.labelsAxesOffsetX,y:l+t.labelsAxesOffsetY,text:this.scale2.labels[x],valign:"center",halign:"center",bounding:n[x]||s,boundingFill:s,boundingStroke:"rgba(0,0,0,0)",tag:"scale"});a=!0}a&&DxChart.text({object:this,font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:h+t.labelsAxesOffsetX,y:l+t.labelsAxesOffsetY,text:DxChart.numberFormat({object:this,number:Number(0).toFixed(),unitspre:o,unitspost:r}),valign:"center",halign:"center",bounding:!!s,boundingFill:s,boundingStroke:"rgba(0,0,0,0)",tag:"scale"})}},this.drawSpecificAxisLabels=function(){for(var t=this.properties,e=t.labelsAxesSpecific,i=DxChart.arrayPad(t.labelsAxesBoxed,e.length),s=DxChart.arrayReverse(e),a=DxChart.arrayReverse(i),o=t.labelsAxes.toLowerCase(),r=DxChart.getTextInfo({object:this,prefix:"labelsAxes"}),n=0;n<e.length;++n)-1<o.indexOf("n")&&DxChart.text({object:this,font:r.font,size:r.size,color:r.color,bold:r.bold,italic:r.italic,tag:"labels.axes.specific",x:this.centerx,y:this.centery-this.radius+this.radius/e.length*n,text:s[n],valign:"center",halign:"center",bounding:a[n],boundingFill:"white"}),-1<o.indexOf("s")&&DxChart.text({object:this,font:r.font,size:r.size,color:r.color,bold:r.bold,italic:r.italic,tag:"labels.axes.specific",x:this.centerx,y:this.centery+this.radius/e.length*(n+1),text:e[n],valign:"center",halign:"center",bounding:i[n],boundingFill:"white"}),-1<o.indexOf("w")&&DxChart.text({object:this,font:r.font,size:r.size,color:r.color,bold:r.bold,italic:r.italic,tag:"labels.axes.specific",x:this.centerx-this.radius+this.radius/e.length*n,y:this.centery,text:s[n],valign:"center",halign:"center",bounding:a[n],boundingFill:"white"}),-1<o.indexOf("e")&&DxChart.text({object:this,font:r.font,size:r.size,color:r.color,bold:r.bold,italic:r.italic,tag:"labels.axes.specific",x:this.centerx+this.radius/e.length*(n+1),y:this.centery,text:e[n],valign:"center",halign:"center",bounding:i[n],boundingFill:"white"})},this.getShape=function(t){for(var e=this.properties,i=e.tooltipsData,s=0;s<this.coords.length;++s){var a,o=this.coords[s][0],r=this.coords[s][1],n=Number(s),h=DxChart.getMouseXY(t),l=h[0],h=h[1];if(l<o+5&&o-5<l&&r-5<h&&h<r+5)return DxChart.parseTooltipText&&(a=DxChart.parseTooltipText(i,n)),h=(l=DxChart.sequentialIndexToGrouped(n,this.data))[0],{object:this,x:o,y:r,index:o=l[1],dataset:h,sequentialIndex:n,label:e.labelsData&&"string"==typeof e.labelsData[o]?e.labelsData[o]:null,tooltip:"string"==typeof a?a:null}}},this.highlight=function(t){var e=this.properties;if("function"==typeof e.highlightStyle)e.highlightStyle(t);else if("invert"===e.highlightStyle){this.path("b a % % % % % true",t.x,t.y,25,4.72,-1.57);for(var i=0;i<=360;i+=360/this.data[0].length)this.path("a % % % % % false"),this.context.arc(this.centerx,this.centery,this.radius,DxChart.toRadians(i)-DxChart.HALFPI,DxChart.toRadians(i)+.001-DxChart.HALFPI,!1);this.path("a % % % % % false c f %",this.centerx,this.centery,this.radius,0-DxChart.HALFPI,.001-DxChart.HALFPI,e.highlightFill),this.path("b a % % % % % false s %",t.x,t.y,25,0,6.29,e.highlightStroke)}else DxChart.Highlight.point(this,t)},this.getObjectByXY=function(t){t=DxChart.getMouseXY(t);if(t[0]>this.centerx-this.radius-5&&t[0]<this.centerx+this.radius+5&&t[1]>this.centery-this.radius-5&&t[1]<this.centery+this.radius+5)return this},this.drawHighlights=function(){var t=this.properties;if(t.highlightValue)for(var e=0,i=0,s=0,a=t.highlightRadius,i=0;i<this.data.length;++i)for(s=0;s<this.data[i].length;++s)this.context.beginPath(),this.context.fillStyle=t.highlightFill||("object"==typeof t.colorsStroke&&t.colorsStroke[i]?t.colorsStroke[i]:t.colorsStroke),t.highlightStroke?this.context.strokeStyle=t.highlightStroke:this.context.strokeStyle=this.context.fillStyle,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.arc(this.coords[e][0],this.coords[e][1],a,0,DxChart.TWOPI,!1),this.context.stroke(),this.context.fill(),++e},this.drawTickMarks=function(){var t=this.properties;if(t.tickmarksStyle){var e,i,s=0,a=0,o=0,r=t.highlightRadius,n=t.tickmarksStyle,h=t.tickmarksStyleDotFill,l=t.tickmarksStyleDotStroke;if("dot"==n.toLowerCase())for(a=0;a<this.data.length;++a){DxChart.isArray(e=h)&&(e=h[a]),DxChart.isArray(i=l)&&(i=l[a]);for(o=0;o<this.data[a].length;++o)this.context.beginPath(),this.context.fillStyle=e,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.strokeStyle=i,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.arc(this.coords[s][0],this.coords[s][1],r,0,DxChart.TWOPI,!1),this.context.stroke(),this.context.fill(),++s}}},this.getRadius=function(t){return t<0||t>this.max?null:t/this.max*this.radius},this.getAngle=function(t,e){t=DxChart.TWOPI/t*e;return t-=DxChart.HALFPI},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.keyColors=DxChart.arrayClone(t.keyColors),this.original_colors.titleColor=DxChart.arrayClone(t.titleColor),this.original_colors.textColor=DxChart.arrayClone(t.textColor),this.original_colors.labelsColor=DxChart.arrayClone(t.labelsColor),this.original_colors.labelsAxesColor=DxChart.arrayClone(t.labelsAxesColor),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill),this.original_colors.circleFill=DxChart.arrayClone(t.circleFill),this.original_colors.circleStroke=DxChart.arrayClone(t.circleStroke),this.original_colors.colorsStroke=DxChart.arrayClone(t.colorsStroke));for(var e=0;e<t.colors.length;++e)t.colors[e]=this.parseSingleColorForGradient(t.colors[e]);var i=t.keyColors;if("null"!=typeof i&&i&&i.length)for(e=0;e<t.keyColors.length;++e)t.keyColors[e]=this.parseSingleColorForGradient(t.keyColors[e]);if(t.titleColor=this.parseSingleColorForGradient(t.titleColor),t.textColor=this.parseSingleColorForGradient(t.textColor),t.labelsColor=this.parseSingleColorForGradient(t.labelsColor),t.labelsAxesColor=this.parseSingleColorForGradient(t.labelsAxesColor),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill),t.circleFill=this.parseSingleColorForGradient(t.circleFill),t.circleStroke=this.parseSingleColorForGradient(t.circleStroke),"object"==typeof t.colorsStroke)for(e=0;e<t.colorsStroke.length;++e)t.colorsStroke[e]=this.parseSingleColorForGradient(t.colorsStroke[e]);else t.colorsStroke=this.parseSingleColorForGradient(t.colorsStroke)},this.reset=function(){},this.addFillListeners=function(t){function e(t,e){isNexacroRuntime&&(a=t,(t={}).pageX=e.clientx,t.pageY=e.clienty,t.offsetX=e.pageX,t.offsetY=e.pageY,t.type="onclick"==e.id?"click":"mousemove",t.target=a),h.coords,h.coords2;var i=DxChart.getMouseXY(t),s=0;"mousemove"==t.type&&n.filledMousemoveRedraw&&DxChart.redrawCanvas(h.canvas);for(var a,s=h.coords2.length-1;0<=s;--s){h.context.beginPath(),h.context.moveTo(h.coords2[s][0][0],h.coords2[s][0][1]);for(var o=0;o<h.coords2[s].length;++o)h.context.lineTo(h.coords2[s][o][0],h.coords2[s][o][1]);if(h.context.lineTo(h.coords2[s][0][0],h.coords2[s][0][1]),n.accumulative&&0<s){h.context.lineTo(h.coords2[s-1][0][0],h.coords2[s-1][0][1]);for(o=h.coords2[s-1].length-1;0<=o;--o)h.context.lineTo(h.coords2[s-1][o][0],h.coords2[s-1][o][1])}if(h.context.closePath(),h.context.isPointInPath(i[0],i[1])){var r=!0;break}}r?(a=n.filledTooltips,"click"==t.type&&(n.filledClick&&n.filledClick(t,s),n.filledTooltips)&&n.filledTooltips[s]&&h.datasetTooltip(t,s),"mousemove"==t.type&&(n.filledMousemove&&n.filledMousemove(t,s),DxChart.isNull(a)||(isNexacroRuntime?t.target.set_cursor("pointer"):t.target.style.cursor="pointer"),n.filledTooltips)&&n.filledTooltips[s]&&(isNexacroRuntime?t.target.set_cursor("pointer"):t.target.style.cursor="pointer"),(isNexacroRuntime?e:t).stopPropagation()):"mousemove"==t.type&&(isNexacroRuntime?t.target.set_cursor("default"):t.target.style.cursor="default")}var n=this.properties,h=this;!n.filledClick&&DxChart.isNull(n.filledTooltips)||(isNexacroRuntime?this.canvas.addEventHandler("onclick",e,this):this.canvas.addEventListener("click",e,!1)),!n.filledMousemove&&DxChart.isNull(n.filledTooltips)||(isNexacroRuntime?this.canvas.addEventHandler("mousemove",e,this):this.canvas.addEventListener("mousemove",e,!1))},this.highlightDataset=function(t){var e=this.properties;this.context.beginPath();for(var i=0;i<this.coords2[t].length;++i)0==i?this.context.moveTo(this.coords2[t][0][0],this.coords2[t][0][1]):this.context.lineTo(this.coords2[t][i][0],this.coords2[t][i][1]);if(this.context.lineTo(this.coords2[t][0][0],this.coords2[t][0][1]),e.accumulative&&0<t){this.context.lineTo(this.coords2[t-1][0][0],this.coords2[t-1][0][1]);for(i=this.coords2[t-1].length-1;0<=i;--i)this.context.lineTo(this.coords2[t-1][i][0],this.coords2[t-1][i][1])}this.context.strokeStyle=e.filledHighlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=e.filledHighlightFill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.stroke(),this.context.fill()},this.datasetTooltip=function(t,e){DxChart.redrawCanvas(this.canvas);var i=this.properties,i=(this.highlightDataset(e),i.filledTooltips[e]),s=this.coords2[e][0][0]+DxChart.getCanvasXY(this.canvas)[0],e=this.coords2[e][0][1]+DxChart.getCanvasXY(this.canvas)[1];DxChart.showTooltip({object:this,text:i,x:s,y:e,index:0,event:t})},this.interactiveKeyHighlight=function(t){var e=this.properties,i=this.coords2[t];if(i){var s=this.context.lineWidth,a=this.context.lineCap;this.context.lineWidth=e.lineWidth+10,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.lineCap="round",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.strokeStyle=e.keyInteractiveHighlightChartStroke[t]||e.keyInteractiveHighlightChartStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.beginPath();for(var o=0,r=i.length;o<r;o+=1)0==o?this.context.moveTo(i[o][0],i[o][1]):this.context.lineTo(i[o][0],i[o][1]);this.context.closePath(),this.context.stroke(),this.context.lineWidth=s,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.lineCap=a,isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap)}},this.firstDrawFunc=function(){},this.drawAni=function(){var t=arguments[0]||"grow",e=arguments[1]||{},i=arguments[2]||function(){};switch(t){case"grow":this.grow(e,i);break;case"trace":this.trace(e,i)}},this.grow=function(){this.cancelStopAnimation();var o=this,r=arguments[1]||function(){},t=arguments[0]||{},n=t.frames||30,h=0,l=DxChart.arrayClone(this.unmodified_data);return function t(){if(o.stopAnimationRequested)o.stopAnimationRequested=!1;else{for(var e=0,i=l.length;e<i;++e)for(var s=0,a=l[e].length;s<a;++s)o.orgData[e][s]=h/n*l[e][s];DxChart.clear(o.canvas),DxChart.redrawCanvas(o.canvas),h<n?(h++,DxChart.Effects.updateCanvas(t,o.canvas)):r(o)}}(),this},this.trace=function(){this.cancelStopAnimation();var t=this,e=(arguments[0]||{}).frames||60,i=0,s=arguments[1]||function(){},a=(this.orgData=DxChart.arrayClone(this.unmodified_data),this.set("animationTraceClip",0),function(){t.stopAnimationRequested?t.stopAnimationRequested=!1:i<e?(t.set("animationTraceClip",i/e),i++,DxChart.redrawCanvas(t.canvas),DxChart.Effects.updateCanvas(a,t.canvas)):(t.set("animationTraceClip",1),DxChart.redrawCanvas(t.canvas),s(t))});return a(),this},this.stopAnimation=function(){this.set("animationTraceClip",1),this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.tooltipSubstitutions=function(t){for(var e=DxChart.sequentialIndexToGrouped(t.index,this.data),i=0,s=[];i<this.data.length;++i)s.push(this.data[i][e[1]]);return{index:e[1],dataset:e[0],sequentialIndex:t.index,value:this.data_arr[t.index],values:s}},this.tooltipsFormattedCustom=function(t,e){var i=this.properties,s=!DxChart.isNull(i.tooltipsFormattedKeyColors)&&"object"==typeof i.tooltipsFormattedKeyColors&&i.tooltipsFormattedKeyColors[e]?i.tooltipsFormattedKeyColors[e]:"";return{label:!DxChart.isNull(i.tooltipsFormattedKeyLabels)&&"object"==typeof i.tooltipsFormattedKeyLabels&&i.tooltipsFormattedKeyLabels[e]?i.tooltipsFormattedKeyLabels[e]:"",color:s}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=t.index,a=DxChart.getCanvasXY(e.canvas),s=e.coords[s];isNexacroRuntime?(t.tooltip.set_left(a[0]+s[0]-i.getOffsetWidth()/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(a[1]+s[1]-i.getOffsetHeight()+e.properties.tooltipsOffsetY-15-(e.properties.highlightRadius-4))):(t.tooltip.style.left=a[0]+s[0]-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=a[1]+s[1]-i.offsetHeight+e.properties.tooltipsOffsetY-15-(e.properties.highlightRadius-4)+"px")},this.resetData(t.data),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartRose(t){return DxChart._Base.call(this,t,"rose"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"scale"),DxChart.setDefaultProperties(this,"variant"),DxChart.setDefaultProperties(this,"segment"),DxChart.setDefaultProperties(this,"default"),this.properties.labelsPosition="center",this.properties.backgroundGridCirclesCount=5,this.properties.marginDefault=5,this.properties.variantValue="stacked",this.properties.labelsAxesCount=5,this.properties.labelsAxes="n",this.properties.highlightStroke="rgba(0,0,0,0)",this.properties.highlightFill="rgba(255,255,255,0.5)",this.centerx=0,this.centery=0,this.radius=0,this.max=0,this.angles=[],this.angles2=[],t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t,e,i,s,a){this.binddataset&&(t=DxChart._getColumnDataset(this.binddataset,t),e=DxChart._getColumnDataset(this.binddataset,e),i=DxChart._getColumnDataset(this.binddataset,i),s=DxChart._getColumnDataset(this.binddataset,s),a=DxChart.parseDataset(this,a)),this.data=DxChart.str2num(a);var o=DxChart.arrayLinearize(this.data);this.data_seq=o,this.data_arr=o;for(var r=0;r<o.length;++r)this["$"+r]={}},this.draw=function(){if(!this.data||0==this.data.length)return DxChart.NoDataShow(this);var t,e=this.properties;if(DxChart._BeforeDraw(this,!0),this.radius=Math.max(Math.min(this.canvas.width-this.marginLeft-this.marginRight,this.canvas.height-this.marginTop-this.marginBottom)/2,1),this.centerx=(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft,this.centery=(this.canvas.height-this.marginTop-this.marginBottom)/2+this.marginTop,this.angles=[],this.angles2=[],this.total=0,this.startRadians=e.anglesStart,this.coordsText=[],e.keyData&&e.keyData.length&&3<=e.keyData.length&&(this.centerx=this.centerx-this.marginRight+5),"number"==typeof e.centerx&&(this.centerx=e.centerx),"number"==typeof e.centery&&(this.centery=e.centery),"number"==typeof e.radius&&(this.radius=e.radius),this.parseColors(),-1!==e.variantValue.indexOf("3d")&&(t=e.variant3dScaleX||1,this.context.setTransform(t,0,0,1,-.5*(this.canvas.width*t-this.canvas.width),0)),this.drawBackground(),-1!==e.variantValue.indexOf("3d")){DxChart.setShadow(this,"rgba(0,0,0,0.35)",0,15,25);for(var i=e.variantThreedDepth;0<i;--i){--this.centery,this.drawRose({storeAngles:!1}),DxChart.noShadow(this);for(var s=0,a=this.angles.length;s<a;s+=1){var o=this.angles[s];this.path("b m % % a % % % % % false c f rgba(0,0,0,0.1) c f rgba(0,0,0,0.1)",o[4],o[5],o[4],o[5],o[3]+1.5,o[0]-.01,o[1]+.01,!1)}}}return this.drawRose(),this.drawLabels(),this.context.strokeStyle="rgba(0,0,0,0)",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),e.contextmenu&&DxChart.showContext(this),e.changeableValue&&DxChart.allowAdjusting(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),e.segmentHighlight&&(DxChart.allowSegmentHighlight||alert("[WARNING] The segment highlight function does not exist - have you included the dynamic library?"),DxChart.allowSegmentHighlight({object:this,count:"number"==typeof e.segmentHighlightCount?e.segmentHighlightCount:this.data.length,fill:e.segmentHighlightFill,stroke:e.segmentHighlightStroke})),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.drawBackground=function(){var t=this.properties,e=t.backgroundCirclesFillColors;if(this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),t.backgroundColor&&(this.context.fillStyle=t.backgroundColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.arc(this.centerx,this.centery,this.radius,0,DxChart.TWOPI,!1),this.fill()),t.backgroundGridCirclesCount){"number"==typeof t.backgroundGridCirclesCount&&(t.backgroundGridCirclesSize=this.radius/t.backgroundGridCirclesCount),this.context.beginPath(),this.context.strokeStyle=t.backgroundGridColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),t.CirclesColor1&&(this.context.fillStyle=t.backgroundColor,isNexacroRuntime)&&this.context.setElementFillStyle(this.context.fillStyle);var i,s=0;if(isNexacroRuntime&&e)for(var a=Math.round(this.radius/t.backgroundGridCirclesSize),o=this.radius;0<=o;o-=t.backgroundGridCirclesSize)this.context.beginPath(),this.context.moveTo(this.centerx+o,this.centery),this.context.arc(this.centerx,this.centery,o,0,DxChart.TWOPI,!1),0<o&&(e[a-++s]?this.context.fillStyle=e[a-s]:e[0]&&(this.context.fillStyle=e[0]),this.context.setElementFillStyle(this.context.fillStyle),this.context.fill()),this.context.closePath(),this.context.stroke();else for(o=t.backgroundGridCirclesSize;o<=this.radius;o+=t.backgroundGridCirclesSize)e&&this.context.beginPath(),this.context.moveTo(this.centerx+o,this.centery),this.context.arc(this.centerx,this.centery,o,0,DxChart.TWOPI,!1),e&&(0<i&&this.context.arc(this.centerx,this.centery,i,DxChart.TWOPI,0,!0),0<o&&(e[s]?this.context.fillStyle=e[s]:e[0]&&(this.context.fillStyle=e[0]),isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.fill(),s++),i=o,this.context.closePath(),this.context.stroke());if(e||this.context.stroke(),this.context.beginPath(),"number"!=typeof t.backgroundGridRadialsCount&&(t.backgroundGridRadialsCount=this.data.length),0<t.backgroundGridRadialsCount)if(isNexacroRuntime)for(var r=t.backgroundGridRadialsCount,o=0;o<r;o++){this.radius;var n=DxChart.TWOPI/r*o,h=(n-=DxChart.HALFPI,this.centerx+Math.cos(n)*this.radius),n=this.centery+Math.sin(n)*this.radius;this.context.beginPath(),this.context.moveTo(this.centerx,this.centery),this.context.lineTo(h,n),this.context.closePath(),this.context.stroke()}else{for(var l=360/t.backgroundGridRadialsCount,c=t.backgroundGridRadialsOffset,o=0;o<=360;o+=l)this.context.arc(this.centerx,this.centery,this.radius,o/(180/DxChart.PI)-DxChart.HALFPI+this.startRadians+c,(o+1e-4)/(180/DxChart.PI)-DxChart.HALFPI+this.startRadians+c,!1),this.context.lineTo(this.centerx,this.centery);this.context.stroke()}}if(t.axesUse){if(this.context.beginPath(),this.context.strokeStyle=t.axesColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=t.axesLineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.moveTo(this.centerx-this.radius,Math.round(this.centery)),this.context.lineTo(this.centerx+this.radius,Math.round(this.centery)),t.axesTickmarks){this.context.moveTo(Math.round(this.centerx-this.radius),this.centery-5),this.context.lineTo(Math.round(this.centerx-this.radius),this.centery+5),this.context.moveTo(Math.round(this.centerx+this.radius),this.centery-5),this.context.lineTo(Math.round(this.centerx+this.radius),this.centery+5);for(o=this.centerx-this.radius;o<this.centerx+this.radius;o+=this.radius/5)this.context.moveTo(Math.round(o),this.centery-3),this.context.lineTo(Math.round(o),this.centery+3.5);for(o=this.centery-this.radius;o<this.centery+this.radius;o+=this.radius/5)this.context.moveTo(this.centerx-3,Math.round(o)),this.context.lineTo(this.centerx+3,Math.round(o))}this.context.moveTo(Math.round(this.centerx),this.centery-this.radius),this.context.lineTo(Math.round(this.centerx),this.centery+this.radius),t.axesTickmarks&&(this.context.moveTo(this.centerx-5,Math.round(this.centery-this.radius)),this.context.lineTo(this.centerx+5,Math.round(this.centery-this.radius)),this.context.moveTo(this.centerx-5,Math.round(this.centery+this.radius)),this.context.lineTo(this.centerx+5,Math.round(this.centery+this.radius))),this.context.closePath(),this.context.stroke()}this.path("b c")},this.drawRose=function(){var t=this.properties,e=0,i=this.data,s=DxChart.toRadians(t.marginDefault);if(this.context.lineWidth=t.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),DxChart.isNull(t.scaleMax)){for(var a=0;a<i.length;++a)e="number"==typeof i[a]?Math.max(e,i[a]):"object"==typeof i[a]&&-1!==t.variantValue.indexOf("non-equi-angular")?Math.max(e,i[a][0]):Math.max(e,DxChart.arraySum(i[a]));this.scale2=DxChart.getScale({object:this,options:{"scale.max":e,"scale.min":0,"scale.thousand":t.scaleThousand,"scale.point":t.scalePoint,"scale.decimals":t.scaleDecimals,"scale.labels.count":t.labelsAxesCount,"scale.round":t.scaleRound,"scale.units.pre":t.scaleUnitsPre,"scale.units.post":t.scaleUnitsPost}})}else{var o=t.scaleMax;this.scale2=DxChart.getScale({object:this,options:{"scale.max":o,"scale.strict":!0,"scale.thousand":t.scaleThousand,"scale.point":t.scalePoint,"scale.decimals":t.scaleDecimals,"scale.labels.count":t.labelsAxesCount,"scale.round":t.scaleRound,"scale.units.pre":t.scaleUnitsPre,"scale.units.post":t.scaleUnitsPost}})}this.max=this.scale2.max,this.sum=DxChart.arraySum(i),this.context.moveTo(this.centerx,this.centery),this.context.stroke(),t.colorsAlpha&&(this.context.globalAlpha=t.colorsAlpha,isNexacroRuntime)&&(this.context._globalAlphaFill=t.colorsAlpha,this.context.setElementGlobalAlpha(this.context.globalAlpha));var r=0;if("string"==typeof t.variantValue&&-1!==t.variantValue.indexOf("non-equi-angular")){for(var n=0,a=0;a<i.length;++a)n+=i[a][1];t.shadowUse&&DxChart.setShadow(this,t.shadowStyleObj.color,t.shadowStyleObj.offsetX,t.shadowStyleObj.offsetY,t.shadowStyleObj.blur);for(a=0;a<this.data.length;++a){var h=this.data[a][1]/n*DxChart.TWOPI,l=(this.data[a][0]-t.scaleMin)/(this.max-t.scaleMin)*this.radius,c=(l*=t.animationGrowMultiplier,this.context.strokeStyle=t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.centerx),x=this.centery,d=c-(j=t.animationRoundrobinRadius?l*t.animationRoundrobinFactor:l),u=x-j,g=(C=t.colorsSequential?t.colors[a]:t.colors[0],isNexacroRuntime&&(this.context.save(),this.context.translate(d,u),x=c=j),DxChart.parseRadialGradientInfo(this,C,c,x,0,c,x,j)),p=(this.context.fillStyle=g,isNexacroRuntime&&this.context.setElementFillStyle(g),isNexacroRuntime&&t.colorsAlpha&&(this.context._globalAlphaFill=t.colorsAlpha,this.context.setElementGlobalAlpha(this.context.globalAlpha)),this.context.beginPath(),this.startRadians*t.animationRoundrobinFactor-DxChart.HALFPI+s),f=(this.startRadians+h)*t.animationRoundrobinFactor-DxChart.HALFPI-s;isNexacroRuntime&&(p=this.startRadians*t.animationRoundrobinFactor-DxChart.PI+s,f=(this.startRadians+h)*t.animationRoundrobinFactor-DxChart.PI-s);var m=(E=this.getExploded(a,p,f,t.exploded))[0],b=E[1];this.context.arc(c+m,x+b,j,p,f,0),this.context.lineTo(c+m,x+b),this.context.closePath(),this.context.stroke(),this.context.fill(),isNexacroRuntime&&(this.context.closePath(),this.context.restore(),c=this.centerx,x=this.centery),this.angles[a]=[p,f,0,t.animationRoundrobinRadius?l*t.animationRoundrobinFactor:l,this.centerx+m,this.centery+b,this.context.strokeStyle,this.context.fillStyle],r++,this.startRadians+=h}t.shadowUse&&(DxChart.noShadow(this),this.redrawRose()),1<t.lineWidth&&this.restrokeRose()}else{var C,y=0;t.shadowUse&&DxChart.setShadow(this,t.shadowStyleObj.color,t.shadowStyleObj.offsetX,t.shadowStyleObj.offsetY,t.shadowStyleObj.blur);for(a=0;a<this.data.length;++a){h=1/this.data.length*DxChart.TWOPI;if("number"==typeof this.data[a]){this.context.strokeStyle=t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),C=t.colorsSequential?t.colors[a]:t.colors[0];l=(this.data[a]-t.scaleMin)/(this.max-t.scaleMin)*this.radius,c=(l*=t.animationGrowMultiplier,this.centerx),x=this.centery,d=c-(j=t.animationRoundrobinRadius?l*t.animationRoundrobinFactor:l),u=x-j,g=(isNexacroRuntime&&(this.context.save(),this.context.translate(d,u),x=c=j),DxChart.parseRadialGradientInfo(this,C,c,x,0,c,x,j)),p=(this.context.fillStyle=g,isNexacroRuntime&&this.context.setElementFillStyle(g),isNexacroRuntime&&t.colorsAlpha&&(this.context._globalAlphaFill=t.colorsAlpha,this.context.setElementGlobalAlpha(this.context.globalAlpha)),this.context.beginPath(),this.startRadians*t.animationRoundrobinFactor-DxChart.HALFPI+s),f=this.startRadians*t.animationRoundrobinFactor+h*t.animationRoundrobinFactor-DxChart.HALFPI-s;isNexacroRuntime&&(p=this.startRadians*t.animationRoundrobinFactor-DxChart.PI+s,f=this.startRadians*t.animationRoundrobinFactor+h*t.animationRoundrobinFactor-DxChart.PI-s);m=(E=this.getExploded(a,p,f,t.exploded))[0],b=E[1];this.context.arc(c+m,x+b,t.animationRoundrobinRadius?l*t.animationRoundrobinFactor:l,p,f,0),this.context.lineTo(c+m,x+b),this.context.closePath(),this.context.fill(),this.context.stroke(),isNexacroRuntime&&(this.context.restore(),c=this.centerx,x=this.centery),this.context.beginPath(),this.angles[a]=[p,f,0,l*t.animationRoundrobinFactor,this.centerx+m,this.centery+b,this.context.strokeStyle,this.context.fillStyle],r++}else if("object"==typeof this.data[a]){s=t.marginDefault/(180/DxChart.PI);if(this.angles2[a]||(this.angles2[a]=[]),isNexacroRuntime){for(var D,v=[],S=[],k=[],w=[],_=[],T=[],P=[],R=this.data[a].length,L=0;L<R;L++){D=t.colorsStroke,F=t.colorsSequential?t.colors[y++]:t.colors[L],p=this.startRadians*t.animationRoundrobinFactor-DxChart.PI+s,f=this.startRadians*t.animationRoundrobinFactor+h*t.animationRoundrobinFactor-DxChart.PI-s;m=(E=this.getExploded(a,p,f,t.exploded))[0],b=E[1];T[L]=F,P[L]=D,0==L?(O=0,A=(this.data[a][L]-t.scaleMin)/(this.max-t.scaleMin)*this.radius,A*=t.animationGrowMultiplier,v[L]=this.centerx+m,S[L]=this.centery+b,_[L]=t.animationRoundrobinRadius?A*t.animationRoundrobinFactor:A):(O=A,A=(this.data[a][L]-t.scaleMin)/(this.max-t.scaleMin)*this.radius+O,A*=t.animationGrowMultiplier,v[L]=this.centerx+m,S[L]=this.centery+b,_[L]=A*t.animationRoundrobinFactor),k[L]=p,w[L]=f,this.angles[r++]=[p,f,A*t.animationRoundrobinFactor,A*t.animationRoundrobinFactor,this.centerx+m,this.centery+b,D,F],this.angles2[a][L]=[p,f,A*t.animationRoundrobinFactor,A*t.animationRoundrobinFactor,this.centerx+m,this.centery+b,D,F]}for(L=R-1;0<=L;L--){this.context.setElementStrokeStyle(P[L]);var j,c=v[L],x=S[L],d=c-(j=_[L]),u=x-j,F=(this.context.save(),this.context.translate(d,u),x=c=j,DxChart.parseRadialGradientInfo(this,T[L],this.centerx,this.centery,0,this.centerx,this.centery,this.radius));this.context.setElementFillStyle(F),t.colorsAlpha&&(this.context._globalAlphaFill=t.colorsAlpha,this.context.setElementGlobalAlpha(t.colorsAlpha)),this.context.beginPath(),this.context.arc(c,x,j,k[L],w[L],0),this.context.lineTo(c,x),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.restore()}}else for(L=0;L<this.data[a].length;++L){p=this.startRadians*t.animationRoundrobinFactor-DxChart.HALFPI+s,f=this.startRadians*t.animationRoundrobinFactor+h*t.animationRoundrobinFactor-DxChart.HALFPI-s;isNexacroRuntime&&(p=this.startRadians*t.animationRoundrobinFactor-DxChart.PI+s,f=this.startRadians*t.animationRoundrobinFactor+h*t.animationRoundrobinFactor-DxChart.PI-s);var E,O,A,m=(E=this.getExploded(a,p,f,t.exploded))[0],b=E[1];this.context.strokeStyle=t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=t.colors[L],isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),t.colorsSequential&&(this.context.fillStyle=t.colors[y++],isNexacroRuntime)&&this.context.setElementFillStyle(this.context.fillStyle),isNexacroRuntime&&t.colorsAlpha&&(this.context._globalAlphaFill=t.colorsAlpha,this.context.setElementGlobalAlpha(this.context.globalAlpha)),0==L?(this.context.beginPath(),A=(this.data[a][L]-t.scaleMin)/(this.max-t.scaleMin)*this.radius,A*=t.animationGrowMultiplier,t.animationRoundrobinRadius&&t.animationRoundrobinFactor,this.context.arc(this.centerx+m,this.centery+b,t.animationRoundrobinRadius?A*t.animationRoundrobinFactor:A,p,f,O=0),this.context.lineTo(this.centerx+m,this.centery+b),this.context.closePath(),this.context.stroke(),this.context.fill(),this.angles[r++]=[p,f,0,A*t.animationRoundrobinFactor,this.centerx+m,this.centery+b,this.context.strokeStyle,this.context.fillStyle],this.angles2[a][L]=[p,f,0,A*t.animationRoundrobinFactor,this.centerx+m,this.centery+b,this.context.strokeStyle,this.context.fillStyle]):(this.context.beginPath(),O=A,A=(this.data[a][L]-t.scaleMin)/(this.max-t.scaleMin)*this.radius+O,A*=t.animationGrowMultiplier,this.context.arc(this.centerx+m,this.centery+b,O*t.animationRoundrobinFactor,p,f,0),this.context.arc(this.centerx+m,this.centery+b,A*t.animationRoundrobinFactor,f,p,!0),this.context.closePath(),this.context.stroke(),this.context.fill(),this.angles[r++]=[p,f,O*t.animationRoundrobinFactor,A*t.animationRoundrobinFactor,this.centerx+m,this.centery+b,this.context.strokeStyle,this.context.fillStyle],this.angles2[a][L]=[p,f,O*t.animationRoundrobinFactor,A*t.animationRoundrobinFactor,this.centerx+m,this.centery+b,this.context.strokeStyle,this.context.fillStyle])}}this.startRadians+=h}t.shadowUse&&DxChart.noShadow(this),t.shadowUse&&this.redrawRose(),1<t.lineWidth&&this.restrokeRose(),t.shadowUse&&this.redrawRose()}t.colorsAlpha&&(this.context.globalAlpha=1,isNexacroRuntime)&&(this.context._globalAlphaFill=1,this.context.setElementGlobalAlpha(this.context.globalAlpha)),t.titleText&&DxChart.drawTitle(this)},this.restrokeRose=function(){for(var t=this.angles,e=0;e<t.length;++e)isNexacroRuntime?this.path("b m % % a % % % % % false l % % c s %",t[e][4],t[e][5],t[e][4],t[e][5],t[e][2],t[e][0],t[e][1],t[e][4],t[e][5],t[e][6]):this.path("b a % % % % % false a % % % % % true c s %",t[e][4],t[e][5],t[e][2],t[e][0],t[e][1],t[e][4],t[e][5],t[e][3],t[e][1],t[e][0],t[e][6])},this.redrawRose=function(){for(var t=this.angles,e=0;e<t.length;++e)isNexacroRuntime||this.path("b a % % % % % false a % % % % % true c f % f % ",t[e][4],t[e][5],t[e][2],t[e][0],t[e][1],t[e][4],t[e][5],t[e][3],t[e][1],t[e][0],t[e][6],t[e][7])},this.drawLabels=function(){var t=this.properties;if(t.labelsData&&t.labelsData.length){"string"==typeof t.labelsData&&(t.labelsData=DxChart.arrayPad({array:[],length:this.data.length,value:t.labelsData}));for(var e=0;e<t.labelsData.length;++e)t.labelsData[e]=DxChart.labelSubstitution({object:this,text:t.labelsData[e],index:e,value:this.data[e],decimals:t.labelsFormattedDecimals||0,unitsPre:t.labelsFormattedUnitsPre||"",unitsPost:t.labelsFormattedUnitsPost||"",thousand:t.labelsFormattedThousand||",",point:t.labelsFormattedPoint||"."})}this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(1);var i=t.keyData,s=(i&&i.length&&DxChart.drawKey(this,i,t.colors),this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.strokeStyle="black",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.radius),i=t.textFontStyleObj.face,a=t.textFontStyleObj.size,o=t.labelsAxes.toLowerCase(),r=(t.scaleDecimals,t.scaleUnitsPre),n=t.scaleUnitsPost,h=this.centerx,l=this.centery+(-1!==t.variantValue.indexOf("3d")?t.variantThreedDepth:0),c=("object"==typeof t.labelsData&&t.labelsData&&this.drawCircularLabels(this.context,t.labelsData,i,a,s+10),"number"==typeof t.textFontStyleObj.size&&t.textFontStyleObj.size,"rgba(255,255,255,0.8)");if(-1<o.indexOf("n")){x=t.backgroundAxes?(u=-10,"right"):(u=0,"center");for(var x,d=DxChart.getTextInfo({object:this,prefix:"labelsAxes"}),e=0;e<t.labelsAxesCount;++e)DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:h+u+t.labelsAxesOffsetX,y:l-s*((e+1)/t.labelsAxesCount)+t.labelsAxesOffsetY,text:this.scale2.labels[e],valign:"center",halign:x,bounding:!0,boundingFill:c,boundingStroke:"rgba(0,0,0,0)",tag:"scale"})}if(-1<o.indexOf("s")){x=t.backgroundAxes?(u=-10,"right"):(u=0,"center");for(e=0;e<t.labelsAxesCount;++e)DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:h+u+t.labelsAxesOffsetX,y:l+s*((e+1)/t.labelsAxesCount)+t.labelsAxesOffsetY,text:this.scale2.labels[e],valign:"center",halign:x,bounding:!0,"bounding.fill":c,"bounding.stroke":"rgba(0,0,0,0)",tag:"scale"})}if(-1<o.indexOf("e"))for(e=0;e<t.labelsAxesCount;++e)g=t.backgroundAxes?(u=10,"top"):(u=0,"center"),DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:h+s*((e+1)/t.labelsAxesCount)+t.labelsAxesOffsetX,y:l+u+t.labelsAxesOffsetY,text:this.scale2.labels[e],valign:g,halign:"center",bounding:!0,"bounding.fill":c,"bounding.stroke":"rgba(0,0,0,0)",tag:"scale"});if(-1<o.indexOf("w"))for(var u,g,e=0;e<t.labelsAxesCount;++e)g=t.backgroundAxes?(u=10,"top"):(u=0,"center"),DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:h-s*((e+1)/t.labelsAxesCount)+t.labelsAxesOffsetX,y:l+u+t.labelsAxesOffsetY,text:this.scale2.labels[e],valign:g,halign:"center",bounding:!0,"bounding.fill":c,"bounding.stroke":"rgba(0,0,0,0)",tag:"scale"});0<DxChart.trim(o).length&&DxChart.text({object:this,font:d.font,size:d.size,color:d.color,bold:d.bold,italic:d.italic,x:h+t.labelsAxesOffsetX,y:l+t.labelsAxesOffsetY,text:"number"==typeof t.scaleMin?DxChart.numberFormat({object:this,number:Number(t.scaleMin).toFixed(0===t.scaleMin?"0":t.scaleDecimals),unitspre:r,unitspost:n}):"0",valign:"center",halign:"center",bounding:!0,"bounding.fill":c,"bounding.stroke":"rgba(0,0,0,0)",tag:"scale"})},this.drawCircularLabels=function(t,e,i,s,a){for(var o=this.properties,r=o.variantValue,a=(o.labelsPosition,a+5+o.labelsOffsetRadius),n=this.centerx,h=this.centery+(-1!==o.variantValue.indexOf("3d")?o.variantThreedDepth:0),l=(o.labelsColor||o.textColor,this.angles),c=DxChart.getTextInfo({object:this,prefix:"labels"}),x=0;x<this.data.length;++x){"string"==typeof r&&-1!==r.indexOf("non-equi-angular")?d=Number(l[x][0])+(l[x][1]-l[x][0])/2:(d=(d=DxChart.TWOPI/this.data.length*(x+1)-DxChart.TWOPI/(2*this.data.length))-DxChart.HALFPI+("edge"==o.labelsPosition?DxChart.TWOPI/this.data.length/2:0),d+=o.anglesStart);var d,u=n+Math.cos(d)*a,g=h+Math.sin(d)*a,p=n<u?"left":Math.round(u)==n?"center":"right";DxChart.text({object:this,font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:u,y:g,text:String(e[x]||""),halign:p,valign:"center",tag:"labels",cssClass:DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:x})})}},this.getShape=function(t){for(var e=this.properties,i=this.angles,s=arguments[1]||{radius:!0},a=0;a<i.length;++a){var o,r=i[a][0],n=i[a][1],h=!1===s.radius?0:i[a][2],l=!1===s.radius?this.radius:i[a][3],c=i[a][4],x=i[a][5],d=DxChart.getMouseXY(t);d[0],d[1];if(this.context.beginPath(),isNexacroRuntime?(this.context.arc(c,x,l,r,n,!1),this.context.lineTo(c,x)):(this.context.arc(c,x,h||.01,r,n,!1),this.context.arc(c,x,l,n,r,!0)),this.context.closePath(),this.context.isPointInPath(d[0],d[1]))return i[a][6]=a,DxChart.parseTooltipText&&(o=DxChart.parseTooltipText(e.tooltipsData,i[a][6])),h=DxChart.sequentialIndexToGrouped(a,this.data),i[a].object=this,i[a].x=i[a][4],i[a].y=i[a][5],i[a]["angle.start"]=i[a][0],i[a]["angle.end"]=i[a][1],i[a]["radius.start"]=i[a][2],i[a]["radius.end"]=i[a][3],i[a].index=h[1],i[a].dataset=h[0],i[a].sequentialIndex=i[a][6],i[a].tooltip=o||null,i[a].label="object"!=typeof e.labelsData||DxChart.isNull(e.labelsData)||"string"!=typeof e.labelsData[h[0]]?null:e.labelsData[i[a].dataset],"non-equi-angular"===e.variantValue&&(i[a].dataset=i[a].sequentialIndex,i[a].index=0,i[a].label=DxChart.isArray(e.labelsData)&&"string"==typeof e.labelsData[i[a].dataset]?e.labelsData[i[a].dataset]:null),{object:this,x:i[a][4],y:i[a][5],angleStart:i[a][0],angleEnd:i[a][1],radiusStart:i[a][2],radiusEnd:i[a][3],dataset:i[a].dataset,index:i[a].index,sequentialIndex:i[a][6],label:i[a].label,tooltip:"string"==typeof o?o:null}}return null},this.getExploded=function(t,e,i,s){var a,t="object"==typeof s&&"number"==typeof s[t]?(a=Math.cos((i-e)/2+e)*s[t],Math.sin((i-e)/2+e)*s[t]):"number"==typeof s?(a=Math.cos((i-e)/2+e)*s,Math.sin((i-e)/2+e)*s):a=0;return[a,t]},this.allowTooltips=function(){DxChart.preLoadTooltipImages(this),DxChart.installWindowMousedownTooltipListener(this),DxChart.installCanvasMousemoveTooltipListener(this),DxChart.installCanvasMouseupTooltipListener(this)},this.highlight=function(t){var e=this.properties;if(e.tooltipsHighlight)if("function"==typeof e.highlightStyle)e.highlightStyle(t);else if("string"==typeof e.highlightStyle&&"invert"===e.highlightStyle)for(var i=0;i<this.angles.length;++i)i!==t.sequentialIndex&&(this.path("b m % % a % % % % % false",this.angles[i][4],this.angles[i][5],this.angles[i][4],this.angles[i][5],this.angles[i][3],this.angles[i][0],this.angles[i][1]),0<this.angles[i][2]?this.path("a % % % % % true",this.angles[i][4],this.angles[i][5],this.angles[i][2],this.angles[i][1],this.angles[i][0]):this.path("l % %",this.angles[i][4],this.angles[i][5]),this.path("c s % f %",e.highlightStroke,e.highlightFill));else this.path("b a % % % % % false",t.x,t.y,t.radiusEnd,t.angleStart,t.angleEnd),!isNexacroRuntime&&0<t.radiusStart?this.path("a % % % % % true",t.x,t.y,t.radiusStart,t.angleEnd,t.angleStart):this.path("l % %",t.x,t.y),this.path("c s % f %",e.highlightStroke,e.highlightFill)},this.getObjectByXY=function(t){var e=this.properties,t=DxChart.getMouseXY(t),i=DxChart.getHypLength(this.centerx,this.centery,t[0],t[1]);if(e=-1!==e.variantValue.indexOf("3d")?(i/=-1,100):0,t[0]>this.centerx-this.radius-e&&t[0]<this.centerx+this.radius+e&&t[1]>this.centery-this.radius&&t[1]<this.centery+this.radius&&i<=this.radius)return this},this.getRadius=function(t){return t<0||t>this.max?null:t/this.max*this.radius},this.parseColors=function(){var t=this.properties;if(0===this.original_colors.length&&(this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.keyColors=DxChart.arrayClone(t.keyColors),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill)),!DxChart.isNull(t.keyColors))for(var e=0;e<t.keyColors.length;++e)t.keyColors[e]=this.parseSingleColorForGradient(t.keyColors[e]);t.highlightFill=this.parseSingleColorForGradient(t.highlightFill),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.segmentHighlightStroke=this.parseSingleColorForGradient(t.segmentHighlightStroke),t.segmentHighlightFill=this.parseSingleColorForGradient(t.segmentHighlightFill)},this.reset=function(){},this.parseSingleColorForGradient=function(t){if(!t||"string"!=typeof t)return t;if(t.match(/^gradient\((.*)\)$/i)){if(t.match(/^gradient\(({.*})\)$/i))return DxChart.parseJSONGradient({object:this,def:RegExp.$1});var e=RegExp.$1.split(":"),i=this.context.createRadialGradient(this.centerx,this.centery,0,this.centerx,this.centery,this.radius),s=1/(e.length-1);i.addColorStop(0,DxChart.trim(e[0]));for(var a=1;a<e.length;++a)i.addColorStop(a*s,DxChart.trim(e[a]))}return i||t},this.interactiveKeyHighlight=function(t){for(var e=this.angles2,i=0;i<this.angles2.length;i+=1)this.context.beginPath(),this.context.lineWidth=2,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.fillStyle=this.properties.keyInteractiveHighlightChartFill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.strokeStyle=this.properties.keyInteractiveHighlightChartStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.arc(e[i][t][4],e[i][t][5],e[i][t][2],e[i][t][0],e[i][t][1],!1),isNexacroRuntime?this.context.lineTo(e[i][t][4],e[i][t][5]):this.context.arc(e[i][t][4],e[i][t][5],e[i][t][3],e[i][t][1],e[i][t][0],!0),this.context.closePath(),this.context.fill(),this.context.stroke()},this.firstDrawFunc=function(){},this.drawAni=function(){var t=arguments[0]||"grow",e=arguments[1]||{},i=arguments[2]||function(){};switch(t){case"explode":this.explode(e,i);break;case"roundRobin":this.roundRobin(e,i);break;case"implode":this.implode(e,i);break;case"grow":this.grow(e,i)}},this.explode=function(){this.cancelStopAnimation();var e=this,t=arguments[0]||{},i=arguments[1]||function(){},s=t.frames||30,a=0,o=Math.max(this.canvas.width,this.canvas.height),r=Number(this.get("exploded")),n=DxChart.arrayClone(this.get("exploded"));if(DxChart.isArray(n)){r=new Array(this.data.length);for(let t=0;t<this.data.length;++t)r[t]=n[t]||0,n[t]=n[t]||0}else r=o;return function t(){if(e.stopAnimationRequested)e.stopAnimationRequested=!1;else{if(DxChart.isArray(n))for(let t=0;t<e.data.length;++t)r[t]=a/s*(o-n[t])+n[t];else r=a/s*o;e.set("exploded",r),DxChart.clear(e.canvas),DxChart.redrawCanvas(e.canvas),a++<s?DxChart.Effects.updateCanvas(t,e.canvas):i(e)}}(),this},this.roundRobin=function(){this.cancelStopAnimation();var e=this,i=(arguments[0]||{}).frames||30,s=0,t=360/this.data.length/2,a=arguments[1]||function(){};return this.originalMargin=this.get("margin"),this.set("margin",t),this.set("animationRoundrobinFactor",0),function t(){e.stopAnimationRequested?e.stopAnimationRequested=!1:(DxChart.clear(e.canvas),DxChart.redrawCanvas(e.canvas),s++<i?(e.set("animationRoundrobinFactor",s/i),e.set("margin",s/i*e.originalMargin),DxChart.Effects.updateCanvas(t,e.canvas)):(e.set("animationRoundrobinFactor",1),e.set("margin",e.originalMargin),a(e)))}(),this},this.implode=function(){this.cancelStopAnimation();var e=this,t=arguments[0]||{},i=arguments[1]||function(){},s=t.frames||30,a=0,o=Math.max(this.canvas.width,this.canvas.height),r=DxChart.arrayClone(this.get("exploded"));if(DxChart.isArray(r)){var n=new Array(this.data.length);for(let t=0;t<this.data.length;++t)n[t]=o}else n=o;return function t(){if(e.stopAnimationRequested)e.stopAnimationRequested=!1;else{if(DxChart.isArray(r))for(let t=0;t<e.data.length;++t)n[t]=o-a/s*(o-(r[t]||0));else n=o-a/s*(o-r);e.set("exploded",n),DxChart.clear(e.canvas),DxChart.redrawCanvas(e.canvas),a++<s?DxChart.Effects.updateCanvas(t,e.canvas):(DxChart.clear(e.canvas),DxChart.redrawCanvas(e.canvas),i(e))}}(),this},this.grow=function(){this.cancelStopAnimation();var e=this,t=arguments[0]||{},i=arguments[1]||function(){},s=t.frames||30,a=0;return function t(){e.stopAnimationRequested?e.stopAnimationRequested=!1:(e.set("animationGrowMultiplier",a/s),DxChart.clear(e.canvas),DxChart.redrawCanvas(e.canvas),a<s?(a++,DxChart.Effects.updateCanvas(t,e.canvas)):i(e))}(),this},this.stopAnimation=function(){this.set("animationGrowMultiplier",1),this.set("animationRoundrobinFactor",1),DxChart.isNumber(this.originalMargin)&&this.set("margin",this.originalMargin),this.set("exploded",[]),this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.tooltipSubstitutions=function(t){var e,i=DxChart.sequentialIndexToGrouped(t.index,this.data),s=this.data_arr[t.index],a="number"==typeof this.data[i[0]]?[this.data[i[0]]]:this.data[i[0]];return"non-equi-angular"===this.properties.variantValue&&DxChart.isArray(this.data[i[0]])&&(s=this.data[t.index][0],e=this.data[t.index][1],i=[t.index,0]),{index:i[1],dataset:i[0],sequentialIndex:t.index,value:s,value2:"number"==typeof e?e:null,values:a}},this.tooltipsFormattedCustom=function(t,e,i){var s,a,o,r=this.properties,n=r.colors[e];return r.colorsSequential&&(n=i[t.sequential]),"number"==typeof this.data[t.dataset]?(s=r.tooltipsFormattedKeyLabels[0]||"",n=r.colors[0],r.tooltipsFormattedKeyColors&&r.tooltipsFormattedKeyColors[0]&&(n=r.tooltipsFormattedKeyColors[0])):"object"==typeof this.data[t.dataset]&&"non-equi-angular"===r.variantValue?0===e?(n=i[0],a=this.data[t.dataset][0],r.tooltipsFormattedKeyColors&&r.tooltipsFormattedKeyColors[t.index]&&(n=r.tooltipsFormattedKeyColors[t.index])):o=!0:"object"==typeof this.data[t.dataset]&&"non-equi-angular"!==r.variantValue&&r.tooltipsFormattedKeyColors&&r.tooltipsFormattedKeyColors[e]&&(n=r.tooltipsFormattedKeyColors[e]),{continue:o,label:s,color:n,value:a}},this.positionTooltipStatic=function(t){var e=this.properties,i=t.object,s=t.event,a=t.tooltip,o=(t.index,DxChart.getCanvasXY(i.canvas)),s=(this.angles[t.index],this.getShape(s)),r=(s.angleEnd-s.angleStart)/2+s.angleStart,r=DxChart.getRadiusEndPoint(s.x,s.y,r,(s.radiusEnd-s.radiusStart)/2+s.radiusStart);-1!==e.variantValue.indexOf("3d")&&(this.radius,r[0]=1.5*(r[0]-this.centerx)+this.centerx),isNexacroRuntime?(t.tooltip.set_left(o[0]+r[0]-a.offsetWidth/2+i.properties.tooltipsOffsetX),t.tooltip.set_top(o[1]+r[1]-a.offsetHeight+i.properties.tooltipsOffsetY-10)):(t.tooltip.style.left=o[0]+r[0]-a.offsetWidth/2+i.properties.tooltipsOffsetX+"px",t.tooltip.style.top=o[1]+r[1]-a.offsetHeight+i.properties.tooltipsOffsetY-10+"px")},this.resetData(t.centerx,t.centery,t.radius,t.max,t.data),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartRScatter(t){return DxChart._Base.call(this,t,"rscatter"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"scale"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"segment"),DxChart.setDefaultProperties(this,"tickmarks"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"default"),this.properties.scaleZerostart=!0,this.properties.lineScatterWidth=1,this.properties.tickmarksStyle="cross",this.properties.tooltipsFormattedKeyLabels=[],this.properties.tooltipsFormattedKeyColorsShape="square",t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t){var e;this.binddataset&&(t=DxChart.parseDataset(this,t)),this.data=DxChart.arrayClone(t),"object"!=typeof t||"object"!=typeof t[0]||"number"!=typeof t[0][0]&&"string"!=typeof t[0][0]||(e=DxChart.arrayClone(t),(t=new Array)[0]=DxChart.arrayClone(e),this.data=DxChart.arrayClone(t)),this.hasTooltips=!1,this.centerx=0,this.centery=0,this.radius=0;for(var i=this.max=0;i<this.data.length;++i)for(var s=0;s<this.data[i].length;++s)"string"==typeof this.data[i][s][0]&&(this.data[i][s][0]=parseFloat(this.data[i][s][0])),"string"==typeof this.data[i][s][1]&&(this.data[i][s][1]=parseFloat(this.data[i][s][1]));for(var i=0,a=0;i<this.data.length;++i)for(var s=0,o=this.data[i].length;s<o;s+=1,a+=1)this["$"+a]={}},this.drawAni=function(){this.draw()},this.draw=function(){if(!this.data&&0==this.data.length)return DxChart.NoDataShow(this);var t=this.properties;if(DxChart._BeforeDraw(this),t.labelsData&&t.labelsData.length){"string"==typeof t.labelsData&&(t.labelsData=DxChart.arrayPad({array:[],length:t.labelsCount,value:t.labelsData}));for(var e=0;e<t.labelsData.length;++e)t.labelsData[e]=DxChart.labelSubstitution({object:this,text:t.labelsData[e],index:e,value:this.data[0][e],decimals:t.labelsFormattedDecimals||0,unitsPre:t.labelsFormattedUnitsPre||"",unitsPost:t.labelsFormattedUnitsPost||"",thousand:t.labelsFormattedThousand||",",point:t.labelsFormattedPoint||"."})}this.radius=Math.min(this.canvas.width-this.marginLeft-this.marginRight,this.canvas.height-this.marginTop-this.marginBottom)/2,this.centerx=(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft,this.centery=(this.canvas.height-this.marginTop-this.marginBottom)/2+this.marginTop,this.coords=[],this.coords2=[],this.coordsText=[],"number"==typeof t.centerx&&(this.centerx=t.centerx),"number"==typeof t.centery&&(this.centery=t.centery),"number"==typeof t.radius&&(this.radius=t.radius);var i=t.scaleMax,s=t.scaleMin;if("number"==typeof i)this.max=i,this.scale2=DxChart.getScale({object:this,options:{"scale.max":i,"scale.min":s,"scale.strict":!0,"scale.decimals":Number(t.scaleDecimals),"scale.point":t.scalePoint,"scale.thousand":t.scaleThousand,"scale.round":t.scaleRound,"scale.units.pre":t.scaleUnitsPre,"scale.units.post":t.scaleUnitsPost,"scale.labels.count":t.labelsAxesCount}});else{for(e=0;e<this.data.length;e+=1)for(var a=0,o=this.data[e].length;a<o;a+=1)this.max=Math.max(this.max,this.data[e][a][1]);this.min=0,this.scale2=DxChart.getScale({object:this,options:{"scale.max":this.max,"scale.min":0,"scale.decimals":Number(t.scaleDecimals),"scale.point":t.scalePoint,"scale.thousand":t.scaleThousand,"scale.round":t.scaleRound,"scale.units.pre":t.scaleUnitsPre,"scale.units.post":t.scaleUnitsPost,"scale.labels.count":t.labelsAxesCount}}),this.max=this.scale2.max}if(t.keyData&&t.keyData.length&&3<=t.keyData.length&&(this.centerx=this.centerx-t.marginRight+5),"object"==typeof t.keyData&&DxChart.isArray(t.keyData)&&t.keyData[0]){t.colors=[];for(e=0;e<this.data.length;e+=1)for(a=0,o=this.data[e].length;a<o;a+=1)"string"==typeof this.data[e][a][2]&&t.colors.push(this.data[e][a][2])}this.set("tooltipsData",[]);for(e=0;e<this.data.length;e+=1)for(a=0,o=this.data[e].length;a<o;a+=1)t.tooltipsData.push(this.data[e][a][3]);this.context.beginPath(),this.drawBackground(),this.drawRscatter(),this.drawLabels();i=t.keyData;return i&&i.length&&DxChart.drawKey(this,t.keyData,t.colors),t.contextmenu&&DxChart.showContext(this),t.titleText&&DxChart.drawTitle(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),t.segmentHighlight&&DxChart.allowSegmentHighlight({object:this,count:"number"==typeof t.segmentHighlightCount?t.segmentHighlightCount:t.backgroundGridDiagonalsCount||(t.labels?t.labelsData.length:8),fill:t.segmentHighlightFill,stroke:t.segmentHighlightStroke}),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.drawBackground=function(){var t=this.properties;if("transparent"!=t.backgroundColor&&this.path("b a % % % % % false f %",this.centerx,this.centery,this.radius,0,2*Math.PI,t.backgroundColor),t.backgroundGrid){if(this.context.lineWidth=t.backgroundGridLineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),t.backgroundGridCircles){this.context.strokeStyle=t.backgroundGridColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.beginPath(),DxChart.isNull(t.backgroundGridCirclesCount)&&(t.backgroundGridCirclesCount=t.labelsAxesCount);for(var e=this.radius/t.backgroundGridCirclesCount,i=0,s=this.radius;i<=s;i+=e)this.context.moveTo(this.centerx+i,this.centery),this.context.arc(this.centerx,this.centery,i,0,DxChart.TWOPI,0);this.context.stroke()}if(t.backgroundGridRadials){this.context.strokeStyle=t.backgroundGridColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.beginPath();for(var a,o,r="number"==typeof t.backgroundGridRadialsCount?360/t.backgroundGridRadialsCount:t.labels&&t.labelsData.length?360/t.labelsData.length:45,i=0;i<360;i+=r)isNexacroRuntime?(o=i/(180/DxChart.PI)-DxChart.HALFPI,a=this.centerx+Math.cos(o)*this.radius,o=this.centery+Math.sin(o)*this.radius,this.context.moveTo(a,o)):this.context.arc(this.centerx,this.centery,this.radius,i/(180/DxChart.PI)-DxChart.HALFPI,(i+.01)/(180/DxChart.PI)-DxChart.HALFPI,0),this.context.lineTo(this.centerx,this.centery);this.context.stroke()}}this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.beginPath(),this.context.strokeStyle=t.axesColor,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.moveTo(this.centerx-this.radius,Math.round(this.centery)),this.context.lineTo(this.centerx+this.radius,Math.round(this.centery)),this.context.moveTo(Math.round(this.centerx-this.radius),this.centery-5),this.context.lineTo(Math.round(this.centerx-this.radius),this.centery+5),this.context.moveTo(Math.round(this.centerx+this.radius),this.centery-5),this.context.lineTo(Math.round(this.centerx+this.radius),this.centery+5);var n=t.labelsAxesCount;if(n){for(i=this.centerx-this.radius;i<this.centerx+this.radius;i+=this.radius/n)this.context.moveTo(Math.round(i),this.centery-3),this.context.lineTo(Math.round(i),this.centery+3);for(i=this.centery-this.radius;i<this.centery+this.radius;i+=this.radius/n)this.context.moveTo(this.centerx-3,Math.round(i)),this.context.lineTo(this.centerx+3,Math.round(i))}this.context.moveTo(Math.round(this.centerx),this.centery-this.radius),this.context.lineTo(Math.round(this.centerx),this.centery+this.radius),t.axesCaps&&(this.context.moveTo(this.centerx-5,Math.round(this.centery-this.radius)),this.context.lineTo(this.centerx+5,Math.round(this.centery-this.radius)),this.context.moveTo(this.centerx-5,Math.round(this.centery+this.radius)),this.context.lineTo(this.centerx+5,Math.round(this.centery+this.radius))),this.context.closePath(),this.context.stroke()},this.drawRscatter=function(){for(var t=this.properties,e=0;e<this.data.length;e+=1){for(var i=this.data[e],s=(this.coords2[e]=[],h=n=r=o=a=void 0,this),a=0;a<i.length;++a){var o=i[a][0],r=i[a][1],o=o/(180/DxChart.PI),r=(r-t.scaleMin)/(s.scale2.max-s.scale2.min)*s.radius,n=Math.sin(o)*r,o=Math.cos(o)*r,r=i[a][2]||t.colorsDefault,h=i[a][3]||null;h&&String(h).length&&(s.hasTooltips=!0),n+=s.centerx,o=s.centery-o,s.drawTick(n,o,r),s.coords.push([n,o,r,h]),s.coords2[e].push([n,o,r,h])}t.lineVisible&&this.drawLine(e)}},this.drawLine=function(t){var e=this.properties,i={dataset:t,coords:this.coords2[t],color:e.lineColors[t],shadow:e.lineShadowUse,shadowColor:e.lineShadowStyleObj.color,shadowOffsetX:e.lineShadowStyleObj.offsetx,shadowOffsetY:e.lineShadowStyleObj.offsety,shadowBlur:e.lineShadowStyleObj.blur,lineWidth:e.lineWidth};this.context.beginPath(),this.context.strokeStyle=this.parseSingleColorForGradient(i.color),isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth="object"==typeof e.lineWidth?e.lineWidth[t]:e.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.lineCap="round",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),i.shadow&&DxChart.setShadow(this,i.shadowColor,i.shadowOffsetX,i.shadowOffsetY,i.shadowBlur);for(var s=0;s<this.coords2[t].length;++s)0===s?(this.context.moveTo(this.coords2[t][s][0],this.coords2[t][s][1]),DxChart.arrayClone(this.coords2[t])):this.context.lineTo(this.coords2[t][s][0],this.coords2[t][s][1]);("boolean"==typeof e.lineClose&&e.lineClose||"object"==typeof e.lineClose&&e.lineClose[t])&&this.context.lineTo(this.coords2[t][0][0],this.coords2[t][0][1]),this.context.stroke(),DxChart.noShadow(this)},this.drawLabels=function(){for(var t=this.properties,e=(this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.fillStyle="black",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.strokeStyle="black",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),t.keyData,this.radius),i=t.axesColor,s=(t.textFontStyleObj.italic,t.textFontStyleObj.bold,t.textColor,t.textFontStyleObj.face),a=t.textFontStyleObj.size,o=t.labelsAxes.toLowerCase(),r=(t.scaleUnitsPre,t.scaleUnitsPost,t.scaleDecimals,this.centerx),n=this.centery,h=(this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),"object"==typeof t.labelsData&&t.labelsData&&this.drawCircularLabels(this.context,t.labelsData,s,a,e),10),l=!1,c=("rgba(0,0,0,0)"!==i&&"rgb(0,0,0)"!==i&&"transparent"!==i||(l=!(h=0)),DxChart.getTextInfo({object:this,prefix:"labelsAxes"})),x=0,d=this.scale2.labels.length;x<d;++x)-1<o.indexOf("n")&&DxChart.text({object:this,tag:"scale",font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:r-h+t.labelsAxesOffsetX,y:n-e*((x+1)/d)+t.labelsAxesOffsetY,text:this.scale2.labels[x],valign:"center",halign:l?"center":"right",bounding:!0,boundingFill:t.labelsAxesBackground,boundingStroke:"rgba(0,0,0,0)"}),-1<o.indexOf("s")&&DxChart.text({object:this,tag:"scale",font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:r-h+t.labelsAxesOffsetX,y:n+e*((x+1)/d)+t.labelsAxesOffsetY,text:this.scale2.labels[x],valign:"center",halign:l?"center":"right",bounding:!0,boundingFill:t.labelsAxesBackground,boundingStroke:"rgba(0,0,0,0)"}),-1<o.indexOf("e")&&DxChart.text({object:this,tag:"scale",font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:r+e*((x+1)/d)+t.labelsAxesOffsetX,y:n+h+t.labelsAxesOffsetY,text:this.scale2.labels[x],valign:l?"center":"top",halign:"center",bounding:!0,boundingFill:t.labelsAxesBackground,boundingStroke:"rgba(0,0,0,0)"}),-1<o.indexOf("w")&&DxChart.text({object:this,tag:"scale",font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:r-e*((x+1)/d)+t.labelsAxesOffsetX,y:n+h+t.labelsAxesOffsetY,text:this.scale2.labels[x],valign:l?"center":"top",halign:"center",bounding:!0,boundingFill:t.labelsAxesBackground,boundingStroke:"rgba(0,0,0,0)"});0<t.labelsAxes.length&&t.scaleZerostart&&DxChart.text({object:this,font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:r+t.labelsAxesOffsetX,y:n+t.labelsAxesOffsetY,text:DxChart.numberFormat({object:this,number:Number(this.scale2.min).toFixed(this.scale2.decimals),unitspre:this.scale2.units_pre,unitspost:this.scale2.units_post}),valign:"center",halign:"center",bounding:!0,boundingFill:t.labelsAxesBackground,boundingStroke:"rgba(0,0,0,0)",tag:"scale"})},this.drawCircularLabels=function(t,e,i,s,a){for(var o=this.properties,a=a+o.labelsOffsetRadius+25,r=(o.labelsColor,0);r<e.length;++r){var n=360/e.length*(r+1)-360/(2*e.length)-90+("edge"==o.labelsPosition?360/e.length/2:0),h=Math.cos(n/(180/DxChart.PI))*a,n=Math.sin(n/(180/DxChart.PI))*a,l=DxChart.getTextInfo({object:this,prefix:"labels"});DxChart.text({object:this,font:l.font,size:l.size,color:l.color,bold:l.bold,italic:l.italic,x:this.centerx+h,y:this.centery+n,text:String(e[r]),valign:"center",halign:this.centerx+h>this.centerx?"left":"right",tag:"labels",cssClass:DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:r})})}},this.drawTick=function(t,e,i){var s=this.properties,a=s.tickmarksStyle,o=s.tickmarksSize,i=(this.context.strokeStyle=i,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=i,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.lineWidth);this.context.lineWidth=s.lineScatterWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),"cross"==a?(this.context.beginPath(),this.context.moveTo(t+o,e+o),this.context.lineTo(t-o,e-o),this.context.stroke(),this.context.beginPath(),this.context.moveTo(t-o,e+o),this.context.lineTo(t+o,e-o),this.context.stroke()):"circle"==a?(this.context.beginPath(),this.context.arc(t,e,o,0,6.283,!1),this.context.fill()):"square"==a?(this.context.beginPath(),this.context.fillRect(t-o,e-o,2*o,2*o),this.context.fill()):"diamond"==a?(this.context.beginPath(),this.context.moveTo(t,e-o),this.context.lineTo(t+o,e),this.context.lineTo(t,e+o),this.context.lineTo(t-o,e),this.context.closePath(),this.context.fill()):"plus"==a&&(this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.beginPath(),this.context.moveTo(t,e-o),this.context.lineTo(t,e+o),this.context.moveTo(t-o,e),this.context.lineTo(t+o,e),this.context.stroke()),this.context.lineWidth=i,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)},this.getShape=function(t){for(var e=this.properties,t=DxChart.getMouseXY(t),i=t[0],s=t[1],a=e.tooltipsHotspotSize,o=0,r=this.coords.length;o<r;++o){var n=this.coords[o][0],h=this.coords[o][1],l=this.coords[o][3];if(i<n+a&&n-a<i&&s<h+a&&h-a<s)return DxChart.parseTooltipText&&(l=DxChart.parseTooltipText(e.tooltipsData,o)),{object:this,x:n,y:h,dataset:(n=DxChart.sequentialIndexToGrouped(o,this.data))[0],index:n[1],sequentialIndex:o,tooltip:"string"==typeof l?l:null}}},this.allowTooltips=function(){this.properties;DxChart.preLoadTooltipImages(this),DxChart.installWindowMousedownTooltipListener(this),DxChart.installCanvasMousemoveTooltipListener(this),DxChart.installCanvasMouseupTooltipListener(this)},this.highlight=function(t){var e=this.properties;"function"==typeof e.highlightStyle?e.highlightStyle(t):"invert"===e.highlightStyle?(this.path("b a % % % -1 6.29 false",this.centerx,this.centery,this.radius),this.path("a % % % 0 6.29 true c s rgba(0,0,0,0) f %",t.x,t.y,25,e.highlightFill),this.path("b a % % % 0 6.29 false s %",t.x,t.y,25,e.highlightStroke)):DxChart.Highlight.point(this,t)},this.getObjectByXY=function(t){var t=DxChart.getMouseXY(t),e=t[0],t=t[1],i=this.centerx,s=this.centery,a=this.radius;if(i-a<e&&e<i+a&&s-a<t&&t<s+a)return this},this.getRadius=function(t){var e=this.max;return t<0||e<t?null:t/e*this.radius},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.data=DxChart.arrayClone(this.data),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill),this.original_colors.colorsDefault=DxChart.arrayClone(t.colorsDefault),this.original_colors.backgroundGridColor=DxChart.arrayClone(t.backgroundGridColor),this.original_colors.backgroundColor=DxChart.arrayClone(t.backgroundColor),this.original_colors.segmentHighlightStroke=DxChart.arrayClone(t.segmentHighlightStroke),this.original_colors.segmentHighlightFill=DxChart.arrayClone(t.segmentHighlightFill));for(var e=0;e<this.data.length;e+=1)for(var i=0,s=this.data[e].length;i<s;i+=1)this.data[e][i][2]=this.parseSingleColorForGradient(this.data[e][i][2]);t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill),t.colorsDefault=this.parseSingleColorForGradient(t.colorsDefault),t.backgroundGridColor=this.parseSingleColorForGradient(t.backgroundGridColor),t.backgroundColor=this.parseSingleColorForGradient(t.backgroundColor),t.segmentHighlightStroke=this.parseSingleColorForGradient(t.segmentHighlightStroke),t.segmentHighlightFill=this.parseSingleColorForGradient(t.segmentHighlightFill)},this.reset=function(){},this.parseSingleColorForGradient=function(t){if(!t||"string"!=typeof t)return t;if(t.match(/^gradient\((.*)\)$/i)){if(t.match(/^gradient\(({.*})\)$/i))return DxChart.parseJSONGradient({object:this,def:RegExp.$1});var e=RegExp.$1.split(":"),i=this.context.createRadialGradient(this.centerx,this.centery,0,this.centerx,this.centery,this.radius),s=1/(e.length-1);i.addColorStop(0,DxChart.trim(e[0]));for(var a=1;a<e.length;++a)i.addColorStop(a*s,DxChart.trim(e[a]))}return i||t},this.interactiveKeyHighlight=function(t){var s=this.properties,a=this;this.coords2&&this.coords2[t]&&this.coords2[t].length&&this.coords2[t].forEach(function(t,e,i){a.context.beginPath(),a.context.fillStyle=s.keyInteractiveHighlightChartFill,isNexacroRuntime&&a.context.setElementFillStyle(a.context.fillStyle),a.context.arc(t[0],t[1],s.tickmarksSize+2,0,DxChart.TWOPI,!1),a.context.fill()})},this.resetColorsToOriginalValues=function(){for(var t=0,e=this.original_colors.data.length;t<e;++t)for(var i=0,s=this.original_colors.data[t].length;i<s;++i)this.data[t][i][2]=DxChart.arrayClone(this.original_colors.data[t][i][2])},this.firstDrawFunc=function(){},this.explode=function(){var s=this,a=arguments[2],o=(arguments[0]||{}).frames||15,r=0,a=arguments[1]||function(){},n=1/o,h=DxChart.clone(this.data);return this.draw(),this.set("scaleMax",this.scale2.max),function t(){DxChart.clear(s.canvas);for(var e=0;e<s.data.length;++e)for(var i=0;i<s.data[e].length;++i)s.data[e][i][1]=h[e][i][1]*n*r;DxChart.redrawCanvas(s.canvas),r++<o?DxChart.Effects.updateCanvas(t):(DxChart.redrawCanvas(s.canvas),a(s))}(),this},this.populateTooltips=function(){for(var t=this.properties,e=0;e<this.data.length;++e)for(var i=0;i<this.data[e].length;++i)this.data[e][i][3]=t.tooltipsData},this.tooltipSubstitutions=function(t){var e=DxChart.sequentialIndexToGrouped(t.index,this.data);return{index:e[1],dataset:e[0],sequentialIndex:t.index,value:this.data[e[0]][e[1]][1],values:[this.data[e[0]][e[1]][1]]}},this.tooltipsFormattedCustom=function(t,e){var i=this.properties,s=this.data[t.dataset][t.index][2]||i.colorsDefault;return DxChart.isNull(i.tooltipsFormattedKeyColors)||"object"!=typeof i.tooltipsFormattedKeyColors||"string"!=typeof i.tooltipsFormattedKeyColors[t.dataset]||(s=i.tooltipsFormattedKeyColors[t.dataset]),{label:DxChart.isNull(i.tooltipsFormattedKeyLabels)||"object"!=typeof i.tooltipsFormattedKeyLabels||"string"!=typeof i.tooltipsFormattedKeyLabels[t.dataset]?"":i.tooltipsFormattedKeyLabels[t.dataset],color:s}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas)),a=this.coords[t.index];isNexacroRuntime?(t.tooltip.set_left(s[0]+a[0]-i.getOffsetWidth()/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]+a[1]-i.getOffsetHeight()-15+e.properties.tooltipsOffsetY)):(t.tooltip.style.left=s[0]+a[0]-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]+a[1]-i.offsetHeight-15+e.properties.tooltipsOffsetY+"px")},this.resetData(t.data),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartScatter(t){return DxChart._Base.call(this,t,"scatter"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"xaxis"),DxChart.setDefaultProperties(this,"yaxis"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"crosshairs"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"trendLine"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"bubble"),DxChart.setDefaultProperties(this,"default"),this.properties.tickmarksStyle="cross",this.properties.tickmarksSize=5,this.properties.lineVisible=!0,this.properties.lineLinkVisible=!1,this.properties.tooltipsData=[],this.properties.tooltipsHotspot=3,this.properties.xaxisUse=!0,this.properties.yaxisUse=!0,this.properties.crosshairsCoordsFadeout=!0,this.properties.lineColors=["green","red","blue","orange","pink","brown","black","gray"],this.properties.trendLineColors=["gray"],this.properties.trendLineWidth=1,this.properties.trendLineMargin=15,this.properties.trendLineDashed=!0,this.properties.trendLineDotted=!1,this.properties.trendLineDashArray=null,this.properties.trendLineClipping=null,this.properties.keyInteractiveHighlightChartFill="rgba(255,0,0,0.6)",this.properties.keyInteractiveHighlightLabel="rgba(255,0,0,0.2)",this.properties.keyColorShape="square",this.properties.keyRounded=!0,t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(i){this.binddataset&&(i=DxChart.parseDataset(this,i)),this.data=new Array(i.length),this.data=DxChart.arrayClone(i);for(let e=0;e<this.data.length;++e)if(DxChart.isObject(i[e])&&(DxChart.isNumber(this.data[e].x)||DxChart.isString(this.data[e].x))&&(DxChart.isNumber(this.data[e].y)||DxChart.isString(this.data[e].y)))i[e]=[i[e].x,i[e].y,i[e].color||void 0,"string"==typeof i[e].tooltip?i[e].tooltip:void 0];else if(DxChart.isArray(i[e]))for(let t=0;t<i[e].length;++t)DxChart.isObject(i[e][t])&&(i[e][t]=[i[e][t].x,i[e][t].y,i[e][t].color||void 0,"string"==typeof i[e][t].tooltip?i[e][t].tooltip:void 0]);var t;"object"!=typeof i||"object"!=typeof i[0]||"number"!=typeof i[0][0]&&"string"!=typeof i[0][0]||(t=DxChart.arrayClone(i),(i=new Array)[0]=DxChart.arrayClone(t)),this.data=DxChart.arrayClone(i);for(var e=0,s=this.data.length;e<s;++e)for(var a=0,o=this.data[e].length;a<o;++a)"object"!=typeof this.data[e][a]||DxChart.isNull(this.data[e][a])||"string"!=typeof this.data[e][a][0]||(this.data[e][a][0].match(/^[.0-9]+$/)?this.data[e][a][0]=parseFloat(this.data[e][a][0]):""===this.data[e][a][0]&&(this.data[e][a][0]=0)),"object"!=typeof this.data[e][a]||DxChart.isNull(this.data[e][a])||"string"!=typeof this.data[e][a][1]||(this.data[e][a][1].match(/[.0-9]+/)?this.data[e][a][1]=parseFloat(this.data[e][a][1]):""===this.data[e][a][1]&&(this.data[e][a][1]=0));this.unmodified_data=DxChart.arrayClone(this.data),this.max=0,this.coordsBubble=[],this.coords_trendLine=[];for(e=0;e<this.data.length;++e)for(a=0;a<this.data[e].length;++a)DxChart.isNull(this.data[e][a])&&(this.data[e][a]=[]),this.data[e][a]&&"string"==typeof this.data[e][a][0]&&(this.data[e][a][0]=DxChart.parseDate(this.data[e][a][0]));this.data_arr=[];for(e=0;e<this.data.length;++e)for(a=0;a<this.data[e].length;++a)this.data_arr.push(this.data[e][a]);for(e=0;e<this.data_arr.length;++e)this["$"+e]={}},this.draw=function(){if(!this.data||0==this.data.length)return DxChart.NoDataShow(this);var t=this.properties;if(DxChart._BeforeDraw(this),"string"==typeof t.backgroundImage&&DxChart.drawBackgroundImage(this),DxChart._fireEvent(this,"onbeforedraw"),this.canvas.__initTranslated__||(this.context.translate(.5,.5),this.canvas.__initTranslated__=!0),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.coordsText=[],t.xaxisLabels&&t.xaxisLabels.length){"string"==typeof t.xaxisLabels&&(t.xaxisLabels=DxChart.arrayPad({array:[],length:t.xaxisLabelsCount,value:t.xaxisLabels}));for(var e,i=0;i<t.xaxisLabels.length;++i)e="object"==typeof t.xaxisLabels[i]&&2===t.xaxisLabels[i].length?t.xaxisLabels[i][0]:t.xaxisLabels[i],e=DxChart.labelSubstitution({object:this,text:e,index:i,value:this.data[0][i],decimals:t.xaxisLabelsFormattedDecimals||0,unitsPre:t.xaxisLabelsFormattedUnitsPre||"",unitsPost:t.xaxisLabelsFormattedUnitsPost||"",thousand:t.xaxisLabelsFormattedThousand||",",point:t.xaxisLabelsFormattedPoint||"."}),"object"==typeof t.xaxisLabels[i]&&2===t.xaxisLabels[i].length?t.xaxisLabels[i][0]=e:t.xaxisLabels[i]=e}this.hasTooltips=!1;this.coords=[],"string"==typeof t.xaxisScaleMin&&(t.xaxisScaleMin=DxChart.parseDate(t.xaxisScaleMin)),"string"==typeof t.xaxisScaleMax&&(t.xaxisScaleMax=DxChart.parseDate(t.xaxisScaleMax)),this.set("tooltipsData",[]);for(var i=0,s=this.data.length;i<s;i+=1)for(var a=0,o=this.data[i].length;a<o;a+=1)this.data[i][a]&&this.data[i][a][3]?(t.tooltipsData.push(this.data[i][a][3]),this.hasTooltips=!0):t.tooltipsData.push(null);if(this.max=0,"number"==typeof t.yaxisScaleMax){this.max=t.yaxisScaleMax,this.min=t.yaxisScaleMin||0,this.scale2=DxChart.getScale({object:this,options:{"scale.max":this.max,"scale.min":this.min,"scale.strict":!0,"scale.thousand":t.yaxisScaleThousand,"scale.point":t.yaxisScalePoint,"scale.decimals":t.yaxisScaleDecimals,"scale.labels.count":t.yaxisLabelsCount,"scale.round":t.yaxisScaleRound,"scale.units.pre":t.yaxisScaleUnitsPre,"scale.units.post":t.yaxisScaleUnitsPost}}),this.max=this.scale2.max,this.min=this.scale2.min;t.yaxisScaleDecimals}else{for(i=0,a=0,i=0,s=this.data.length;i<s;i+=1)for(a=0,o=this.data[i].length;a<o;a+=1)DxChart.isNull(this.data[i][a])||null==this.data[i][a][1]||(this.max=Math.max(this.max,"object"==typeof this.data[i][a][1]?DxChart.arrayMax(this.data[i][a][1]):Math.abs(this.data[i][a][1])));this.min=t.yaxisScaleMin||0,this.scale2=DxChart.getScale({object:this,options:{"scale.max":this.max,"scale.min":this.min,"scale.thousand":t.yaxisScaleThousand,"scale.point":t.yaxisScalePoint,"scale.decimals":t.yaxisScaleDecimals,"scale.labels.count":t.yaxisLabelsCount,"scale.round":t.yaxisScaleRound,"scale.units.pre":t.yaxisScaleUnitsPre,"scale.units.post":t.yaxisScaleUnitsPost}}),this.max=this.scale2.max,this.min=this.scale2.min}if(this.chartArea=this.canvas.height-this.marginTop-this.marginBottom,DxChart.Background.draw(this),t.backgroundHbars&&t.backgroundHbars.length&&DxChart.drawBars(this),t.backgroundVbars&&t.backgroundVbars.length&&this.drawVBars(),t.xaxisScaleMax)r=t.xaxisScaleMax,n=t.xaxisScaleMin;else for(var r=0,n=t.xaxisScaleMin,h=0,s=this.data.length;h<s;h+=1)for(var l=0,o=this.data[h].length;l<o;l+=1)r=Math.max(r,this.data[h][l][0]);t.xaxisScale&&(this.xscale2=DxChart.getScale({object:this,options:{"scale.max":r,"scale.min":n,"scale.decimals":t.xaxisScaleDecimals,"scale.point":t.xaxisScalePoint,"scale.thousand":t.xaxisScaleThousand,"scale.units.pre":t.xaxisScaleUnitsPre,"scale.units.post":t.xaxisScaleUnitsPost,"scale.labels.count":t.xaxisLabelsCount,"scale.strict":!0}}),this.set("xaxisScaleMax",this.xscale2.max)),this.drawAxes(),this.drawLabels(),t.animationTrace&&(this.context.save(),this.context.beginPath(),this.context.rect(0,0,this.canvas.width*t.animationTraceClip,this.canvas.height),this.context.clip());for(i=0;i<this.data.length;++i)this.drawMarks(i),DxChart.isArray(t.bubbleData)&&this.drawBubble(i),t.lineShadowUse&&(this.context.shadowColor=t.lineShadowStyleObj.color,this.context.shadowOffsetX=t.lineShadowStyleObj.offsetx,this.context.shadowOffsetY=t.lineShadowStyleObj.offsety,this.context.shadowBlur=t.lineShadowStyleObj.blur,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime)&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY),this.drawLine(i),DxChart.noShadow(this);if(t.lineVisible)for(i=0,s=this.data.length;i<s;i+=1)this.drawMarks(i);if(t.animationTrace&&this.context.restore(),t.trendLineValue)for(i=0;i<this.data.length;++i)(!0===t.trendLineValue||"object"==typeof t.trendLineValue&&!0===t.trendLineValue[i])&&this.drawTrendline(i);return t.contextmenu&&DxChart.showContext(this),t.keyData&&t.keyData.length&&DxChart.drawKey(this,t.keyData,t.lineColors),t.labelsAbove&&this.drawAboveLabels(),this.drawInGraphLabels(this),DxChart.addCustomText(this),DxChart.drawHorizontalLines(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw")),DxChart._fireEvent(this,"onenddraw"),this},this.drawAxes=function(){DxChart.drawXAxis(this),DxChart.drawYAxis(this),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)},this.drawLabels=function(){},this.drawMarks=function(t){for(var e=this.properties,i=(this.coords[t]=[],e.xaxisScaleMax),s=e.colorsDefault,a=0,o=this.data[t].length;a<o;a+=1){var r,n,h,l,c=this.data[t];DxChart.isNull(c[a])||(r=c[a][0],n=c[a][1],h=c[a][2]||s,l=c[a]&&c[a][3]?c[a][3]:null,this.drawMark(t,r,n,i,this.scale2.max,h,l,this.coords[t],c,a))}},this.drawMark=function(t,e,i,s,a,o,r,n,h,l){var c,x,d,u,g,p,f,m,b,C,y,D,v,S,k=this.properties,w=k.tickmarksStyle,_=k.tickmarksSize,T=k.xaxisScaleMin;e=(e-T)/(s-T)*(this.canvas.width-this.marginLeft-this.marginRight);w&&"object"==typeof w&&(w=w[t]),T="object"==typeof _?(_=_[t])/2:_/2,i&&"object"==typeof i&&"number"==typeof i[0]&&"number"==typeof i[1]&&"number"==typeof i[2]&&"number"==typeof i[3]&&"string"==typeof i[4]&&"string"==typeof i[5]&&(this.set("boxplotStock",!0),x=i[1],d=i[2],u=i[3],g=i[4],b=i[5],C=i[6],y=i[7],d<x?(i[1]=d,i[2]=x,i[3]=x,i[4]=u,i[5]=b,i[6]=g):(i[1]=x,i[2]=d,i[3]=d,i[4]=u,i[5]=g,i[6]=b),C&&(i[7]=C),y)&&(i[8]=y),i&&"object"==typeof i&&"number"==typeof i[0]&&"number"==typeof i[1]&&"number"==typeof i[2]&&"number"==typeof i[3]&&"number"==typeof i[4]?(this.set("boxplot",!0),c=this.getYCoord(i[0],k.outofbounds),x=this.getYCoord(i[1],k.outofbounds),d=this.getYCoord(i[2],k.outofbounds),u=this.getYCoord(i[3],k.outofbounds),g=this.getYCoord(i[4],k.outofbounds),D=i[5],v=i[6],f="number"==typeof i[7]?i[7]:k.boxplotWidth):p=this.getYCoord(i,k.outofbounds),e+=this.marginLeft,this.context.beginPath(),this.context.strokeStyle=o,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),k.boxplot&&(m=(f=f/k.xaxisScaleMax*(this.canvas.width-this.marginLeft-this.marginRight))/2,k.lineVisible)&&(this.context.beginPath(),"string"==typeof i[8]&&(this.context.strokeStyle=i[8],isNexacroRuntime)&&this.context.setElementStrokeStyle(this.context.strokeStyle),k.boxplotStock||(this.context.strokeRect(e-m,x,f,u-x),D&&(this.context.fillStyle=D,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.fillRect(e-m,x,f,d-x)),v&&(this.context.fillStyle=v,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.fillRect(e-m,d,f,u-d)),this.context.stroke()),this.context.beginPath(),k.boxplotCapped&&(this.context.moveTo(e-m,Math.round(c)),this.context.lineTo(e+m,Math.round(c))),this.context.moveTo(Math.round(e),c),this.context.lineTo(Math.round(e),x),k.boxplotCapped&&(this.context.moveTo(e-m,Math.round(g)),this.context.lineTo(e+m,Math.round(g))),this.context.moveTo(Math.round(e),g),this.context.lineTo(Math.round(e),u),this.context.stroke(),k.boxplotStock)&&("string"==typeof i[8]&&(this.context.strokeStyle=i[8],isNexacroRuntime)&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.strokeRect(e-m,x,f,u-x),D&&(this.context.fillStyle=D,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.fillRect(e-m,x,f,d-x)),v&&(this.context.fillStyle=v,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.fillRect(e-m,d,f,u-d)),this.context.stroke()),!k.lineVisible||"number"!=typeof i||c||x||d||u||g||("circle"==w?(this.context.arc(e,p,T,0,6.28,0),this.context.fillStyle=o,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.fill()):"plus"==w?(this.context.moveTo(e,p-T),this.context.lineTo(e,p+T),this.context.moveTo(e-T,p),this.context.lineTo(e+T,p),this.context.stroke()):"square"==w?(this.context.strokeStyle=o,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=o,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.fillRect(e-T,p-T,_,_)):"cross"==w?(this.context.moveTo(e-T,p-T),this.context.lineTo(e+T,p+T),this.context.moveTo(e+T,p-T),this.context.lineTo(e-T,p+T),this.context.stroke()):"diamond"==w?(this.context.fillStyle=this.context.strokeStyle,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.moveTo(e,p-T),this.context.lineTo(e+T,p),this.context.lineTo(e,p+T),this.context.lineTo(e-T,p),this.context.lineTo(e,p-T),this.context.fill(),this.context.stroke()):"function"==typeof w?(b=this.canvas.width-this.marginLeft-this.marginRight,C=this.canvas.height-this.marginTop-this.marginBottom,y=(e-this.marginLeft)/b*s,D=(C-(p-this.marginTop))/C*a,w(this,h,e,p,y,D,s,a,o,t,l)):"string"!=typeof w||"image:"!==w.substr(0,6)&&"data:"!==w.substr(0,5)&&"/"!==w.substr(0,1)&&"../"!==w.substr(0,3)&&"images/"!==w.substr(0,7)?null!==w&&alert("[SCATTER] ("+this.id+") Unknown tickmark style: "+w):(v=new Image,"image:"===w.substr(0,6)?v.src=w.substr(6):v.src=w,S=this,v.onload=function(){"center"===k.tickmarksStyleImageHalign&&(e-=this.width/2),"right"===k.tickmarksStyleImageHalign&&(e-=this.width),"center"===k.tickmarksStyleImageValign&&(p-=this.height/2),"bottom"===k.tickmarksStyleImageValign&&(p-=this.height),e+=k.tickmarksStyleImageOffsetX,p+=k.tickmarksStyleImageOffsetY,S.context.drawImage(this,e,p)})),k.boxplot&&"number"==typeof c&&"number"==typeof x&&"number"==typeof d&&"number"==typeof u&&"number"==typeof g&&(e=[e-m,e+m],p=[c,x,d,u,g]),n.push([e,p,r])},this.drawLine=function(t){var e=this.properties;if("boolean"!=typeof e.lineLinkVisible||0!=e.lineLinkVisible){if(e.lineLinkVisible&&2<=this.coords[t].length){e.lineDash&&(isNexacroRuntime?this.context.setElementLineStyle("dash"):this.context.setLineDash(e.lineDash)),this.context.lineCap="round",isNexacroRuntime&&this.context.setElementLineCap(this.context.lineCap),this.context.lineJoin="round",isNexacroRuntime&&this.context.setElementLineJoin(this.context.lineJoin),this.context.lineWidth=this.getLineWidth(t),isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=e.lineColors[t],isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.beginPath();for(var i=null,s=0,a=this.coords[t].length;s<a;s+=1){var o,r=this.coords[t][s][0],n=this.coords[t][s][1];0<s&&(i=this.coords[t][s-1][1]),o=n,0==s||DxChart.isNull(i)||DxChart.isNull(o)?this.context.moveTo(r,n):(("boolean"==typeof(o=e.lineStepped)&&o||"object"==typeof o&&o[t])&&this.context.lineTo(this.coords[t][s][0],this.coords[t][s-1][1]),this.context.lineTo(r,n))}this.context.stroke(),e.lineDash&&(isNexacroRuntime?this.context.setElementLineStyle("dash"):this.context.setLineDash([1,0]))}this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)}},this.getLineWidth=function(t){var e=this.properties.lineWidth;return"number"==typeof e?e:"object"==typeof e?e[t]||e[0]:void 0},this.drawVBars=function(){var t=this.properties,e=t.backgroundVbars,i=this.canvas.width-this.marginLeft-this.marginRight;if(e)for(var s=t.xaxisScaleMax,a=t.xaxisScaleMin,o=0,r=e.length;o<r;o+=1){var n=e[o],h=("string"==typeof n[0]&&(n[0]=DxChart.parseDate(n[0])),"string"==typeof n[1]&&(n[1]=DxChart.parseDate(n[1])-n[0]),(n[0]-a)/(s-a)*i+this.marginLeft),l=n[1]/(s-a)*i;this.context.fillStyle=n[2],isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.fillRect(h,this.marginTop,l,this.canvas.height-this.marginTop-this.marginBottom)}},this.drawInGraphLabels=function(t){var e=this.properties,i=t.get("labelsIngraph"),s=[];if(i){for(var a=DxChart.getTextInfo({object:this,prefix:"labelsIngraph"}),o=0,r=i.length;o<r;o+=1)if("number"==typeof i[o])for(var n=0;n<i[o];++n)s.push(null);else"string"==typeof i[o]||"object"==typeof i[o]?s.push(i[o]):s.push("");if(DxChart.noShadow(t),s&&0<s.length)for(var o=0,h=0;h<t.coords.length;++h)for(var l,c,x,d,u,g=0;g<t.coords[h].length;++g)s[o]&&(l=t.coords[h][g][0]+e.labelsIngraphOffsetX,u=(c=t.coords[h][g][1]+e.labelsIngraphOffsetY)-5-(x="number"==typeof s[o][4]?s[o][4]:25),this.context.moveTo(d=l,c-5),this.context.lineTo(l,c-5-x),this.context.stroke(),this.context.beginPath(),this.context.moveTo(l,c-5),this.context.lineTo(l-3,c-10),this.context.lineTo(l+3,c-10),this.context.closePath(),this.context.beginPath(),this.context.fillStyle="object"==typeof s[o]&&"string"==typeof s[o][1]?s[o][1]:"black",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),DxChart.text({object:this,font:a.font,size:a.size,color:a.color,bold:a.bold,italic:a.italic,x:d,y:u,text:"object"==typeof s[o]&&"string"==typeof s[o][0]?s[o][0]:s[o],valign:"bottom",halign:"center",bounding:!0,boundingFill:"object"==typeof s[o]&&"string"==typeof s[o][2]?s[o][2]:"white",tag:"labels.ingraph"}),this.context.fill()),o++}},this.getShape=function(t){for(var e=this.properties,t=DxChart.getMouseXY(t),i=t[0],s=t[1],a=e.tooltipsHotspot,o=0,r=this.coords.length;o<r;++o)for(var n=0,h=this.coords[o].length;n<h;++n){var l=this.coords[o][n][0],c=this.coords[o][n][1],x=this.data[o][n][3];if("number"==typeof c){if(i<=l+a&&l-a<=i&&s<=c+a&&c-a<=s){DxChart.parseTooltipText&&(x=DxChart.parseTooltipText(this.data[o][n][3],0));for(var d=n,u=o-1;0<=u;--u)d+=this.data[u].length;return{object:this,x:l,y:c,tooltip:"string"==typeof x?x:null,dataset:o,index:n,sequentialIndex:d}}}else if(!DxChart.isNull(c)){var g=this.data[o][n];e.boxplotWidth;if("number"==typeof g[1][7]&&g[1][7],"object"==typeof l&&i>l[0]&&i<l[1]&&s>c[1]&&s<c[3]){for(x=DxChart.parseTooltipText(this.data[o][n][3],0),d=n,u=o-1;0<=u;--u)d+=this.data[u].length;return{object:this,x:l[0],y:c[3],width:Math.abs(l[1]-l[0]),height:Math.abs(c[1]-c[3]),dataset:o,index:n,sequentialIndex:d,tooltip:x}}}}},this.drawAboveLabels=function(){for(var t=this.properties,e=t.labelsAboveFontStyleObj.size,i=(t.textFontStyleObj.face,t.yaxisScaleUnitsPre,t.yaxisScaleUnitsPost,DxChart.getTextInfo({object:this,prefix:"labelsAbove"})),s=0,a=this.coords.length;s<a;++s)for(var o=0,r=this.coords[s].length;o<r;++o){var n=this.data[s][o][0],h=this.data[s][o][1];if(!DxChart.isNull(h)){if(DxChart.isArray(h)){for(var l=0,c=0;c<h;++c)l=Math.max(l,h[c]);h=l}var x=this.coords[s][o][0],d=this.coords[s][o][1],u=t.labelsAboveFormatterX,g=t.labelsAboveFormatterY;DxChart.text({object:this,font:i.font,size:i.size,color:i.color,bold:i.bold,italic:i.italic,x:x+t.labelsAboveOffsetX,y:d-5-e+t.labelsAboveOffsetY,text:("function"==typeof u?u(this,n):n.toFixed(t.labelsAboveDecimals))+", "+("function"==typeof g?g(this,h):h.toFixed(t.labelsAboveDecimals)),valign:"bottom",halign:"center",bounding:!0,boundingFill:"rgba(255, 255, 255, 0.7)",boundingStroke:"rgba(0,0,0,0.1)",tag:"labels.above"})}}},this.getYValue=function(t){var e,i,s=this.properties;return(t=(2==t.length?(e=t[0],t):(e=(t=DxChart.getMouseXY(t))[0],t))[1])<this.marginTop||t>this.canvas.height-this.marginBottom||e<this.marginLeft||e>this.canvas.width-this.marginRight?null:("center"==s.xaxisPosition?(i=(this.chartArea/2-(t-this.marginTop))/this.chartArea*(this.max-this.min),0<=(i*=2)?(i+=this.min,s.yaxisScaleInvert&&(i-=this.min,i=this.max-i)):(i-=this.min,s.yaxisScaleInvert&&(i+=this.min,i=this.max+i,i*=-1))):(i=(this.chartArea-(t-this.marginTop))/this.chartArea*(this.max-this.min),i+=this.min,s.yaxisScaleInvert&&(i-=this.min,i=this.max-i)),i)},this.getXValue=function(t){var e,i=this.properties;return(t=(2==t.length?(e=t[0],t):(e=(t=DxChart.getMouseXY(t))[0],t))[1])<this.marginTop||t>this.canvas.height-this.marginBottom||e<this.marginLeft||e>this.canvas.width-this.marginRight?null:(t=this.canvas.width-this.marginLeft-this.marginRight,(e-this.marginLeft)/t*(i.xaxisScaleMax-i.xaxisScaleMin)+i.xaxisScaleMin)},this.highlight=function(t){var e,i=this.properties;"function"==typeof i.highlightStyle?i.highlightStyle(t):"invert"===i.highlightStyle?(e=i.tickmarksSize,this.path("sa b r % % % % cl",i.marginLeft-e,i.marginTop-e,this.canvas.width-i.marginLeft-i.marginRight+e+e,this.canvas.height-i.marginTop-i.marginBottom+e+e),this.path("b m % % a % % 25 4.71 4.72 true l % % l % % l % % l % % l % % c f %",t.x,i.marginTop,t.x,t.y,t.x,0,this.canvas.width,0,this.canvas.width,this.canvas.height,0,this.canvas.height,0,0,i.highlightFill),this.path("b a % % 25 0 6.29 false s % rs",t.x,t.y,i.highlightStroke)):t.height?DxChart.Highlight.rect(this,t):DxChart.Highlight.point(this,t)},this.getObjectByXY=function(t){t=DxChart.getMouseXY(t);if(t[0]>this.marginLeft-3&&t[0]<this.canvas.width-this.marginRight+3&&t[1]>this.marginTop-3&&t[1]<this.canvas.height-this.marginBottom+3)return this},this.getXCoord=function(t){var e=this.properties;if("number"!=typeof t&&"string"!=typeof t)return null;"string"==typeof t&&(t=DxChart.parseDate(t));var i,s=e.xaxisScaleMin,a=e.xaxisScaleMax;return t<s||a<t?null:("right"==e.yaxisPosition?(i=(t-s)/(a-s)*(this.canvas.width-this.marginLeft-this.marginRight),i=this.canvas.width-this.marginRight-i):(i=(t-s)/(a-s)*(this.canvas.width-this.marginLeft-this.marginRight),i+=this.marginLeft),i)},this.getYCoord=function(t){var e,i,s,a,o,r,n,h=this.properties,l=arguments[1];return"number"!=typeof t||(e=h.yaxisScaleInvert,i=h.xaxisPosition,a=(s=this.canvas.height-this.marginTop-this.marginBottom)/2,o=this.max,r=h.yaxisScaleMin,n=0,o<t&&!l)||"bottom"===h.xaxisPosition&&t<r&&!l||"center"===h.xaxisPosition&&(0<t&&t<r||t<0&&-1*r<t)?null:("center"==i?(n=(Math.abs(t)-r)/(o-r)*a,e&&(n=a-n),t<0?n=n+this.marginTop+a:(n=a-n,n+=this.marginTop)):(n=(t-r)/(o-r)*s,n=this.marginTop+(n=s-(n=e?s-n:n))),n)},this.drawBubble=function(t){var e=this.properties,i=DxChart.isArray(e.bubbleData)&&DxChart.isArray(e.bubbleData[t])?e.bubbleData[t]:e.bubbleData,s=DxChart.isArray(e.bubbleMin)?e.bubbleMin[t]:e.bubbleMin,a=DxChart.isArray(e.bubbleMax)?e.bubbleMax[t]:e.bubbleMax,o=DxChart.isArray(e.bubbleWidth)?e.bubbleWidth[t]:e.bubbleWidth;this.coordsBubble[t]=[];for(var r=0;r<this.coords[t].length;++r){i[r]=Math.max(i[r],s),i[r]=Math.min(i[r],a);var n=(i[r]-s)/(a-s)*o/2,h=this.data[t][r][2]||e.colorsDefault,l=(this.properties.bubbleShadowUse&&DxChart.setShadow({object:this,prefix:"bubbleShadow"}),this.coords[t][r][0]),c=this.coords[t][r][1],x=n,d=l-x,u=c-x,d=(isNexacroRuntime&&(this.context.save(),this.context.translate(d,u),c=l=x),this.context.beginPath(),e.colorsBubbleGraduated?"radial-gradient(white:"+h+")":h),u=DxChart.parseRadialGradientInfo(this,d,l+n/2.5,c-n/2.5,0,l+n/2.5,c-n/2.5,n);this.context.fillStyle=u,isNexacroRuntime&&this.context.setElementFillStyle(u),this.context.arc(l,c,n,0,DxChart.TWOPI,!1),this.properties.colorsBubbleStroke&&(this.context.lineWidth=this.properties.bubbleLineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=this.properties.colorsBubbleStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.stroke()),this.context.fill(),isNexacroRuntime&&(this.context.closePath(),this.context.restore()),this.properties.bubbleShadowUse&&DxChart.noShadow(this),this.coordsBubble[t][r]=[this.coords[t][r][0],this.coords[t][r][1],n,this.context.fillStyle]}},this.parseColors=function(){var t=this.properties,e=(0===this.original_colors.length&&(this.original_colors.data=DxChart.arrayClone(this.data),this.original_colors.backgroundVbars=DxChart.arrayClone(t.backgroundVbars),this.original_colors.backgroundHbars=DxChart.arrayClone(t.backgroundHbars),this.original_colors.lineColors=DxChart.arrayClone(t.lineColors),this.original_colors.colorsDefault=DxChart.arrayClone(t.colorsDefault),this.original_colors.crosshairsColor=DxChart.arrayClone(t.crosshairsColor),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill),this.original_colors.backgroundBarsColor1=DxChart.arrayClone(t.backgroundBarsColor1),this.original_colors.backgroundBarsColor2=DxChart.arrayClone(t.backgroundBarsColor2),this.original_colors.backgroundGridColor=DxChart.arrayClone(t.backgroundGridColor),this.original_colors.backgroundColor=DxChart.arrayClone(t.backgroundColor),this.original_colors.axesColor=DxChart.arrayClone(t.axesColor)),t.backgroundHbars);if(e)for(var i=0;i<e.length;++i)e[i][2]=this.parseSingleColorForGradient(e[i][2]);var s=t.backgroundVbars;if(s)for(i=0;i<s.length;++i)s[i][2]=this.parseSingleColorForGradient(s[i][2]);t.colorsDefault=this.parseSingleColorForGradient(t.colorsDefault),t.crosshairsColor=this.parseSingleColorForGradient(t.crosshairsColor),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill),t.backgroundBarsColor1=this.parseSingleColorForGradient(t.backgroundBarsColor1),t.backgroundBarsColor2=this.parseSingleColorForGradient(t.backgroundBarsColor2),t.backgroundGridColor=this.parseSingleColorForGradient(t.backgroundGridColor),t.backgroundColor=this.parseSingleColorForGradient(t.backgroundColor),t.axesColor=this.parseSingleColorForGradient(t.axesColor)},this.reset=function(){},this.interactiveKeyHighlight=function(t){var s,a=this.properties;this.coords&&this.coords[t]&&this.coords[t].length&&(s=this).coords[t].forEach(function(t,e,i){s.context.beginPath(),s.context.fillStyle=a.keyInteractiveHighlightChartFill,isNexacroRuntime&&s.context.setElementFillStyle(s.context.fillStyle),s.context.arc(t[0],t[1],a.tickmarksSize+3,0,DxChart.TWOPI,!1),s.context.fill()})},this.drawTrendline=function(){var t=this.properties,e=DxChart.getArgs(arguments,"dataset"),i=t.trendLineColor,s=t.trendLineWidth,a=t.trendLineMargin;"object"==typeof(i=DxChart.isArray(t.trendLineColors)?t.trendLineColors:i)&&i[e.dataset]?i=i[e.dataset]:"object"==typeof i&&(i="gray"),"object"==typeof s&&"number"==typeof s[e.dataset]?s=s[e.dataset]:"object"==typeof s&&(s=1),"object"==typeof a&&"number"==typeof a[e.dataset]?a=a[e.dataset]:"object"==typeof a&&(a=25);for(var o=0,r=0,n=0;o<this.data[e.dataset].length;++o)r+=this.data[e.dataset][o][0],n+=this.data[e.dataset][o][1];for(var h=r/this.data[e.dataset].length,l=n/this.data[e.dataset].length,o=0,c=[],x=[],d=[],u=[];o<this.data[e.dataset].length;++o)c[o]=this.data[e.dataset][o][0]-h,x[o]=this.data[e.dataset][o][1]-l,d[o]=c[o]*x[o],u[o]=c[o]*c[o];var g=DxChart.arraySum(d)/DxChart.arraySum(u),p=l-g*h,g=[[t.xaxisScaleMin,g*t.xaxisScaleMin+p],[t.xaxisScaleMax,g*t.xaxisScaleMax+p]];t.trendLineDashed&&(isNexacroRuntime?this.context.setElementLineStyle("dashed"):this.context.setLineDash([4,4])),t.trendLineDotted&&(isNexacroRuntime?this.context.setElementLineStyle("dotted"):this.context.setLineDash([1,4])),DxChart.isNull(t.trendLineDashArray)||"object"!=typeof t.trendLineDashArray||(isNexacroRuntime?this.context.setElementLineStyle("dashed"):this.context.setLineDash(t.trendLineDashArray));for(var o=0,f=[],m=[];o<this.data[e.dataset].length;++o)"number"==typeof this.data[e.dataset][o][0]&&f.push(this.data[e.dataset][o][0]),"number"==typeof this.data[e.dataset][o][1]&&m.push(this.data[e.dataset][o][1]);var p=DxChart.arrayMin({array:f}),b=DxChart.arrayMin({array:m}),C=DxChart.arrayMax({array:f}),y=DxChart.arrayMax({array:m}),p=this.getXCoord(p),b=this.getYCoord(b,t.outofbounds),C=this.getXCoord(C),y=this.getYCoord(y,t.outofbounds);this.path(" lw % sa b r % % % % cl b r % % % % cl b m % % l % % s % rs",s,t.marginLeft+a,t.marginTop+a,this.canvas.width-t.marginLeft-t.marginRight-a-a,this.canvas.height-t.marginTop-t.marginBottom-a-a,!1===t.trendLineClip?0:p-25,!1===t.trendLineClip?0:y-25,!1===t.trendLineClip?this.canvas.width:C-p+25+25,!1===t.trendLineClip?this.canvas.height:b-y+25+25,this.getXCoord(g[0][0]),this.getYCoord(g[0][1],!0),this.getXCoord(g[1][0]),this.getYCoord(g[1][1],!0),i),isNexacroRuntime?this.context.setElementLineStyle("dash"):this.context.setLineDash([5,0])},this.drawAni=function(){var t=arguments[0]||"trace",e=arguments[1]||{},i=arguments[2]||function(){};switch(t){case"trace":this.trace(e,i);break;case"explode":this.explode(e,i)}},this.trace=function(){this.cancelStopAnimation();var e=this,i=arguments[2],s=(arguments[0]||{}).frames||30,a=0,i=arguments[1]||function(){};return this.set("animationTrace",!0),this.set("animationTraceClip",0),function t(){e.stopAnimationRequested?e.stopAnimationRequested=!1:(DxChart.clear(e.canvas),DxChart.redrawCanvas(e.canvas),a++<s?(e.set("animationTraceClip",a/s),DxChart.Effects.updateCanvas(t,e.canvas)):i(e))}(),this},this.explode=function(){this.cancelStopAnimation();var s=this,a=arguments[2],t=arguments[0]||{},o=t.frames||15,r=0,a=arguments[1]||function(){},n=this.properties.xaxisScaleMax/2,h=0,l=1/o,c=DxChart.arrayClone(this.unmodified_data);return this.draw(),this.set("yaxisScaleMax",this.scale2.max),n="left"===t.originx?0:"right"===t.originx?this.properties.xaxisScaleMax:this.properties.xaxisScaleMax/2,h="center"===t.originy?this.scale2.max/2:"top"===t.originy?this.scale2.max:0,function t(){if(s.stopAnimationRequested)s.stopAnimationRequested=!1;else{DxChart.clear(s.canvas);for(var e=0;e<s.data.length;++e)for(var i=0;i<s.data[e].length;++i)s.data[e][i][0]=n+(c[e][i][0]-n)*l*r,s.data[e][i][1]=h+(c[e][i][1]-h)*l*r;DxChart.redrawCanvas(s.canvas),r++<o?DxChart.Effects.updateCanvas(t,s.canvas):(DxChart.redrawCanvas(s.canvas),a(s))}}(),this},this.stopAnimation=function(){this.set("animationTraceClip",1),this.data=DxChart.arrayClone(this.unmodified_data),this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.resetColorsToOriginalValues=function(){for(var t=0,e=this.original_colors.data.length;t<e;++t)for(var i=0,s=this.original_colors.data[t].length;i<s;++i)this.data[t][i][2]=DxChart.arrayClone(this.original_colors.data[t][i][2]),"object"==typeof this.data[t][i][1]&&(this.data[t][i][1][5]=DxChart.arrayClone(this.original_colors.data[t][i][1][5]),this.data[t][i][1][6]=DxChart.arrayClone(this.original_colors.data[t][i][1][6]))},this.populateTooltips=function(){for(var t=this.properties,e=0;e<this.data.length;++e)for(var i=0;i<this.data[e].length;++i)this.data[e][i][3]=t.tooltipsData},this.tooltipSubstitutions=function(t){var e=DxChart.sequentialIndexToGrouped(t.index,this.data);return{index:e[1],dataset:e[0],sequentialIndex:t.index,value:this.data[e[0]][e[1]][1],values:[this.data[e[0]][e[1]][1]]}},this.tooltipsFormattedCustom=function(t,e){var i,s=this.properties;return DxChart.isNull(s.tooltipsFormattedKeyColors)||"object"!=typeof s.tooltipsFormattedKeyColors||"string"!=typeof s.tooltipsFormattedKeyColors[t.dataset]||(i=s.tooltipsFormattedKeyColors[t.dataset]),this.data[t.dataset][t.index][2]&&(i=this.data[t.dataset][t.index][2]),{label:s.tooltipsFormattedKeyLabels[t.index]||"",color:i}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas)),a=DxChart.sequentialIndexToGrouped(t.index,this.data),a=this.coords[a[0]][a[1]];isNexacroRuntime?(t.tooltip.set_left(s[0]+a[0]-i.getOffsetWidth()/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]+a[1]-i.getOffsetHeight()-20+e.properties.tooltipsOffsetY)):(t.tooltip.style.left=s[0]+a[0]-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]+a[1]-i.offsetHeight-20+e.properties.tooltipsOffsetY+"px")},this.resetData(t.data),DxChart.register(this),DxChart.parseProperties(this,t.options),!0}function ScatterDrilldown(e){var i={xaxisScaleMin:e.options.xaxisScaleMin,xaxisScaleMax:e.options.xaxisScaleMax},r=(e.options.xaxisScaleMin=e.options.xaxisScaleMin,e.options.xaxisScaleMax=e.options.xaxisScaleMax,new DxChartScatter({id:e.id,data:DxChart.arrayClone(e.data),options:e.options})),n=(e.options.animation&&"function"==typeof r[e.options.animation]?r[e.options.animation]():r.draw(),{});return r.canvas.onmousedown=function(t){0===t.button&&r.getXValue(t)&&(t=r.getXValue(t),n.start=t)},r.canvas.onmouseup=function(t){var s,a,o;0===t.button&&(t=r.getXValue(t),s=Math.min(n.start,t),a=Math.max(n.start,t),n.end=t,r.set({xaxisScaleMin:s,xaxisScaleMax:a}),r.data[0].forEach(function(t,e,i){(t[0]<s||t[0]>a)&&(i[e]=[])}),r.set({contextmenu:[["Reset",function(){r.set({xaxisScaleMin:i.xaxisScaleMin,xaxisScaleMax:i.xaxisScaleMax,xaxisLabels:DxChart.arrayClone(e.options.xaxisLabels)}),r.data[0]=DxChart.arrayClone(e.data),DxChart.redraw()}]]}),o=[],e.options.xaxisLabels.forEach(function(t,e,i){t[1]>s&&t[1]<a&&o.push(t)}),r.set("xaxisLabels",o),DxChart.redraw(),n={})},r.canvas.onmousemove=function(t){var e;"number"!=typeof n.start||n.end||(e=r.getXCoord(n.start),t=r.getXCoord(r.getXValue(t)),DxChart.redraw(),r.context.fillStyle="rgba(0,0,0,0.15)",isNexacroRuntime&&r.context.setElementFillStyle(r.context.fillStyle),r.context.fillRect(e,r.properties.marginTop,t-e,r.canvas.height-r.properties.marginTop-r.properties.marginBottom))},r}function ScatterDrilldownDraw(t){return DxChart.Scatter.drilldown(t)}function DxChartSegment(t){return DxChart._Base.call(this,t,"segment"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"default"),this.properties.variantValue="",this.properties.imageUrl="",this.properties.imageCount=10,this.properties.imageWidth=90,this.properties.imageHeight=90,this.properties.imageVMargin=10,this.properties.imageHMargin=10,this.properties.imageLineCount=1,this.properties.imageFillColor="#ff0000",this.properties.imageMinSize=80,this.sequence=0,t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t,e,i){this.binddataset&&(t=DxChart._getColumnDataset(this.binddataset,t),e=DxChart._getColumnDataset(this.binddataset,e),i=DxChart._getColumnDataset(this.binddataset,i)),this.min=DxChart.str2num(t),DxChart.isArray(this.min)&&(this.min=this.min[0]),this.max=DxChart.str2num(e),DxChart.isArray(this.max)&&(this.max=this.max[0]),this.value=DxChart.str2num(i),DxChart.isArray(this.value)&&(this.value=this.value[0]),this.centerx=null,this.centery=null,this.radius=null,this.currentValue=null,this.value<=1e-7&&(this.value=1e-7)},this.drawImage=function(t,a,o,r,n,h,l,c){var x,d=(d=t.split("/").join("")).split("::").join(""),e=t,u=(isNexacroRuntime&&(x={}),this.sequence);if("string"==typeof t)if(void 0===this.canvas["_cached_"+d+r+h]){var g=this;if(isNexacroRuntime)x.src=e,x.handle=nexacro._getImageObject(e,function(t,e,i,s){x.width=e,x.height=i,x.imagewidth=e,x.imageheight=i,g._drawImageCallback(u,d,x,a,o,r,n,h,l,c)},this,"",!1);else{if(x=new Image,nexacro){if(!(e="url("==e.substring(0,4).toLowerCase()?e.substring(5,e.length-2):e)||!e.length)return null;e=nexacro._getImageLocation(e)}x.onload=function(){g._drawImageCallback(u,d,x,a,o,r,n,h,l,c)},x.src=e}}else x=this.canvas["_cached_"+d+r+h],this._drawImageCallback(u,d,x,a,o,r,n,h,l,c)},this._drawImageCallback=function(t,e,i,s,a,o,r,n,h,l){if(t==this.sequence){this.canvas["_cached_"+e+o+n]||(this.canvas["_cached_"+e+o+n]=i);t=this.context;if(t.drawImage(i,s,a,o,r),l&&(this.compageImageChk++,2<=this.compageImageChk)&&this.drawLabel(),0!=n){for(var c=t.getImageData(s,a,o*(n/100),r),x=0,d=c.data.length;x<d;x+=4)255==c.data[x]&&255==c.data[x+1]&&255==c.data[x+2]&&255==c.data[x+3]&&(c.data[x]=h[0],c.data[x+1]=h[1],c.data[x+2]=h[2]);t.putImageData(c,s,a),t.globalAlpha=1}}},this.draw=function(){if(!this.min&&!this.max)return DxChart.NoDataShow(this);this.sequence++;var t=this.properties;return DxChart._BeforeDraw(this),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.currentValue=this.value,this.radius=Math.max(Math.min((this.canvas.width-this.marginLeft-this.marginRight)/2,(this.canvas.height-this.marginTop-this.marginBottom)/2),1),this.centerx=(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft,this.centery=(this.canvas.height-this.marginBottom-this.marginTop)/2+this.marginTop,this.coordsText=[],DxChart.Background.draw(this),"number"==typeof t.centerx&&(this.centerx=t.centerx),"number"==typeof t.centery&&(this.centery=t.centery),"number"==typeof t.radius&&(this.radius=t.radius),this.drawMeter(),t.imageMinUrl&&t.imageMinUrl||this.drawLabel(),t.contextmenu&&DxChart.showContext(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.drawImageCompareProc=function(){var t,e,i,s,a,o,r,n;100<this.max?trace("비교시에는 최대 100까지만 가능합니다."):(t=this.properties,n=this.canvas.width-this.marginLeft-this.marginRight,s=this.canvas.height-this.marginBottom-this.marginTop,e=n/2+this.marginLeft,i=s/2+this.marginTop,n=Math.min(n,s),this.compageImageChk=0,this.min,a=e-(s=n*(this.max/100))-t.imageHMargin,o=i-s/2-t.imageVMargin,r=t.imageMaxUrl,this.drawImage(r,a,o,s,s,0,"","compare"),this.imageMaxX=a+s/2,this.imageMaxY=o+s/2+t.imageVMargin,this.imageMaxT=o-t.imageVMargin-20,this.imageMaxB=o+s+t.imageVMargin+20,(n=n*(this.min/100))<t.imageMinSize&&(n=t.imageMinSize),a=e+s/2-t.imageHMargin,o=i-n/2-t.imageVMargin,r=t.imageMinUrl,this.drawImage(r,a,o,n,n,0,"","compare"),this.imageMinX=a+n/2,this.imageMinY=o+n/2+t.imageVMargin,this.imageMinT=a)},this.drawImageProc=function(){var t=this.properties,e=this.canvas.width-this.marginLeft-this.marginRight,i=this.canvas.height-this.marginBottom-this.marginTop,s=t.imageCount/t.imageLineCount,a=this.value,o=100/t.imageCount,r=DxChart._hex2rgb(t.imageFillColor);5==(r=r.match(/\d+/g).map(Number)).length&&(r[3]=.1*r[4]);for(var n=t.imageWidth*s+t.imageHMargin*(s-1),h=t.imageHeight*t.imageLineCount+t.imageHMargin*(t.imageLineCount+1),l=(e-n)/2+this.marginLeft,e=(i-h)/2+this.marginTop,c=(this.imageShowTop=e,0),x=t.imageUrl,d=l,u=e,g=t.imageWidth,p=t.imageHeight,f=0;f<t.imageLineCount;f++){for(var m=0;m<s;m++)c+=o,this.drawImage(x,d,u,g,p,c<=a?100:c-o<a&&a<=c?(o-(c-a))/o*100:0,r),d+=t.imageHMargin+t.imageWidth;u+=t.imageHMargin+t.imageHeight,d=l}},this.drawMeter=function(){var t=this.properties,e="number"==typeof t.width?t.width:this.radius/2;if("string"==typeof t.width&&(e+=Number(t.width)),t.backgroundColor&&this.path("fs % fr -5 -5 % %",t.backgroundColor,this.canvas.width+10,this.canvas.height+10),t.imageUrl&&""!=t.imageUrl)this.drawImageProc();else if(t.imageMaxUrl&&t.imageMinUrl)this.drawImageCompareProc();else{for(var i,s=360/t.radialsCount,a=(s/=2,Math.round((this.value-this.min)/(this.max-this.min)*(2*t.radialsCount))),o=1;o<2*t.radialsCount;o+=2){var r=DxChart.toRadians(o*s-s/2)*t.effectRoundrobinMultiplier-DxChart.HALFPI,n=DxChart.toRadians(o*s+s/2)*t.effectRoundrobinMultiplier-DxChart.HALFPI;isNexacroRuntime?(r=DxChart.toRadians(o*s-s/2)*t.effectRoundrobinMultiplier-DxChart.PI,n=DxChart.toRadians(o*s+s/2)*t.effectRoundrobinMultiplier-DxChart.PI,this.path("b a % % % % % false l % % f % ",this.centerx,this.centery,this.radius,r,n,this.centerx,this.centery,a<=o?t.colors[1]:t.colors[0])):this.path("b a % % % % % false a % % % % % true f % ",this.centerx,this.centery,this.radius,r,n,this.centerx,this.centery,this.radius-e,n,r,a<=o?t.colors[1]:t.colors[0])}isNexacroRuntime&&(i=t.backgroundColor||this.canvas._refform.parent.background||"#ffffff",this.path("b a % % % % % false f % ",this.centerx,this.centery,this.radius-e,0,2*DxChart.PI,i)),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)}},this.drawLabel=function(){var t,e,i=this.properties,s=(DxChart.isNull(i.textFontStyleObj.size)&&(i.textFontStyleObj.size=this.radius/2.5),DxChart.getTextInfo({object:this,prefix:"labelsCenter"}));i.imageMinUrl&&i.imageMinUrl?(t=this.imageMaxX,e=this.imageMaxY,"top"==i.labelsPosition?e=this.imageMaxT:"bottom"==i.labelsPosition&&(e=this.imageMaxB),DxChart.text({object:this,font:s.font,italic:s.italic,bold:s.bold,size:s.size,color:s.color,x:t,y:e,text:i.labelsData[0][0],halign:"center",valign:"center",accessible:i.textAccessible}),t=this.imageMinX,e=this.imageMinY,"top"==i.labelsPosition?e=this.imageMaxT:"bottom"==i.labelsPosition&&(e=this.imageMaxB),DxChart.text({object:this,font:s.font,italic:s.italic,bold:s.bold,size:s.size,color:s.color,x:t,y:e,text:i.labelsData[0][1],halign:"center",valign:"center",accessible:i.textAccessible})):(i.labelsCenterSpecific&&i.labelsCenterSpecific.length&&(i.labelsCenterSpecific=DxChart.labelSubstitution({object:this,text:i.labelsCenterSpecific,index:0,value:this.value,decimals:i.labelsCenterSpecificFormattedDecimals||0,unitsPre:i.labelsCenterSpecificFormattedUnitsPre||"",unitsPost:i.labelsCenterSpecificFormattedUnitsPost||"",thousand:i.labelsCenterSpecificFormattedThousand||",",point:i.labelsCenterSpecificFormattedPoint||"."})),DxChart.text({object:this,font:s.font,italic:s.italic,bold:s.bold,size:s.size,color:s.color,x:isNexacroRuntime?this.centerx+i.labelsCenterOffsetX+5:this.centerx+i.labelsCenterOffsetX,y:i.imageUrl&&""!=i.imageUrl?this.imageShowTop-i.labelsCenterOffsetY:this.centery+i.labelsCenterOffsetY,text:i.labelsCenterSpecific||DxChart.numberFormat({object:this,number:(this.value*i.effectRoundrobinMultiplier).toFixed(i.labelsCenterDecimals),unitspre:i.labelsCenterUnitsPre,unitspost:i.labelsCenterUnitsPost,point:i.labelsCenterPoint,thousand:i.labelsCenterThousand}),halign:"center",valign:"center",accessible:i.textAccessible}))},this.getShape=function(t){},this.getValue=function(t){t="number"==typeof t?t:(t=DxChart.getMouseXY(t),DxChart.getAngleByXY(this.centerx,this.centery,t[0],t[1])),(t+=DxChart.HALFPI)>DxChart.TWOPI&&(t-=DxChart.TWOPI),t=t/DxChart.TWOPI*(this.max-this.min)+this.min,t=Math.max(t,this.min);return Math.min(t,this.max)},this.getObjectByXY=function(t){var e=this.properties,t=DxChart.getMouseXY(t),e=e.width,t=DxChart.getHypLength(this.centerx,this.centery,t[0],t[1]);return"string"==typeof e?e=this.radius/2+parseFloat(e):DxChart.isNull(e)&&(e=this.radius/2),t>this.radius||t<this.radius-e?null:this},this.changing_mousemove=function(t){this.properties.changeableValue&&DxChart.Registry.get("changing")&&DxChart.Registry.get("changing").uid==this.uid&&(this.value=this.getValue(t),DxChart.clear(this.canvas),DxChart.redrawCanvas(this.canvas),DxChart._fireEvent(this,"onadjust"))},this.getAngle=function(t){if("number"==typeof t){if(t>this.max||t<this.min)return null;var e=(t-this.min)/(this.max-this.min)*DxChart.TWOPI-DxChart.HALFPI;t===this.max&&(e-=1e-5),t===this.min&&(e+=1e-5)}else{var i=t.offsetX,t=t.offsetY;(e=DxChart.getAngleByXY({cx:this.centerx,cy:this.centery,x:i,y:t}))>DxChart.PI+DxChart.HALFPI&&(e-=DxChart.TWOPI)}return e},this.parseColors=function(){var t=this.properties,e=(0===this.original_colors.length&&(this.original_colors.backgroundColor=DxChart.arrayClone(t.backgroundColor),this.original_colors.colors=DxChart.arrayClone(t.colors)),t.backgroundColor=this.parseSingleColorForGradient(t.backgroundColor),t.colors);if(e&&e.length)for(var i=0;i<e.length;++i)e[i]=this.parseSingleColorForGradient(e[i])},this.reset=function(){},this.parseSingleColorForGradient=function(t){if(!t||"string"!=typeof t)return t;if(t.match(/^gradient\((.*)\)$/i)){if(t.match(/^gradient\(({.*})\)$/i))return DxChart.parseJSONGradient({object:this,def:RegExp.$1,radial:!0});var e=RegExp.$1.split(":"),i=this.context.createLinearGradient(properties.marginLeft,0,this.canvas.width-properties.marginLeft-properties.marginRight,0),s=1/(e.length-1);i.addColorStop(0,DxChart.trim(e[0]));for(var a=1,o=e.length;a<o;++a)i.addColorStop(a*s,DxChart.trim(e[a]))}return i||t},this.firstDrawFunc=function(){},this.drawAni=function(){var t=arguments[0]||"grow",e=arguments[1]||{},i=arguments[2]||function(){};switch(t){case"grow":this.grow(e,i);break;case"roundRobin":this.roundRobin(e,i)}},this.grow=function(){this.cancelStopAnimation();var e=this;e.currentValue=e.currentValue||e.min;var i=(arguments[0]||{}).frames||30,s=0,a=(e.value-e.currentValue)/i,o=arguments[1]||function(){},r=e.currentValue;return function t(){e.stopAnimationRequested?e.stopAnimationRequested=!1:(e.value=r+s++*a,DxChart.clear(e.canvas),DxChart.redrawCanvas(e.canvas),s<=i?DxChart.Effects.updateCanvas(t,e.canvas):o(e))}(),this},this.roundRobin=function(){this.cancelStopAnimation();var t=this,e=arguments[0]||{},i=arguments[1]||function(){},s=0,a=e.frames||30,o=(this.radius,function(){t.stopAnimationRequested?t.stopAnimationRequested=!1:(t.set({effectRoundrobinMultiplier:DxChart.Effects.getEasingMultiplier(a,s)}),DxChart.redrawCanvas(t.canvas),s<a?(DxChart.Effects.updateCanvas(o,t.canvas),s++):(DxChart.redrawCanvas(t.canvas),i(t)))});return o(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.resetData(t.min,t.max,t.value),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartSemiCircle(t){return DxChart._Base.call(this,t,"semicircle"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"scale"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"default"),this.properties.backgroundGridMargin=20,this.backgroundGridCircles=!0,this.backgroundGridRadials=!0,this.backgroundGridRadialsCount=10,t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t,e,i){this.binddataset&&(t=DxChart._getColumnDataset(this.binddataset,t),e=DxChart._getColumnDataset(this.binddataset,e),i=DxChart._getColumnDataset(this.binddataset,i)),this.min=DxChart.str2num(t),DxChart.isArray(this.min)&&(this.min=this.min[0]),this.max=DxChart.str2num(e),DxChart.isArray(this.max)&&(this.max=this.max[0]),this.value=DxChart.str2num(i),DxChart.isArray(this.value)&&1==this.value.length&&(this.value=this.value[0]),this.currentValue=null,isNexacroRuntime&&(this.properties.anglesStart=DxChart.HALFPI,this.properties.anglesEnd=DxChart.PI+DxChart.HALFPI)},this.drawAni=function(){"grow"===(arguments[0]||"grow")&&this.grow(arguments[1]||{},arguments[2]||function(){})},this.draw=function(){var t;return this.min||this.max?(t=this.properties,DxChart._BeforeDraw(this,!0),this.currentValue=this.value,this.radius=Math.max(Math.min((this.canvas.width-t.marginLeft-t.marginRight)/2,this.canvas.height-t.marginTop-t.marginBottom),1),this.centerx=(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft,this.centery=this.canvas.height-this.marginBottom,this.width=this.radius/3,"number"==typeof t.radius&&(this.radius=t.radius),"number"==typeof t.centerx&&(this.centerx=t.centerx),"number"==typeof t.centery&&(this.centery=t.centery),"number"==typeof t.width&&(this.width=t.width),DxChart.isString(t.centerx)&&(this.centerx+=Number(t.centerx)),DxChart.isString(t.centery)&&(this.centery+=Number(t.centery)),DxChart.isString(t.radius)&&(this.radius+=Number(t.radius)),this.coords=[],this.coordsText=[],this.colorsParsed||(this.colorsParsed=!0,this.parseColors()),this.drawBackgroundGrid(),this.drawMeter(),this.drawLabels(),this.drawScale(),t.contextmenu&&DxChart.showContext(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.allowAdjusting(),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this):DxChart.NoDataShow(this)},this.drawMeter=function(){var t=this.properties,e=(this.coords=[],t.anglesStart),i=t.anglesEnd,s=(this.scale2=DxChart.getScale({object:this,options:{"scale.max":this.max,"scale.strict":!0,"scale.min":this.min,"scale.thousand":t.scaleThousand,"scale.point":t.scalePoint,"scale.decimals":t.scaleDecimals,"scale.labels.count":5,"scale.units.pre":t.scaleUnitsPre,"scale.units.post":t.scaleUnitsPost}}),"rgba(0,0,0,0)"!==t.backgroundColor&&this.path("fs % fr % % % %",t.backgroundColor,0,0,this.canvas.width,this.canvas.height),this.centerx),a=this.centery,o=s-(d=this.radius),r=a-d,n="rgba(255,255,255,0.85)",h=(t.colorsRemain&&(n=DxChart.parseRadialGradientInfo(this,t.colorsRemain,s,a,0,s,a,d)),DxChart.parseRadialGradientInfo(this,t.colors[0],s,a,0,s,a,d));if(isNexacroRuntime?(this.context.save(),this.context.translate(o,r),a=s=d,t.shadowUse?this.path("lw % b a % % % % % false l % % c s % f % sx % sy % sc % sb % f % sx 0 sy 0 sb 0 sc rgba(0,0,0,0) lw 1",t.lineWidth,s,a,this.radius,e,i,s,a,t.colorsStroke,h,t.shadowStyleObj.offsetx,t.shadowStyleObj.offsety,t.shadowUse?t.shadowStyleObj.color:"rgba(0,0,0,0)",t.shadowStyleObj.blur,n):(this.path("lw % b a % % % % % false l % % c s % f % lw 1",t.lineWidth,s,a,this.radius,e,i,s,a,t.colorsStroke,h),this.path("lw % b a % % % % % false l % % c f % lw 1",t.lineWidth,s,a,this.radius,e,i,s,a,n)),this.context.restore()):this.path("lw % b a % % % % % false a % % % % % true c s % f % sx % sy % sc % sb % f % sx 0 sy 0 sb 0 sc rgba(0,0,0,0) lw 1",t.lineWidth,this.centerx,this.centery,this.radius,e,i,this.centerx,this.centery,this.radius-this.width,i,e,t.colorsStroke,h,t.shadowStyleObj.offsetx,t.shadowStyleObj.offsety,t.shadowUse?t.shadowStyleObj.color:"rgba(0,0,0,0)",t.shadowStyleObj.blur,n),DxChart.isNumber(this.value)){var l=(i-e)*((this.value-this.scale2.min)/(this.max-this.scale2.min));isNexacroRuntime?(this.context.save(),this.context.translate(o,r),this.path("b a % % % % % false l % % c f %",s,a,this.radius,e,e+l,s,a,h),this.context.restore()):this.path("b a % % % % % false a % % % % % true c f %",this.centerx,this.centery,this.radius,e,e+l,this.centerx,this.centery,this.radius-this.width,e+l,e,h),this.coords=[[this.centerx,this.centery,this.radius,e,e+l,this.width,l]]}else if(DxChart.isArray(this.value))for(var c=0;c<this.value.length;++c){l=(t.anglesEnd-t.anglesStart)*((this.value[c]-this.scale2.min)/(this.max-this.scale2.min)),h=DxChart.parseRadialGradientInfo(this,t.colors[c],s,a,0,s,a,d);isNexacroRuntime?(this.context.save(),this.context.translate(o,r),this.path("b a % % % % % false l % % c f %",s,a,this.radius,e,e+l,s,a,h),this.context.restore()):this.path("b a % % % % % false a % % % % % true c f %",this.centerx,this.centery,this.radius,e,e+l,this.centerx,this.centery,this.radius-this.width,e+l,e,h),this.coords.push([this.centerx,this.centery,this.radius,e,e+l,this.width,l]),e+=l}if(isNexacroRuntime){var x,n=t.backgroundGridMargin,d=this.radius-this.width,i=("transparent"==t.backgroundColor?null:t.backgroundColor)||this.canvas._refform.parent.background||"#ffffff";if(t.backgroundGrid)if(t.backgroundGridCircles&&(x=d-n,this.path("b lw % a % % % % % false l % % c s % f %",t.backgroundGridLineWidth,this.centerx,this.centery,d,t.anglesStart,t.anglesEnd,this.centerx,this.centery,t.backgroundGridColor,i),this.path("b lw % a % % % % % false l % % c s % f %",t.backgroundGridLineWidth,this.centerx,this.centery,x,t.anglesStart,t.anglesEnd,this.centerx,this.centery,t.backgroundGridColor,i)),t.backgroundGridRadials)for(var u=(t.anglesEnd-t.anglesStart)/t.backgroundGridRadialsCount,l=t.anglesStart,c=0;c<t.backgroundGridRadialsCount;++c){var g=DxChart.getRadiusEndPoint(this.centerx,this.centery,l+DxChart.HALFPI,d),p=DxChart.getRadiusEndPoint(this.centerx,this.centery,l+DxChart.HALFPI,x);this.path("lw % b m % % l % % c s % lw 1",t.backgroundGridLineWidth,g[0],g[1],p[0],p[1],t.backgroundGridColor),l+=u}var n=DxChart.getRadiusEndPoint(this.centerx,this.centery,t.anglesStart+DxChart.HALFPI-.01,d-=n),f=DxChart.getRadiusEndPoint(this.centerx,this.centery,t.anglesEnd+DxChart.HALFPI+.01,d),m=Math.abs(f[0]-n[0]),b=Math.abs(f[1]-n[1]),f=(this.path("lw 0 b a % % % % % false l % % l % % c s % f %",this.centerx,this.centery,d,t.anglesStart,t.anglesEnd,f[0],f[1],n[0],n[1],t.colorsStroke,i),this.context.beginPath(),this.context.setElementFillStyle(i),parseInt(n[0])+2),i=parseInt(n[1]);this.context.rect(f,i,parseInt(m),parseInt(b)),this.context.closePath(),this.context.fill()}},this.drawLabels=function(){var t,e,i,s=this.properties;if(s.labelsMin&&(a=DxChart.isNull(s.labelsMinSpecific)?DxChart.numberFormat({object:this,number:this.scale2.min.toFixed("number"==typeof s.labelsMinDecimals?s.labelsMinDecimals:s.scaleDecimals),unitspre:s.labelsMinUnitsPre,unitspost:s.labelsMinUnitsPost,point:s.labelsMinPoint,thousand:s.labelsMinThousand}):s.labelsMinSpecific,t="center",e="top",s.anglesStart===DxChart.PI?(t="center",e="top"):s.anglesStart<=DxChart.PI?(t="left",e="center"):s.anglesStart>=DxChart.PI&&(t="right",e="center"),isNexacroRuntime?(i=DxChart.getRadiusEndPoint(this.centerx,this.centery,s.anglesStart+DxChart.HALFPI+s.labelsMinOffsetAngle,this.radius-this.width/2))[1]=i[1]+10:i=DxChart.getRadiusEndPoint(this.centerx,this.centery,s.anglesStart+s.labelsMinOffsetAngle,this.radius-this.width/2),o=DxChart.getTextInfo({object:this,prefix:"labelsMin"}),DxChart.text({object:this,font:o.font,size:o.size,color:o.color,bold:o.bold,italic:o.italic,x:i[0]+s.labelsMinOffsetX,y:i[1]+s.labelsMinOffsetY,valign:e,halign:t,text:a})),s.labelsMax&&(t="center",e="top",s.anglesEnd===DxChart.TWOPI?(t="center",e="top"):s.anglesEnd>=DxChart.TWOPI?(t="right",e="center"):s.anglesEnd<=DxChart.TWOPI&&(t="left",e="center"),a=DxChart.isNull(s.labelsMaxSpecific)?DxChart.numberFormat({object:this,number:this.scale2.max.toFixed("number"==typeof s.labelsMaxDecimals?s.labelsMaxDecimals:s.scaleDecimals),unitspre:s.labelsMaxUnitsPre,unitspost:s.labelsMaxUnitsPost,point:s.labelsMaxPoint,thousand:s.labelsMaxThousand}):s.labelsMaxSpecific,isNexacroRuntime?(i=DxChart.getRadiusEndPoint(this.centerx,this.centery,s.anglesEnd+DxChart.HALFPI+s.labelsMaxOffsetAngle,this.radius-this.width/2))[1]=i[1]+2*s.anglesEnd:i=DxChart.getRadiusEndPoint(this.centerx,this.centery,s.anglesEnd+s.labelsMaxOffsetAngle,this.radius-this.width/2),o=DxChart.getTextInfo({object:this,prefix:"labelsMax"}),DxChart.text({object:this,font:o.font,size:o.size,color:o.color,bold:o.bold,italic:o.italic,x:i[0]+s.labelsMaxOffsetX,y:i[1]+s.labelsMaxOffsetY,valign:e,halign:t,text:a})),s.labelsCenter){var a,o=DxChart.getTextInfo({object:this,prefix:"labelsCenter"}),r=(a=DxChart.isNull(s.labelsCenterSpecific)?DxChart.numberFormat({object:this,number:(DxChart.isNumber(this.value)?this.value:this.value[s.labelsCenterIndex]).toFixed(DxChart.isNumber(s.labelsCenterDecimals)?s.labelsCenterDecimals:s.scaleDecimals),unitspre:s.labelsCenterUnitsPre,unitspost:s.labelsCenterUnitsPost,point:s.labelsCenterPoint,thousand:s.labelsCenterThousand}):s.labelsCenterSpecific,DxChart.text({object:this,font:o.font,size:o.size,color:o.color,bold:o.bold,italic:o.italic,x:this.centerx+s.labelsCenterOffsetX,y:this.centery+s.labelsCenterOffsetY,valign:s.labelsCenterValign,halign:"center",text:a}));if(s.labelsCenterFade&&r.node){r.node.style.opacity=0;for(var n=0;n<20;++n)!function(t){setTimeout(function(){r.node.style.opacity=.05*t},25*(t+1))}(n)}}DxChart.drawTitle(this)},this.drawBackgroundGrid=function(){var t=this.properties;if(t.backgroundGrid){var e=t.backgroundGridMargin,i=this.radius+e,s=this.radius-this.width-e;if(t.backgroundGridCircles&&(isNexacroRuntime?(this.path("b lw % a % % % % % false l % % c s %",t.backgroundGridLineWidth,this.centerx,this.centery,i,t.anglesStart,t.anglesEnd,this.centerx,this.centery,t.backgroundGridColor),this.path("b lw % a % % % % % false l % % c s %",t.backgroundGridLineWidth,this.centerx,this.centery,s,t.anglesStart,t.anglesEnd,this.centerx,this.centery,t.backgroundGridColor)):(this.path("b lw % a % % % % % false",t.backgroundGridLineWidth,this.centerx,this.centery,i,t.anglesStart,t.anglesEnd),this.path("a % % % % % true c s %",this.centerx,this.centery,s,t.anglesEnd,t.anglesStart,t.backgroundGridColor))),t.backgroundGridRadials)for(var a,o,r=(t.anglesEnd-t.anglesStart)/t.backgroundGridRadialsCount,n=t.anglesStart,h=0;h<t.backgroundGridRadialsCount;++h)isNexacroRuntime?(a=DxChart.getRadiusEndPoint(this.centerx,this.centery,n+DxChart.HALFPI,i),o=DxChart.getRadiusEndPoint(this.centerx,this.centery,n+DxChart.HALFPI,s),this.path("lw % b m % % l % % c s % lw 1",t.backgroundGridLineWidth,a[0],a[1],o[0],o[1],t.backgroundGridColor)):this.path(" b a % % % % % false a % % % % % false s %",this.centerx,this.centery,s,n,n,this.centerx,this.centery,i,n,n,t.backgroundGridColor),n+=r}},this.drawScale=function(){var t=this.properties;if(t.scaleVisible){this.scale2=DxChart.getScale({object:this,options:{"scale.max":t.scaleMax||this.max,"scale.strict":!0,"scale.min":t.scaleMin,"scale.thousand":t.scaleThousand,"scale.point":t.scalePoint,"scale.decimals":t.scaleDecimals,"scale.labels.count":t.scaleLabelsCount,"scale.round":!1,"scale.units.pre":t.scaleUnitsPre,"scale.units.post":t.scaleUnitsPost,"scale.formatter":t.scaleFormatter}});for(var e=0;e<this.scale2.labels.length;++e){var i,s,a,o=DxChart.getTextInfo({object:this,prefix:"scaleLabels"});i=isNexacroRuntime?(s=t.anglesStart+DxChart.HALFPI,a=t.anglesEnd+DxChart.HALFPI,DxChart.getRadiusEndPoint(this.centerx,this.centery,s+(e+1)/this.scale2.labels.length*(a-s),this.radius+(t.backgroundGrid?t.backgroundGridMargin:0)+o.size+t.scaleLabelsOffsetR+5)):DxChart.getRadiusEndPoint(this.centerx,this.centery,t.anglesStart+(e+1)/this.scale2.labels.length*(t.anglesEnd-t.anglesStart),this.radius+(t.backgroundGrid?t.backgroundGridMargin:0)+o.size+t.scaleLabelsOffsetR+5),DxChart.text({object:this,tag:"scale",font:o.font,size:o.size,color:o.color,bold:o.bold,italic:o.italic,x:i[0]+(t.scaleLabelsOffsetX||0),y:i[1]+(t.scaleLabelsOffsetY||0),valign:"center",halign:"center",text:this.scale2.labels[e]})}i=isNexacroRuntime?(s=t.anglesStart+DxChart.HALFPI,a=t.anglesEnd+DxChart.HALFPI,DxChart.getRadiusEndPoint(this.centerx,this.centery,s,this.radius+(t.backgroundGrid?t.backgroundGridMargin:0)+o.size+t.scaleLabelsOffsetR+5)):DxChart.getRadiusEndPoint(this.centerx,this.centery,t.anglesStart,this.radius+(t.backgroundGrid?t.backgroundGridMargin:0)+o.size+t.scaleLabelsOffsetR+5),DxChart.text({object:this,font:o.font,size:o.size,color:o.color,bold:o.bold,italic:o.italic,x:i[0]+(t.scaleLabelsOffsetX||0),y:i[1]+(t.scaleLabelsOffsetY||0),valign:"center",halign:"center",text:"function"==typeof t.scaleFormatter?t.scaleFormatter({object:this,number:0,unitspre:t.scaleUnitsPre,unitspost:t.scaleUnitsPost,point:t.scalePoint,thousand:t.scaleThousand,formatter:t.scaleFormatter}):(t.scaleUnitsPre||"")+t.scaleMin.toFixed(t.scaleDecimals).replace(/\./,t.scalePoint)+(t.scaleUnitsPost||"")})}},this.getShape=function(t){for(var e,i=this.properties,t=DxChart.getMouseXY(t),s=t[0],a=t[1],o=0;o<this.coords.length;++o)if(this.context.beginPath(),this.context.arc(this.coords[o][0],this.coords[o][1],this.coords[o][2],this.coords[o][3],this.coords[o][4],!1),this.context.arc(this.coords[o][0],this.coords[o][1],this.coords[o][2]-this.coords[o][5],this.coords[o][4],this.coords[o][3],!0),this.context.isPointInPath(s,a))return DxChart.parseTooltipText&&i.tooltipsData&&(e=DxChart.parseTooltipText(i.tooltipsData,o)),{object:this,x:this.coords[o][0],y:this.coords[o][1],radiusOuter:this.coords[o][2],radiusInner:this.coords[o][2]-this.coords[o][5],width:this.coords[o][5],angleStart:this.coords[o][3],angleEnd:this.coords[o][4],index:o,dataset:0,sequentialIndex:o,tooltip:"string"==typeof e?e:null}},this.getValue=function(t){var e=this.properties,t=DxChart.getMouseXY(t),i=t[0],t=t[1],s=DxChart.getAngleByXY(this.centerx,this.centery,i,t),t=(s&&i>=this.centerx&&t>this.centery&&(s+=DxChart.TWOPI),((s=(s=s<e.anglesStart&&i>this.centerx?e.anglesEnd:s)<e.anglesStart?e.anglesStart:s)-e.anglesStart)/(e.anglesEnd-e.anglesStart)*(this.max-this.min)+this.min),t=Math.max(t,this.min);return Math.min(t,this.max)},this.highlight=function(t){var e=this.properties;"function"==typeof e.highlightStyle?e.highlightStyle(t):this.path("lw 5 b a % % % % % false a % % % % % true c f % s % lw 1",t.x,t.y,t.radiusOuter,t.angleStart,t.angleEnd,t.x,t.y,t.radiusInner,t.angleEnd,t.angleStart,e.highlightFill,e.highlightStroke)},this.getObjectByXY=function(t){var e=this.properties,t=DxChart.getMouseXY(t);return this.path("b a % % % % % false",this.centerx,this.centery,this.radius,e.anglesStart,e.anglesEnd),this.path("a % % % % % true",this.centerx,this.centery,this.radius-this.width,e.anglesEnd,e.anglesStart),this.context.isPointInPath(t[0],t[1])?this:null},this.allowAdjusting=function(){},this.changing_mousemove=function(t){var e=this.properties;e.changeableValue&&DxChart.Registry.get("changing")&&DxChart.Registry.get("changing").uid==this.uid&&"number"==typeof(t=this.getValue(t))&&(DxChart._fireEvent(this,"onadjust"),this.value=Number(t.toFixed(e.scaleDecimals)),DxChart.redrawCanvas(this.canvas))},this.getAngle=function(t){var e=this.properties;return t>this.max||t<this.min?null:t/this.max*(e.anglesEnd-e.anglesStart)+e.anglesStart},this.overChartArea=function(t){var e=this.properties,t=DxChart.getMouseXY(t),i=t[0],t=t[1];return this.path("b a % % % % % false a % % % % % true",this.coords[0][0],this.coords[0][1],this.coords[0][2],e.anglesStart,e.anglesEnd,this.coords[0][0],this.coords[0][1],this.coords[0][2]-this.coords[0][5],e.anglesEnd,e.anglesStart),this.context.isPointInPath(i,t)},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.backgroundColor=DxChart.arrayClone(t.backgroundColor),this.original_colors.colors=DxChart.arrayClone(t.colors)),t.colorsStroke=this.parseSingleColorForGradient(t.colorsStroke),t.backgroundColor=this.parseSingleColorForGradient(t.backgroundColor)},this.reset=function(){},this.firstDrawFunc=function(){},this.grow=function(){this.cancelStopAnimation();var i=this,s=(arguments[0]||{}).frames||30,a=0,o=arguments[1]||function(){};if(DxChart.isNumber(this.value))var r=this.currentValue,n=(t=this.value-Number(this.currentValue))/s;else for(var r=[],t=[],n=[],e=0;e<this.value.length;++e)r[e]=DxChart.isNull(this.currentValue)?0:this.currentValue[e],t[e]=this.value[e]-Number(DxChart.isNull(this.currentValue)?0:this.currentValue[e]),n[e]=t[e]/s;return function t(){if(i.stopAnimationRequested)i.stopAnimationRequested=!1;else if(++a<=s){if(DxChart.isNumber(i.value))i.value=r+n*a;else for(var e=0;e<i.value.length;++e)i.value[e]=r[e]+n[e]*a;DxChart.clear(i.canvas),DxChart.redrawCanvas(i.canvas),DxChart.Effects.updateCanvas(t)}else o()}(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.tooltipSubstitutions=function(t){return{index:t.index,dataset:0,sequentialIndex:t.index,value:this.value,values:[this.value]}},this.tooltipsFormattedCustom=function(t,e){var i=this.properties,s=(i.tooltipsFormattedKeyColors&&i.tooltipsFormattedKeyColors[t.index]?i.tooltipsFormattedKeyColors:i.colors)[t.index];return{label:i.tooltipsFormattedKeyLabels&&i.tooltipsFormattedKeyLabels[t.index]?i.tooltipsFormattedKeyLabels[t.index]:"",color:s,value:t.values[0][t.index]}},this.positionTooltipStatic=function(t){var e=t.object,i=t.event,s=t.tooltip,a=(t.index,DxChart.getCanvasXY(e.canvas)),i=(shape=this.getShape(i),angle=(shape.angleEnd-shape.angleStart)/2+shape.angleStart,DxChart.getRadiusEndPoint(shape.x,shape.y,angle,(shape.radiusOuter-shape.radiusInner)/2+shape.radiusInner));t.tooltip.style.left=a[0]+i[0]-s.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=a[1]+i[1]-s.offsetHeight+e.properties.tooltipsOffsetY-10+"px"},this.resetData(t.min,t.max,t.value),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartThermometer(t){return DxChart._Base.call(this,t,"thermometer"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"tickmarks"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"scale"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"default"),this.properties.labelsCount=5,this.properties.marginLeftAuto=!1,t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t,e,i){this.binddataset&&(t=DxChart._getColumnDataset(this.binddataset,t),e=DxChart._getColumnDataset(this.binddataset,e),i=DxChart._getColumnDataset(this.binddataset,i)),this.min=DxChart.str2num(t),DxChart.isArray(this.min)&&(this.min=this.min[0]),this.max=DxChart.str2num(e),DxChart.isArray(this.max)&&(this.max=this.max[0]),this.value=DxChart.str2num(i),DxChart.isArray(this.value)&&(this.value=this.value[0]),this.graphArea=[],this.currentValue=null,this.$0={}},this.draw=function(){var t,e;return this.min||this.max?(t=this.properties,DxChart._BeforeDraw(this,!0),this.value=Math.min(this.max,this.value),this.value=Math.max(this.min,this.value),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.currentValue=this.value,this.coordsText=[],this.scale2=DxChart.getScale({object:this,options:{"scale.max":this.max,"scale.min":this.min,"scale.strict":!0,"scale.thousand":t.scaleThousand,"scale.point":t.scalePoint,"scale.decimals":t.scaleDecimals,"ylabels.count":t.labelsCount,"scale.round":t.scaleRound,"scale.units.pre":t.scaleUnitsPre,"scale.units.post":t.scaleUnitsPost}}),t.marginLeftAuto&&(e=parseInt(this.canvas.width/3),this.marginLeft=e,this.marginRight=e),this.x=this.marginLeft,this.width=this.canvas.width-this.marginLeft-this.marginRight,this.y=this.marginTop+this.width/2,this.halfWidth=this.width/2,this.bulbTopCenterx=this.marginLeft+this.width/2,this.bulbTopCentery=this.marginTop+this.width/2,this.bulbTopRadius=Math.max(this.width/2,1),this.bulbBottomCenterx=this.marginLeft+this.width/2,this.bulbBottomRadius=Math.max("number"==typeof t.bulbBottomRadius?t.bulbBottomRadius:.75*this.width+t.bulbBottomRadiusAdjust,1),this.bulbBottomCentery=this.canvas.height-this.marginBottom-this.bulbBottomRadius,this.scaleTopY=this.bulbTopCentery,this.scaleBottomY=this.bulbBottomCentery-this.bulbBottomRadius,this.scaleHeight=this.scaleBottomY-this.scaleTopY,this.height=this.getYCoord(this.min)-this.getYCoord(this.value),this.coords[0]=[this.x,this.getYCoord(this.value),this.width,this.height],this.drawBackground(),this.drawBar(),this.drawTickMarks(),this.drawLabels(),t.titleText&&this.drawTitle(),t.titleSide&&this.drawSideTitle(),t.contextmenu&&DxChart.showContext(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this):DxChart.NoDataShow(this)},this.drawBackground=function(){var t=this.properties;t.shadowUse&&DxChart.setShadow(this,t.shadowStyleObj.color,t.shadowStyleObj.offsetx,t.shadowStyleObj.offsety,t.shadowStyleObj.blur),this.pathBackground(),this.context.strokeStyle=t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=t.backgroundColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.lineWidth=1+t.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.stroke(),this.context.fill(),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)},this.drawBar=function(){var t=this.properties;this.pathBar(),this.path("f %",t.colors[0])},this.pathBar=function(){var t=this.coords[0][3],t=this.coords[0][1]+this.coords[0][3]-t;DxChart.noShadow(this),this.context.beginPath(),this.context.strokeStyle="transparent",isNexacroRuntime&&this.context.setElementStrokeStyle(context.strokeStyle),this.context.rect(this.coords[0][0],t,this.coords[0][2],this.bulbBottomCentery-t),this.context.moveTo(this.bulbBottomCenterx+this.bulbBottomRadius,this.bulbBottomCentery),this.context.arc(this.bulbBottomCenterx,this.bulbBottomCentery,this.bulbBottomRadius,0,6.28,!1)},this.pathBackground=function(){isNexacroRuntime?this.path("b  r % % % %  a % % % % % false m % % a % % % 0 6.2830 false c",this.x,this.scaleTopY-1,this.coords[0][2],this.bulbBottomCentery-this.scaleTopY,this.bulbTopCenterx,this.bulbTopCentery,this.bulbTopRadius,DxChart.HALFPI,DxChart.TWOPI-DxChart.HALFPI,this.bulbBottomCenterx,this.bulbBottomCentery,this.bulbBottomCenterx,this.bulbBottomCentery,this.bulbBottomRadius):this.path("b  r % % % %  a % % % 3.1415927 6.28 false m % % a % % % 0 6.2830 false c",this.x,this.scaleTopY-1,this.coords[0][2],this.bulbBottomCentery-this.scaleTopY,this.bulbTopCenterx,this.bulbTopCentery,this.bulbTopRadius,this.bulbBottomCenterx,this.bulbBottomCentery,this.bulbBottomCenterx,this.bulbBottomCentery,this.bulbBottomRadius)},this.drawTickMarks=function(){var t=this.properties;if(t.tickmarksCount){var e=t.tickmarksSize;this.context.strokeStyle=t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=t.lineWidth/2,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.beginPath();for(var i=0;i<=t.tickmarksCount;++i){var s=this.scaleBottomY-this.scaleHeight/t.tickmarksCount*i;this.context.moveTo(this.marginLeft,Math.round(s)),this.context.lineTo(this.marginLeft+e,Math.round(s)),this.context.moveTo(this.canvas.width-this.marginRight,Math.round(s)),this.context.lineTo(this.canvas.width-this.marginRight-e,Math.round(s))}this.context.stroke(),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)}},this.drawLabels=function(){var t,e,i=this.properties;i.labelsValue&&(i.scaleVisible,t=DxChart.numberFormat({object:this,number:this.value.toFixed("number"==typeof i.labelsValueDecimals?i.labelsValueDecimals:i.scaleDecimals),unitspre:"string"==typeof i.labelsValueUnitsPre?i.labelsValueUnitsPre:i.scaleUnitsPre,unitspost:"string"==typeof i.labelsValueUnitsPost?i.labelsValueUnitsPost:i.scaleUnitsPost,point:"string"==typeof i.labelsValuePoint?i.labelsValuePoint:i.scalePoint,thousand:"string"==typeof i.labelsValueThousand?i.labelsValueThousand:i.scaleThousand}),e=DxChart.getTextInfo({object:this,prefix:"labelsValue"}),DxChart.text({object:this,font:e.font,size:e.size,color:e.color,bold:e.bold,italic:e.italic,x:this.coords[0][0]+this.coords[0][2]/2+i.labelsValueOffsetX,y:this.coords[0][1]+7+i.labelsValueOffsetY,text:t,valign:"top",halign:"center",bounding:!0,boundingFill:"white",tag:"labels.value"})),i.scaleVisible&&this.drawScale()},this.drawTitle=function(){DxChart.drawTitle(this)},this.drawSideTitle=function(){var t=this.properties,e=DxChart.getTextInfo({object:this,prefix:"titleSide"}),i=this.marginLeft-3,s=this.scaleHeight/2+this.marginTop+this.bulbTopRadius;"number"==typeof t.titleSideOffsetX&&(i+=t.titleSideOffsetX),"number"==typeof t.titleSideOffsetY&&(s+=t.titleSideOffsetY),this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),DxChart.text({object:this,font:e.font,size:e.size,color:e.color,bold:e.bold,italic:e.italic,x:i,y:s,text:String(t.titleSide),valign:"bottom",halign:"center",angle:270,tag:"title.side",accessible:!1})},this.drawScale=function(){for(var t=this.properties,e=(this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),t.scaleUnitsPre,t.scaleUnitsPost,"number"==typeof t.labelsDecimals?t.labelsDecimals:t.scaleDecimals),i=t.labelsCount,s=(this.max-this.min)/i,a=1;a<=i;++a){var o=this.canvas.width-this.marginRight+t.lineWidth/2,r=this.canvas.height-this.marginBottom-2*this.bulbBottomRadius-this.scaleHeight/i*a,n=DxChart.numberFormat({object:this,number:String((this.min+a*s).toFixed(e)),unitspre:"string"==typeof t.labelsUnitsPre?t.labelsUnitsPre:t.scaleUnitsPre,unitspost:"string"==typeof t.labelsUnitsPost?t.labelsUnitsPost:t.scaleUnitsPost,point:"string"==typeof t.labelsPoint?t.labelsPoint:t.scalePoint,thousand:"string"==typeof t.labelsThousand?t.labelsThousand:t.scaleThousand}),h=DxChart.getTextInfo({object:this,prefix:"labels"});DxChart.text({object:this,font:h.font,size:h.size,color:h.color,bold:h.bold,italic:h.italic,x:o+5+t.labelsOffsetX,y:r+t.labelsOffsetY,text:n,valign:"center",tag:"scale"})}DxChart.text({object:this,font:h.font,size:h.size,color:h.color,bold:h.bold,italic:h.italic,x:o+6+t.labelsOffsetX,y:this.bulbBottomCentery-this.bulbBottomRadius+t.labelsOffsetY,text:DxChart.numberFormat({object:this,number:this.min.toFixed(e),unitspre:"string"==typeof t.labelsUnitsPre?t.labelsUnitsPre:t.scaleUnitsPre,unitspost:"string"==typeof t.labelsUnitsPost?t.labelsUnitsPost:t.scaleUnitsPost,point:"string"==typeof t.labelsPoint?t.labelsPoint:t.scalePoint,thousand:"string"==typeof t.labelsThousand?t.labelsThousand:t.scaleThousand}),valign:"center",tag:"scale"})},this.getShape=function(t){for(var e=this.properties,t=DxChart.getMouseXY(t),i=t[0],s=t[1],a=0;a<this.coords.length;a++){var o=this.coords[a],r=o[0],n=o[1],h=o[2],o=o[3];if(this.pathBar(),this.context.isPointInPath(i,s))return{object:this,x:r,y:n,width:h,height:o,index:0,dataset:0,sequentialIndex:0,tooltip:"string"==typeof(r=DxChart.parseTooltipText?DxChart.parseTooltipText(e.tooltipsData,a):"")?r:null}}return null},this.getValue=function(t){t=(2===t.length?(t[0],t):((t=DxChart.getMouseXY(t))[0],t))[1];t=(this.scaleHeight-(t-this.scaleTopY))/this.scaleHeight,t=(t*=this.max-this.min)+this.min;return t=Math.max(t,this.min),t=Math.min(t,this.max)},this.highlight=function(t){var e=this.properties;e.tooltipsHighlight&&("function"==typeof e.highlightStyle?e.highlightStyle(t):(this.pathBar(),this.path("s % f %",e.highlightStroke,e.highlightFill)))},this.getObjectByXY=function(t){var t=DxChart.getMouseXY(t),e=t[0],t=t[1];if(this.pathBackground(),this.context.isPointInPath(e,t))return this},this.changing_mousemove=function(t){var e=this.properties;e.changeableValue&&DxChart.Registry.get("changing")&&DxChart.Registry.get("changing").uid==this.uid&&(DxChart.getMouseXY(t),"number"==typeof(t=this.getValue(t)))&&(DxChart._fireEvent(this,"onadjust"),this.value=Number(t.toFixed(e.scaleDecimals)),DxChart.redrawCanvas(this.canvas))},this.getYCoord=function(t){return t>this.max||t<this.min?null:(t=Math.abs(t-this.min)/Math.abs(this.max-this.min),t*=this.scaleBottomY-this.scaleTopY,this.scaleBottomY-t)},this.overChartArea=function(t){var t=DxChart.getMouseXY(t),e=t[0],t=t[1];return this.pathBackground(),this.context.isPointInPath(e,t)},this.parseColors=function(){0===this.original_colors.length&&(this.original_colors.colors=DxChart.arrayClone(this.properties.colors));for(var t=this.properties.colors,e=0;e<t.length;++e)t[e]=this.parseSingleColorForGradient(t[e])},this.reset=function(){},this.firstDrawFunc=function(){},this.drawAni=function(){"grow"===(arguments[0]||"grow")&&this.grow(arguments[1]||{},arguments[2]||function(){})},this.grow=function(){this.cancelStopAnimation();var e=this,i=arguments[1]||function(){},t=arguments[0]||{},s=t.frames||30,a=Number(e.currentValue),t=e.value,t=Math.min(t,this.max),o=(Math.max(t,this.min)-a)/s,r=0;return function t(){e.stopAnimationRequested?e.stopAnimationRequested=!1:(e.value=o*r+a,DxChart.clear(e.canvas),DxChart.redrawCanvas(e.canvas),r<s?(r++,DxChart.Effects.updateCanvas(t,e.canvas)):i(e))}(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.tooltipSubstitutions=function(t){return{index:0,dataset:0,sequentialIndex:0,value:this.value,values:[this.value]}},this.tooltipsFormattedCustom=function(t,e){var i=this.properties,s=(i.tooltipsFormattedKeyColors&&i.tooltipsFormattedKeyColors[0]?i.tooltipsFormattedKeyColors:i.colors)[0];return{label:i.tooltipsFormattedKeyLabels&&i.tooltipsFormattedKeyLabels[0]?i.tooltipsFormattedKeyLabels[0]:"",color:s}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas)),a=this.coords[t.index];isNexacroRuntime?(t.tooltip.set_left(s[0]+a[0]+a[2]/2-i.getOffsetWidth()/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]+a[1]-i.getOffsetHeight()-10+e.properties.tooltipsOffsetY),parseFloat(t.tooltip.top)<0&&t.tooltip.set_top(parseFloat(t.tooltip.style.top)+a[3]/2+5)):(t.tooltip.style.left=s[0]+a[0]+a[2]/2-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]+a[1]-i.offsetHeight-10+e.properties.tooltipsOffsetY+"px",parseFloat(t.tooltip.style.top)<0&&(t.tooltip.style.top=parseFloat(t.tooltip.style.top)+a[3]/2+5+"px"))},this.resetData(t.min,t.max,t.value),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartTree(t){return DxChart._Base.call(this,t,"tree"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"default"),this.Cubes=[],this.LevelHeight=[],this.Final=null,this.NodeClick=null,this.NodeSearch=null,this.coords=[],this.dpr=1,this.isDragging=!1,this.dragStart={x:0,y:0},this.cameraOffset={x:this.canvas.width/2,y:this.canvas.height/2},this.cameraZoom=1,this.lastZoom=this.cameraZoom,this.initialPinchDistance=null,this.properties.scaleMaxZoom=5,this.properties.scaleMinZoom=.2,this.SCROLL_SENSITIVITY=5e-4,this.properties.backgroundGrid=!1,this.properties.scaleAuto=!1,this.properties.scaleMove=!1,this.properties.scaleZoom=!1,this.properties.scaleValueX=1,this.properties.scaleValueY=1,this.properties.itemConnectionStyle="curve",this.properties.itemTextShowValuePreText="",this.properties.itemTextShowValuePostText="",this.properties.itemTextShowValue=!1,this.properties.itemTextFontStyle="10px Tahoma",this.properties.itemTextColor="#000000",this.properties.itemTextHMargin=5,this.properties.itemTextVMargin=5,this.properties.itemTextVGap=5,this.properties.itemMargin=5,this.properties.itemHighlightTextColor="green",this.properties.itemHighlightStrokeColor="#ffffff",this.properties.rootPosition="top",this.properties.animationGrowMultiplier=1,this.properties.colors=["red","blue"],this.properties.highlightFill="rgba(255,255,255,0.3)",this.properties.highlightStroke="gray",this.properties.tooltipsFormattedKeyLabels=[],this.properties.tooltipsFormattedKeyColors=[],this.properties.itemCollapseLineWidth=1,this.properties.itemCollapseBackgroundColor="#ffffff",this.properties.itemCollapseLineColor="#000000",this.properties.itemExpandWidth=3,this.properties.itemExpandLineWidth=1,this.properties.itemExpandBackgroundColor="#111111",this.properties.itemExpandLineColor="#000000",this.properties.itemExpandShow=!0,this.properties.itemHighlightLineColor="#333300",this.properties.itemHighlightSubTextColor="#ffffff",this.properties.itemHighlightExpandRadius=null,this.properties.itemHighlightExpandFillColor=null,this.properties.itemHighlightExpandLineColor=null,this.properties.itemHighlightExpandLineWidth=null,this.properties.itemHighlightCollapseFillColor=null,this.properties.itemHighlightCollapseLineColor=null,this.properties.itemHighlightCollapseLineWidth=null,this.properties.itemLineColor="#dddddd",this.properties.itemTextColor="#000000",this.properties.itemLineWidth=1,t.binddataset&&(this.binddataset=t.binddataset),DxChart.parseProperties(this,t.options),this.resetData=function(t){this.Cubes=null,this.Cubes=[];for(var e=t.nameColumn,i=t.parentNameColumn,s=t.valueColumn,a=t.expandColumn,o=t.colorColumn,r=t.fontColumn,n=t.lineWidthColumn,h=t.lineColorColumn,l=this.binddataset,c=0;c<l.rowcount;c++){var x=new _TreeCube(l.getColumn(c,e),l.getColumn(c,i),{n:e?l.getColumn(c,e):null,c:o?l.getColumn(c,o):null,f:r?l.getColumn(c,r):null,lw:n?l.getColumn(c,n):null,lc:h?l.getColumn(c,h):null,v:s?l.getColumn(c,s):null,e:!a||l.getColumn(c,a)},this.properties,c,this);this.Push(x)}},this.Push=function(i){for(i.canvas=this.canvas,i.context=this.context,i.OC=this;;){var t=this.Each(this.Cubes,function(t,e){if(t.ParentId==i.Id)return e});if(this.IsNull(t))break;t=this.Cubes.splice(t,1)[0];i.AddChild(t)}var e=this.Each(this.Cubes,function(t,e){return t.FindNode(i.ParentId)});this.IsNull(e)?(this.Cubes.push(i),i.IsRoot=!0):(e.AddChild(i),i.parentNode=e,i.IsRoot=!1)},this.IsSolid=function(t){return!this.IsNull(t)&&("boolean"!=typeof t||t)},this.IsFunction=function(t){return!this.IsNull(t)&&"function"==typeof t},this.IsNull=function(t){return null==t},this.Each=function(t,e){for(var i=0;i<t.length;++i){var s=e(t[i],i);if(this.IsSolid(s))return s}return null},this.SetNodeLineColor=function(t,e,i,s,a,o,r,n,h,l){var c=this;t.HighlightLineColor=e,t.HighlightSubTextColor=i,t.HighlightExpandRadius=s,t.HighlightExpandLineColor=o,t.HighlightExpandLineWidth=r,t.HighlightExpandFillColor=a,t.HighlightCollapseLineColor=h,t.HighlightCollapseLineWidth=l,t.HighlightCollapseFillColor=n,this.Each(t.Children,function(t){c.SetNodeLineColor(t,e,i,s,a,o,r,n,h,l)})},this.SearchNode=function(t,e){var i;return t.index==e?t:(i=this).Each(t.Children,function(t){return i.SearchNode(t,e)})},this.SearchClickedOne=function(t,e,i){var s;return t.ClickMe(e,i)?t:(s=this).Each(t.Children,function(t){return s.SearchClickedOne(t,e,i)})},this.GetClickedCube=function(t,e){return this.IsNull(this.Final)?null:this.SearchClickedOne(this.Final,t,e)},this.Layout=function(t){var e,i,s=this.properties,a=(t.RefreshLevel(),t.ComputeSpan(),t.SetLevelInfo(t),this.canvas.width-s.marginLeft-s.marginRight),o=this.canvas.height-s.marginTop-s.marginBottom,r=0,n=("top"==s.rootPosition&&(t.Position.x=this.canvas.width/2-t.Dimen.width/2,r=o/t.LevelDictShowSize.length),"left"==s.rootPosition&&(t.Position.x=s.marginLeft,r=a/t.LevelDictShowSize.length),"center"==s.rootPosition&&(t.Position.x=a/2,r=Math.min(a,o)/(t.LevelDictShowSize.length+1)),[]),h=(n.push(t),"top"==s.rootPosition?(t.Position.l=s.marginLeft+(a-t.SpanWidth)/2,t.Position.y=s.marginTop):"left"==s.rootPosition?(t.Position.l=s.marginTop+(o-t.SpanHeight)/2,t.Position.y=this.canvas.height/2-t.Dimen.height/2):"center"==s.rootPosition&&(t.Position.y=o/2,t.Position.l=0-DxChart.HALFPI,t.Position.startAngle=0,t.Position.endAngle=DxChart.TWOPI,t.Position.radius=0,t.Seq=0),t.Position.x),l=t.Position.y,c=(r*=s.animationGrowMultiplier,Math.max(a,o),0),x=0,d=0,u=0,g=0,p=(t.Size,0);for(this.nDiv=r;0<n.length;){var f=n.shift();if(!f.parentNode||0!=f.parentNode.Expand){for(var m,b,C,y,D,v=f.LinesSize[0],c=Math.max(c,f.Position.x+v[0]),x=Math.max(x,f.Position.y+v[1]),u=Math.min(u,f.Position.x),d=Math.min(d,f.Position.y),S=0;S<f.Children.length;++S){var k=f.Children[S];0==S&&(p=0,g=f.Position.l,"left"==s.rootPosition?g<s.marginTop&&(g=s.marginTop):"center"==s.rootPosition&&(b=f.Position.startAngle,m=(C=f.Position.endAngle)-b)),"top"==s.rootPosition?(e=k.SpanWidth,k.Position.x=g+e/2*s.animationGrowMultiplier,k.Position.l=k.Position.x-e/2,g+=e,t.LevelDictSize[k.Level]>r?k.Position.y=k.Level*(t.LevelDictSize[k.Level]*s.animationGrowMultiplier):k.Position.y=k.Level*r):"left"==s.rootPosition?(e=k.SpanHeight,k.Position.y=g+e/2*s.animationGrowMultiplier,k.Position.y<s.marginTop&&(k.Position.y=s.marginTop),k.Position.l=k.Position.y-e/2,g+=e,t.LevelDictSize[k.Level]>r?k.Position.x=k.Level*(t.LevelDictSize[k.Level]*s.animationGrowMultiplier):k.Position.x=k.Level*r):"center"==s.rootPosition&&(C=b+k.Size/f.Size*m,k.Position.startAngle=b,k.Position.endAngle=C,i=k.Level*r,D=DxChart.getRadiusEndPoint(h,l,b,i),k.Position.radius=i*s.animationGrowMultiplier,k.Position.x=D[0],k.Position.y=D[1],b=C,k.Seq=p,p++),v=k.LinesSize[0],c=Math.max(c,k.Position.x+v[0]),x=Math.max(x,k.Position.y+v[1]),u=Math.min(u,k.Position.x),d=Math.min(d,k.Position.y),n.push(k)}"center"==s.rootPosition&&0<f.Children.length&&t!=f&&(m=(f.Position.endAngle-f.Position.startAngle)/2,b=f.Children[0].Position.startAngle,y=(C=f.Children[f.Children.length-1].Position.endAngle)-(C-b)/2,D=DxChart.getRadiusEndPoint(t.Position.x,t.Position.y,y,f.Position.radius),f.Position.x=D[0],f.Position.y=D[1],f.Position.startAngle=y-m,f.Position.endAngle=y+m)}}this.TREEMaxW=c+Math.abs(u),this.TREEMaxH=x+Math.abs(d),this.TREEMinL=u,this.TREEMinT=d},this.mapRect=function(t){var e={},i=this;return e.x=void 0===(t=t||{}).x||null===t.x?0:t.x,e.y=void 0===t.y||null===t.y?0:t.y,e.w=void 0===t.w||null===t.w?1:t.w,e.h=void 0===t.h||null===t.h?1:t.h,e.aspectRatio=function(){return Math.max(e.w/e.h,e.h/e.w)},e.copy=function(){return i.rect(e)},e.toString=function(){return"rect [x: "+e.x+", y: "+e.y+", w: "+e.w+", h: "+e.h+"]"},e},this.mapSortDescending=function(t){t=t.slice(0);return t.sort(function(t,e){return e.SumValue-t.SumValue}),t},this.mapTotalSize=function(t,e,i){for(var s=0,i=void 0===i?t.length-1:i,a=e=void 0===e?0:e;a<=i;a++)s+=t[a].SumValue;return s},this.mapSlice=function(t,e,i,s,a,o,r){for(var n=this.mapTotalSize(t,i,s),h=0,l=1===o,c=i;c<=s;c++){var x=t[c],d=(x.TotalValue=n,this.mapRect()),u=x.SumValue/n;l?(d.x=a.x,d.w=a.w,d.y=1===r?a.y+a.h*h:a.y+a.h*(1-h-u),d.h=a.h*u):(d.x=1===r?a.x+a.w*h:a.x+a.w*(1-h-u),d.w=a.w*u,d.y=a.y,d.h=a.h),x.bounds=d,h+=u}},this.mapLayoutBest=function(t,e,i,s,a,o){var r=a.w>a.h?2:1;this.mapSlice(t,e,i,s,a,r,void 0===o?1:o)},this.mapNormAspect=function(t,e,i,s){t=t*s/(e*i/s);return t<1?1/t:t},this.mapApply=function(t,e,i,s,a){if(!((a=void 0===a?t.length-1:a)<(s=void 0===s?0:s)))if(a-s<2)this.mapLayoutBest(t,e,s,a,i);else{var o=i.x,r=i.y,n=i.w,h=i.h,l=this.mapTotalSize(t,s,a),c=s,x=t[s].SumValue/l,d=x;if(n<h){for(;c<=a;){var u=this.mapNormAspect(h,n,x,d),g=t[c].SumValue/l;if(t[c].Pecentage=g,this.mapNormAspect(h,n,x,d+g)>u)break;c++,d+=g}c>=t.length&&(c=t.length-1),this.mapLayoutBest(t,e,s,c,this.mapRect({x:o,y:r,w:n,h:h*d})),this.mapApply(t,e,this.mapRect({x:o,y:r+h*d,w:n,h:h*(1-d)}),c+1,a)}else{for(;c<=a;){u=this.mapNormAspect(n,h,x,d),g=t[c].SumValue/l;if(t[c].Pecentage=g,this.mapNormAspect(n,h,x,d+g)>u)break;c++,d+=g}c>=t.length&&(c=t.length-1),this.mapLayoutBest(t,e,s,c,this.mapRect({x:o,y:r,w:n*d,h:h})),this.mapApply(t,e,this.mapRect({x:o+n*d,y:r,w:n*(1-d),h:h}),c+1,a)}}},this.LayoutMap=function(t){for(var i=this.properties,e=(t.RefreshLevel(),t.ComputeSpanMap(),this.canvas.width-i.marginLeft-i.marginRight),s=this.canvas.height-i.marginTop-i.marginBottom,a=(t.bounds.x=i.marginLeft,t.bounds.y=i.marginTop,t.bounds.w=e*i.animationGrowMultiplier,t.bounds.h=s*i.animationGrowMultiplier,[]),e=(a.push(t),i.itemFontSeqStyleObj,t.LinesFont[0]),o=(isNexacroRuntime?(s=new nexacro.FontObject(e),this.context.setElementFont(s)):this.context.font=e,t._DrawText(t.bounds.x,t.bounds.y-t.LinesSize[0][1],t.Name,t.Color),this),r=this.context;0<a.length;){for(var n,h,l,c,x,d=a.shift(),u=[],g=0;g<d.Children.length;++g){var p=d.Children[g];a.push(p),u.push(p)}0<u.length&&(0<d.Level&&(x=d.bounds.x,n=d.bounds.y,h=d.bounds.w,l=d.bounds.h,(c=d.LinesSize[0][1]+10)<h)&&c<l&&d.boundRect({x:x+5,y:n+c,w:h-10,h:l-c-5}),x=this.mapSortDescending(u),this.mapApply(x,d,d.bounds),this.Each(x,function(t){var e=t.bounds;return 3<e.w&&3<e.h&&(o.coords.push([t,e.x,e.y,e.w,e.h,"text"]),r.beginPath(),r.strokeStyle=t.LineColor,r.fillStyle=t.BackgroundColor,isNexacroRuntime&&r.setElementStrokeStyle(r.strokeStyle),isNexacroRuntime&&r.setElementFillStyle(r.fillStyle),r.lineWidth=t.LineWidth,isNexacroRuntime&&r.setElementLineWidth(t.LineWidth),r.rect(e.x,e.y,e.w,e.h),r.closePath(),r.fill(),r.stroke(),1==i.itemTextShowValue?(t.Name,i.itemTextShowValuePreText,t.value,i.itemTextShowValuePostText):t.Name,e.w>t.LinesSize[0][0]?t._DrawText(e.x+10,e.y+10,t.Name,t.Color):t.bounds.h>t.LinesSize[0][0]&&t._DrawText(e.x+10,e.y+10,t.Name,t.Color,!0)),null}),x=null)}this.properties._rootTree&&(this.coords2=[],r.beginPath(),r.strokeStyle="#000000",isNexacroRuntime&&r.setElementStrokeStyle(r.strokeStyle),r.lineWidth=2,isNexacroRuntime&&r.setElementLineWidth(item.LineWidth),s=this.canvas.height/2,e=this.properties.marginLeft/2,r.moveTo(e,s),r.lineTo(10+e,s-10),r.lineTo(10+e,10+s),r.lineTo(e,s),r.closePath(),r.stroke(),this.coords2.push(["back",e,s,10+e,s-10,10+e,10+s,e,s]))},this.stopAnimation=function(){this.set("animationGrowMultiplier",1),this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.drawAni=function(){"grow"===(arguments[0]||"grow")&&this.grow(arguments[1]||{},arguments[2]||function(){})},this.grow=function(){this.cancelStopAnimation();var e=this,t=arguments[0]||{},i=arguments[1]||function(){},s=t.frames||30,a=0;return function t(){e.stopAnimationRequested?e.stopAnimationRequested=!1:(e.set("animationGrowMultiplier",a/s),DxChart.clear(e.canvas),DxChart.redrawCanvas(e.canvas),a<s?(a++,DxChart.Effects.updateCanvas(t,e.canvas)):i(e))}(),this},this.growNode=function(t,e){this.cancelStopAnimation();var i=this,s=20,a=0,o=this.properties,o=(this.canvas.width,o.marginLeft,o.marginRight,this.canvas.height,o.marginTop,o.marginBottom,this.properties),r=t.bounds.x,n=t.bounds.y,h=t.bounds.w,t=t.bounds.h,l=o.marginLeft,c=o.marginRight,x=o.marginTop,d=o.marginBottom,u=n-x,g=r-l,p=this.canvas.height-x-(n+t),f=this.canvas.width-l-(r+h),m=(o.marginLeft=r,o.marginTop=n,o.marginBottom=this.canvas.height-n-t,o.marginRight=this.canvas.width-r-h,g/s),b=u/s,C=f/s,y=p/s;return function t(){i.stopAnimationRequested?i.stopAnimationRequested=!1:(DxChart.clear(i.canvas),DxChart.redrawCanvas(i.canvas),a<s?(o.marginLeft-=m,o.marginTop-=b,o.marginBottom-=y,o.marginRight-=C,a++,DxChart.Effects.updateCanvas(t,i.canvas)):(o.marginLeft=l,o.marginTop=x,o.marginBottom=d,o.marginRight=c,DxChart.redrawCanvas(i.canvas)))}(),this},this.draw=function(){var t=this.properties,e=(this.coords=[],this.coords2=[],this.dprX=t.scaleValueX,this.dprY=t.scaleValueY,DxChart._BeforeDraw(this),this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this);if("treemap"==this.properties.variantValue)DxChart.Background.draw(this),this.properties.rootPosition="left",this.properties._rootTree?e.LayoutMap(this.properties._rootTree):this.Each(this.Cubes,function(t){return e.LayoutMap(t),null});else if(this.Each(this.Cubes,function(t){return e.Layout(t),null}),this.FitstNode=null,this.Final=null,0<this.Cubes.length){this.FitstNode=this.Cubes[0],this.Final=this.Cubes[0];for(var i=1;i<this.Cubes.length;++i)this.Cubes[i].Size>this.Final.Size&&(this.Final=this.Cubes[i]);var s=1,a=1;this.TREEMaxW>this.canvas.width&&(s=this.canvas.width/this.TREEMaxW),this.TREEMaxH>this.canvas.height&&(a=this.canvas.height/this.TREEMaxH),t.scaleAuto?s<1||a<1?this.context.setTransform(s,0,0,a,Math.abs(this.TREEMinL)*s,Math.abs(this.TREEMinT)*a):this.context.setTransform(1,0,0,1,0,0):0==t.scaleZoom?this.context.setTransform(1,0,0,1,0,0):(this.context.scale(this.cameraZoom,this.cameraZoom),this.context.translate(-this.canvas.width/2+this.cameraOffset.x,-this.canvas.height/2+this.cameraOffset.y)),this.Final.Draw()}DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw")),DxChart._fireEvent(this,"onenddraw")},this.getEventLocation=function(t){return isNexacroRuntime?{x:t.clientx,y:t.clienty}:t.touches&&1==t.touches.length?{x:t.touches[0].clientX,y:t.touches[0].clientY}:t.clientX&&t.clientY?{x:t.clientX,y:t.clientY}:void 0},this.onPointerDown=function(t){this.properties.scaleMove&&(this.isDragging=!0,this.dragStart.x=this.getEventLocation(t).x/this.cameraZoom-this.cameraOffset.x,this.dragStart.y=this.getEventLocation(t).y/this.cameraZoom-this.cameraOffset.y)},this.onPointerUp=function(t){this.properties.scaleMove&&(this.isDragging=!1,this.initialPinchDistance=null,this.lastZoom=this.cameraZoom)},this.onPointerMove=function(t){var e;this.properties.scaleMove&&this.isDragging&&(this.cameraOffset.x=this.getEventLocation(t).x/this.cameraZoom-this.dragStart.x,this.cameraOffset.y=this.getEventLocation(t).y/this.cameraZoom-this.dragStart.y,e=this,DxChart.Effects.updateCanvas(function(){DxChart.redrawCanvas(e.canvas)},this.canvas))},this.handleTouch=function(t,e){1==t.touches.length?this.singleTouchHandler(t):"touchmove"==t.type&&2==t.touches.length&&(this.isDragging=!1,this.handlePinch(t))},this.handlePinch=function(t){t.preventDefault();var e=t.touches[0].clientX,i=t.touches[0].clientY,s=t.touches[1].clientX,t=t.touches[1].clientY,e=(e-s)*(e-s)+(i-t)*(i-t);null==this.initialPinchDistance?this.initialPinchDistance=e:this.adjustZoom_(null,e/this.initialPinchDistance)},this.adjustZoom=function(t,e){var i;this.properties.scaleZoom&&(i=t.deltaY*this.SCROLL_SENSITIVITY,this.adjustZoom_(e,i),t.stopPropagation())},this.adjustZoom_=function(t,e,i){var s;this.isDragging||(e?this.cameraZoom+=e:i&&(this.cameraZoom=i*this.lastZoom),this.cameraZoom=Math.min(this.cameraZoom,this.properties.scaleMaxZoom),this.cameraZoom=Math.max(this.cameraZoom,this.properties.scaleMinZoom),s=this,DxChart.Effects.updateCanvas(function(){DxChart.redrawCanvas(s.canvas)},this.canvas))},this.getObjectByXY=function(t){var e=this.properties,t=DxChart.getMouseXY(t),i=e.marginLeft;if("treemap"==this.properties.variantValue&&(i=0),t[0]>=i&&t[0]<=this.canvas.width-e.marginRight&&t[1]>=e.marginTop&&t[1]<=this.canvas.height-e.marginBottom)return this},this.onclick=function(t,e){if(e&&e.cube){if("treemap"==e.object.properties.variantValue&&1==e.object.properties.itemExpandShow){if("back"==e.cube)return e.object.coords2=[],e.object.properties._rootTree=null,void e.object.drawAni();0<e.cube.Children.length&&(e.object.properties._rootTree=e.cube,e.object.growNode(e.cube,"large"))}else 0<e.cube.Children.length&&(e.cube.Expand=!e.cube.Expand,e.object.draw());e.object.onnodeclick&&e.object.onnodeclick(e.cube)}},this.highlight=function(t){var e,i=this.properties;t&&t.cube&&(e=t.cube,"treemap"==i.variantValue?(DxChart.redrawCanvas(this.canvas),DxChart.Highlight.rect(this,t)):(this.SetNodeLineColor(e,this.properties.itemHighlightLineColor,this.properties.itemHighlightSubTextColor,this.properties.itemHighlightExpandRadius,this.properties.itemHighlightExpandFillColor,this.properties.itemHighlightExpandLineColor,this.properties.itemHighlightExpandLineWidth,this.properties.itemHighlightCollapseFillColor,this.properties.itemHighlightCollapseLineColor,this.properties.itemHighlightCollapseLineWidth),DxChart.Registry.set("treehighlight",{obj:this,cube:t.cube}),this.draw()))},this.removeHighlight=function(t){t&&t.cube&&(t=t.cube,this.SetNodeLineColor(t,null,null,null,null,null,null,null,null,null,null),DxChart.Registry.set("treehighlight",null),this.draw())},this.tooltipSubstitutions=function(t){var e,i=this.SearchNode(this.Cubes[0],t.index);if(i)return e=i?i.SumValue:"",this.properties.tooltipsFormattedKeyLabels[0]=i.Name,"treemap"==this.properties.variantValue?(this.properties.colors[0]=i.BackgroundColor||this.properties.colors[0],this.properties.tooltipsFormattedKeyColors[0]=this.properties.colors[0]):(this.properties.colors[0]=i.Color||this.properties.colors[0],this.properties.tooltipsFormattedKeyColors[0]=i.Color||this.properties.colors[0]),{index:t.index,dataset:0,sequentialIndex:t.index,value:e,values:[e]}},this.getShape=function(t){var e=this.properties,i=arguments[1]||this,s=DxChart.getMouseXY(t),a=s[0],o=s[1],r=(i.canvas,i.context,i.coords);if(0<this.coords2.length&&(this.context.beginPath(),this.context.moveTo(this.coords2[0][1],this.coords2[0][2]),this.context.lineTo(this.coords2[0][3],this.coords2[0][4]),this.context.lineTo(this.coords2[0][5],this.coords2[0][6]),this.context.lineTo(this.coords2[0][7],this.coords2[0][8]),this.context.closePath(),this.context.isPointInPath(a,o)))return{object:this,cube:"back",x:1,y:1,width:1,height:1,tooltip:" ",label:"BACK",dataset:0,sequentialIndex:0,index:0};for(var n=!1,h=r.length-1;0<=h;h--)if(0!=i.coords[h].length){var l,c,x,d,u,g,p=r[h][1],f=r[h][2],m=r[h][3],b=r[h][5];if("expand"==b||"text"==b||!isNaN(b)){if("expand"==b?isNexacroRuntime?this.path("b r % % % % c",p-m,f-m,2*m,2*m):this.path("b a % % % % % false c",p,f,m,0,DxChart.TWOPI):"text"==b&&(b=p,l=f,d=m,u=r[h][4],"top"==this.properties.rootPosition?isNexacroRuntime?this.path("b r % % % % c",p,f,u,m):this.path("b r % % % % c",b-u,l,u,d):"left"==this.properties.rootPosition?this.path("b r % % % % c",b,l,d,u):"center"==this.properties.rootPosition&&(isNexacroRuntime?(m=r[h][3],d=r[h][4],u=r[h][5],g=r[h][6],c=r[h][7],x=r[h][8],this.path("b m % % l % % l % % l % % l % % c",p,f,m,d,u,g,c,x,p,f)):(n=!0,m=r[h][3],d=r[h][4],u=r[h][6],this.path("b sa tr % % ro % r % % % % c",b,l,u,0,0,m,d)))),this.context.isPointInPath(a,o))return 1==n&&this.context.restore(),g=r[h][0],"treemap"==this.properties.variantValue?{object:this,cube:g,x:g.bounds.x,y:g.bounds.y,width:g.bounds.w,height:g.bounds.h,tooltip:e.tooltipsData,label:g.Name,dataset:0,sequentialIndex:g.index,index:g.index}:{object:this,cube:g,x:g.Position.x,y:g.Position.x,width:g.Dimen.width,height:g.Dimen.height,tooltip:e.tooltipsData,label:g.Name,dataset:0,sequentialIndex:g.index,index:g.index};1==n&&this.context.restore()}}},this.resetData(t),DxChart.register(this),this}function _TreeCube(t,e,i,s,a,o){return this._assignRandomColor=function(){function t(){return Math.round(255*Math.random())}return"rgba("+t()+","+t()+","+t()+",1)"},this.parent=null,this.Id=t,this.ParentId=e,this.Name=i.n,this.index=a,this.value=i.v?i.v.valueOf():null,this.Color=i.c||s.itemTextColor,this.BackgroundColor=i.b||this._assignRandomColor(),this.Font=i.f||s.itemTextFontStyle,(this.HighlightLineColor=null)==i.e||null==i.e?this.Expand=!0:this.Expand=nexacro._toBoolean(i.e),this.FontObj=DxChart._parseFontInfo(this.Font),this.LineWidth=i.lw||s.itemLineWidth,this.LineColor=i.lc||s.itemLineColor,this.Level=0,this.LevelMaxNodes=1,this.Depth=0,this.TotalHeight=0,this.cumW=0,this.cumH=0,this.coords=[],this.Size=1,this.Dimen={width:10,height:10},this.Span=0,this.Lines=[],this.Children=[],this.Position={x:0,y:0},this.SeperatorY=999999,this.canvas=null,this.context=null,this.OC=o,"treemap"==s.variantValue&&(this.bounds=this.OC.mapRect()),this.boundRect=function(t){return this.bounds.x=void 0===t.x||null===t.x?0:t.x,this.bounds.y=void 0===t.y||null===t.y?0:t.y,this.bounds.w=void 0===t.w||null===t.w?1:t.w,this.bounds.h=void 0===t.h||null===t.h?1:t.h,this.bounds},this.DrawCircle=function(t,e,i,s){var a,o,r,n=this.OC.properties,h=this.HighlightExpandRadius||n.itemExpandWidth;"leaf"==t?(a=this.HighlightCollapseFillColor||n.itemCollapseBackgroundColor,o=this.HighlightCollapseLineColor||n.itemCollapseLineColor,r=this.HighlightCollapseLineWidth||n.itemCollapseLineWidth,e.setElementLineWidth(r),e.setElementFillStyle(a),e.beginPath(),e.rect(i-h,s-h,2*h,2*h),e.setElementStrokeStyle(o)):(r=t?(a=this.HighlightExpandFillColor||n.itemExpandBackgroundColor,o=this.HighlightExpandLineColor||n.itemExpandLineColor,this.HighlightExpandLineWidth||n.itemExpandLineWidth):(a=this.HighlightCollapseFillColor||n.itemCollapseBackgroundColor,o=this.HighlightCollapseLineColor||n.itemCollapseLineColor,this.HighlightCollapseLineWidth||n.itemCollapseLineWidth),e.lineWidth=r,isNexacroRuntime&&e.setElementLineWidth(r),e.fillStyle=a,isNexacroRuntime&&e.setElementFillStyle(a),e.beginPath(),e.arc(i,s,h,0,2*Math.PI,!1),e.strokeStyle=o,isNexacroRuntime&&e.setElementStrokeStyle(o)),e.stroke(),e.fill()},this.DrawCirclePlus=function(t,e,i){var s=this.OC.properties,a=s.itemExpandWidth,o=(s.itemExpandBackgroundColor,s.itemExpandLineColor),s=s.itemExpandLineWidth;t.lineWidth=s,isNexacroRuntime&&t.setElementLineWidth(s),t.beginPath(),t.moveTo(e-a,i),t.lineTo(e+a,i),t.moveTo(e,i-a),t.lineTo(e,i+a),t.strokeStyle=o,isNexacroRuntime&&t.setElementStrokeStyle(o),t.stroke()},this.DrawCircleMinus=function(t,e,i){var s=this.OC.properties,a=s.itemExpandWidth,s=(s.itemExpandBackgroundColor,s.itemExpandLineColor);t.beginPath(),t.moveTo(e-a,i),t.lineTo(e+a,i),t.strokeStyle=s,isNexacroRuntime&&t.setElementStrokeStyle(s),t.stroke()},this.DrawConnection=function(t,e,i,s){var a=this.LineColor;this.HighlightLineColor&&(a=this.HighlightLineColor),"curve"==this.OC.properties.itemConnectionStyle?this.DrawCurveLine(t,e,i,s,this.LineWidth,a):this.DrawLine(t,e,i,s,this.LineWidth,a)},this.DrawSeperator=function(t,e,i){},this.DrawLine=function(t,e,i,s,a,o){t.beginPath(),t.lineWidth=a,isNexacroRuntime&&t.setElementLineWidth(a),t.strokeStyle=o,isNexacroRuntime&&t.setElementStrokeStyle(o),t.moveTo(i.x,i.y);var r,n,a=i.x,o=i.y,h=s.x,l=s.y;"top"==this.OC.properties.rootPosition?(r=Math.abs(s.y-i.y)/2,t.lineTo(a,o+r),t.lineTo(h,o+r),t.lineTo(h,l)):"left"==this.OC.properties.rootPosition?(n=Math.abs(s.x-i.x)/2,r=Math.abs(s.y-i.y)/2,t.lineTo(a+n,o),t.lineTo(a+n,l),t.lineTo(h,l)):"center"==this.OC.properties.rootPosition&&(i=this.Children[0].Position.startAngle,r=this.Children[childLength-1].Position.startAngle,o=this.OC.nDiv+(this.Children[0].nDiv-this.OC.nDiv)/2,a=DxChart.getRadiusEndPoint(this.startAngle,this.startAngle,i+(r-i),o),n=DxChart.getRadiusEndPoint(this.startAngle,this.startAngle,e.startAngle,o),t.lineTo(a[0],a[1]),t.lineTo(n[0],n[1]),t.lineTo(s.x,s.y)),t.stroke()},this.GetControlPoints=function(t,e,i,s,a,o,r){var n=Math.sqrt(Math.pow(i-t,2)+Math.pow(s-e,2)),n=r*n/(n+Math.sqrt(Math.pow(a-i,2)+Math.pow(o-s,2))),r=r-n;return[i+n*(t-a),s+n*(e-o),i-r*(t-a),s-r*(e-o)]},this.DrawCurveLine=function(t,e,i,s,a,o){var r,n,h,l,c,x,d;t.beginPath(),t.lineWidth=a,isNexacroRuntime&&t.setElementLineWidth(a),t.strokeStyle=o,isNexacroRuntime&&t.setElementStrokeStyle(o),t.moveTo(i.x,i.y),"top"==this.OC.properties.rootPosition?(h=Math.abs(s.x-i.x)/3,l=Math.abs(s.y-i.y)/3,i.x,s.x,c=i.x,x=i.y+l,d=s.x,r=s.y-l-l):"left"==this.OC.properties.rootPosition?(h=Math.abs(s.x-i.x)/3,l=Math.abs(s.y-i.y)/3,r=(i.y,s.y,c=i.x+h,x=i.y,d=s.x-h-h,s.y)):"center"==this.OC.properties.rootPosition&&(this.OC.FitstNode.Position.x,this.OC.FitstNode.Position.y,r=1==(a=this.Children.length)||this.Level<1?(c=i.x,x=i.y,d=s.x,s.y):(o=this.Children[0].Position.startAngle,l=this.Children[a-1].Position.startAngle,e.Position.startAngle,h=DxChart.getAngleByXY(i.x,i.y,e.Position.x,e.Position.y),l=(l-o)/a,o=a/2,DxChart.getAngleByXY(i.x,i.y,this.Children[parseInt(o)].Position.x,this.Children[parseInt(o)].Position.y),a=Math.abs(o-e.Seq),o=o>e.Seq?(n=h)-l*a*1.3:(n=h)+l*a*1.3,n>DxChart.TWOPI&&(n-=DxChart.TWOPI),o>DxChart.TWOPI&&(o-=DxChart.TWOPI),isNexacroRuntime&&(n+=DxChart.HALFPI,o+=DxChart.HALFPI),e=this.OC.nDiv/3,h=DxChart.getRadiusEndPoint(i.x,i.y,n,1.5*e),l=DxChart.getRadiusEndPoint(i.x,i.y,o,2*e),c=h[0],x=h[1],d=l[0],l[1])),t.bezierCurveTo(c,x,d,r,s.x,s.y),t.stroke()},this.DrawText=function(t,e,i,s,a){isNexacroRuntime&&(t.setElementTextAlign("start"),t.setElementTextBaseline(t.textBaseline)),a?(t.strokeStyle=this.OC.properties.itemHighlightStrokeColor||"#ffffff",isNexacroRuntime&&t.setElementStrokeStyle(t.strokeStyle),t.strokeText(i,e.x,e.y),s=this.OC.properties.itemHighlightTextColor||"green"):this.HighlightSubTextColor?(t.strokeStyle=this.HighlightSubTextColor||"#ffffff",isNexacroRuntime&&t.setElementStrokeStyle(t.strokeStyle),t.strokeText(i,e.x,e.y)):t.fillStyle=s,t.fillStyle=s,isNexacroRuntime&&t.setElementFillStyle(s),t.fillText(i,e.x,e.y)},this.IsSolid=function(t){return null!=t&&("boolean"!=typeof t||t)},this.Each=function(t,e){for(var i=0;i<t.length;++i){var s=e(t[i],i);if(this.IsSolid(s))return s}return null},this.AddChild=function(t){this.Children.push(t)},this.RefreshLevel=function(){var e=this.Level;return this.Each(this.Children,function(t){return t.Level=e+1,t.RefreshLevel()})},this.Count=function(t,e,i,s,a){var o=this.OC.properties;null==e[this.Level]||null==e[this.Level]?(e[this.Level]=1,i[this.Level]={w:t.Dimen.width,h:t.Dimen.height},s[this.Level]={w:t.Dimen.width,h:t.Dimen.height}):(e[this.Level]+=1,"top"==o.rootPosition?(i[this.Level].w=i[this.Level].w+t.Dimen.width,i[this.Level].h=Math.max(i[this.Level].h,t.Dimen.height),1==a&&(s[this.Level].w=s[this.Level].w+t.Dimen.width,s[this.Level].h=Math.max(s[this.Level].h,t.Dimen.height))):(i[this.Level].w=Math.max(i[this.Level].w,t.Dimen.width),i[this.Level].h=i[this.Level].h+t.Dimen.height,1==a&&(s[this.Level].w=Math.max(s[this.Level].w,t.Dimen.width),s[this.Level].h=s[this.Level].h+t.Dimen.height)),0==t.Expand&&(a=!1)),this.Each(this.Children,function(t){t.Count(t,e,i,s,a)})},this.SetLevelInfo=function(t){var e,i={},s=[],a=[],o=(this.Count(t,i,s,a,!0),1),r=1;for(e in i)r++,o<i[e]&&(o=i[e]);for(var n=0,h=0,l=0;l<s.length;l++)n=Math.max(s[l].w,n),h=Math.max(s[l].h,h);this.LevelMaxSize=[n,h];for(n=0,h=0,l=0;l<a.length;l++)n=Math.max(a[l].w,n),h=Math.max(a[l].h,h);this.LevelMaxShowSize=[n,h],this.LevelDict=i,this.LevelDictSize=s,this.LevelDictShowSize=a,this.LevelMaxNodes=o,this.Depth=r},this.RealSpan=function(){return[Math.max(this.SpanWidth,this.Dimen.width),Math.max(this.SpanHeight,this.Dimen.height),this.SumValue||this.value||0]},this.RealSpanValue=function(){return this.SumValue||this.value||0},this.ComputeDimension=function(){var t=this.Name,e=(this.OC.properties,(this.FontObj.italic?"italic ":"")+(this.FontObj.bold?"bold ":"")+this.FontObj.size+"px "+this.FontObj.face),i=DxChart.measureText(t,this.FontObj.bold,this.FontObj.face,this.FontObj.size);"top"==this.OC.properties.rootPosition?(this.Dimen.width=i[1],this.Dimen.height=i[0]):(this.Dimen.width=i[0],this.Dimen.height=i[1]),this.Lines=[],this.LinesSize=[],this.LinesFont=[];this.Lines.push(t),this.LinesFont.push(e),this.LinesSize.push(i)},this.ComputeSpan=function(){this.ComputeDimension();var t,e=0,i=0,s=1,a=0;if(0<this.Children.length&&(this.IsRoot||this.parentNode&&1==this.parentNode.Expand))for(var o=0;o<this.Children.length;++o)e+=(t=this.Children[o].ComputeSpan())[0],i+=t[1],a+=t[2],s+=this.Children[o].Size;return 0==e&&(e=this.Dimen.width),0==i&&(i=this.Dimen.height),0==a&&(a=this.value||0),this.Size=s,this.SumValue=a,this.SpanWidth=e,this.SpanHeight=i,this.RealSpan()},this.ComputeSpanMap=function(){this.ComputeDimension();var t=0,e=0;if(0<this.Children.length)for(var i=0;i<this.Children.length;++i)e+=this.Children[i].ComputeSpanMap(),t+=this.Children[i].Size;return 0===e&&(e=this.value||0),this.Size=t,this.SumValue=e,this.RealSpanValue()},this.GetTextSize=function(t,e){var i;if(isNexacroRuntime)return s=new nexacro.FontObject(e),i=nexacro._getTextSize(t,s),s=null,[i[0],i[1]];this.context.font=e;var s=this.context.measureText(t);return[s.width,s.actualBoundingBoxAscent+s.actualBoundingBoxDescent]},this.FindNode=function(i){return this.Id==i?this:this.Each(this.Children,function(t,e){return t.FindNode(i)})},this.ClickMe=function(t,e){return t/=this.OC.dpr,e/=this.OC.dpr,t>this.Position.x&&t<this.Position.x+this.Dimen.width&&e>this.Position.y&&e<this.Position.y+this.Dimen.height},this.DrawRect=function(t,e,i,s){var a=this.OC.properties.itemBoundingBackgroundColor||"#ffffff";this.context.fillStyle=a,isNexacroRuntime&&canvas.setElementFillStyle(a),this.context.fillRect(t,e,i,s)},this._DrawText=function(t,e,i,s,a){var o=this.OC.properties,r=!1,n=DxChart.Registry.get("treehighlight");if(n&&n.cube==this&&(n=o.itemHighlightFontStyle||"bold 12px Tahoma",isNexacroRuntime?(h=new nexacro.FontObject(n),this.context.setElementFont(h)):this.context.font=n,r=!0),"top"==o.rootPosition){var h,l=this.LinesSize[0];this.context.save(),isNexacroRuntime?(0<t&&0<e&&(h=t+l[1]*Math.cos(-90),n=e+l[1]*Math.sin(-90),this.OC.coords.push([this,h,n,l[0],l[1],"text"])),this.context.translate(t,e+l[0]-10),this.context.rotate(-90)):(0<t&&0<e&&this.OC.coords.push([this,t,e,l[0],l[1],"text"]),this.context.translate(t,e),this.context.rotate(Math.PI/180*-90)),this.context.textAlign="right",this.context.textBaseline="bottom",isNexacroRuntime&&(this.context.setElementTextAlign("start"),this.context.setElementTextBaseline("bottom")),e=t=0}else if("left"==o.rootPosition){var l=this.LinesSize[0];if("treemap"==o.variantValue)return a?(this.context.textAlign="right",this.context.textBaseline="bottom",isNexacroRuntime&&(this.context.setElementTextAlign("start"),this.context.setElementTextBaseline("middle")),this.context.save(),isNexacroRuntime?(this.context.translate(t,e+l[0]-10),this.context.rotate(-90)):(this.context.translate(t,e),this.context.rotate(Math.PI/180*-90)),this.DrawText(this.context,{x:0,y:0},i,s,!1)):(this.context.textAlign="left",this.context.textBaseline="middle",isNexacroRuntime&&(this.context.setElementTextAlign("start"),this.context.setElementTextBaseline("middle")),this.DrawText(this.context,{x:t,y:e},i,s,!1)),void this.context.restore();0<t&&0<e&&this.OC.coords.push([this,t,e-l[1]/2,l[0],l[1],"text"]),this.context.textAlign="left",this.context.textBaseline="middle",isNexacroRuntime&&(this.context.setElementTextAlign("start"),this.context.setElementTextBaseline("middle"))}else"center"==o.rootPosition&&(l=this.LinesSize[0],this.context.save(),isNexacroRuntime?(a=180/Math.PI*this.Position.startAngle,this.context.translate(t,e),this.context.rotate(a),this.context.setElementTextAlign("start"),this.context.setElementTextBaseline("bottom")):(this.context.translate(t,e),1.4<this.Position.startAngle&&this.Position.startAngle<DxChart.TWOPI-DxChart.HALFPI?(a=this.Position.startAngle-DxChart.PI,this.context.rotate(a),this.context.textAlign="right",this.context.textBaseline="middle",0<t&&0<e&&(DxChart.getRadiusEndPoint(this.OC.Cubes[0].Position.x,this.OC.Cubes[0].Position.y,this.Position.startAngle,this.Position.radius+l[0]),this.OC.coords.push([this,t,e+l[1]/2,l[0],l[1],"text",this.Position.startAngle,"right"]))):(a=this.Position.startAngle,0<t&&0<e&&this.OC.coords.push([this,t,e-l[1],l[0],l[1],"text",a,"left"]),this.context.rotate(a),this.context.textAlign="left",this.context.textBaseline="middle")),e=t=0);this.DrawText(this.context,{x:t,y:e},i,s,r),"top"!=o.rootPosition&&"center"!=o.rootPosition||this.context.restore()},this.Draw=function(){var t=this.OC.properties,e=this.Position.x,i=this.Position.y,s=("top"==this.OC.properties.rootPosition?e+=t.itemTextHMargin:"left"==this.OC.properties.rootPosition&&(e+=t.itemTextVMargin),t.itemFontSeqStyleObj,this.Color),a=this.LinesFont[0],o=(isNexacroRuntime?(o=new nexacro.FontObject(a),this.context.setElementFont(o)):this.context.font=a,this.Lines[0]);if("top"==this.OC.properties.rootPosition&&(i+=t.itemTextVGap+this.LinesSize[0][1]),1==this.Expand&&this.Each(this.Children,function(t){return t.Draw()}),0<this.Children.length){a={x:this.Position.x,y:this.Position.y};if(1==this.Expand)for(var r=0;r<this.Children.length;++r){var n={x:this.Children[r].Position.x,y:this.Children[r].Position.y};this.DrawConnection(this.context,this.Children[r],{x:this.Position.x,y:this.Position.y},{x:n.x,y:n.y})}t.itemExpandShow&&(this.OC.coords.push([this,a.x,a.y,t.itemExpandWidth,this.Expand,"expand"]),this.DrawCircle(this.Expand,this.context,a.x,a.y))}else isNexacroRuntime&&(this.OC.coords.push([this,this.Position.x,this.Position.y,t.itemExpandWidth,this.Expand,"expand"]),this.DrawCircle("leaf",this.context,this.Position.x,this.Position.y));return this._DrawText(e,i,o,s),null},this}function DxChartVProgress(t){return DxChart._Base.call(this,t,"vprogress"),DxChart.setDefaultProperties(this,"tickmark"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"scale"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"changeable"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"border"),DxChart.setDefaultProperties(this,"default"),this.properties.labelsPosition="right",t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t,e,i){this.binddataset&&(t=DxChart._getColumnDataset(this.binddataset,t),e=DxChart._getColumnDataset(this.binddataset,e),i=DxChart._getColumnDataset(this.binddataset,i)),this.min=DxChart.str2num(t),DxChart.isArray(this.min)&&(this.min=this.min[0]),this.max=DxChart.str2num(e),DxChart.isArray(this.max)&&(this.max=this.max[0]),this.value=DxChart.str2num(i),DxChart.isArray(this.value)&&1==this.value.length&&(this.value=this.value[0]),this.currentValue=null;for(var s=DxChart.arrayLinearize(this.value),a=0;a<s.length;++a)this["$"+a]={}},this.draw=function(){if(!this.min&&!this.max)return DxChart.NoDataShow(this);var t=this.properties;if(DxChart._BeforeDraw(this),this.currentValue=this.value,t.labelsSpecific&&t.labelsSpecific.length){"string"==typeof t.labelsSpecific&&(t.labelsSpecific=DxChart.arrayPad({array:[],length:t.labelsCount,value:t.labelsSpecific})),t.labelsSpecificClon=DxChart.arrayClone(t.labelsSpecific);for(var e=0;e<t.labelsSpecific.length;++e)t.labelsSpecificClon[e]=DxChart.labelSubstitution({object:this,text:t.labelsSpecific[e],index:e,value:"object"==typeof this.value&&"number"==typeof this.value[e]?this.value[e]:this.value,decimals:t.labelsSpecificFormattedDecimals||0,unitsPre:t.labelsSpecificFormattedUnitsPre||"",unitsPost:t.labelsSpecificFormattedUnitsPost||"",thousand:t.labelsSpecificFormattedThousand||",",point:t.labelsSpecificFormattedPoint||"."})}return this.width=this.canvas.width-this.marginLeft-this.marginRight,this.height=this.canvas.height-this.marginTop-this.marginBottom,this.coords=[],this.coordsText=[],this.drawbar(),this.drawTickMarks(),this.drawLabels(),this.drawTitles(),t.beveled&&this.drawBevel(),t.contextmenu&&DxChart.showContext(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),t.keyData&&t.keyData.length&&DxChart.drawKey(this,t.keyData,t.colors),this.allowAdjusting(),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.drawbar=function(){var t,e=this.properties,i=(this.scale2=DxChart.getScale({object:this,options:{"scale.max":this.max,"scale.min":this.min,"scale.strict":!0,"scale.thousand":e.scaleThousand,"scale.point":e.scalePoint,"scale.decimals":e.scaleDecimals,"scale.labels.count":e.labelsCount,"scale.round":e.scaleRound,"scale.units.pre":e.scaleUnitsPre,"scale.units.post":e.scaleUnitsPost}}),e.shadowUse&&DxChart.setShadow(this,e.shadowStyleObj.color,e.shadowStyleObj.offsetX,e.shadowStyleObj.offsetY,e.shadowStyleObj.blur),this.context.fillStyle=e.backgroundColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.strokeStyle=e.colorsStrokeOuter,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.strokeRect(this.marginLeft,this.marginTop,this.width,this.height),this.context.fillRect(this.marginLeft,this.marginTop,this.width,this.height),DxChart.noShadow(this),this.context.strokeStyle=e.colorsStrokeOuter,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=e.colors[0],isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),e.marginInner),s=(this.canvas.height-this.marginTop-this.marginBottom)*((DxChart.arraySum(this.value)-this.min)/(this.max-this.min));if("number"==typeof this.value)this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=e.colorsStrokeInner,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),e.borderInner&&this.drawCurvedBar({x:this.marginLeft+i,y:this.marginTop+(this.height-s),width:this.width-i-i,height:s,stroke:e.colorsStrokeInner}),this.drawCurvedBar({x:this.marginLeft+i,y:this.marginTop+(this.height-s),width:this.width-i-i,height:s,fill:e.colors[0]});else if("object"==typeof this.value){this.context.beginPath(),this.context.strokeStyle=e.colorsStrokeInner,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle);for(var a=this.canvas.height-this.marginBottom,o=0,r=this.value.length;o<r;++o){var n=(this.value[o]-this.min)/(this.max-this.min)*(this.canvas.height-this.marginBottom-this.marginTop);this.context.beginPath(),this.context.fillStyle=e.colors[o],isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),e.borderInner&&this.drawCurvedBar({x:this.marginLeft+i,y:a-n,width:this.width-i-i,height:n,stroke:this.context.strokeStyle}),this.drawCurvedBar({x:this.marginLeft+i,y:a-n,width:this.width-i-i,height:n,fill:e.colors[o]}),this.coords.push([this.marginLeft+i,a-n,this.width-i-i,n]),a-=n}this.context.fill()}if(0<e.tickmarksInnerCount){var h=(this.canvas.height-this.marginTop-this.marginBottom)/e.tickmarksInnerCount;this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=e.colorsStrokeInner,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.beginPath();for(var l=this.marginTop;l<this.canvas.height-this.marginBottom;l+=h)this.context.moveTo(this.marginLeft,Math.round(l)),this.context.lineTo(this.marginLeft+3,Math.round(l)),this.context.moveTo(this.canvas.width-this.marginRight,Math.round(l)),this.context.lineTo(this.canvas.width-this.marginRight-3,Math.round(l));this.context.stroke()}this.context.beginPath(),this.context.strokeStyle=e.colorsStrokeInner,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),"number"==typeof this.value&&(e.borderInner&&this.drawCurvedBar({x:this.marginLeft+i,y:this.marginTop+this.height-s,width:this.width-i-i,height:s}),this.drawCurvedBar({x:this.marginLeft+i,y:this.marginTop+this.height-s,width:this.width-i-i,height:s}),this.coords.push([this.marginLeft+i,this.marginTop+this.height-s,this.width-i-i,s])),e.arrows&&(t=this.marginLeft-4,l=this.canvas.height-this.marginBottom-s,this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.fillStyle="black",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.strokeStyle="black",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.beginPath(),this.context.moveTo(t,l),this.context.lineTo(t-4,l-2),this.context.lineTo(t-4,l+2),this.context.closePath(),this.context.stroke(),this.context.fill(),t+=this.width+8,this.context.beginPath(),this.context.moveTo(t,l),this.context.lineTo(t+4,l-2),this.context.lineTo(t+4,l+2),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.beginPath()),e.labelsInner&&(s=DxChart.getTextInfo({object:this,prefix:"labelsInner"}),DxChart.text({object:this,font:s.font,size:s.size,color:s.color,bold:s.bold,italic:s.italic,x:(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft+e.labelsInnerOffsetX,y:this.coords[this.coords.length-1][1]-5+e.labelsInnerOffsetY,text:"string"==typeof e.labelsInnerSpecific?e.labelsInnerSpecific:DxChart.numberFormat({object:this,number:DxChart.arraySum(this.value).toFixed("number"==typeof e.labelsInnerDecimals?e.labelsInnerDecimals:e.scaleDecimals),unitspre:"string"==typeof e.labelsInnerUnitsPre?e.labelsInnerUnitsPre:e.scaleUnitsPre,unitspost:"string"==typeof e.labelsInnerUnitsPost?e.labelsInnerUnitsPost:e.scaleUnitsPost,point:"string"==typeof e.labelsInnerPoint?e.labelsInnerPoint:e.scalePoint,thousand:"string"==typeof e.labelsInnerThousand?e.labelsInnerThousand:e.scaleThousand}),valign:"bottom",halign:"center",bounding:!0,boundingFill:e.labelsInnerBackgroundFill,boundingStroke:e.labelsInnerBorder?e.labelsInnerBorderColor:"rgba(0,0,0,0)",boundingLineWidth:e.labelsInnerBorderLineWidth,tag:"labels.inner"}))},this.drawTickMarks=function(){var t=this.properties;if(this.context.strokeStyle=t.colorsStrokeOuter,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),t.tickmarksOuter){this.context.beginPath();for(var e=0;e<=t.tickmarksOuterCount;e++){var i="left"===t.labelsPosition?this.marginLeft:this.canvas.width-t.marginRight,s="left"===t.labelsPosition?i-4:i+4,a=this.height*(e/t.tickmarksOuterCount)+this.marginTop;this.context.moveTo(i,Math.round(a)),this.context.lineTo(s,Math.round(a))}this.context.stroke()}},this.drawLabels=function(){var t=this.properties;if(!DxChart.isNull(t.labelsSpecificClon))return this.drawSpecificLabels();this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle);var e=t.labelsPosition.toLowerCase(),i="left"===e?"right":"left",s="center",a=t.labelsCount,o=t.scaleUnitsPre,r=t.scaleUnitsPost,n=(t.textFontStyleObj.size,t.textFontStyleObj.face,t.scaleDecimals),h=t.labelsOffsetX,l=t.labelsOffsetY;if(t.tickmarksOuter){for(var c=DxChart.getTextInfo({object:this,prefix:"labels"}),x=0;x<a;++x)DxChart.text({object:this,font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:"left"==e?this.marginLeft-7+h:this.canvas.width-this.marginRight+7+h,y:(this.canvas.height-this.marginTop-this.marginBottom)/a*x+this.marginTop+l,text:this.scale2.labels[this.scale2.labels.length-(x+1)],valign:s,halign:i,tag:"scale"});0==this.min&&DxChart.text({object:this,font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:"left"==e?this.marginLeft-5+h:this.canvas.width-this.marginRight+5+h,y:this.canvas.height-this.marginBottom+l,text:DxChart.numberFormat({object:this,number:this.min.toFixed(0===this.min?0:n),unitspre:o,unitspost:r,point:t.scalePoint,thousand:t.scaleThousand}),valign:s,halign:i,tag:"scale"}),0!=this.min&&DxChart.text({object:this,font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:"left"==e?this.marginLeft-5+h:this.canvas.width-this.marginRight+5+h,y:this.canvas.height-this.marginBottom+l,text:DxChart.numberFormat({object:this,number:this.min.toFixed(n),unitspre:o,unitspost:r}),valign:s,halign:i,tag:"scale"})}if(t.tickmarksInner)for(var c=DxChart.getTextInfo({object:this,prefix:"labels"}),n=this.canvas.width-this.marginRight,d="right"==e?n-(n-this.marginLeft)/2-7+h:n-(n-this.marginLeft)/2+7+h,x=1;x<a;x++)DxChart.text({object:this,font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:d,y:(this.canvas.height-this.marginTop-this.marginBottom)/a*x+this.marginTop+l,text:this.scale2.labels[this.scale2.labels.length-(x+1)],valign:s,halign:i,tag:"scale"})},this.drawTitles=function(){var t,e,i,s=this.properties;DxChart.drawTitle(this),s.titleSideText&&(this.context.fillStyle=s.titleSideColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),t=DxChart.getTextInfo({object:this,prefix:"titleSide"}),e="right"==s.labelsPosition?this.marginLeft-10:this.canvas.width-this.marginRight+10,i=this.marginTop+this.height/2,"number"==typeof s.titleSideOffsetX&&(e+=s.titleSideOffsetX),"number"==typeof s.titleSideOffsetY&&(i+=s.titleSideOffsetY),DxChart.text({object:this,font:t.font,size:t.size,color:t.color,bold:t.bold,italic:t.italic,x:e,y:i,text:s.titleSideText,valign:"bottom",halign:"center",accessible:!1,angle:"right"==s.labelsPosition?270:90,tag:"title.side"}))},this.getShape=function(t){for(var e=this.properties,t=DxChart.getMouseXY(t),i=t[0],s=t[1],a=0,o=this.coords.length;a<o;a++){var r=this.coords[a][0],n=this.coords[a][1],h=this.coords[a][2],l=this.coords[a][3];if(this.context.beginPath(),this.drawCurvedBar({x:r,y:n,width:h,height:l}),this.context.isPointInPath(i,s))return{object:this,x:r,y:n,width:h,height:l,index:a,dataset:0,sequentialIndex:a,tooltip:"string"==typeof(r=DxChart.parseTooltipText?DxChart.parseTooltipText(e.tooltipsData,a):null)?r:null}}},this.getValue=function(t){t=DxChart.getMouseXY(t),t[0],t=t[1],t=(this.height-(t-this.marginTop))/this.height;return t=(t=(t=(t*=this.max-this.min)+this.min)>this.max?this.max:t)<this.min?this.min:t},this.highlight=function(t){var e=this.properties;if(e.tooltipsHighlight)if("function"==typeof e.highlightStyle)e.highlightStyle(t);else if("string"==typeof e.highlightStyle&&"invert"===e.highlightStyle)for(var i=0;i<this.coords.length;++i)i!==t.sequentialIndex&&this.path("b lw % r % % % % s % f %",e.highlightLineWidth,this.coords[i][0]-.5,this.coords[i][1]-.5,this.coords[i][2]+1,this.coords[i][3]+1,e.highlightStroke,e.highlightFill);else{t.index,this.coords.length;this.path("lw %",e.highlightLineWidth),this.drawCurvedBar({x:t.x-.5,y:t.y-.5,width:t.width+1,height:t.height+1,stroke:e.highlightStroke,fill:e.highlightFill}),this.path("lw %",1)}},this.getObjectByXY=function(t){t=DxChart.getMouseXY(t);if(t[0]>this.marginLeft&&t[0]<this.canvas.width-this.marginRight&&t[1]>=this.marginTop&&t[1]<=this.canvas.height-this.marginBottom)return this},this.allowAdjusting=function(){},this.changing_mousemove=function(t){var e=this.properties;e.changeableValue&&DxChart.Registry.get("changing")&&DxChart.Registry.get("changing").uid==this.uid&&(DxChart.getMouseXY(t),"number"==typeof(t=this.getValue(t)))&&(DxChart._fireEvent(this,"onadjust"),this.value=Number(t.toFixed(e.scaleDecimals)),DxChart.redrawCanvas(this.canvas))},this.drawSpecificLabels=function(){var t=this.properties,e=t.labelsSpecificClon;if(e){var i="right"===t.labelsPosition?"left":"right",s=this.height/(e.length-1);this.context.beginPath(),this.context.fillStyle=t.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle);for(var a=0;a<e.length;++a){var o=DxChart.getTextInfo({object:this,prefix:"labels"});DxChart.text({object:this,font:o.font,size:o.size,color:o.color,bold:o.bold,italic:o.italic,x:"right"==t.labelsPosition?this.canvas.width-this.marginRight+7:this.marginLeft-7,y:this.height+this.marginTop-s*a,text:e[a],valign:"center",halign:i,tag:"labels.specific",cssClass:t.labelsSpecific?DxChart.getLabelsCSSClassName({object:this,name:"labelsClass",index:a}):""})}this.context.fill()}},this.getYCoord=function(t){var e,i=this.properties;return t>this.max||t<this.min?null:(e=this.canvas.height-i.marginTop-i.marginBottom,t=(t-this.min)/(this.max-this.min)*e,this.canvas.height-t-i.marginBottom)},this.overChartArea=function(t){var t=DxChart.getMouseXY(t),e=t[0],t=t[1];return e>=this.marginLeft&&e<=this.canvas.width-this.marginRight&&t>=this.marginTop&&t<=this.canvas.height-this.marginBottom},this.parseColors=function(){for(var t=this.properties,e=(0===this.original_colors.length&&(this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.tickmarksInnerColor=DxChart.arrayClone(t.tickmarksInnerColor),this.original_colors.tickmarksOuterColor=DxChart.arrayClone(t.tickmarksOuterColor),this.original_colors.colorsStrokeInner=DxChart.arrayClone(t.colorsStrokeInner),this.original_colors.colorsStrokeOuter=DxChart.arrayClone(t.colorsStrokeOuter),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.backgroundColor=DxChart.arrayClone(t.backgroundColor)),t.colors),i=0,s=e.length;i<s;++i)e[i]=this.parseSingleColorForGradient(e[i]);t.tickmarksInnerColor=this.parseSingleColorForGradient(t.tickmarksInnerColor),t.tickmarksOuterColor=this.parseSingleColorForGradient(t.tickmarksOuterColor),t.colorsStrokeInner=this.parseSingleColorForGradient(t.colorsStrokeInner),t.colorsStrokeOuter=this.parseSingleColorForGradient(t.colorsStrokeOuter),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.backgroundColor=this.parseSingleColorForGradient(t.backgroundColor)},this.reset=function(){},this.drawBevel=function(){this.properties;for(var t=0,e=0;t<this.coords.length;++t)e+=this.coords[t][3];this.context.save(),this.context.beginPath(),this.context.rect(this.coords[0][0],this.coords[this.coords.length-1][1]-1,this.coords[0][2],e),this.context.clip(),this.context.save(),this.context.beginPath(),this.drawCurvedBar({x:this.coords[0][0],y:this.coords[this.coords.length-1][1]-1,width:this.coords[0][2],height:e}),this.context.clip(),this.context.beginPath(),this.context.shadowColor="black",this.context.shadowOffsetX=0,this.context.shadowOffsetY=0,this.context.shadowBlur=15,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY),this.context.lineWidth=2,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.drawCurvedBar({x:this.coords[0][0]-1,y:this.coords[this.coords.length-1][1]-1,width:this.coords[0][2]+2,height:e+2+100}),this.context.stroke(),this.context.restore(),this.context.restore()},this.interactiveKeyHighlight=function(t){var e=this.properties,t=this.coords[t];this.context.beginPath(),this.context.strokeStyle=e.keyInteractiveHighlightChartStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.lineWidth=2,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.fillStyle=e.keyInteractiveHighlightChartFill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.rect(t[0]-.5,t[1]-.5,t[2]+1,t[3]+1),this.context.fill(),this.context.stroke(),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)},this.drawCurvedBar=function(t){this.path("b r % % % % c",t.x,t.y,t.width,t.height),t.stroke&&(this.context.strokeStyle=t.stroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.stroke()),t.fill&&(this.context.fillStyle=t.fill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.fill())},this.firstDrawFunc=function(){},this.drawAni=function(){"grow"===(arguments[0]||"grow")&&this.grow(arguments[1]||{},arguments[2]||function(){})},this.grow=function(){this.cancelStopAnimation();var i=this,s=(this.canvas,this.context,this.currentValue),a=(arguments[0]||{}).frames||30,o=0,r=arguments[1]||function(){};if("object"==typeof this.value){if(DxChart.isNull(this.currentValue)){this.currentValue=[];for(var t=0;t<this.value.length;++t)this.currentValue[t]=0}for(var e=[],n=[],t=0;t<this.value.length;++t)e[t]=this.value[t]-Number(this.currentValue[t]),n[t]=e[t]/a;if(null==s)for(s=[],t=0;t<this.value.length;++t)s[t]=0}else n=(e=this.value-Number(this.currentValue))/a;return function t(){if(i.stopAnimationRequested)i.stopAnimationRequested=!1;else if(++o<=a){if("object"==typeof i.value){i.value=[];for(var e=0;e<s.length;++e)i.value[e]=s[e]+n[e]*o}else i.value=s+n*o;DxChart.clear(i.canvas),DxChart.redrawCanvas(i.canvas),DxChart.Effects.updateCanvas(t,i.canvas)}else r()}(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.tooltipSubstitutions=function(t){return{index:t.index,dataset:0,sequentialIndex:t.index,value:"object"==typeof this.value?this.value[t.index]:this.value,values:"object"==typeof this.value?[this.value[t.index]]:[this.value]}},this.tooltipsFormattedCustom=function(t,e){var i=this.properties,s=(i.tooltipsFormattedKeyColors&&i.tooltipsFormattedKeyColors[t.index]?i.tooltipsFormattedKeyColors:i.colors)[t.index];return{label:i.tooltipsFormattedKeyLabels&&i.tooltipsFormattedKeyLabels[t.index]?i.tooltipsFormattedKeyLabels[t.index]:"",color:s}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas)),a=this.coords[t.index];isNexacroRuntime?(t.tooltip.set_left(s[0]+a[0]-i.getOffsetWidth()/2+a[2]/2+e.properties.tooltipsOffsetX),t.tooltip.style.top(s[1]+a[1]-i.getOffsetHeight()-10+e.properties.tooltipsOffsetY),parseFloat(t.tooltip.top)<0&&t.tooltip.set_top(parseFloat(t.tooltip.top)+20)):(t.tooltip.style.left=s[0]+a[0]-i.offsetWidth/2+a[2]/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]+a[1]-i.offsetHeight-10+e.properties.tooltipsOffsetY+"px",parseFloat(t.tooltip.style.top)<0&&(t.tooltip.style.top=parseFloat(t.tooltip.style.top)+20+"px"))},this.resetData(t.min,t.max,t.value),DxChart.parseProperties(this,t.options),DxChart.register(this),this}function DxChartWaterfall(t){return DxChart._Base.call(this,t,"waterfall"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"xaxis"),DxChart.setDefaultProperties(this,"yaxis"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"crosshairs"),DxChart.setDefaultProperties(this,"annotation"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"default"),this.properties.xaxisLabelsPosition="section",this.properties.yaxisLabels=!0,t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t){this.binddataset&&0<=t.toString().indexOf("bind:")&&(t=DxChart.parseDataset(this,t)),this.max=0,this.data=t,this.orgData=DxChart.arrayClone(t),this.data=DxChart.str2num(this.data);for(var e=0,i=this.data.length;e<=i;++e)this["$"+e]={}},this.draw=function(){if(!this.data||0==this.data.length)return DxChart.NoDataShow(this);var t=this.properties;if(DxChart._BeforeDraw(this),DxChart.drawBackgroundImage(this),t.totalUse&&t.xaxisLabels&&DxChart.isArray(t.xaxisLabels)&&this.data.length==t.xaxisLabels.length&&(t.xaxisLabels[t.xaxisLabels.length]=t.totalText),t.xaxisLabels&&t.xaxisLabels.length){"string"==typeof t.xaxisLabels&&(t.xaxisLabels=DxChart.arrayPad({array:[],length:this.data.length+(t.totalUse?1:0),value:t.xaxisLabels}));for(var e=0;e<t.xaxisLabels.length;++e)t.xaxisLabels[e]=DxChart.labelSubstitution({object:this,text:t.xaxisLabels[e],index:e,value:e===this.data.length?this.runningTotal():this.data[e],decimals:t.xaxisLabelsFormattedDecimals||0,unitsPre:t.xaxisLabelsFormattedUnitsPre||"",unitsPost:t.xaxisLabelsFormattedUnitsPost||"",thousand:t.xaxisLabelsFormattedThousand||",",point:t.xaxisLabelsFormattedPoint||"."})}this.coords=[],this.coordsText=[],this.centery=(this.canvas.height-this.marginTop-this.marginBottom)/2+this.marginTop,this.max=0,this.chartArea=this.canvas.height-this.marginTop-this.marginBottom,this.graphwidth=this.canvas.width-this.marginLeft-this.marginRight,this.halfTextHeight=t.textFontStyleObj.size/2,this.max=this.getMax(this.data);var i=t.yaxisScaleDecimals;return this.scale2=DxChart.getScale({object:this,options:{"scale.max":"number"==typeof t.yaxisScaleMax?t.yaxisScaleMax:this.max,"scale.min":t.yaxisScaleMin,"scale.strict":"number"==typeof t.yaxisScaleMax,"scale.decimals":Number(i),"scale.point":t.yaxisScalePoint,"scale.thousand":t.yaxisScaleThousand,"scale.round":t.yaxisScaleRound,"scale.units.pre":t.yaxisScaleUnitsPre,"scale.units.post":t.yaxisScaleUnitsPost,"scale.labels.count":t.yaxisLabelsCount,"scale.formatter":t.yaxisScaleFormatter}}),this.max=this.scale2.max,this.min=this.scale2.min,DxChart.drawBars(this),DxChart.Background.draw(this),this.drawAxes(),this.drawBars(),this.drawLabels(),t.contextmenu&&DxChart.showContext(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),t.keyData&&t.keyData.length&&DxChart.drawKey(this,t.keyData,t.colors),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.drawAxes=function(){DxChart.drawXAxis(this),DxChart.drawYAxis(this)},this.drawLabels=function(){this.properties.labelsAbove&&this.drawLabelsAbove()},this.drawLabelsAbove=function(){for(var t,e=this.properties,i=(this.data,e.labelsAboveUnitsPre),s=e.labelsAboveUnitsPost,a=e.labelsAboveDecimals,o=e.labelsAboveThousand,r=e.labelsAbovePoint,n=e.labelsAboveFormatter,h=DxChart.getTextInfo({object:this,prefix:"labelsAbove"}),l=0;l<this.data.length+(e.totalUse?1:0);++l){e.totalUse&&l===this.data.length&&(c=!0);var c,x,d=Number(c?this.total:this.data[l]),u=("object"==typeof e.labelsAboveColor&&e.labelsAboveColor&&(t=c&&"string"==typeof e.labelsAboveColor[2]?e.labelsAboveColor[2]:this.data[l]<0?e.labelsAboveColor[1]:e.labelsAboveColor[0]),"object"==typeof e.labelsAboveTotalColor&&e.labelsAboveTotalColor&&c&&"string"==typeof e.labelsAboveTotalColor[0]&&"string"==typeof e.labelsAboveTotalColor[1]&&(t=this.total<0?e.labelsAboveTotalColor[1]:e.labelsAboveTotalColor[0]),this.coords[l]),g=e.yaxisScaleThousand,p=e.yaxisScaleDecimal;e.yaxisScaleThousand=e.labelsAboveThousand,e.yaxisScalePoint=e.labelsAbovePoint,x=n?n({object:this,value:d,index:l}):DxChart.numberFormat({object:this,number:String(d.toFixed(a)),unitspre:i,unitspost:s,point:r,thousand:o}),!c&&l!==this.data.length||("string"==typeof e.labelsAboveTotalFont&&(h.font=e.labelsAboveTotalFont),"string"==typeof e.labelsAboveTotalColor&&(h.color=e.labelsAboveTotalColor),"number"==typeof e.labelsAboveTotalSize&&(h.size=e.labelsAboveTotalSize),DxChart.isNull(e.labelsAboveTotalBold)||(h.bold=e.labelsAboveTotalBold),DxChart.isNull(e.labelsAboveTotalItalic)||(h.italic=e.labelsAboveTotalItalic),"string"==typeof e.labelsAboveTotalUnitsPre&&(i=e.labelsAboveTotalUnitsPre),"string"==typeof e.labelsAboveTotalUnitsPost&&(s=e.labelsAboveTotalUnitsPost),"number"==typeof e.labelsAboveTotalDecimals&&(a=e.labelsAboveTotalDecimals),"function"==typeof e.labelsAboveTotalFormatter&&(n=e.labelsAboveTotalFormatter),"string"==typeof e.labelsAboveTotalThousand&&(o=e.labelsAboveTotalThousand),"string"==typeof e.labelsAboveTotalPoint&&(r=e.labelsAboveTotalPoint),x=n?n({object:this,value:d,index:l}):DxChart.numberFormat({object:this,number:String(d.toFixed(a)),unitspre:i,unitspost:s,point:r,thousand:o}),e.yaxisScaleThousand=g,e.yaxisScalePoint=p),"object"!=typeof e.labelsAboveSpecific||DxChart.isNull(e.labelsAboveSpecific)||(x="string"==typeof e.labelsAboveSpecific[l]||"number"==typeof e.labelsAboveSpecific[l]?e.labelsAboveSpecific[l]:""),DxChart.text({object:this,font:h.font,size:h.size,color:t||h.color,bold:h.bold,italic:h.italic,x:u[0]+u[2]/2+(c?e.labelsAboveTotalOffsetX:e.labelsAboveOffsetX),y:0<=(c?this.total:this.data[l])?u[1]-3+(c?e.labelsAboveTotalOffsetY:e.labelsAboveOffsetY):u[1]+u[3]+3+(c?e.labelsAboveTotalOffsetY:e.labelsAboveOffsetY),text:x,valign:0<=(c?this.total:this.data[l])?"bottom":"top",halign:"center",tag:"labels.above"})}},this.runningTotal=function(){for(var t=0,e=0;e<this.data.length;++e)t+=this.data[e];return t},this.drawBars=function(){var t,e,i=this.properties,s=(this.context,this.canvas,i.marginInner),a=0;this.context.lineWidth=i.lineWidth+.001,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth);for(var o,r,n=0,h=this.data.length,l=0;n<h;++n,++l)this.context.beginPath(),this.context.strokeStyle=i.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),t=Math.round(this.marginLeft+s+this.graphwidth/(this.data.length+(i.totalUse?1:0))*n*i.multiplierX),o=this.getYCoord(0)-this.getYCoord(Math.abs(this.data[n])),c=0===n?this.getYCoord(0)-o:this.getYCoord(a)-o,c=Math.round(c),e=(this.canvas.width-this.marginLeft-this.marginRight)/(this.data.length+(i.totalUse?1:0))-2*i.marginInner,e*=i.multiplierW,this.data[n]<0&&(c+=o),i.colorsSequential?this.context.fillStyle=i.colors[l]:this.context.fillStyle=0<=this.data[n]?i.colors[0]:i.colors[1],isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),i.shadowUse?DxChart.setShadow({object:this,prefix:"shadow"}):DxChart.noShadow(this),o<0&&(c-=o=Math.abs(o)),this.context.rect(t+i.barOffsetX,Math.floor(c)+i.barOffsetY,e,Math.floor(o)),this.coords.push([t,c,e,o]),a+=this.data[n],this.context.stroke(),this.context.fill();this.total=a,i.totalUse&&(o="top"===i.xaxisPosition?this.getYCoord(Math.abs(a))-this.getYCoord(0):this.getYCoord(0)-this.getYCoord(Math.abs(a)),c="center"==i.xaxisPosition?0<a?this.getYCoord(0)-o:this.getYCoord(0):"top"!=i.xaxisPosition&&0<a?this.getYCoord(0)-o:this.getYCoord(0),t=t+2*i.marginInner+e,r=i.colorsSequential?i.colors[l]:i.colors[2],this.path("b r % % % % s % f %",t+i.barOffsetX,c+i.barOffsetY,e,o,this.context.strokeStyle,r),r=[t,c,e,Math.abs(o)],this.coords.push(r)),DxChart.noShadow(this),this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.context.strokeStyle=i.colorsConnectors,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.beginPath();for(n=1,h=this.coords.length;n<h;n+=1){var c,x=this.coords[n-1],d=this.coords[n],u=this.data[n-1];c="top"===i.xaxisPosition?0<u?x[1]+x[3]:x[1]:0<u?x[1]:x[1]+x[3],this.context.moveTo(x[0]+x[2]+i.barOffsetX,c+i.barOffsetY),this.context.lineTo(d[0]+i.barOffsetX,c+i.barOffsetY)}this.context.stroke()},this.getShape=function(t){for(var e=this.properties,i=0,s=this.coords.length;i<s;i++){var a=DxChart.getMouseXY(t),o=a[0],a=a[1],r=this.coords[i][0],n=this.coords[i][1],h=this.coords[i][2],l=this.coords[i][3];if(r<=o&&o<=r+h&&n<=a&&a<=n+l)return o=DxChart.parseTooltipText?DxChart.parseTooltipText(e.tooltipsData,i):null,{object:this,x:r,y:n,width:h,height:l,index:0,dataset:i,sequentialIndex:i,label:e.xaxisLabels&&"string"==typeof e.xaxisLabels[i]?e.xaxisLabels[i]:null,tooltip:"string"==typeof o?o:null}}return null},this.getMax=function(t){this.properties;for(var e=0,i=0,s=0,a=t.length;s<a;s+=1)e+=t[s],i=Math.max(Math.abs(e),i);return Math.abs(i)},this.allowTooltips=function(){this.properties;DxChart.preLoadTooltipImages(this),DxChart.installWindowMousedownTooltipListener(this),DxChart.installCanvasMousemoveTooltipListener(this),DxChart.installCanvasMouseupTooltipListener(this)},this.highlight=function(t){var e=this.properties;if("function"==typeof e.highlightStyle)e.highlightStyle(t);else if("string"==typeof e.highlightStyle&&"invert"===e.highlightStyle)for(var i=0;i<this.coords.length;++i)i!==t.sequentialIndex&&this.path("b r % % % % s % f %",this.coords[i][0]-.5,this.coords[i][1]-.5,this.coords[i][2]+1,this.coords[i][3]+1,e.highlightStroke,e.highlightFill);else DxChart.Highlight.rect(this,t)},this.getObjectByXY=function(t){t=DxChart.getMouseXY(t);if(t[0]>this.marginLeft&&t[0]<this.canvas.width-this.marginRight&&t[1]>this.marginTop&&t[1]<this.canvas.height-this.marginBottom)return this},this.getYCoord=function(t){var e,i=this.properties;return"center"==i.xaxisPosition?t<-1*this.max?null:(e=t/this.max*(this.chartArea/2),this.marginTop+this.chartArea/2-e):"top"==i.xaxisPosition?t<0?null:(e=t/this.max*this.chartArea,this.marginTop+e):(e=(t-this.scale2.min)/(this.max-this.scale2.min)*this.chartArea,e+=this.marginBottom,this.canvas.height-e)},this.parseColors=function(){var t=this.properties,e=(0===this.original_colors.length&&(this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.keyColors=DxChart.arrayClone(t.keyColors),this.original_colors.crosshairsColor=DxChart.arrayClone(t.crosshairsColor),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill),this.original_colors.backgroundBarsColor1=DxChart.arrayClone(t.backgroundBarsColor1),this.original_colors.backgroundBarsColor2=DxChart.arrayClone(t.backgroundBarsColor2),this.original_colors.backgroundGridColor=DxChart.arrayClone(t.backgroundGridColor),this.original_colors.colorsStroke=DxChart.arrayClone(t.colorsStroke),this.original_colors.xaxisColor=DxChart.arrayClone(t.xaxisColor),this.original_colors.yaxisColor=DxChart.arrayClone(t.yaxisColor)),t.colors);if(e)for(var i=0,s=e.length;i<s;++i)e[i]=this.parseSingleColorForGradient(e[i]);if(e=t.keyColors)for(i=0,s=e.length;i<s;++i)e[i]=this.parseSingleColorForGradient(e[i]);t.crosshairsColor=this.parseSingleColorForGradient(t.crosshairsColor),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill),t.backgroundColor=this.parseSingleColorForGradient(t.backgroundColor),t.backgroundBarsColor1=this.parseSingleColorForGradient(t.backgroundBarsColor1),t.backgroundBarsColor2=this.parseSingleColorForGradient(t.backgroundBarsColor2),t.backgroundGridColor=this.parseSingleColorForGradient(t.backgroundGridColor),t.colorsStroke=this.parseSingleColorForGradient(t.colorsStroke),t.xaxisColor=this.parseSingleColorForGradient(t.xaxisColor),t.yaxisColor=this.parseSingleColorForGradient(t.yaxisColor)},this.reset=function(){},this.firstDrawFunc=function(){},this.drawAni=function(){"grow"===(arguments[0]||"grow")&&this.grow(arguments[1]||{},arguments[2]||function(){})},this.grow=function(){this.cancelStopAnimation();for(var t=arguments[0]||{},i=arguments[1]||function(){},s=t.frames||30,a=0,o=this,r=DxChart.arrayClone(this.orgData),e=0,n=this.data.length;e<n;++e)this.data[e]/=s;return null==this.get("yaxisScaleMax")&&(t=this.getMax(r),t=DxChart.getScale({object:this,options:{"scale.max":t}}),this.set("yaxisScaleMax",t.max)),function t(){if(o.stopAnimationRequested)o.stopAnimationRequested=!1;else{for(var e=0;e<o.data.length;++e)o.data[e]=r[e]*DxChart.Effects.getEasingMultiplier(s,a);DxChart.clear(o.canvas),DxChart.redrawCanvas(o.canvas),++a<=s?DxChart.Effects.updateCanvas(t,o.canvas):i(o)}}(),this},this.stopAnimation=function(){this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.tooltipSubstitutions=function(t){var e=this.properties,i=this.data[t.index];return t.index===this.data.length&&e.totalUse&&(i=this.total),{index:t.index,dataset:0,sequentialIndex:t.index,value:i,values:[i]}},this.tooltipsFormattedCustom=function(t,e){var i,s=this.properties,a=s.colors,o=(a=s.tooltipsFormattedKeyColors?s.tooltipsFormattedKeyColors:a)[0];return t.value<0&&(o=a[1]),t.index==this.data.length&&(o=a[2]),"object"==typeof s.tooltipsFormattedKeyLabels&&"string"==typeof s.tooltipsFormattedKeyLabels[t.index]?i=s.tooltipsFormattedKeyLabels[t.index]:s.xaxisLabels&&"object"==typeof s.xaxisLabels&&"string"==typeof s.xaxisLabels[t.index]&&(i=s.xaxisLabels[t.index]),{label:i,color:o}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas));coords=this.coords[t.index],isNexacroRuntime?(t.tooltip.set_left(s[0]+coords[0]+coords[2]/2-i.getOffsetWidth()/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]+coords[1]-i.getOffsetHeight()-10+e.properties.tooltipsOffsetY),parseFloat(t.tooltip.top)<0&&t.tooltip.set_top(parseFloat(t.tooltip.style.top)+coords[3]/2+5)):(t.tooltip.style.left=s[0]+coords[0]+coords[2]/2-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]+coords[1]-i.offsetHeight-10+e.properties.tooltipsOffsetY+"px",parseFloat(t.tooltip.style.top)<0&&(t.tooltip.style.top=parseFloat(t.tooltip.style.top)+coords[3]/2+5+"px"))},this.resetData(t.data),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartSunburst(t){DxChart._Base.call(this,t,"sunburst"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"labels"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"key"),DxChart.setDefaultProperties(this,"default"),this.Cubes=[],this.LevelHeight=[],this.Final=null,this.NodeClick=null,this.NodeSearch=null,this.coords=[],this.properties.variantValue="circle",this.properties.backgroundGrid=!1,this.properties.marginLeft=30,this.properties.marginRight=30,this.properties.marginTop=30,this.properties.marginBotom=30,this.properties.itemTextFontStyle="10px Tahoma",this.properties.itemTextColor="#000000",this.properties.itemAscending=!0,this.properties.animationGrowMultiplier=1,this.properties.colors=["red","blue"],this.properties.highlightFill="rgba(255,255,255,0.3)",this.properties.highlightStroke="gray",this.properties.tooltipsFormattedKeyLabels=[],this.properties.tooltipsFormattedKeyColors=[],this.properties.itemLineColor="#dddddd",this.properties.backgroundColor="#0000ff",this.properties.itemLineWidth=1,t.binddataset&&(this.binddataset=t.binddataset),this.resetData=function(t){this.Cubes=null,this.Cubes=[];for(var e=t.nameColumn,i=t.parentNameColumn,s=t.valueColumn,a=t.expandColumn,o=t.colorColumn,r=t.fontColumn,n=t.fontColorColumn,h=this.binddataset,l=0;l<h.rowcount;l++){var c=new _SunburstCube(h.getColumn(l,e),h.getColumn(l,i),{n:e?h.getColumn(l,e):null,c:o?h.getColumn(l,o):null,f:r?h.getColumn(l,r):null,fc:n?h.getColumn(l,n):null,v:s?h.getColumn(l,s):null,e:!a||h.getColumn(l,a)},this.properties,l,this);this.Push(c)}},this.Push=function(i){for(i.canvas=this.canvas,i.context=this.context,i.OC=this;;){var t=this.Each(this.Cubes,function(t,e){if(t.ParentId==i.Id)return e});if(this.IsNull(t))break;t=this.Cubes.splice(t,1)[0];i.AddChild(t)}var e=this.Each(this.Cubes,function(t,e){return t.FindNode(i.ParentId)});this.IsNull(e)?(this.Cubes.push(i),i.IsRoot=!0):(e.AddChild(i),i.parentNode=e,i.IsRoot=!1)},this.IsSolid=function(t){return!this.IsNull(t)&&("boolean"!=typeof t||t)},this.IsFunction=function(t){return!this.IsNull(t)&&"function"==typeof t},this.IsNull=function(t){return null==t},this.Each=function(t,e){for(var i=0;i<t.length;++i){var s=e(t[i],i);if(this.IsSolid(s))return s}return null},this.SearchNode=function(t,e){var i;return t.index==e?t:(i=this).Each(t.Children,function(t){return i.SearchNode(t,e)})},this.SearchClickedOne=function(t,e,i){var s;return t.ClickMe(e,i)?t:(s=this).Each(t.Children,function(t){return s.SearchClickedOne(t,e,i)})},this.GetClickedCube=function(t,e){return this.IsNull(this.Final)?null:this.SearchClickedOne(this.Final,t,e)},this.Layout=function(t){var e,i,s=this.properties,a=(t.RefreshLevel(),t.ComputeSpan(),t.SetLevelInfo(t),this.canvas.width-s.marginLeft-s.marginRight),o=this.canvas.height-s.marginTop-s.marginBottom,r=0,r="bar"==s.variantValue?null!=s.itemHeight&&null!=s.itemHeight?parseInt(s.itemHeight):o/t.LevelDictShowSize.length:Math.min(a,o)/(2*t.LevelDictShowSize.length),n=(this._maxSize=Math.min(a,o),DxChart.measureText("a",t.FontObj.bold,t.FontObj.face,t.FontObj.size)),h=(this._textBaseSize=n,[]),l=(h.push(t),t.Position.startAngle=0,t.Position.endAngle=DxChart.TWOPI,s.marginLeft+a/2),c=s.marginTop+o/2;this.centerX=l,this.centerY=c,t.LevelDict.length,r*=s.animationGrowMultiplier,Math.max(a,o),t.Size;for("bar"==s.variantValue?1==s.itemAscending?(e=s.marginTop+o-r,t.Position.point={x:s.marginLeft,y:s.marginTop+o-r,w:a,h:r,cx:s.marginLeft+(s.itemTextMargin||5),cy:s.marginTop+o-r/2}):(e=s.marginTop,t.Position.point={x:s.marginLeft,y:s.marginTop,w:a,h:r,cx:s.marginLeft+(s.itemTextMargin||5),cy:s.marginTop+r/2}):t.Position.point={x1:l,y1:c,x2:l,y2:c,x3:l,y3:c,x4:l,y4:c,r1:0,r2:r,sa:0,ea:DxChart.TWOPI,ca:DxChart.PI,cx:l,cy:c,leng:r,rx:0,ry:0,rx1:0,ry1:0},t._childindex=0,this.nDiv=r;0<h.length;)for(var x=h.shift(),d=x.SumValue,u="bar"==s.variantValue?(i=x.Position.point.w,x.Position.point.x):(i=x.Position.endAngle-x.Position.startAngle,x.Position.startAngle),g=0;g<x.Children.length;++g){var p,f,m,b,C,y,D,v,S,k,w=x.Children[g];w._childindex=g,"bar"==s.variantValue?(p=i*(w.SumValue/d),1==s.itemAscending?w.Position.point={x:u,y:e-r*w.Level,w:p,h:r,cx:u+(s.itemTextMargin||5),cy:e-r*w.Level+r/2}:w.Position.point={x:u,y:e+r*w.Level,w:p,h:r,cx:u+(s.itemTextMargin||5),cy:e+r*w.Level+r/2},u+=p):(f=u+((p=u+i*(w.SumValue/d))-u)/2,m=DxChart.getRadiusEndPoint(l,c,u,r*w.Level),b=DxChart.getRadiusEndPoint(l,c,p,r*w.Level),C=DxChart.getRadiusEndPoint(l,c,u,r*(w.Level+1)),y=DxChart.getRadiusEndPoint(l,c,p,r*(w.Level+1)),D=!0===s.itemTextNoAngle?DxChart.getRadiusEndPoint(l,c,f,r*w.Level+r/2):DxChart.getRadiusEndPoint(l,c,f,r*w.Level+5),v=DxChart.getHypLength(m[0],m[1],b[0],b[1]),DxChart.getHypLength(C[0],C[1],y[0],y[1]),S=DxChart.getRadiusEndPoint(l,c,u-.01,r*w.Level),k=DxChart.getRadiusEndPoint(l,c,u-.01,r*(w.Level+1)),w.Position.point={x1:m[0],y1:m[1],x2:b[0],y2:b[1],x3:y[0],y3:y[1],x4:C[0],y4:C[1],r1:r*w.Level,r2:r*(w.Level+1),sa:u,ea:p,ca:f,cx:D[0],cy:D[1],leng:v,rx:S[0],ry:S[1],rx1:k[0],ry1:k[1]},w.Position.startAngle=u,u=w.Position.endAngle=p),h.push(w)}},this.stopAnimation=function(){this.set("animationGrowMultiplier",1),this.stopAnimationRequested=!0},this.cancelStopAnimation=function(){this.stopAnimationRequested=!1},this.drawAni=function(){"grow"===(arguments[0]||"grow")&&this.grow(arguments[1]||{},arguments[2]||function(){})},this.grow=function(){this.cancelStopAnimation();var e=this,t=arguments[0]||{},i=arguments[1]||function(){},s=t.frames||30,a=0;return function t(){e.stopAnimationRequested?e.stopAnimationRequested=!1:(e.set("animationGrowMultiplier",a/s),DxChart.clear(e.canvas),DxChart.redrawCanvas(e.canvas),a<s?(a++,DxChart.Effects.updateCanvas(t,e.canvas)):i(e))}(),this},this.draw=function(){var t=this.properties,e=(this.coords=[],this.coords2=[],DxChart._BeforeDraw(this),this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this);if(this.Each(this.Cubes,function(t){return e.Layout(t),null}),this.FitstNode=null,this.Final=null,0<this.Cubes.length){this.FitstNode=this.Cubes[0],this.Final=this.Cubes[0];for(var i=1;i<this.Cubes.length;++i)this.Cubes[i].Size>this.Final.Size&&(this.Final=this.Cubes[i]);this.Final.Draw()}t.keyData&&t.keyData.length&&DxChart.drawKey(this,t.keyData,t.keyColors||t.colors),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw")),DxChart._fireEvent(this,"onenddraw")},this.getObjectByXY=function(t){var e=this.properties,t=DxChart.getMouseXY(t),i=e.marginLeft;if(t[0]>=i&&t[0]<=this.canvas.width-e.marginRight&&t[1]>=e.marginTop&&t[1]<=this.canvas.height-e.marginBottom)return this},this.onclick=function(t,e){e&&e.cube&&e.object.onnodeclick&&e.object.onnodeclick(e.cube)},this.highlight=function(t){var e=this.properties;if(t&&t.cube&&e.highlightValue){this.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=e.highlightFill,isNexacroRuntime&&this.context.setElementFillStyle(e.highlightFill);var i=t.coordsidx,s=this.coords;if(this.context.beginPath(),"bar"==e.variantValue)this.context.rect(s[i][1],s[i][2],s[i][3],s[i][4]);else if(isNexacroRuntime)if(0==t.cube.Level)this.context.arc(this.centerX,this.centerY,this.nDiv,0,DxChart.TWOPI);else{var a=s[i];this.context.moveTo(a[1],a[2]);for(var o=3,r=a.length;o<r;o+=2)this.context.lineTo(a[o],a[o+1])}else 0==t.cube.Level?this.context.arc(s[i][3],s[i][4],s[i][5],s[i][6],s[i][7]):(this.context.moveTo(s[i][1],s[i][2]),this.context.arc(s[i][3],s[i][4],s[i][5],s[i][6],s[i][7]),this.context.lineTo(s[i][8],s[i][9]),this.context.arc(s[i][10],s[i][11],s[i][12],s[i][13],s[i][14],!0),this.context.lineTo(s[i][15],s[i][16]));this.context.closePath(),this.context.fill(),this.context.stroke()}},this.tooltipSubstitutions=function(t){var e,i=this.SearchNode(this.Cubes[0],t.index);if(i)return e=i?i.SumValue:"",this.properties.tooltipsFormattedKeyLabels[0]=i.Name,this.properties.colors[0]=i.Color||this.properties.colors[0],this.properties.tooltipsFormattedKeyColors[0]=i.Color||this.properties.colors[0],{index:t.index,dataset:0,sequentialIndex:t.index,value:e,values:[e]}},this.getShape=function(t){for(var e,i=this.properties,s=arguments[1]||this,a=DxChart.getMouseXY(t),o=a[0],r=a[1],n=(s.canvas,s.context),h=s.coords,l=h.length-1;0<=l;l--)if(0!=s.coords[l].length){if(n.beginPath(),"bar"==i.variantValue)n.rect(h[l][1],h[l][2],h[l][3],h[l][4]);else if(isNexacroRuntime){var c=h[l];n.moveTo(c[1],c[2]);for(var x=3,d=c.length;x<d;x+=2)n.lineTo(c[x],c[x+1])}else n.moveTo(h[l][1],h[l][2]),n.arc(h[l][3],h[l][4],h[l][5],h[l][6],h[l][7]),n.lineTo(h[l][8],h[l][9]),n.arc(h[l][10],h[l][11],h[l][12],h[l][13],h[l][14],!0),n.lineTo(h[l][15],h[l][16]);if(n.closePath(),this.context.isPointInPath(o,r))return{object:this,cube:e=h[l][0],coordsidx:l,x:e.Position.x,y:e.Position.x,width:e.Dimen.width,height:e.Dimen.height,tooltip:i.tooltipsData,label:e.Name,dataset:0,sequentialIndex:e.index,index:e.index}}},DxChart.parseProperties(this,t.options),this.resetData(t),DxChart.register(this)}function _SunburstCube(t,e,i,s,a,o){return this.parent=null,this.Id=t,this.ParentId=e,this.Name=i.n,this.index=a,this.value=i.v?i.v.valueOf():null,this.Color=i.c||s.backgroundColor,(this.HighlightLineColor=null)==i.e||null==i.e?this.Expand=!0:this.Expand=nexacro._toBoolean(i.e),this.Font=i.f||s.itemTextFontStyle,this.FontObj=DxChart._parseFontInfo(this.Font),this.FontColor=i.fc||s.itemTextColor,this.Level=0,this.LevelMaxNodes=1,this.Depth=0,this.TotalHeight=0,this.cumW=0,this.cumH=0,this.coords=[],this.Size=1,this.Dimen={width:10,height:10},this.Span=0,this.Lines=[],this.Children=[],this.Position={x:0,y:0},this.SeperatorY=999999,this.canvas=null,this.context=null,this.OC=o,this.Drawbar=function(t,e){var i=this.OC.properties,s=this.Position.point;t.strokeStyle=i.backgroundGridColor,isNexacroRuntime&&t.setElementStrokeStyle(t.strokeStyle),t.fillStyle=e,isNexacroRuntime&&t.setElementFillStyle(t.fillStyle),t.beginPath(),t.rect(s.x,s.y,s.w,s.h),t.fill(),t.stroke(),this.OC.coords.push([this,s.x,s.y,s.w,s.h])},this.DrawCircle=function(t,e){var i=this.OC.properties,s=this.Position.point;t.strokeStyle=i.backgroundGridColor,isNexacroRuntime&&t.setElementStrokeStyle(t.strokeStyle),t.beginPath();if(isNexacroRuntime){for(var a,i=[],o=(i.push(this),t.moveTo(s.x1,s.y1),i.push(s.x1),i.push(s.y1),t),r=s.sa,n=s.ea,h=this.OC.centerX,l=this.OC.centerY,c=s.r1,x=(s.leng,i),d=r;d<n;)a=DxChart.getRadiusEndPoint(h,l,d,c),o.lineTo(a[0],a[1]),x.push(a[0]),x.push(a[1]),d+=DxChart.HALFPI/200;t.lineTo(s.x3,s.y3),i.push(s.x3),i.push(s.y3);for(var u,g=t,p=s.sa,r=s.ea,f=this.OC.centerX,m=this.OC.centerY,b=s.r2,C=(s.leng,i),y=r;p<=y;)u=DxChart.getRadiusEndPoint(f,m,y,b),g.lineTo(u[0],u[1]),C.push(u[0]),C.push(u[1]),y-=DxChart.HALFPI/200;t.lineTo(s.x1,s.y1),i.push(s.x1),i.push(s.y1),this.OC.coords.push(i)}else t.moveTo(s.x1,s.y1),t.arc(this.OC.centerX,this.OC.centerY,s.r1,s.sa,s.ea),t.lineTo(s.x3,s.y3),t.arc(this.OC.centerX,this.OC.centerY,s.r2,s.ea,s.sa,!0),t.lineTo(s.x1,s.y1),this.OC.coords.push([this,s.x1,s.y1,this.OC.centerX,this.OC.centerY,s.r1,s.sa,s.ea,s.x3,s.y3,this.OC.centerX,this.OC.centerY,s.r2,s.ea,s.sa,s.x1,s.y1]);t.closePath(),t.fillStyle=e,isNexacroRuntime&&t.setElementFillStyle(t.fillStyle),t.fill(),0<s.r1&&t.stroke()},this.DrawText=function(t,e,i,s){var a;this.LinesSize[0];this.context.save(),isNexacroRuntime?(this.context.translate(i,s),1.4<this.Position.point.ca&&this.Position.point.ca<DxChart.TWOPI-DxChart.HALFPI?(a=180/Math.PI*(this.Position.point.ca-DxChart.PI),this.context.rotate(a),this.context.setElementTextAlign("end")):(a=180/Math.PI*this.Position.point.ca,this.context.rotate(a),this.context.setElementTextAlign("start")),this.context.setElementTextBaseline("middle")):(this.context.translate(i,s),1.4<this.Position.point.ca&&this.Position.point.ca<DxChart.TWOPI-DxChart.HALFPI?(a=this.Position.point.ca-DxChart.PI,this.context.rotate(a),this.context.textAlign="right"):(a=this.Position.point.ca,this.context.rotate(a),this.context.textAlign="left"),this.context.textBaseline="middle"),(s=i=0)==this.Position.point.r1&&(this.context.textAlign="center",isNexacroRuntime)&&this.context.setElementTextAlign("center"),this.context.fillStyle=e,isNexacroRuntime&&this.context.setElementFillStyle(e),this.context.fillText(t,i,s),this.context.restore()},this.IsSolid=function(t){return null!=t&&("boolean"!=typeof t||t)},this.Each=function(t,e){for(var i=0;i<t.length;++i){var s=e(t[i],i);if(this.IsSolid(s))return s}return null},this.AddChild=function(t){this.Children.push(t)},this.RefreshLevel=function(){var e=this.Level;return this.Each(this.Children,function(t){return t.Level=e+1,t.RefreshLevel()})},this.Count=function(t,e,i,s,a){this.OC.properties;null==e[this.Level]||null==e[this.Level]?(e[this.Level]=1,i[this.Level]={w:t.Dimen.width,h:t.Dimen.height},s[this.Level]={w:t.Dimen.width,h:t.Dimen.height}):(e[this.Level]+=1,i[this.Level].w=Math.max(i[this.Level].w,t.Dimen.width),i[this.Level].h=i[this.Level].h+t.Dimen.height,1==a&&(s[this.Level].w=Math.max(s[this.Level].w,t.Dimen.width),s[this.Level].h=s[this.Level].h+t.Dimen.height),0==t.Expand&&(a=!1)),this.Each(this.Children,function(t){t.Count(t,e,i,s,a)})},this.SetLevelInfo=function(t){var e,i={},s=[],a=[],o=(this.Count(t,i,s,a,!0),1),r=1;for(e in i)r++,o<i[e]&&(o=i[e]);for(var n=0,h=0,l=0;l<s.length;l++)n=Math.max(s[l].w,n),h=Math.max(s[l].h,h);this.LevelMaxSize=[n,h];for(n=0,h=0,l=0;l<a.length;l++)n=Math.max(a[l].w,n),h=Math.max(a[l].h,h);this.LevelMaxShowSize=[n,h],this.LevelDict=i,this.LevelDictSize=s,this.LevelDictShowSize=a,this.LevelMaxNodes=o,this.Depth=r},this.RealSpan=function(){return[Math.max(this.SpanWidth,this.Dimen.width),Math.max(this.SpanHeight,this.Dimen.height),this.SumValue||this.value||0]},this.RealSpanValue=function(){return this.SumValue||this.value||0},this.ComputeDimension=function(){var t=this.Name,e=(this.OC.properties,(this.FontObj.italic?"italic ":"")+(this.FontObj.bold?"bold ":"")+this.FontObj.size+"px "+this.FontObj.face),i=DxChart.measureText(t,this.FontObj.bold,this.FontObj.face,this.FontObj.size);this.Dimen.width=i[0],this.Dimen.height=i[1],this.Lines=[],this.LinesSize=[],this.LinesFont=[];this.Lines.push(t),this.LinesFont.push(e),this.LinesSize.push(i)},this.ComputeSpan=function(){this.ComputeDimension();var t,e=0,i=0,s=1,a=0;if(0<this.Children.length&&(this.IsRoot||this.parentNode&&1==this.parentNode.Expand))for(var o=0;o<this.Children.length;++o)e+=(t=this.Children[o].ComputeSpan())[0],i+=t[1],a+=t[2],s+=this.Children[o].Size;return 0==e&&(e=this.Dimen.width),0==i&&(i=this.Dimen.height),0==a&&(a=this.value||0),this.Size=s,this.SumValue=a,this.SpanWidth=e,this.SpanHeight=i,this.RealSpan()},this.GetTextSize=function(t,e){var i;if(isNexacroRuntime)return s=new nexacro.FontObject(e),i=nexacro._getTextSize(t,s),s=null,[i[0],i[1]];this.context.font=e;var s=this.context.measureText(t);return[s.width,s.actualBoundingBoxAscent+s.actualBoundingBoxDescent]},this.FindNode=function(i){return this.Id==i?this:this.Each(this.Children,function(t,e){return t.FindNode(i)})},this.ClickMe=function(t,e){return t/=this.OC.dpr,e/=this.OC.dpr,t>this.Position.x&&t<this.Position.x+this.Dimen.width&&e>this.Position.y&&e<this.Position.y+this.Dimen.height},this.Draw=function(){var t,e,i=this.OC.properties,s=(this.Position.x,this.Position.y,i.itemFontSeqStyleObj,this.Each(this.Children,function(t){return t.Draw()}),c=this.Color,t=this.LinesFont[0],isNexacroRuntime?(s=new nexacro.FontObject(t),this.context.setElementFont(s)):this.context.font=t,this.Lines[0]),a=("bar"==i.variantValue?(c=DxChart.parseGradient(this,c,this.Position.point.x,this.Position.point.y,this.Position.point.w,this.Position.point.h),this.Drawbar(this.context,c)):(DxChart.isNumber(i.itemGradientValue)&&(h=i.itemGradientValue/3,o=i.itemGradientValue<0?(a=DxChart._shadeColor(c,20),DxChart._shadeColor(c,10)):(a=DxChart._shadeColor(c,-20),DxChart._shadeColor(c,-10)),r=DxChart._shadeColor(c,0),n=DxChart._shadeColor(c,h),h=DxChart._shadeColor(c,2*h),l=DxChart._shadeColor(c,i.itemGradientValue),c=DxChart.parseRadialGradientInfo(this.OC,"radial-gradient("+a+","+o+","+r+","+n+","+h+","+l+")",this.OC.centerX,this.OC.centerY,0,this.OC.centerX,this.OC.centerY,this.OC._maxSize/2)),this.DrawCircle(this.context,c)),this.Position.point.cx),o=this.Position.point.cy,r=this.Position.point.leng,n=this.OC.nDiv-5,h=this.LinesSize[0],l=this.OC._textBaseSize[0],c=n/l;return!0===i.itemTextNoAngle||"bar"==i.variantValue?(s=s||"",e=[],e="bar"==i.variantValue?(l>=this.Position.point.w?s="":h[0]>this.Position.point.w&&(s=s.substr(0,1+c)+".."),[""]):s.split("\\n"),DxChart.text({object:this.OC,font:t,size:this.FontObj.size,color:this.FontColor,bold:this.FontObj.bold,italic:this.FontObj.italic,x:a,y:o+(e.length-1)*h[1]/3,text:s,halign:"bar"==i.variantValue?"left":"center",valign:"middle",angle:0,marker:!1,bounding:!1,"bounding.fill":null,"bounding.stroke":null,tag:"labels.above"})):(h[1]>r+10?s="":h[0]>n&&(s=s.substr(0,1+c)+".."),this.DrawText(s,this.FontColor,a,o)),null},this}function DxChartBackground(t){return DxChart._Base.call(this,t,"drawing.background"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"xaxis"),DxChart.setDefaultProperties(this,"yaxis"),DxChart.setDefaultProperties(this,"tooltips"),this.properties.clearto="rgba(0,0,0,0)",this.$0={},this.waterColorSeq=0,this.enableredraw=!0,this.draw=function(){if(0!=this.enableredraw)return this.enableredraw=!0,this.properties,DxChart._BeforeDraw(this),DxChart.drawBackgroundImage(this),DxChart.Background.draw(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.getObjectByXY=function(t){if(this.getShape(t))return this},this.getShape=function(t){var e,i=this.properties,t=DxChart.getMouseXY(t),s=t[0],t=t[1];return s>=this.marginLeft&&s<=this.canvas.width-this.marginRight&&t>=this.marginTop&&t<=this.canvas.height-this.marginBottom?{object:this,dataset:0,index:0,sequentialIndex:0,tooltip:"string"==typeof(e=DxChart.parseTooltipText&&i.tooltipsData?DxChart.parseTooltipText(i.tooltipsData,0):e)?e:null}:null},this.highlight=function(t){var e=this.properties;e.tooltipsHighlight&&("function"==typeof e.highlightStyle?e.highlightStyle(t):this.path("b r % % % % f % s %",e.marginLeft,e.marginTop,this.canvas.width-e.marginLeft-e.marginRight,this.canvas.height-e.marginTop-e.marginBottom,e.highlightFill,e.highlightStroke))},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.backgroundColor=DxChart.arrayClone(t.backgroundColor),this.original_colors.backgroundGridColor=DxChart.arrayClone(t.backgroundGridColor),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill)),t.backgroundColor=this.parseSingleColorForGradient(t.backgroundColor),t.backgroundGridColor=this.parseSingleColorForGradient(t.backgroundGridColor),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill)},this.reset=function(){},this.firstDrawFunc=function(){},this.tooltipSubstitutions=function(t){return{index:0,dataset:0,sequentialIndex:0,value:null}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas));t.tooltip.style.left=s[0]+(this.canvas.width-properties.marginLeft-properties.marginRight)/2+properties.marginLeft-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]-i.offsetHeight+e.properties.tooltipsOffsetY+(this.canvas.height-properties.marginTop-properties.marginBottom)/2+properties.marginTop-10+"px"},DxChart.register(this),DxChart.parseProperties(this,t.options),this}function BgCrystal(t){var e=t.context,i=t.canvas;if(e&&i){for(var s=i.width,a=i.height,o=[],r=(t.x,t.y,t.md||100),n=t.maxWidth||15,h=t.minWidth||2,l=.9*a,c=.5*a,x=t.maxSpeed||35,d=t.minSpeed||6,u=t.hue||230,g=t.hueDif||50,p=(t.glow,0);p<r;p++)o.push({x:Math.random()*s,y:Math.random()*a/2,h:Math.random()*(l-c)+c,w:Math.random()*(n-h)+h,c:Math.random()*(u+g-(u-g))+(u-g),m:Math.random()*(x-d)+d});for(p=1;p<o.length;p++){e.beginPath();var f=e.createLinearGradient(o[p].x,o[p].y,o[p].x+o[p].w,o[p].y+o[p].h);f.addColorStop(0,DxChart._hex2rgb(this.hslToHex(o[p].c,50,50),0)),f.addColorStop(.2,DxChart._hex2rgb(this.hslToHex(o[p].c+20,50,50),.5)),f.addColorStop(.5,DxChart._hex2rgb(this.hslToHex(o[p].c+50,70,60),.8)),f.addColorStop(.8,DxChart._hex2rgb(this.hslToHex(o[p].c+80,50,50),.5)),f.addColorStop(1,DxChart._hex2rgb(this.hslToHex(o[p].c+100,50,50),0)),e.fillStyle=f,isNexacroRuntime&&e.setElementFillStyle(f),e.fillRect(o[p].x,o[p].y,o[p].w,o[p].h),e.closePath(),e.fill()}return this.hue2rgb=function(t,e,i){return i<0&&(i+=1),1<i&&--i,i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},this.toHex=function(t){t=Math.round(255*t).toString(16);return 1===t.length?"0"+t:t},this.hslToHex=function(t,e,i){t/=360,i/=100;let s,a,o;return 0===(e/=100)?s=a=o=i:(e=2*i-(i=i<.5?i*(1+e):i+e-i*e),s=this.hue2rgb(e,i,t+1/3),a=this.hue2rgb(e,i,t),o=this.hue2rgb(e,i,t-1/3)),"#"+this.toHex(s)+this.toHex(a)+this.toHex(o)},this}}function BgLamp(t){var e=t.radius||[1,120],i=t.count||70,s=t.blur||[12,70],a=(t.backgroundColors,t.colors||[["#002aff","#009ff2"],["#0054ff","#27e49b"],["#202bc5","#873dcc"]]),o=t.context,r=t.canvas;if(o&&r){for(;i--;){var n=this.rand(e[0],e[1]),h=this.rand(s[0],s[1]),l=this.rand(-100,r.width+100),c=this.rand(-100,r.height+100),x=Math.floor(this.rand(0,299)/100),d=a[x][0],x=a[x][1],h=(o.beginPath(),o.filter="blur("+h+"px)",o.createLinearGradient(l-n/2,c-n/2,l+n,c+n));h.addColorStop(0,d),h.addColorStop(1,x),o.fillStyle=h,isNexacroRuntime&&o.setElementFillStyle(h),o.arc(l,c,n,0,2*Math.PI),o.closePath(),o.fill()}return o.filter="none",this.rand=function(t,e){return Math.random()*(e-t)+t},this}}function BgLine(t,e){var i=t.angle,t=t.speed;return this.angle=[Math.sin(i[0]+=t[0]),Math.sin(i[1]+=t[1]),Math.sin(i[2]+=t[2]),Math.sin(i[3]+=t[3])],this.color=e,this}function BgWave(t){var e=t.options.speed;return this.Waves=t,this.Lines=[],this.rnd_sign=function(){return.5<Math.random()?1:-1},this.rnd=function(t,e){return 1==arguments.length?Math.random()*t:t+Math.random()*(e-t)},this.angle=[this.rnd(DxChart.TWOPI),this.rnd(DxChart.TWOPI),this.rnd(DxChart.TWOPI),this.rnd(DxChart.TWOPI)],this.speed=[this.rnd(e[0],e[1])*this.rnd_sign(),this.rnd(e[0],e[1])*this.rnd_sign(),this.rnd(e[0],e[1])*this.rnd_sign(),this.rnd(e[0],e[1])*this.rnd_sign()],this.update=function(){var t=this.Lines,e=this.Waves.color;t.push(new BgLine(this,e)),t.length>this.Waves.options.width&&t.shift()},this.draw=function(){var t=this.Waves,c=t.ctx,x=t.radius,d=x/3,u=t.centerX,g=t.centerY,p=t.options.rotation*DxChart.PI/180,f=t.options.amplitude,t=this.Lines;this.Waves.Each(t,function(t,e){var i=t.angle,s=u-x*Math.cos(i[0]*f+p),a=g-x*Math.sin(i[0]*f+p),o=u+x*Math.cos(i[3]*f+p),r=g+x*Math.sin(i[3]*f+p),n=u-d*Math.cos(i[1]*f*2),h=g-d*Math.sin(i[1]*f*2),l=u+d*Math.cos(i[2]*f*2),i=g+d*Math.sin(i[2]*f*2);c.strokeStyle=t.color,isNexacroRuntime&&c.setElementStrokeStyle(t.color),c.beginPath(),c.moveTo(s,a),c.bezierCurveTo(n,h,l,i,o,r),c.stroke()})},this}function BgWaves(t){for(var e in this.options={resize:!1,rotation:45,waves:5,width:100,hue:[11,14],amplitude:.5,background:!1,preload:!0,speed:[.004,.008],fps:!1},t)this.options[e]=t[e];null!=this.options.alpha&&null!=this.options.alpha||(this.options.alpha=1),this.waves=[],this.canvas=t.canvas,this.ctx=t.ctx,this.parentNode=t.parentNode;var i=this.canvas.width,s=this.canvas.height;return t.parentNode.adjustSpace.b,t.parentNode.adjustSpace.y,this.scale=1,this.width=i*this.scale,this.height=s*this.scale,this.radius=Math.sqrt(Math.pow(i,2)+Math.pow(s,2))/2,this.centerX=t.parentNode.adjustSpace.x+i/2,this.centerY=t.parentNode.adjustSpace.y+s/2,this.hue=this.options.hue[0],this.hueFw=!0,this.init=function(t){for(var e=this.options,i=0;i<e.waves;i++)this.waves[i]=new BgWave(this);t&&this.preload()},this.background=function(){var t=this.options.backColor1||"#000000",e=this.options.backColor2||this.color,t=(this.ctx.globalAlpha=1,"linear-gradient(to bottom,"+t+" 0%,"+e+" 100%)");this.ctx.fillStyle=DxChart.parseGradient(this.parentNode,t,0,0,this.width,this.height),isNexacroRuntime&&this.ctx.setElementFillStyle(this.ctx.fillStyle),this.ctx.fillRect(0,0,this.width,this.height),this.ctx.globalAlpha=this.options.alpha,isNexacroRuntime&&this.ctx.setElementGlobalAlpha(this.options.alpha)},this.preload=function(){for(var t=this.options,e=0;e<t.waves;e++){this.updateColor();for(var i=0;i<t.width;i++)this.waves[e].update()}},this.updateColor=function(){this.hue+=this.hueFw?.01:-.01,this.hue>this.options.hue[1]&&this.hueFw?(this.hue=this.options.hue[1],this.Waves=!1):this.hue<this.options.hue[0]&&!this.hueFw&&(this.hue=this.options.hue[0],this.Waves=!0);var t=Math.floor(127*Math.sin(.3*this.hue+0)+128),e=Math.floor(127*Math.sin(.3*this.hue+2)+128),i=Math.floor(127*Math.sin(.3*this.hue+4)+128);this.color="rgba("+t+","+e+","+i+", 0.1)"},this.Each=function(t,e){for(var i=0;i<t.length;i++)e(t[i],i)},this.render=function(){this.ctx,this.options;this.updateColor(),this.options.background&&this.background(),this.Each(this.waves,function(t,e){t.update(),t.draw()})},this.init(this.options.preload),this}function BgBall(t){for(var e in this.ctx=t.context,t)this[e]=t[e];return this.startColor=t.startColor,this.endColor=t.endColor,this.r=100+100*Math.random(),this.pos={x:Math.random()*this.parentNode.adjustSpace.r,y:Math.random()*this.parentNode.adjustSpace.b},this.pos.x<this.parentNode.x&&(this.pos.x=this.parentNode.adjustSpace.x),this.pos.y<this.parentNode.y&&(this.pos.y=this.parentNode.adjustSpace.y),this.pos.x>this.parentNode.r&&(this.pos.x=this.parentNode.adjustSpace.r),this.pos.y>this.parentNode.b&&(this.pos.y=this.parentNode.adjustSpace.b),this.direction={x:2*Math.random()-1,y:2*Math.random()-1},this.activePos={x:this.pos.x,y:this.pos.y},this.randomColor=function(){function t(){return DxChart.random(e,i,0)}var e=0,i=255;return"rgba("+t()+","+t()+","+t()+")"},this.gradientBg=function(t,e,i){var s=t-i/3,a=e-i/7;if(DxChart.ISIE&&(s=t-(i/=3)/3,a=e-i/7),isNexacroRuntime){this.ctx.save(),this.ctx.translate(t,e);var o=i,r=i,n="radial-gradient("+(this.startColor||DxChart._rgba2hex(this.randomColor())[0])+","+(this.endColor||DxChart._rgba2hex(this.randomColor())[0])+")",n=DxChart.parseRadialGradientInfo(this.parentNode,n,o,r,0,o,r,2*i)}else{n=this.ctx.createRadialGradient(s,a,0,t,e,i);try{n.addColorStop(0,this.startColor||this.randomColor()),n.addColorStop(.95,this.endColor||this.randomColor())}catch(t){}}return n},this.draw=function(){this.color=this.gradientBg(this.activePos.x,this.activePos.y,this.r),this.ctx.fillStyle=this.color,isNexacroRuntime&&this.ctx.setElementFillStyle(this.color),this.ctx.beginPath(),isNexacroRuntime?this.ctx.arc(this.r,this.r,this.r,0,2*Math.PI):this.ctx.arc(this.activePos.x,this.activePos.y,this.r,0,2*Math.PI),this.ctx.fill(),isNexacroRuntime&&this.ctx.restore()},this}function WaterColor(t){for(var e in this.ctx=t.context,t)this[e]=t[e];return this.init=function(){this.sides=6,this.x=20,this.y=20,this.speed=.3,this.c=0,this.color=-25,this.maxPoints=3e3,this.maxRender=5,this.scale=!1,this.fill||(this.fill=this.randomColor())},this.randomWiggle=function(t){return Math.random()*t*(Math.random()<.5?-1:1)},this.randomColor=function(){function t(){return DxChart.random(e,i,0)}var e=this.minColor,i=this.maxColor;return"rgba("+t()+","+t()+","+t()+",1)"},this.adjustX=function(t){var e=this.parentNode.adjustSpace;return t<e.x?e.x:t>e.r?e.r:t},this.adjustY=function(t){var e=this.parentNode.adjustSpace;return t<e.y?e.y:t>e.b?e.b:t},this.buildPoints=function(){var t=.15*this.size,e=0,i=-this.size,s=0,a=.5<Math.random(),o=[i=this.adjustX(i),s=this.adjustY(s)];for(this.points=[o];e<DxChart.TWOPI;e+=this.speed)i+=this.size*this.speed*Math.sin(e)*(a?1:.7)+this.randomWiggle(t),s+=this.size*this.speed*Math.cos(e)*(a?.7:1)+this.randomWiggle(t),i=this.adjustX(i),s=this.adjustY(s),this.points.push([i,s]);return this.points.push(o),this.originalPoints=this.points,this.points},this.expandPoints=function(){if(!this.points)return this.buildPoints();if(this.points.length>this.maxPoints)return!1;for(var t,e,i,s,a=.05*this.size,o=[],r=0,n=this.points.length-1;r<n;r++)e=this.points[r][1],t=this.points[r][0],s=this.points[r+1][1],i=this.points[r+1][0],t=this.adjustX(t),e=this.adjustY(e),i=this.adjustX(i),s=this.adjustY(s),o.push([t,e],[(i+t)/2+this.randomWiggle(a),(s+e)/2+this.randomWiggle(a)],[i,s]);return this.points=o,!0},this.render=function(){this.parentNode.waterColorSeq==this.waterColorSeq&&this.draw(this.c/3)},this.draw=function(t){if(this.ctx){for(;this.expandPoints(););var e=this.ctx;this.maxRender;e.beginPath(),e.moveTo(this.points[0][0],this.points[0][1]);for(var i=0,s=this.points.length;i<s;i++)e.lineTo(this.points[i][0],this.points[i][1]);e.closePath(),e.fillStyle=this.fill,isNexacroRuntime&&e.setElementFillStyle(this.fill),e.fill(),this.points=this.originalPoints}return this},this.init(),this.render(),this}function DxChartCircle(t){return DxChart._Base.call(this,t,"drawing.circle"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"text"),this.properties.colorsStroke="rgba(0,0,0,0)",this.properties.colorsFill="red",this.properties.clearto="rgba(0,0,0,0)",this.centerx=t.x,this.centery=t.y,this.radius=t.radius,this.coords=[[this.centerx,this.centery,this.radius]],this.$0={},this.draw=function(){var t=this.properties;return DxChart._BeforeDraw(this),this.path("b lw %",t.lineWidth),t.shadowUse&&DxChart.setShadow({object:this,prefix:"shadow"}),this.path("b a % % % % % false f % s %",this.coords[0][0],this.coords[0][1],this.radius,0,DxChart.TWOPI,t.colorsFill,t.colorsStroke),DxChart.noShadow(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"ondraw"),this},this.getObjectByXY=function(t){if(this.getShape(t))return this},this.getShape=function(t){var e,i=this.properties,t=DxChart.getMouseXY(t);t[0],t[1];return DxChart.getHypLength(this.centerx,this.centery,t[0],t[1])<=this.radius?(DxChart.parseTooltipText&&i.tooltipsData&&(e=DxChart.parseTooltipText(i.tooltipsData,0)),{object:this,x:this.centerx,y:this.centery,radius:this.radius,dataset:0,index:0,sequentialIndex:0,tooltip:"string"==typeof e?e:null}):null},this.highlight=function(t){var e=this.properties;e.tooltipsHighlight&&("function"==typeof e.highlightStyle?e.highlightStyle(t):this.path("b a % % % % % false f % s %",this.centerx,this.centery,this.radius+.5,0,DxChart.TWOPI,e.highlightFill,e.highlightStroke))},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colorsFill=DxChart.arrayClone(t.colorsFill),this.original_colors.colorsStroke=DxChart.arrayClone(t.colorsStroke),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill)),t.colorsFill=this.parseSingleColorForGradient(t.colorsFill),t.colorsStroke=this.parseSingleColorForGradient(t.colorsStroke),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill)},this.reset=function(){},this.parseSingleColorForGradient=function(t){if(!t)return t;if("string"==typeof t&&t.match(/^gradient\((.*)\)$/i)){if(t.match(/^gradient\(({.*})\)$/i))return DxChart.parseJSONGradient({object:this,def:RegExp.$1});for(var e=RegExp.$1.split(":"),i=this.context.createRadialGradient(this.centerx,this.centery,0,this.centerx,this.centery,this.radius),s=1/(e.length-1),a=0;a<e.length;a+=1)i.addColorStop(a*s,DxChart.trim(e[a]))}return i||t},this.firstDrawFunc=function(){},this.tooltipSubstitutions=function(t){return{index:0,dataset:0,sequentialIndex:0,value:null}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas));t.tooltip.style.left=s[0]+this.centerx-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]-i.offsetHeight+e.properties.tooltipsOffsetY+this.centery-10+"px"},DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartImage(t){return DxChart._Base.call(this,t,"drawing.image"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"border"),DxChart.setDefaultProperties(this,"background"),DxChart.setDefaultProperties(this,"text"),this.properties.src=null,this.properties.width=null,this.properties.height=null,this.properties.halign="left",this.properties.valign="top",this.properties.imageAlpha=1,this.properties.clearto="rgba(0,0,0,0)",this.properties.backgroundColor="rgba(0,0,0,0)",this.properties.highlightStroke="rgba(0,0,0,0)",this.properties.highlightFill="rgba(255,255,255,0.7)",this.x=t.x,this.y=t.y,this.properties.x=t.x,this.properties.y=t.y,this.src=t.src,this.img="",this._imgsequence=0,this.coords=[],this.$0={},this.drawImage=function(t,a,o,r,n,h,l,c,x,e){var d;null==x&&(x=1),null==l&&(l=0);var u=(u=t.split("/").join("")).split("::").join(""),i=t,g=(isNexacroRuntime&&(d={}),this._imgsequence);if("string"==typeof t)if(void 0===this.canvas["_cached_"+u+r]){var p=this;if(isNexacroRuntime)d.src=i,d.handle=nexacro._getImageObject(i,function(t,e,i,s){d.width=e,d.height=i,d.imagewidth=e,d.imageheight=i,p._drawImageCallback(g,u,d,a,o,r,n,h,l,c,x)},this,"",!1);else{if(d=new Image,nexacro){if(!(i="url("==i.substring(0,4).toLowerCase()?i.substring(5,i.length-2):i)||!i.length)return null;i=nexacro._getImageLocation(i)}d.onload=function(){p._drawImageCallback(g,u,d,a,o,r,n,h,l,c,x)},d.src=i}}else d=this.canvas["_cached_"+u+r],this._drawImageCallback(g,u,d,a,o,r,n,h,l,c,x)},this._drawImageCallback=function(t,e,i,s,a,o,r,n,h,l,c){var x,d;t==this._imgsequence&&(this.canvas["_cached_"+e+o]||(this.canvas["_cached_"+e+o]=i),e=(t=this.context).lineWidth,t.save(),x=t.globalAlpha,t.globalAlpha=this.properties.imageAlpha,isNexacroRuntime&&t.setElementGlobalAlpha(c),t.lineWidth=h,isNexacroRuntime&&t.setElementLineWidth(h),o=o||i.width,r=r||i.height,"number"==typeof s&&"number"==typeof a||("center"===this.properties.valign?a=this.canvas.height/2-r/2:"top"===this.properties.valign?a=this.properties.marginTop:"bottom"===this.properties.valign&&(a=this.canvas.height-r),"center"===this.properties.halign?s=this.canvas.width/2-o/2:"left"===this.properties.halign?s=this.properties.marginLeft:"right"===this.properties.halign&&(s=this.canvas.width-o-this.properties.marginRight)),"rect"==n?(t.beginPath(),t.moveTo(s,a),t.lineTo(s+o,a),t.lineTo(s+o,a+r),t.lineTo(s,a+r),t.lineTo(s,a),t.lineTo(s,a)):"roundrect"==n?(this.context.beginPath(),this.roundedRect(Math.round(s)-Math.round(this.context.lineWidth/2),Math.round(a)-Math.round(this.context.lineWidth/2),(o||this.img.width)+this.context.lineWidth,(r||this.img.height)+this.context.lineWidth,this.properties.imageRadius||5)):"arc"==n&&(c=parseInt(s+o/2),n=parseInt(a+r/2),d=parseInt(o/2),t.beginPath(),t.moveTo(c,n),t.arc(c,n,d,0,2*DxChart.PI)),0<h&&(t.strokeStyle=l,isNexacroRuntime&&t.setElementStrokeStyle(l),t.stroke()),t.clip(),t.drawImage(i,s,a,o,r),t.restore(),t.globalAlpha=x,isNexacroRuntime&&t.setElementGlobalAlpha(t.globalAlpha),t.lineWidth=e,isNexacroRuntime&&t.setElementLineWidth(e),this.coords[0]=[Math.round(s),Math.round(a),o,r])},this.draw=function(){this.properties,DxChart._BeforeDraw(this),this._imgsequence++;var t,e,i,s,a,o=this.context.globalAlpha,r="number"==typeof this.properties.x&&"number"==typeof this.properties.y,n="number"==typeof this.properties.width,h="number"==typeof this.properties.height;return n&&h&&(i=this.properties.width,s=this.properties.height),r&&(t=this.properties.x,e=this.properties.y),n=this.properties.imageStyle||"rect",h=this.properties.imageLineWidth||0,r=this.properties.imageLineColor||"#000000",a=this.properties.imageAlpha||1,this.drawImage(this.src,t,e,i,s,n,h,r,a),this.context.globalAlpha=o,isNexacroRuntime&&this.context.setElementGlobalAlpha(this.context.globalAlpha),DxChart.noShadow(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.getObjectByXY=function(t){DxChart.getMouseXY(t);if(this.getShape(t))return this},this.getShape=function(t){var e,i=this.properties,t=DxChart.getMouseXY(t);t[0],t[1];return this.coords&&this.coords[0]&&t[0]>=this.coords[0][0]&&t[0]<=this.coords[0][0]+this.coords[0][2]&&t[1]>=this.coords[0][1]&&t[1]<=this.coords[0][1]+this.coords[0][3]?(DxChart.parseTooltipText&&i.tooltipsData&&(e=DxChart.parseTooltipText(i.tooltipsData,0)),{object:this,x:this.coords[0][0],y:this.coords[0][1],width:this.coords[0][2],height:this.coords[0][3],dataset:0,index:0,sequentialIndex:0,tooltip:"string"==typeof e?e:null}):null},this.highlight=function(t){var e=this.properties;e.tooltipsHighlight&&("function"==typeof e.highlightStyle?e.highlightStyle(t):this.path("b r % % % % f % s %",this.coords[0][0],this.coords[0][1],this.coords[0][2],this.coords[0][3],e.highlightFill,e.highlightStroke))},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colorsBackground=DxChart.arrayClone(t.colorsBackground),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill)),t.colorsBackground=this.parseSingleColorForGradient(t.colorsBackground),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill)},this.reset=function(){},this.parseSingleColorForGradient=function(t){if(!t)return t;if("string"==typeof t&&t.match(/^gradient\((.*)\)$/i)){if(t.match(/^gradient\(({.*})\)$/i))return DxChart.parseJSONGradient({object:this,def:RegExp.$1});var e=RegExp.$1.split(":"),i=this.context.createLinearGradient(this.x,this.y,this.x+this.img.width,this.y),s=1/(e.length-1);i.addColorStop(0,DxChart.trim(e[0]));for(var a=1;a<e.length;++a)i.addColorStop(a*s,DxChart.trim(e[a]))}return i||t},this.firstDrawFunc=function(){},this.roundedRect=function(t,e,i,s,a){this.properties;i=t+i,s=e+s;this.context.moveTo(i-a,e),this.context.arcTo(i,e,i,e+a,a),this.context.lineTo(i,s-a),this.context.arcTo(i,s,i-a,s,a),this.context.lineTo(t+a,s),this.context.arcTo(t,s,t,s-a,a),this.context.lineTo(t,e+a),this.context.arcTo(t,e,t+a,e,a),this.context.lineTo(i-a,e)},this.drawBackgroundColor=function(t){var e=this.properties;this.context.beginPath(),this.context.fillStyle=e.backgroundColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.roundedRect(Math.round(this.x)-Math.round(this.context.lineWidth/2),Math.round(this.y)-Math.round(this.context.lineWidth/2),(e.width||this.img.width)+this.context.lineWidth,(e.height||this.img.height)+this.context.lineWidth,t),this.context.fill()},this.tooltipSubstitutions=function(t){return{index:0,dataset:0,sequentialIndex:0,value:null}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas));isNexacroRuntime?(t.tooltip.set_left(s[0]+this.x+(e.properties.width||this.img.width)/2-i.offsetWidth/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]-i.offsetHeight+e.properties.tooltipsOffsetY+this.y-10)):(t.tooltip.style.left=s[0]+this.x+(e.properties.width||this.img.width)/2-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]-i.offsetHeight+e.properties.tooltipsOffsetY+this.y-10+"px")},DxChart.register(this),DxChart.parseProperties(this,t.options),!0}function DxChartMarker(t){return DxChart._Base.call(this,t,"drawing.marker"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"tooltips"),this.properties.variantValue="marker1",this.properties.colorsStroke="black",this.properties.colorsFill="white",this.properties.align="center",this.properties.offsetY=20,this.properties.delay=50,this.properties.clearto="rgba(0,0,0,0)",this.actualRadius=0,this.alpha=1,this.centerx=t.x,this.centery=t.y,this.radius=t.radius,this.text=t.text,this.x=t.x,this.y=t.y,this.$0={},this.coords=[],this.coordsText=[],this.draw=function(){var t,e,i,s,a,o,r=this.properties;return DxChart._BeforeDraw(this),"marker1"==r.variantValue?(e=this.radius,"left"==r.align?this.markerCenterx=this.centerx-e-e-3:"right"==r.align?this.markerCenterx=this.centerx+e+e+3:this.markerCenterx=this.centerx,this.markerCentery=this.centery-e-e-3,this.path("b lw %",r.lineWidth)):"marker2"==r.variantValue?(this.context.lineWidth=1,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),this.metrics=DxChart.measureText(this.text,r.textFontStyleObj.bold,r.textFontStyleObj.face,r.textFontStyleObj.size),this.x+this.metrics[0]>=this.canvas.width&&(this.alignRight=!0),i=this.alignRight?this.x-this.metrics[0]-6:this.x,s=this.y-6-r.offsetY-this.metrics[1],a=this.metrics[0]+6,o=this.metrics[1],this.coords[0]=[i,s,a,o],this.context.lineWidth=r.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth)):"marker3"==r.variantValue&&(this.context.globalAlpha=this.alpha,isNexacroRuntime&&this.context.setElementGlobalAlpha(this.context.globalAlpha),this.path("b a % % % % % % a % % % % % % f %",this.centerx,this.centery,this.actualRadius,0,2*Math.PI,!1,this.centerx,this.centery,Math.max(this.actualRadius-8,0),2*Math.PI,0,!0,r.colorsFill),this.alpha=this.actualRadius?1-.75*this.actualRadius/this.radius:1,this.context.globalAlpha=1,isNexacroRuntime&&this.context.setElementGlobalAlpha(this.context.globalAlpha),this.actualRadius<this.radius?this.actualRadius+=2:this.actualRadius>=this.radius&&(this.actualRadius=0,this.alpha=1),this.TIMER||(t=this,setInterval(function(){DxChart.redrawCanvas(t.canvas)},r.delay),this.TIMER=!0)),this.coordsText=[],r.shadowUse&&DxChart.setShadow(this,r.shadowStyleObj.color,r.shadowStyleObj.offsetX,r.shadowStyleObj.offsetY,r.shadowStyleObj.blur),"marker1"==r.variantValue?(this.drawMarker(),this.path("c s % f %",r.colorsStroke,r.colorsFill),DxChart.noShadow(this),e=DxChart.getTextInfo({object:this,prefix:"text"}),this.context.fillStyle=r.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),DxChart.text({object:this,font:e.font,size:e.size,color:e.color,bold:e.bold,italic:e.italic,x:this.coords[0][0]-1,y:this.coords[0][1]-1,text:this.text,valign:"center",halign:"center",tag:"labels"})):"marker2"==r.variantValue&&(i=this.coords[0][0],s=this.coords[0][1],a=this.coords[0][2],o=this.coords[0][3],this.context.strokeStyle=r.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=r.colorsFill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.strokeRect(i+(this.alignRight?a:0),s,0,o+r.offsetY-6),this.context.strokeRect(i,s,a,o),this.context.fillRect(i,s,a,o),DxChart.noShadow(this),this.context.fillStyle=r.textColor,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),DxChart.text({object:this,font:r.textFontStyleObj.face,size:r.textFontStyleObj.size,color:r.textColor,bold:r.textFontStyleObj.bold,italic:r.textFontStyleObj.italic,x:Math.round(this.x)-(this.alignRight?this.metrics[0]+3:-3),y:s+o/2,text:this.text,valign:"center",halign:"left",tag:"labels"}),this.coords[0].push([i,s,a,o])),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.getObjectByXY=function(t){if(this.getShape(t))return this},this.getShape=function(t){var e,i=this.properties,t=DxChart.getMouseXY(t),s=t[0],a=t[1];if("marker1"==i.variantValue){if(this.context.beginPath(),this.drawMarker(),this.context.isPointInPath(t[0],t[1]))return DxChart.parseTooltipText&&i.tooltipsData&&(e=DxChart.parseTooltipText(i.tooltipsData,0)),{object:this,x:this.coords[0][0],y:this.coords[0][1],radius:this.coords[0][2],dataset:0,index:0,sequentialIndex:0,tooltip:"string"==typeof e?e:null}}else if("marker2"==i.variantValue){if(s>=this.coords[0][0]&&s<=this.coords[0][0]+this.coords[0][2])if(a>=this.coords[0][1]&&a<=this.coords[0][1]+this.coords[0][3])return DxChart.parseTooltipText&&i.tooltipsData&&(e=DxChart.parseTooltipText(i.tooltipsData,0)),{object:this,x:this.coords[0][0],y:this.coords[0][1],width:this.coords[0][2],height:this.coords[0][3],dataset:0,index:0,sequentialIndex:0,tooltip:"string"==typeof e?e:null}}else if("marker3"==i.variantValue)if(DxChart.getHypLength(this.centerx,this.centery,t[0],t[1])<=this.radius)return DxChart.parseTooltipText&&i.tooltipsData&&(e=DxChart.parseTooltipText(i.tooltipsData,0)),{object:this,x:this.centerx,y:this.centery,radius:this.radius,dataset:0,index:0,sequentialIndex:0,tooltip:"string"==typeof e?e:null};return null},this.highlight=function(t){var e=this.properties;e.tooltipsHighlight&&("function"==typeof e.highlightStyle?e.highlightStyle(t):"marker1"==e.variantValue?(this.context.beginPath(),this.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=e.highlightFill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.drawMarker(),this.context.closePath(),this.context.stroke(),this.context.fill()):"marker2"==e.variantValue?(this.path("b r % % % % f % s %",this.coords[0][0],this.coords[0][1],this.coords[0][2],this.coords[0][3],e.highlightFill,e.highlightStroke),this.path("b r % % % % f % s %",this.coords[0][0],this.coords[0][1],this.coords[0][2],this.coords[0][3],e.highlightFill,e.highlightStroke)):"marker3"==e.variantValue&&this.path("b r % % % % f % s %",this.coords[0][0],this.coords[0][1],this.coords[0][2],this.coords[0][3],e.highlightFill,e.highlightStroke))},this.drawMarker=function(){var t,e,i,s=this.properties,a=this.radius;"left"===s.align?(t=this.markerCenterx,e=this.markerCentery,isNexacroRuntime?this.path("a % % % % % false",t,e,a,0,DxChart.TWOPI-DxChart.HALFPI):this.path("a % % % % % false",t,e,a,DxChart.HALFPI,DxChart.TWOPI),this.path("qc % % % %",t+a,e+a,t+a+a,e+a+a),this.path("qc % % % %",t+a,e+a,t,e+a)):"right"===s.align?(t=this.markerCenterx,e=this.markerCentery,isNexacroRuntime?(this.path("a % % % % %",t,e,a,DxChart.HALFPI,DxChart.TWOPI),this.path("qc % % % %",t-a,e+a,t,e+a),this.path("qc % % % %",t-a,e+a,t-a-a,e+a+a)):(this.path("a % % % % % true",t,e,a,DxChart.HALFPI,DxChart.PI),this.path("qc % % % %",t-a,e+a,t-a-a,e+a+a),this.path("qc % % % %",t-a,e+a,t,e+a))):(t=this.markerCenterx,e=this.markerCentery,isNexacroRuntime?(s=DxChart.HALFPI/2,i=DxChart.TWOPI-s,this.path("a % % % % % false",t,e,a,s,i),this.path("qc % % % %",t,e+a+a/4,t,e+a+a-2),this.path("qc % % % %",t,e+a+a/4,t+Math.cos(i/2)*a,e+Math.sin(i/2)*a)):(this.path("a % % % % % true",t,e,a,DxChart.HALFPI/2,DxChart.PI-DxChart.HALFPI/2),this.path("qc % % % %",t,e+a+a/4,t,e+a+a-2),this.path("qc % % % %",t,e+a+a/4,t+Math.cos(DxChart.HALFPI/2)*a,e+Math.sin(DxChart.HALFPI/2)*a))),this.coords[0]=[t,e,a]},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colorsFill=DxChart.arrayClone(t.colorsFill),this.original_colors.colorsStroke=DxChart.arrayClone(t.colorsStroke),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.textColor=DxChart.arrayClone(t.textColor)),t.colorsFill=this.parseSingleColorForGradient(t.colorsFill),t.colorsStroke=this.parseSingleColorForGradient(t.colorsStroke),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill),t.textColor=this.parseSingleColorForGradient(t.textColor)},this.reset=function(){},this.parseSingleColorForGradient=function(t){var e,i,s,a=this.properties;if(!t||"string"!=typeof t)return t;if(t.match(/^gradient\((.*)\)$/i)){if(t.match(/^gradient\(({.*})\)$/i))return DxChart.parseJSONGradient({object:this,def:RegExp.$1});"marker1"==a.variantValue?(e=RegExp.$1.split(":"),i=this.context.createRadialGradient(this.markerCenterx,this.markerCentery,0,this.markerCenterx,this.markerCentery,this.radius),s=1/(e.length-1)):"marker2"==a.variantValue?(e=RegExp.$1.split(":"),i=this.context.createLinearGradient(this.x,this.y,this.x+this.metrics[0],this.y),s=1/(e.length-1)):"marker3"==a.variantValue&&(e=RegExp.$1.split(":"),i=this.context.createRadialGradient(this.centerx,this.centery,0,this.centerx,this.centery,this.radius),s=1/(e.length-1)),i.addColorStop(0,DxChart.trim(e[0]));for(var o=1;o<e.length;++o)i.addColorStop(o*s,DxChart.trim(e[o]))}return i||t},this.firstDrawFunc=function(){},this.tooltipSubstitutions=function(t){return{index:0,dataset:0,sequentialIndex:0,value:null}},this.positionTooltipStatic=function(t){var e,i=t.object,s=(t.event,t.tooltip),a=(t.index,DxChart.getCanvasXY(i.canvas)),o=i.properties;"marker1"==o.variantValue?(e=this.centerx,"left"==o.align?e=e-this.radius-this.radius:"right"==o.align&&(e=e+this.radius+this.radius),isNexacroRuntime?(t.tooltip.set_left(a[0]+e-s.offsetWidth/2+i.properties.tooltipsOffsetX),t.tooltip.set_top(a[1]-s.offsetHeight+i.properties.tooltipsOffsetY+this.centery-this.radius-this.radius-this.radius-15)):(t.tooltip.style.left=a[0]+e-s.offsetWidth/2+i.properties.tooltipsOffsetX+"px",t.tooltip.style.top=a[1]-s.offsetHeight+i.properties.tooltipsOffsetY+this.centery-this.radius-this.radius-this.radius-15+"px")):"marker2"==o.variantValue&&(t.tooltip.style.left=a[0]-s.offsetWidth/2+i.properties.tooltipsOffsetX+this.coords[0][0]+this.coords[0][2]/2+"px",t.tooltip.style.top=a[1]-s.offsetHeight+i.properties.tooltipsOffsetY+this.coords[0][1]-10+"px")},DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartPoly(t){return DxChart._Base.call(this,t,"drawing.poly"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"shadow"),this.properties.colorsStroke="black",this.properties.colorsFill="red",this.properties.clearto="rgba(0,0,0,0)",this.$0={},this.draw=function(){var t=this.properties;return DxChart._BeforeDraw(this),this.coordsText=[],t.shadowUse&&(this.context.shadowColor=t.shadowStyleObj.color,this.context.shadowOffsetX=t.shadowStyleObj.offsetX,this.context.shadowOffsetY=t.shadowStyleObj.offsetY,this.context.shadowBlur=t.shadowStyleObj.blur,isNexacroRuntime&&this.context.setElementShadowColor(this.context.shadowColor),isNexacroRuntime&&this.context.setElementShadowBlur(this.context.shadowBlur),isNexacroRuntime&&this.context.setElementShadowOffsetX(this.context.shadowOffsetX),isNexacroRuntime)&&this.context.setElementShadowOffsetY(this.context.shadowOffsetY),this.context.strokeStyle=t.colorsStroke,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=t.colorsFill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.drawPoly(),this.context.lineWidth=t.lineWidth,isNexacroRuntime&&this.context.setElementLineWidth(this.context.lineWidth),DxChart.noShadow(this),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"ondraw"),this},this.getObjectByXY=function(t){if(this.getShape(t))return this},this.drawPoly=function(){var t=this.properties,e=this.coords;this.path("b m % %",e[0][0],e[0][1]);for(var i=1,s=e.length;i<s;++i)this.context.lineTo(e[i][0],e[i][1]);this.path("lw % c f % s %",t.lineWidth,this.context.fillStyle,this.context.strokeStyle)},this.getShape=function(t){var e,i=this.properties,t=(this.coords,DxChart.getMouseXY(t)),s=t[0],t=t[1],a=this.context.strokeStyle,o=this.context.fillStyle;return this.context.beginPath(),this.context.strokeStyle="rgba(0,0,0,0)",isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle="rgba(0,0,0,0)",isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.drawPoly(),this.context.strokeStyle=a,isNexacroRuntime&&this.context.setElementStrokeStyle(this.context.strokeStyle),this.context.fillStyle=o,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),this.context.isPointInPath(s,t)?(DxChart.parseTooltipText&&i.tooltipsData&&(e=DxChart.parseTooltipText(i.tooltipsData,0)),{object:this,coords:this.coords,dataset:0,index:0,sequentialIndex:0,tooltip:"string"==typeof e?e:null}):null},this.highlight=function(t){var e=this.properties;this.context.fillStyle=e.colorsFill,isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),e.tooltipsHighlight&&("function"==typeof e.highlightStyle?e.highlightStyle(t):(this.path("b"),this.drawPoly(),this.path("f % s %",e.highlightFill,e.highlightStroke)))},this.parseColors=function(){var t=this.properties,e=(0===this.original_colors.length&&(this.original_colors.colorsFill=DxChart.arrayClone(t.colorsFill),this.original_colors.colorsStroke=DxChart.arrayClone(t.colorsStroke),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill)),this.parseSingleColorForGradient);t.colorsFill=e(t.colorsFill),t.colorsStroke=e(t.colorsStroke),t.highlightStroke=e(t.highlightStroke),t.highlightFill=e(t.highlightFill)},this.reset=function(){},this.parseSingleColorForGradient=function(t){if(!t)return t;if("string"==typeof t&&t.match(/^gradient\((.*)\)$/i)){if(t.match(/^gradient\(({.*})\)$/i))return DxChart.parseJSONGradient({object:this,def:RegExp.$1});var e=RegExp.$1.split(":"),i=this.context.createLinearGradient(0,0,this.canvas.width,0),s=1/(e.length-1);i.addColorStop(0,DxChart.trim(e[0]));for(var a=1,o=e.length;a<o;++a)i.addColorStop(a*s,DxChart.trim(e[a]))}return i||t},this.firstDrawFunc=function(){},this.tooltipSubstitutions=function(t){return{index:0,dataset:0,sequentialIndex:0,value:null}},this.positionTooltipStatic=function(t){for(var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas)),a=0,o=this.coords[0][0],r=0,n=this.coords[0][1],h=0;a<this.coords.length;++a)o=Math.min(o,this.coords[a][0]),r=Math.max(r,this.coords[a][0]),n=Math.min(n,this.coords[a][1]),h=Math.max(h,this.coords[a][1]);var l=(h-n)/2+n;t.tooltip.style.left=s[0]-i.offsetWidth/2+e.properties.tooltipsOffsetX+((r-o)/2+o)+"px",t.tooltip.style.top=s[1]-i.offsetHeight+e.properties.tooltipsOffsetY+l-10+"px"},DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartRect(t){return DxChart._Base.call(this,t,"drawing.rect"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"line"),this.properties.colorsStroke="rgba(0,0,0,0)",this.properties.colorsFill="red",this.properties.clearto="rgba(0,0,0,0)",this.resetData=function(t,e,i,s){this.x=t,this.y=e,this.coords=[[Math.round(t),Math.round(e),i,s]],this.$0={}},this.draw=function(){var t=this.properties,e=(DxChart._BeforeDraw(this),this.coordsText=[],this.path("b"),t.shadowUse&&this.path("sc % sx % sy % sb %",t.shadowStyleObj.color,t.shadowStyleObj.offsetX,t.shadowStyleObj.offsetY,t.shadowStyleObj.blur),DxChart.parseGradient(this,t.colorsFill,this.coords[0][0],this.coords[0][1],this.coords[0][2],this.coords[0][3]));return this.path("r % % % % f %",this.coords[0][0],this.coords[0][1],this.coords[0][2],this.coords[0][3],e),DxChart.noShadow(this),this.path("s %",t.colorsStroke),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"onenddraw"),this},this.getObjectByXY=function(t){if(this.getShape(t))return this},this.getShape=function(t){for(var e=this.properties,t=DxChart.getMouseXY(t),i=t[0],s=t[1],a=0,o=this.coords.length;a<o;a++){var r,n=this.coords[a],h=n[0],l=n[1],c=n[2],n=n[3];if(h<=i&&i<=h+c&&l<=s&&s<=l+n)return{object:this,x:h,y:l,width:c,height:n,dataset:0,index:0,sequentialIndex:0,tooltip:"string"==typeof(r=DxChart.parseTooltipText&&e.tooltipsData?DxChart.parseTooltipText(e.tooltipsData,0):r)?r:null}}return null},this.highlight=function(t){var e=this.properties;"function"==typeof e.highlightStyle?e.highlightStyle(t):DxChart.Highlight.rect(this,t)},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colorsFill=DxChart.arrayClone(t.colorsFill),this.original_colors.colorsStroke=DxChart.arrayClone(t.colorsStroke),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill)),t.colorsStroke=this.parseSingleColorForGradient(t.colorsStroke),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill)},this.reset=function(){},this.parseSingleColorForGradient=function(t){if(!t)return t;if("string"==typeof t&&t.match(/^gradient\((.*)\)$/i)){if(t.match(/^gradient\(({.*})\)$/i))return DxChart.parseJSONGradient({object:this,def:RegExp.$1});var e=RegExp.$1.split(":"),i=this.context.createLinearGradient(0,0,this.canvas.width,0),s=1/(e.length-1);i.addColorStop(0,DxChart.trim(e[0]));for(var a=1,o=e.length;a<o;++a)i.addColorStop(a*s,DxChart.trim(e[a]))}return i||t},this.firstDrawFunc=function(){},this.tooltipSubstitutions=function(t){return{index:0,dataset:0,sequentialIndex:0,value:null}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas));isNexacroRuntime?(t.tooltip.set_left(s[0]+this.coords[0][0]+this.coords[0][2]/2-i.getOffsetWidth()/2+e.properties.tooltipsOffsetX),t.tooltip.set_top(s[1]-i.getOffsetHeight()+e.properties.tooltipsOffsetY+this.coords[0][1]-10)):(t.tooltip.style.left=s[0]+this.coords[0][0]+this.coords[0][2]/2-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]-i.offsetHeight+e.properties.tooltipsOffsetY+this.coords[0][1]-10+"px")},this.resetData(t.x,t.y,t.width,t.height),DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartText(t){return DxChart._Base.call(this,t,"drawing.text"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"highlight"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"shadow"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"default"),this.properties.colorsStroke="rgba(0,0,0,0)",this.properties.colorsFill="red",this.properties.clearto="rgba(0,0,0,0)",this.x=t.x,this.y=t.y,this.text=String(t.text),this.$0={},this.draw=function(){var t=this.properties,e=(DxChart._BeforeDraw(this),this.coords=[],this.coordsText=[],DxChart.measureText(this.text,t.textFontStyleObj.bold,t.textFontStyleObj.face,t.textFontStyleObj.size),this.context.fillStyle=t.colors[0],isNexacroRuntime&&this.context.setElementFillStyle(this.context.fillStyle),t.shadowUse&&DxChart.setShadow(this,t.shadowStyleObj.color,t.shadowStyleObj.offsetX,t.shadowStyleObj.offsetY,t.shadowStyleObj.blur),DxChart.text({object:this,font:t.textFontStyleObj.face,size:t.textFontStyleObj.size,bold:t.textFontStyleObj.bold,italic:t.textFontStyleObj.italic,color:t.colors[0],x:this.x,y:this.y,text:this.text,angle:t.angle,bounding:t.bounding,"bounding.fill":t.boundingFill,"bounding.stroke":t.boundingStroke,"bounding.shadow":t.boundingShadow,"bounding.shadow.color":t.boundingShadowColor,"bounding.shadow.blur":t.boundingShadowBlur,"bounding.shadow.offsetx":t.boundingShadowOffsetX,"bounding.shadow.offsety":t.boundingShadowOffsetY,marker:t.marker,halign:t.halign,valign:t.valign}));return t.shadow&&DxChart.noShadow(this),this.coords.push({0:e.x,x:e.x,1:e.y,y:e.y,2:e.width,width:e.width,3:e.height,height:e.height}),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"ondraw"),this},this.getObjectByXY=function(t){if(this.getShape(t))return this},this.getShape=function(t){for(var e=this.properties,i=this.coords,t=DxChart.getMouseXY(t),s=t[0],a=t[1],o=0,r=this.coords.length;o<r;o++){var n,h=i[o].x,l=i[o].y,c=i[o].width,x=i[o].height;if(h<=s&&s<=h+c&&l<=a&&a<=l+x)return{object:this,x:h,y:l,width:c,height:x,dataset:0,index:0,sequentialIndex:0,tooltip:"string"==typeof(n=DxChart.parseTooltipText&&e.tooltipsData?DxChart.parseTooltipText(e.tooltipsData,0):n)?n:null}}return null},this.highlight=function(t){var e=this.properties;"function"==typeof e.highlightStyle?e.highlightStyle(t):DxChart.Highlight.rect(this,t)},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colors=DxChart.arrayClone(t.colors)[0],this.original_colors.colorsFill=DxChart.arrayClone(t.colorsFill),this.original_colors.colorsStroke=DxChart.arrayClone(t.colorsStroke),this.original_colors.highlightStroke=DxChart.arrayClone(t.highlightStroke),this.original_colors.highlightFill=DxChart.arrayClone(t.highlightFill)),t.colors[0]=this.parseSingleColorForGradient(t.colors[0]),t.colorsFill=this.parseSingleColorForGradient(t.colorsFill),t.colorsStroke=this.parseSingleColorForGradient(t.colorsStroke),t.highlightStroke=this.parseSingleColorForGradient(t.highlightStroke),t.highlightFill=this.parseSingleColorForGradient(t.highlightFill)},this.reset=function(){},this.parseSingleColorForGradient=function(t){if(!t)return t;if("string"==typeof t&&t.match(/^gradient\((.*)\)$/i)){if(t.match(/^gradient\(({.*})\)$/i))return DxChart.parseJSONGradient({object:this,def:RegExp.$1});var e=RegExp.$1.split(":"),i=this.context.createLinearGradient(0,0,this.canvas.width,0),s=1/(e.length-1);i.addColorStop(0,DxChart.trim(e[0]));for(var a=1,o=e.length;a<o;++a)i.addColorStop(a*s,DxChart.trim(e[a]))}return i||t},this.firstDrawFunc=function(){},this.tooltipSubstitutions=function(t){return{index:0,dataset:0,sequentialIndex:0,value:null}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas));t.tooltip.style.left=s[0]+this.coords[0][0]+this.coords[0][2]/2-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]-i.offsetHeight+e.properties.tooltipsOffsetY+this.coords[0][1]-10+"px"},DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartXAxis(t){return DxChart._Base.call(this,t,"drawing.xaxis"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"xaxis"),DxChart.setDefaultProperties(this,"yaxis"),DxChart.setDefaultProperties(this,"tooltips"),DxChart.setDefaultProperties(this,"default"),this.properties.xaxisLabelsPosition="section",this.y=t.y,this.$0={},this.draw=function(){this.properties;return DxChart._BeforeDraw(this),this.coordsText=[],this.drawXAxis(),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"ondraw"),this},this.getObjectByXY=function(t){if(this.getShape(t))return this},this.getShape=function(t){var e,i=this.properties,t=DxChart.getMouseXY(t),s=t[0],t=t[1];return s>=this.marginLeft&&s<=this.canvas.width-this.marginRight&&t>=this.y-("top"==i.xaxisTickmarksAlign?1.5*i.textFontStyleObj.size+5:0)&&t<=this.y+("top"==i.xaxisTickmarksAlign?0:1.5*i.textFontStyleObj.size+5)?{object:this,x:this.marginLeft,y:this.y,width:this.canvas.width-this.marginLeft-this.marginRight,height:25,dataset:0,index:0,sequentialIndex:0,tooltip:"string"==typeof(e=DxChart.parseTooltipText&&i.tooltipsData?DxChart.parseTooltipText(i.tooltipsData,0):e)?e:null}:null},this.highlight=function(t){var e=this.properties;"function"==typeof e.highlightStyle&&e.highlightStyle(t)},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.colors=DxChart.arrayClone(t.colors),this.original_colors.textColor=DxChart.arrayClone(t.textColor),this.original_colors.xaxisLabelsColor=DxChart.arrayClone(t.xaxisLabelsColor),this.original_colors.xaxisTitleColor=DxChart.arrayClone(t.xaxisTitleColor)),t.colors[0]=this.parseSingleColorForGradient(t.colors[0]),t.textColor=this.parseSingleColorForGradient(t.textColor),t.xaxisLabelsColor=this.parseSingleColorForGradient(t.xaxisLabelsColor),t.xaxisTitleColor=this.parseSingleColorForGradient(t.xaxisTitleColor)},this.reset=function(){},this.getYCoord=function(){var t=this.properties;return"center"===t.xaxisPosition?(this.canvas.height-t.marginTop-t.marginBottom)/2+t.marginTop:this.y},this.drawXAxis=function(){DxChart.drawXAxis(this)},this.firstDrawFunc=function(){},this.tooltipSubstitutions=function(t){return{index:0,dataset:0,sequentialIndex:0,value:null}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas));t.tooltip.style.left=s[0]+(this.canvas.width-this.properties.marginLeft-this.properties.marginRight)/2+this.properties.marginLeft-i.offsetWidth/2+e.properties.tooltipsOffsetX+"px",t.tooltip.style.top=s[1]-i.offsetHeight+e.properties.tooltipsOffsetY+this.y-10+"px"},DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartYAxis(t){return DxChart._Base.call(this,t,"drawing.yaxis"),DxChart.setDefaultProperties(this,"default"),DxChart.setDefaultProperties(this,"margin"),DxChart.setDefaultProperties(this,"line"),DxChart.setDefaultProperties(this,"text"),DxChart.setDefaultProperties(this,"title"),DxChart.setDefaultProperties(this,"yaxis"),DxChart.setDefaultProperties(this,"tooltips"),this.properties.tooltipsEvent="onclick",this.properties.xaxisPosition="bottom",this.properties.yaxisPosition="left",this.xPosPercent=null,this.x=t.x,this.w=t.w,this.basePos="right",this.draw=function(){var t=this.properties;return this.xPosPercent&&0<this.xPosPercent&&(this.x=parseInt(this.canvas.width*(this.xPosPercent/100))),t.textColor||(t.textColor=t.colors[0]),t.titleColor||(t.titleColor=t.textColor),DxChart._BeforeDraw(this),this.coordsText=[],this.drawYAxis(),DxChart.addCustomText(this),DxChart.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,DxChart._fireEvent(this,"onfirstdraw"),this.firstDrawFunc()),DxChart._fireEvent(this,"ondraw"),this},this.getObjectByXY=function(t){if(this.getShape(t))return this},this.getShape=function(t){var e,i=this.properties,t=DxChart.getMouseXY(t),s=t[0],t=t[1];return s>=this.x-("right"==i.tickmarksAlign?0:this.getWidth())&&s<=this.x+("right"==i.tickmarksAlign?this.getWidth():0)&&t>=this.marginTop&&t<=this.canvas.height-this.marginBottom?{object:this,x:this.x,y:this.marginTop,width:15,height:this.canvas.height-this.marginTop-this.marginBottom,dataset:0,index:0,sequentialIndex:0,tooltip:"string"==typeof(e=DxChart.parseTooltipText&&i.tooltipsData?DxChart.parseTooltipText(i.tooltipsData,0):e)?e:null}:null},this.highlight=function(t){var e=this.properties;"function"==typeof e.highlightStyle&&e.highlightStyle(t)},this.parseColors=function(){var t=this.properties;0===this.original_colors.length&&(this.original_colors.yaxisLabelsColor=DxChart.arrayClone(t.yaxisLabelsColor),this.original_colors.titleColor=DxChart.arrayClone(t.titleColor),this.original_colors.textColor=DxChart.arrayClone(t.textColor),this.original_colors.colors=DxChart.arrayClone(t.colors)),t.yaxisLabelsColor=this.parseSingleColorForGradient(t.yaxisLabelsColor),t.titleColor=this.parseSingleColorForGradient(t.titleColor),t.textColor=this.parseSingleColorForGradient(t.textColor),t.colors[0]=this.parseSingleColorForGradient(t.colors[0])},this.reset=function(){},this.parseSingleColorForGradient=function(t){var e=this.properties;if(!t)return t;if("string"==typeof t&&t.match(/^gradient\((.*)\)$/i)){if(t.match(/^gradient\(({.*})\)$/i))return DxChart.parseJSONGradient({object:this,def:RegExp.$1});var i=RegExp.$1.split(":"),s=this.context.createLinearGradient(0,e.marginTop,0,this.canvas.height-this.marginBottom),a=1/(i.length-1);s.addColorStop(0,DxChart.trim(i[0]));for(var o=1;o<i.length;++o)s.addColorStop(o*a,DxChart.trim(i[o]))}return s||t},this.drawYAxis=function(){DxChart.drawYAxis(this)},this.getWidth=function(){var t=this.properties,e=this.maxLabelLength;return t.yaxisTitle&&t.yaxisTitle.length&&(e+=1.5*t.textFontStyleObj.size),this.width=e},this.firstDrawFunc=function(){},this.tooltipSubstitutions=function(t){return{index:0,dataset:0,sequentialIndex:0,value:null}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=(t.index,DxChart.getCanvasXY(e.canvas));t.tooltip.style.left=s[0]-i.offsetWidth/2+e.properties.tooltipsOffsetX+this.x-this.getWidth()/2+"px",t.tooltip.style.top=s[1]-i.offsetHeight+e.properties.tooltipsOffsetY+properties.marginTop-1.5*properties.textFontStyleObj.size/2-10+"px"},DxChart.register(this),DxChart.parseProperties(this,t.options),this}function DxChartMask(t){this.mask="",this.fillchar="",this.maskchar="",this.postfixtext="",this._is_editing=!1,this._input_mode="text",this.type=t=t||"string","string"==this.type?(this._char_buf=[],this.fillchar=" ",this._is_filled=!1,this._is_mismatch=!1):"number"==this.type?(this.fillchar="0",this.limittype="decimal",this._input_mode="number",this._decimal_point=".",this._thousands_sep=",",this._mask_decimal_point=".",this._mask_thousands_sep=",",this._check_int_max=!1,this._check_dec_max=!0):"date"==this.type&&(this.maskchar=" ",this.date="",this.editmask="",this.editmask_logical="",this.datemask=""),this._init_digits=function(){this._is_integer_mask=!1,this._int_digits_min=0,this._int_digits_max=-1,this._dec_digits_min=0,this._dec_digits_max=-1,this._dec_min_sharp=-1,this._dec_max_sharp=-1},this.init=function(){"string"==this.type?(this._masked_empty_text="",this._mask_buf=[],this._value_buf=[],this._is_filled=!1,this._is_mismatch=!1):"number"==this.type?(this._grouping=[3],this._sign_type=3,this._sign_sep_by_space=0,this._init_digits(),this._masked_empty_text="",this._is_max_intpart=!1,this._is_max_decpart=!1,this._use_grouping=!1,this._is_intpart_zero=!0,this._is_decpart_zero=!0,this._is_intpart_nine=!1):this.type},this.setUseGrouping=function(t){this._use_grouping!==t&&(this._use_grouping=t)},this._parseMask=function(t){if("string"==this.type){if(this.init(),t){for(var e,i,s=0,a=this._mask_buf,o=this._value_buf,r=[],n=this.maskchar,h=!1,l=0;e=t[s++];)switch(e){case"@":a.push(/[\u0020-\u00ff]/),o.push(0<l?"*":"$1"),r.push(n),i=!1;break;case"#":a.push(/\d/),o.push(0<l?"*":"$1"),r.push(n),null==i&&(i=!0);break;case"*":a.push(/[a-zA-Z]/),o.push(0<l?"*":"$1"),r.push(n),i=!1;break;case"9":a.push(/[a-zA-Z0-9]/),o.push(0<l?"*":"$1"),r.push(n),i=!1;break;case"A":a.push(/[a-zA-Z]/),o.push(0<l?"*.toUpperCase()":"$1.toUpperCase()"),r.push(n),i=!1;break;case"a":a.push(/[a-zA-Z]/),o.push(0<l?"*.toLowerCase()":"$1.toLowerCase()"),r.push(n),i=!1;break;case"Z":a.push(/[a-zA-Z0-9]/),o.push(0<l?"*.toUpperCase()":"$1.toUpperCase()"),r.push(n),i=!1;break;case"z":a.push(/[a-zA-Z0-9]/),o.push(0<l?"*.toLowerCase()":"$1.toLowerCase()"),r.push(n),i=!1;break;case"'":for(h=!0;e=t[s++];){if("'"==e){h=!1;break}(e="\\"==e?t[s++]:e)&&(a.push(e),o.push(""),r.push(e))}if(h)return;break;case"{":l++;break;case"}":l--;break;case"\\":(e=t[s++])&&(a.push(e),o.push(""),r.push(e));break;default:a.push(e),o.push(""),r.push(e)}this._masked_empty_text=r.join("")}}else if("number"==this.type){if(this._init_digits(),t&&"."!==t)if(/(^[\+\-\!]?\s*[#09,]*(?:$|\.[#09]*)|^\.[#09]*$)/.test(t)){var c=t[0];switch(c){case"-":this._sign_type=0;break;case"+":this._sign_type=1;break;case"!":this._sign_type=2;break;default:this._sign_type=3,c=""}var x=t.length,d=0;if(3!=this._sign_type)for(var u=1;u<x;u++){var g=t[u];if("#"==g||"9"==g||"0"==g)break;if(" "!=g)return;d++}this._sign_sep_by_space=d;var p=this._mask_decimal_point,p=t.indexOf(p),f=(this._is_integer_mask=p<0,""),m="";if(this._is_integer_mask)f=t.substring(c.length+d);else if(f=t.substring(c.length+d,p),m=t.substring(p+1)){var b,C=m.indexOf("#");if(-1<C){b=!1,this._dec_max_sharp=C;for(u=m.length-1;C<=u;u--)"#"==m[u]?(-1==this._dec_min_sharp&&(this._dec_min_sharp=u),this._dec_max_sharp<u&&(this._dec_max_sharp=u),this._dec_min_sharp>u&&0==b&&(this._dec_min_sharp=u)):-1!=this._dec_min_sharp&&(b=!0)}}var p=this._mask_thousands_sep,p=(-1<t.indexOf(p)?this.setUseGrouping(!0):this.setUseGrouping(!1),(f=f.split(p).join("")).length),y=(this._int_digits_max=p,f.indexOf("0")),f=(-1<y&&(this._int_digits_min=p-y),p?f[p-1]:"");if(-1==y&&("#"==f?this._is_intpart_zero=!1:"9"==f&&(this._is_intpart_zero=!1,this._is_intpart_nine=!0)),0<this._int_digits_min){for(var D="",u=0;u<this._int_digits_min;u++)D+="0";p=this._grouping.slice(0);0<p.length?this._masked_empty_text=this._put_thousand_seperator(D,p):this._masked_empty_text=D}else this._masked_empty_text="";if(!this._is_integer_mask){f=(m=m.replace(/[.]/g,"")).length,p=(this._dec_digits_max=f,-1<(y=m.lastIndexOf("0"))&&(this._dec_digits_min=y+1),f?m[0]:"");if(-1==y&&"#"==p&&(this._is_decpart_zero=!1),0<this._dec_digits_min){D=".";for(u=0;u<this._dec_digits_min;u++)D+="0";this._masked_empty_text+=D}}}}else this.type},this._parseDate=function(t,e,i){switch(e){case 0:0;break;case 1:0;break;default:0}var s=new nexacro.Date;if(0<e){var a=+t.substring(0,4),o=+t.substring(4,6),r=+t.substring(6,8);if(o<1||12<o)return;if(r<1)return;l=1==e?(n=+t.substring(8,10),h=+t.substring(10,12),+t.substring(12,14)):h=n=0}else var a=1900,o=1,r=1,n=+t.substring(0,2),h=+t.substring(2,4),l=+t.substring(4,6);return s.setHours(n,h,l),s.setFullYear(a,o-1,r),s},this.setMask=function(t){this.mask!=t&&(this.mask=t,this.datemask=t,this._parseMask(t))},this.setMaskChar=function(t){this.maskchar!=t&&(this.maskchar=t)},this.applyMask=function(t){if("string"==this.type){if(this._is_filled=!1,this._is_mismatch=!1,!(u=String(t)))return this._masked_empty_text;for(var e,i,I=this._mask_buf,N=this._value_buf,s=this._char_buf,a=[],o="",r=0,n=0,M=this.maskchar,h=this.fillchar,l=this.postfixtext,c=!0;L=I[r];){if(""==(i=N[r]))a.push(L),this.mask.length==u.length&&L==u[n]&&n++;else{for(;;){if(!(e=u[n++])||L.test(e)||e==h||"‎"==e)break;this._is_mismatch=!0}!e||""!=h&&e==h||!L.test(e)?(s[r]="",a.push(M),c=!1):"*"==i?(s[r]=e,a.push(i)):"$1"==i?(s[r]=e,a.push(e)):"*"==i[0]?(e=nexacro._executeEvalStr(i.replace("*",'"'+e+'"')),s[r]=e,a.push("*")):(e=nexacro._executeEvalStr(i.replace("$1",'"'+e+'"')),s[r]=e,a.push(e))}r++}this._is_filled=c,o=a.join("");var x="",d=nexacro._toString(t);return d&&(x=d.replace(/(\s*)/g,"")),l&&!this._is_editing&&x&&(o+=l),o}if("number"==this.type){var u,g=!this._is_editing;if(this._is_max_intpart=!1,this._is_max_decpart=!1,!(u=String(t)))return g?this._masked_empty_text:"";var p=0,W=(u=u.replace(/^\s\s*/,"").replace(/[,]/g,"")).length,l=this.postfixtext,d=-1!=this._int_digits_max||-1!=this._dec_digits_max,x=u[p++];for("+"!=x&&"-"!=x&&(--p,x="");p<W;p++){var f=u[p];if("0"<=f&&f<="9"||","==f||"."==f)break;if(" "!=f)return g?this._masked_empty_text:""}var m=this._mask_decimal_point,m=u.indexOf(m),b="",C="";if(m<0?(b=u.substring(p),b=d?b:b.padLeft(1,"0")):(b=u.substring(p,m),C=u.substring(m+1),b=d?b:b.padLeft(1,"0"),C=d?C:C.padLeft(1,"0")),this._is_intpart_zero||this._is_intpart_nine&&!C||(b=b.length&&0==+b?"":b),this._is_decpart_zero||(C=C.length&&0==+C?"":C),0<b.length&&!/^(?:[0-9]*)$/.test(b)||0<C.length&&!/^(?:[0-9]*)$/.test(C))return g?this._masked_empty_text:"";var y,D=b.length-1,v=this._thousands_sep,S=[];this._use_grouping&&(S=this._grouping.slice(0));for(var k=0;!((y=b.lastIndexOf(v,D))<0);k++){var w=S[k<S.length?k:S.length-1];if(!w||D-y!=w)return g?this._masked_empty_text:"";D=y-1}o=x;if(""!=x)for(k=0;k<this._sign_sep_by_space;k++)o+=" ";d=(b=b.split(v).join("")).length,x=(this._int_digits_max<=d&&(this._is_max_intpart=!0),this._int_digits_min);if(g&&0<x)for(var _=x-d,k=0;k<_;k++)b="0"+b;if(o+=b=(b=this._put_thousand_seperator(b,S)).replace(/,/g,v),this._is_integer_mask);else{var x=C.length,d=this._dec_digits_min,T=this._dec_digits_max;if(T<=x&&(this._is_max_decpart=!0),g&&0<d){_=d-x;for(k=0;k<_;k++)C+="0"}this._check_dec_max&&-1<T&&C.length>T&&(C=C.substring(0,T));var P=this._dec_max_sharp;if(T-1<=P){for(var R=-1,B=this._dec_min_sharp,k=P;B<=k;k--)if(0==C[k])R=k;else if(P==k)break;-1<R&&(C=C.slice(0,R))}""!=C?o=o+this._decimal_point+C:this._is_editing&&-1<m&&(o+=this._decimal_point)}return l&&!this._is_editing&&(o+=l),o}if("date"==this.type){var d=t,L=this.mask,x=void 0,j=0,T=!1;if((d=d||"").constructor==Date)x=d;else{for(var F=d.toString(),k=0;k<F.length;k++)if(" "!=F.charAt(k)){j=1;break}1==j&&(m=!L&&F.length<=6?0:!L&&F.length<=8?2:1,x=this._parseDate(F,m,L))}null==x&&(T=!0,(x=new Date).setFullYear(0),x.setMonth(0),x.setDate(1));l=x.getFullYear();0==l&&(l="0000");var t=((t=x.getMonth()+1)<10?"0":"")+t,d=((d=x.getDate())<10?"0":"")+d,m=x.getYear()%100,G=+t,H=+d,E=x.getHours(),O=+(E=(E<10?"0":"")+E),A=x.getMinutes(),Y=+(A=(A<10?"0":"")+A),x=x.getSeconds(),z=+(x=(x<10?"0":"")+x),T=(T&&(x=z=A=Y=E=O="00"),L),X=E,V="오전";return 12<E&&E<25&&(X=E<22?"0"+(E-12):E-12,V="오후"),(T=null!=T&&0!=T.length&&T.match(/[yMdHhms]/)?T:"yyyy-MM-dd").replace("yyyy",l).replace("MM",t).replace("dddd","weekL").replace("ddd","week").replace("dd",d).replace("yy",m).replace("M",G).replace("d",H).replace("tt",V).replace("HH",E).replace("hh",X).replace("H",O).replace("h",O).replace("mm",A).replace("m",Y).replace("ss",x).replace("s",z).replace("week",["Sun","Mon","Tue","Wed","Thu","Fri","Sat"])}},this._put_thousand_seperator=function(t,a){if(t&&a){var e=a[0];if(e&&!(e<1))if(1<a.length){a.shift();var i,o=this;if((i=new RegExp("(\\d+)(\\d{"+e+"})($|\\.\\d+)")).test(t))return t.replace(i,function(t,e,i,s){return o._put_thousand_seperator(e,a)+","+i+s})}else if((i=new RegExp("\\B(?=(\\d{"+e+"})+(?!\\d))","g")).test(t))return t.replace(i,",")}return t},this.init()}function DxChartRange(t){var e=t.owner,i=(this.owner=e,this.rangeChart=t.rangeChart,t.rangeChart._isrange=!0,t.rangeChart.properties.changeableValue=!0,t.rangeChart.properties.backgroundNoCache=!0,t.rangeChart.properties.xaxisUse=!1,t.rangeChart.properties.yaxisUse=!1,t.rangeChart.properties.xaxisLabels=null,t.rangeChart.properties.yaxisLabelsSpecific=[""],t.rangeChart.owner=this,e.data,e.canvas);return this.elem=e.elem,this.__orgdata__=e.data,this.__orgxaxislabels__=e.properties.xaxisLabels,this.type="range",this.id="range"+e.id,this.canvas=i,this.context=this.canvas.getContext("2d"),this.coords=[],this.isDxChart=!0,this.DxChart=!0,this.uid=e.uid,this.canvas.uid=this.uid,this.colorsParsed=!1,this.original_colors=[],this.firstDraw=!0,this.cachedBackgroundCanvas=null,this.properties={},this.properties.textFontStyle="bold 8px Tahoma",this.properties.textFontStyleObj=DxChart._parseFontInfo(this.properties.textFontStyle),this.properties.rangeFontStyle="bold 8px Tahoma",this.properties.rangeFontStyleObj=DxChart._parseFontInfo(this.properties.rangeFontStyle),this.properties.rangeColor="#000000",this.properties.rangeLineWidth=2,this.properties.rangeStartColor="#ffffff",this.properties.rangeStartLineColor="#000000",this.properties.rangeWidth=8,this.properties.rangeEndColor="#ffffff",this.properties.rangeEndLineColor="#000000",this.properties.rangeDisableColor="rgba(255,255,255,0.5)",this.properties.rangeTextShow=!0,this.set=function(t){var e=void 0===arguments[1]?null:arguments[1];if(1===arguments.length&&"object"==typeof t)for(var i in t)"string"==typeof i&&this.set(i.replace(".",""),t[i]);else this.properties[t.replace(".","")]=e;return this},this.get=function(t){return this.properties[t.replace(".","")]},this.on=function(t,e){return"function"!=typeof this[t]?this[t]=e:DxChart.addCustomEventListener(this,t,e),this},this.path=DxChart.pathObjectFunction,DxChart.parseProperties(this,t.options),this.init=function(){this.rangeChart.coordRange=[],this.rangeChart.changing_mousemove=this.changing_mousemove,this.rangeChart.getShape=this.getShape,this.getObjectByXY=this.rangeChart.getObjectByXY},this.draw=function(){var t=this.properties;return this.prevSIndex=t.rangeStartIndex,this.prevEIndex=t.rangeEndIndex,this.rangeChart.coordRange=[],this.drawRange(),this},this.drawRange=function(){for(var t,e,i,s=this.properties,a=s.rangeStartIndex,o=s.rangeEndIndex,r=s.rangeLineWidth,n=s.rangeStartColor,h=s.rangeStartLineColor,l=s.rangeWidth,c=s.rangeEndColor,x=s.rangeEndLineColor,d=s.rangeDisableColor,u=this.rangeChart,g=u.context,p=this.__orgdata__,f=this.__orgxaxislabels__,m=("line"==u.type&&1==p.length&&0<p[0].length&&(p=p[0]),a||(s.startIndex=a=0),o||(o=p.length-1,s.endIndex=o),u.canvas.height),m=(u.set("marginLeft",this.owner.properties.marginLeft),u.set("marginRight",this.owner.properties.marginRight),u.set("marginLeftAuto",!1),u.set("marginBottom",s.marginBottom),u.set("marginTop",m-s.marginHeight-s.marginBottom),u.marginTop=m-s.marginHeight-s.marginBottom,u.canvas.width-u.properties.marginLeft-u.properties.marginRight),b=u.canvas.height-u.properties.marginTop-u.properties.marginBottom,m=m/p.length,C=[],y=[],D=a;D<=o;D++)C.push(p[D]),y.push(f[D]);this.owner.set("xaxisLabels",y),this.owner.resetData(C),this.prevSIndex!=a||this.prevEIndex!=o?DxChart.redrawCanvas(this.owner.canvas):(DxChart.clear(this.owner.canvas),this.owner.draw()),u.draw(),this.prevSIndex=a,this.prevEIndex=o,g.lineWidth=r,isNexacroRuntime&&g.setElementLineWidth(r),g.strokeStyle=h,isNexacroRuntime&&g.setElementStrokeStyle(g.strokeColor),this.context.fillStyle=n,isNexacroRuntime&&g.setElementFillStyle(g.fillStyle),h=u.properties.marginLeft+m*a-l,n=u.properties.marginTop-5,e=l,i=10+b,t=h,g.beginPath(),g.rect(h,n,e,i),g.closePath(),this.rangeChart.coordRange[0]=[h,n,e,i,"l"];var v=DxChart.getTextInfo({object:this,prefix:"range"});s.rangeTextShow&&DxChart.text({object:u,font:v.font,size:v.size,color:v.color,bold:v.bold,italic:v.italic,x:h+l+5,y:u.properties.marginTop+10,text:a+"",halign:"left",valign:"top",angle:0,marker:!1,bounding:!1,"bounding.fill":null,"bounding.stroke":"rgba(0,0,0,0)",tag:"labels"}),g.fill(),0<r&&g.stroke(),g.lineWidth=r,isNexacroRuntime&&g.setElementLineWidth(r),g.strokeStyle=x,isNexacroRuntime&&g.setElementStrokeStyle(g.strokeColor),g.fillStyle=c,isNexacroRuntime&&g.setElementFillStyle(g.fillStyle),h=u.properties.marginLeft+m*o,n=u.properties.marginTop-5,i=10+b,x=h+(e=l),s.rangeTextShow&&t+l+r+20<h&&DxChart.text({object:u,font:v.font,size:v.size,color:v.color,bold:v.bold,italic:v.italic,x:h-5,y:u.properties.marginTop+10,text:o+"",halign:"right",valign:"top",angle:0,marker:!1,bounding:!1,"bounding.fill":null,"bounding.stroke":"rgba(0,0,0,0)",tag:"labels"}),g.beginPath(),g.rect(h,n,e,i),g.closePath(),this.rangeChart.coordRange[1]=[h,n,e,i,"r"],this.rangeChart.coordRange[2]=[t+l+r,n+5,h-t+l+r,b,"m"],g.fill(),0<r&&g.stroke(),0<a&&(g.fillStyle=d,isNexacroRuntime&&g.setElementFillStyle(d),h=u.properties.marginLeft,n=u.properties.marginTop,e=t-h-r,i=b,g.beginPath(),g.rect(h,n,e,i),g.closePath(),g.fill()),o<p.length-1&&(g.fillStyle=d,isNexacroRuntime&&g.setElementFillStyle(d),n=u.properties.marginTop,e=u.canvas.width-u.marginRight-(h=x+r),i=b,g.beginPath(),g.rect(h,n,e,i),g.closePath(),g.fill())},this.getShape=function(t){this.properties;var e=this,i=DxChart.getMouseXY(t),s=i[0],a=i[1];arguments[1]&&(e=arguments[1]);for(var o=0;o<e.coordRange.length;++o){var r=e.coordRange[o],n=r[0],h=r[1],l=r[2],c=r[3];if(e.context.beginPath(),e.context.rect(n,h,l,c),e.context.isPointInPath(s,a))return{object:e,x:n,y:h,w:l,h:c,mode:r[4],index:0,sequentialIndex:0,label:null,tooltip:null}}},this.changing_mousemove=function(t,e){var i=this.owner.properties,s=DxChart.Registry.get("changing.range");if(s){var a=s.sIndex,o=s.eIndex,r=s.object,n=this.owner.__orgdata__,h=("line"==r.type&&1==n.length&&0<n[0].length&&(n=n[0]),DxChart.getMouseXY(t)),l=i.rangeWidth;l+=i.rangeLineWidth+1;var c,x=(r.canvas.width-r.marginLeft-r.marginRight)/n.length,h=h[0]-s.mousex,l=("l"==s.shape.mode?h<0&&(h-=l):"r"==s.shape.mode&&0<h&&(h+=l),Math.abs(h)),l=Math.round(l/x);if("l"==s.shape.mode)i.rangeStartIndex=h<0?a-l:a+l,i.rangeStartIndex>=i.rangeEndIndex&&(i.rangeStartIndex=i.rangeEndIndex-1),i.rangeStartIndex<0&&(i.rangeStartIndex=0),c="resize";else if("r"==s.shape.mode)i.rangeEndIndex=h<0?o-l:o+l,i.rangeStartIndex>=i.rangeEndIndex&&(i.rangeEndIndex=i.rangeStartIndex+1),i.rangeEndIndex>n.length-1&&(i.rangeEndIndex=n.length-1),c="resize";else if("m"==s.shape.mode){if(h<0){if(0==a)return;if(0==i.rangeStartIndex)return}else{if(o==n.length-1)return;if(i.rangeEndIndex==n.length-1)return}h<0?(i.rangeStartIndex=a-l,i.rangeEndIndex=o-l):(i.rangeStartIndex=a+l,i.rangeEndIndex=o+l),i.rangeStartIndex<0&&(i.rangeStartIndex=0),i.rangeEndIndex>n.length-1&&(i.rangeEndIndex=n.length-1),c="move"}var d=this;DxChart.Effects.updateCanvas(function(){isNexacroRuntime?r.canvas._refform.set_cursor("resize"==c?"ew-resize":"move"):t.target.cursor=c,d.owner.draw()},r.canvas)}},this.init(),DxChart.register(this),this}!function(){var t=CryptoJS,h=t.lib.WordArray;t.enc.Base64={stringify:function(t){var e=t.words,i=t.sigBytes,s=this._map;t.clamp(),t=[];for(var a=0;a<i;a+=3)for(var o=(e[a>>>2]>>>24-a%4*8&255)<<16|(e[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|e[a+2>>>2]>>>24-(a+2)%4*8&255,r=0;r<4&&a+.75*r<i;r++)t.push(s.charAt(o>>>6*(3-r)&63));if(e=s.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var e=t.length,i=this._map;(o=i.charAt(64))&&-1!=(o=t.indexOf(o))&&(e=o);for(var s,a,o=[],r=0,n=0;n<e;n++)n%4&&(s=i.indexOf(t.charAt(n-1))<<n%4*2,a=i.indexOf(t.charAt(n))>>>6-n%4*2,o[r>>>2]|=(s|a)<<24-r%4*8,r++);return h.create(o,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),!function(o){function S(t,e,i,s,a,o,r){return((t=t+(e&i|~e&s)+a+r)<<o|t>>>32-o)+e}function k(t,e,i,s,a,o,r){return((t=t+(e&s|i&~s)+a+r)<<o|t>>>32-o)+e}function w(t,e,i,s,a,o,r){return((t=t+(e^i^s)+a+r)<<o|t>>>32-o)+e}function _(t,e,i,s,a,o,r){return((t=t+(i^(e|~s))+a+r)<<o|t>>>32-o)+e}for(var t=CryptoJS,e=(s=t.lib).WordArray,i=s.Hasher,s=t.algo,T=[],a=0;a<64;a++)T[a]=4294967296*o.abs(o.sin(a+1))|0;s=s.MD5=i.extend({_doReset:function(){this._hash=new e.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var i=0;i<16;i++){var s=t[a=e+i];t[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var i=this._hash.words,a=t[e+0],s=t[e+1],o=t[e+2],r=t[e+3],n=t[e+4],h=t[e+5],l=t[e+6],c=t[e+7],x=t[e+8],d=t[e+9],u=t[e+10],g=t[e+11],p=t[e+12],f=t[e+13],m=t[e+14],b=t[e+15],C=S(i[0],v=i[1],D=i[2],y=i[3],a,7,T[0]),y=S(y,C,v,D,s,12,T[1]),D=S(D,y,C,v,o,17,T[2]),v=S(v,D,y,C,r,22,T[3]),C=S(C,v,D,y,n,7,T[4]),y=S(y,C,v,D,h,12,T[5]),D=S(D,y,C,v,l,17,T[6]),v=S(v,D,y,C,c,22,T[7]),C=S(C,v,D,y,x,7,T[8]),y=S(y,C,v,D,d,12,T[9]),D=S(D,y,C,v,u,17,T[10]),v=S(v,D,y,C,g,22,T[11]),C=S(C,v,D,y,p,7,T[12]),y=S(y,C,v,D,f,12,T[13]),D=S(D,y,C,v,m,17,T[14]),C=k(C,v=S(v,D,y,C,b,22,T[15]),D,y,s,5,T[16]),y=k(y,C,v,D,l,9,T[17]),D=k(D,y,C,v,g,14,T[18]),v=k(v,D,y,C,a,20,T[19]),C=k(C,v,D,y,h,5,T[20]),y=k(y,C,v,D,u,9,T[21]),D=k(D,y,C,v,b,14,T[22]),v=k(v,D,y,C,n,20,T[23]),C=k(C,v,D,y,d,5,T[24]),y=k(y,C,v,D,m,9,T[25]),D=k(D,y,C,v,r,14,T[26]),v=k(v,D,y,C,x,20,T[27]),C=k(C,v,D,y,f,5,T[28]),y=k(y,C,v,D,o,9,T[29]),D=k(D,y,C,v,c,14,T[30]),C=w(C,v=k(v,D,y,C,p,20,T[31]),D,y,h,4,T[32]),y=w(y,C,v,D,x,11,T[33]),D=w(D,y,C,v,g,16,T[34]),v=w(v,D,y,C,m,23,T[35]),C=w(C,v,D,y,s,4,T[36]),y=w(y,C,v,D,n,11,T[37]),D=w(D,y,C,v,c,16,T[38]),v=w(v,D,y,C,u,23,T[39]),C=w(C,v,D,y,f,4,T[40]),y=w(y,C,v,D,a,11,T[41]),D=w(D,y,C,v,r,16,T[42]),v=w(v,D,y,C,l,23,T[43]),C=w(C,v,D,y,d,4,T[44]),y=w(y,C,v,D,p,11,T[45]),D=w(D,y,C,v,b,16,T[46]),C=_(C,v=w(v,D,y,C,o,23,T[47]),D,y,a,6,T[48]),y=_(y,C,v,D,c,10,T[49]),D=_(D,y,C,v,m,15,T[50]),v=_(v,D,y,C,h,21,T[51]),C=_(C,v,D,y,p,6,T[52]),y=_(y,C,v,D,r,10,T[53]),D=_(D,y,C,v,u,15,T[54]),v=_(v,D,y,C,s,21,T[55]),C=_(C,v,D,y,x,6,T[56]),y=_(y,C,v,D,b,10,T[57]),D=_(D,y,C,v,l,15,T[58]),v=_(v,D,y,C,f,21,T[59]),C=_(C,v,D,y,n,6,T[60]),y=_(y,C,v,D,g,10,T[61]),D=_(D,y,C,v,o,15,T[62]),v=_(v,D,y,C,d,21,T[63]);i[0]=i[0]+C|0,i[1]=i[1]+v|0,i[2]=i[2]+D|0,i[3]=i[3]+y|0},_doFinalize:function(){var t=this._data,e=t.words,i=8*this._nDataBytes,s=8*t.sigBytes,a=(e[s>>>5]|=128<<24-s%32,o.floor(i/4294967296));for(e[15+(64+s>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e[14+(64+s>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(e.length+1),this._process(),e=(t=this._hash).words,i=0;i<4;i++)s=e[i],e[i]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8);return t},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}}),t.MD5=i._createHelper(s),t.HmacMD5=i._createHmacHelper(s)}(Math),!function(){var t=CryptoJS,e=t.lib,i=e.Base,l=e.WordArray,s=(e=t.algo).EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:e.MD5,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var i=(r=this.cfg).hasher.create(),s=l.create(),a=s.words,o=r.keySize,r=r.iterations;a.length<o;){n&&i.update(n);var n=i.update(t).finalize(e);i.reset();for(var h=1;h<r;h++)n=i.finalize(n),i.reset();s.concat(n)}return s.sigBytes=4*o,s}});t.EvpKDF=function(t,e,i){return s.create(i).compute(t,e)}}(),CryptoJS.lib.Cipher||function(){function o(t,e,i){var s=this._iv;s?this._iv=void 0:s=this._prevBlock;for(var a=0;a<i;a++)t[e+a]^=s[a]}var t=(d=CryptoJS).lib,e=t.Base,r=t.WordArray,i=t.BufferedBlockAlgorithm,s=d.enc.Base64,a=d.algo.EvpKDF,n=t.Cipher=i.extend({cfg:e.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,i){this.cfg=this.cfg.extend(i),this._xformMode=t,this._key=e,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(s){return{encrypt:function(t,e,i){return("string"==typeof e?u:x).encrypt(s,t,e,i)},decrypt:function(t,e,i){return("string"==typeof e?u:x).decrypt(s,t,e,i)}}}}),h=(t.StreamCipher=n.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),d.mode={}),l=(t.BlockCipherMode=e.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}})).extend(),c=(l.Encryptor=l.extend({processBlock:function(t,e){var i=this._cipher,s=i.blockSize;o.call(this,t,e,s),i.encryptBlock(t,e),this._prevBlock=t.slice(e,e+s)}}),l.Decryptor=l.extend({processBlock:function(t,e){var i=this._cipher,s=i.blockSize,a=t.slice(e,e+s);i.decryptBlock(t,e),o.call(this,t,e,s),this._prevBlock=a}}),h=h.CBC=l,l=(d.pad={}).Pkcs7={pad:function(t,e){for(var i=4*e,s=(i=i-t.sigBytes%i)<<24|i<<16|i<<8|i,a=[],o=0;o<i;o+=4)a.push(s);i=r.create(a,i),t.concat(i)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},t.BlockCipher=n.extend({cfg:n.cfg.extend({mode:h,padding:l}),reset:function(){n.reset.call(this);var t,e=(i=this.cfg).iv,i=i.mode;this._xformMode==this._ENC_XFORM_MODE?t=i.createEncryptor:(t=i.createDecryptor,this._minBufferSize=1),this._mode=t.call(i,this,e&&e.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t,e=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(e.pad(this._data,this.blockSize),t=this._process(!0)):(t=this._process(!0),e.unpad(t)),t},blockSize:4}),t.CipherParams=e.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),h=(d.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext;return((t=t.salt)?r.create([1398893684,1701076831]).concat(t).concat(e):e).toString(s)},parse:function(t){var e,i=(t=s.parse(t)).words;return 1398893684==i[0]&&1701076831==i[1]&&(e=r.create(i.slice(2,4)),i.splice(0,4),t.sigBytes-=16),c.create({ciphertext:t,salt:e})}},x=t.SerializableCipher=e.extend({cfg:e.extend({format:h}),encrypt:function(t,e,i,s){s=this.cfg.extend(s);var a=t.createEncryptor(i,s);return e=a.finalize(e),a=a.cfg,c.create({ciphertext:e,key:i,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:t.blockSize,formatter:s.format})},decrypt:function(t,e,i,s){return s=this.cfg.extend(s),e=this._parse(e,s.format),t.createDecryptor(i,s).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),d=(d.kdf={}).OpenSSL={execute:function(t,e,i,s){return s=s||r.random(8),t=a.create({keySize:e+i}).compute(t,s),i=r.create(t.words.slice(e),4*i),t.sigBytes=4*e,c.create({key:t,iv:i,salt:s})}},u=t.PasswordBasedCipher=x.extend({cfg:x.cfg.extend({kdf:d}),encrypt:function(t,e,i,s){return i=(s=this.cfg.extend(s)).kdf.execute(i,t.keySize,t.ivSize),s.iv=i.iv,(t=x.encrypt.call(this,t,e,i.key,s)).mixIn(i),t},decrypt:function(t,e,i,s){return s=this.cfg.extend(s),e=this._parse(e,s.format),i=s.kdf.execute(i,t.keySize,t.ivSize,e.salt),s.iv=i.iv,x.decrypt.call(this,t,e,i.key,s)}})}(),!function(){for(var t=CryptoJS,e=t.lib.BlockCipher,i=t.algo,r=[],s=[],a=[],o=[],n=[],h=[],l=[],c=[],x=[],d=[],u=[],g=0;g<256;g++)u[g]=g<128?g<<1:g<<1^283;for(var p=0,f=0,g=0;g<256;g++){var m=f^f<<1^f<<2^f<<3^f<<4,b=u[s[r[p]=m=m>>>8^255&m^99]=p],C=u[b],y=u[C],D=257*u[m]^16843008*m;a[p]=D<<24|D>>>8,o[p]=D<<16|D>>>16,n[p]=D<<8|D>>>24,h[p]=D,l[m]=(D=16843009*y^65537*C^257*b^16843008*p)<<24|D>>>8,c[m]=D<<16|D>>>16,x[m]=D<<8|D>>>24,d[m]=D,p?(p=b^u[u[u[y^b]]],f^=u[u[f]]):p=f=1}var v=[0,1,2,4,8,16,32,64,128,27,54],i=i.AES=e.extend({_doReset:function(){for(var t,e=(s=this._key).words,i=s.sigBytes/4,s=4*((this._nRounds=i+6)+1),a=this._keySchedule=[],o=0;o<s;o++)o<i?a[o]=e[o]:(t=a[o-1],o%i?6<i&&4==o%i&&(t=r[t>>>24]<<24|r[t>>>16&255]<<16|r[t>>>8&255]<<8|r[255&t]):(t=r[(t=t<<8|t>>>24)>>>24]<<24|r[t>>>16&255]<<16|r[t>>>8&255]<<8|r[255&t],t^=v[o/i|0]<<24),a[o]=a[o-i]^t);for(e=this._invKeySchedule=[],i=0;i<s;i++)o=s-i,t=i%4?a[o]:a[o-4],e[i]=i<4||o<=4?t:l[r[t>>>24]]^c[r[t>>>16&255]]^x[r[t>>>8&255]]^d[r[255&t]]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,o,n,h,r)},decryptBlock:function(t,e){var i=t[e+1];t[e+1]=t[e+3],t[e+3]=i,this._doCryptBlock(t,e,this._invKeySchedule,l,c,x,d,s),i=t[e+1],t[e+1]=t[e+3],t[e+3]=i},_doCryptBlock:function(t,e,i,s,a,o,r,n){for(var h=this._nRounds,l=t[e]^i[0],c=t[e+1]^i[1],x=t[e+2]^i[2],d=t[e+3]^i[3],u=4,g=1;g<h;g++)var p=s[l>>>24]^a[c>>>16&255]^o[x>>>8&255]^r[255&d]^i[u++],f=s[c>>>24]^a[x>>>16&255]^o[d>>>8&255]^r[255&l]^i[u++],m=s[x>>>24]^a[d>>>16&255]^o[l>>>8&255]^r[255&c]^i[u++],d=s[d>>>24]^a[l>>>16&255]^o[c>>>8&255]^r[255&x]^i[u++],l=p,c=f,x=m;p=(n[l>>>24]<<24|n[c>>>16&255]<<16|n[x>>>8&255]<<8|n[255&d])^i[u++],f=(n[c>>>24]<<24|n[x>>>16&255]<<16|n[d>>>8&255]<<8|n[255&l])^i[u++],m=(n[x>>>24]<<24|n[d>>>16&255]<<16|n[l>>>8&255]<<8|n[255&c])^i[u++],d=(n[d>>>24]<<24|n[l>>>16&255]<<16|n[c>>>8&255]<<8|n[255&x])^i[u++],t[e]=p,t[e+1]=f,t[e+2]=m,t[e+3]=d},keySize:8});t.AES=e._createHelper(i)}(),CryptoJS.pad.ZeroPadding={pad:function(t,e){e*=4;t.clamp(),t.sigBytes+=e-(t.sigBytes%e||e)},unpad:function(t){for(var e=t.words,i=t.sigBytes-1;!(e[i>>>2]>>>24-i%4*8&255);)i--;t.sigBytes=i+1}},window?window.DxChart=window.DxChart||{isDxChart:!0}:(window=nexacro,navigator={userAgent:"nexacro"},DxChart=nexacro.DxChart||{isDxChart:!0},nexacro.DxChart||(nexacro.DxChart=DxChart),document={}),!function(win,doc,undefined){DxChart.Highlight={},DxChart.Registry={store:{oncefunc:[]}},DxChart._MouseDownFlag=!1,DxChart.Background={},DxChart.objects=[],DxChart.Resizing={},DxChart.events=[],DxChart.cursor=[],DxChart.Effects={},DxChart.cache=[],DxChart.QS={},DxChart.GET={__parts__:null},DxChart.REG={objects:{byUID:[],byCanvasID:[]}},DxChart.NOBGCACHE=!1,DxChart.PI=Math.PI,DxChart.HALFPI=Math.PI/2,DxChart.TWOPI=2*Math.PI;var ua=navigator.userAgent;DxChart.ISFF=-1!=ua.indexOf("Firefox"),DxChart.ISOPERA=-1!=ua.indexOf("Opera"),DxChart.ISCHROME=-1!=ua.indexOf("Chrome"),DxChart.ISSAFARI=-1!=ua.indexOf("Safari")&&ua.indexOf("Chrome")<0,DxChart.ISNEXA=-1!=ua.indexOf("nexacro"),DxChart.ISIE=0<ua.indexOf("Trident")||0<ua.indexOf("MSIE"),DxChart.cacheSeq=0,DxChart.selectColorSet=null,DxChart.selectFontStyle="Verdana,Arial",DxChart._ChartColorset||(DxChart._ChartColorset={},DxChart._ChartColorset.colorCategory=["ChartColorBasic","ChartColorful","ChartColorBlue","ChartColorGoogle","ChartColorPurple","ChartColorGreen","ChartColorRed","ChartColorDual","ChartColorGray","ChartColorWhite"],DxChart._ChartColorset.ChartColorBasic=["#FF6A8E","#FF9637","#FFDF51","#55D4D4","#42B0FF","#BA5EFF","#5DCA63","#C4C4C4"],DxChart._ChartColorset.ChartColorful=["#7774F9","#1CC4D1","#E165AB","#F48323","#5DA176","#F0C530","#9EE3693","#0077FF","#999999","#D195FF","#5EBCE5","#9B5FD6","#FB5D4A","#72E1B1","#5C7FEF"],DxChart._ChartColorset.ChartColorBlue=["#ADD8E6","#87CEFA","#87CEEB","#1E90FF","#00BFFF","#6495ED","#4682B4","#4169E1","#0000FF","#0000CD"],DxChart._ChartColorset.ChartColorGoogle=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#3B3EAC"],DxChart._ChartColorset.ChartColorPurple=["#451abf","#511abf","#5d1abf","#6a1abf","#771abf","#851abf","#931abf","#931abf","#b11bbf","#bf1b8e"],DxChart._ChartColorset.ChartColorGreen=["#1bc366","#27ca0f","#38cb0d","#49cc0b","#5bcd09","#6dce08","#80cf06","#93d004","#a7d102","#bcd200"],DxChart._ChartColorset.ChartColorRed=["#FFA07A","#E9967A","#F08080","#FF7F50","#FF6347","#CD5C5C","#FF0000","#DC143C","#B22222","#A52A2A"],DxChart._ChartColorset.ChartColorDual=["#C0392B","#E74C3C","#9B59B6","#8E44AD","#2980B9","#3498DB","#1ABC9C","#16A085","#27AE60","#2ECC71","#F1C40F","#F39C12","#E67E22","#D35400"],DxChart._ChartColorset.ChartColorGray=["#F5F5F5","#DCDCDC","#D3D3D3","#C0C0C0","#A9A9A9","#808080","#696969","#000000"],DxChart._ChartColorset.ChartColorWhite=["#FFFAFA","#F0FFFF","#FFFFF0","#F0FFF0","#F8F8FF","#F0F8FF","#FFFAF0","#E6E6FA"],DxChart._ChartColorset.getColorCategory=function(){return DxChart._ChartColorset.colorCategory}),DxChart.genKey=function(){var t=new Uint8Array([84,79,66,69,83,79,70,84,49,50,51,52,53,54,55,56]),e=new Uint8Array([49,50,51,52,53,54,55,56,49,50,51,52,53,54,55,56,49,50,51,52,53,54,55,56,49,50,51,52,53,54,55,56]),t=String.fromCharCode.apply(null,t),e=String.fromCharCode.apply(null,e);DxChart.publicAESKey=CryptoJS.enc.Utf8.parse(t),DxChart.publicAESIV=CryptoJS.enc.Utf8.parse(e)},DxChart.encryptAES=function(t){var e=CryptoJS.mode.CBC,i=CryptoJS.pad.ZeroPadding;return CryptoJS.AES.encrypt(t,DxChart.publicAESKey,{iv:DxChart.publicAESIV,mode:e,padding:i}).toString()},DxChart.decryptAES=function(t){var e=CryptoJS.mode.CBC,i=CryptoJS.pad.ZeroPadding;return CryptoJS.AES.decrypt(t,DxChart.publicAESKey,{iv:DxChart.publicAESIV,mode:e,padding:i}).toString(CryptoJS.enc.Utf8)},DxChart.setFontface=function(t){DxChart.selectFontStyle=t},DxChart.setColorList=DxChart.colorSet=function(t){var e=DxChart._ChartColorset.getColorCategory(),t=e.indexOf(t);t<0?trace("_colorSet index -1"):DxChart.selectColorSet=DxChart._ChartColorset[e[t]]},DxChart.colorSet("ChartColorBasic"),DxChart.getArgs=function(t,e){var i={},s=0;if(e=e.trim().split(/ *, */),t&&t[0]&&1===t.length&&void 0!==t[0][e[0]]){for(var a=0;a<e.length;++a)void 0===t[0][e[a]]&&(t[0][e[a]]=null);return t[0]}for(a in e)i[e[a]]=void 0===t[s]?null:t[s],s+=1;return i},DxChart.getScale=function(t){var e=t.object.properties,i="number"==typeof t.options["scale.labels.count"]?t.options["scale.labels.count"]:5,s="string"==typeof t.options["scale.units.pre"]?t.options["scale.units.pre"]:"",a="string"==typeof t.options["scale.units.post"]?t.options["scale.units.post"]:"",o=Number(t.options["scale.max"]),r="number"==typeof t.options["scale.min"]?t.options["scale.min"]:0,n=t.options["scale.strict"],h=Number(t.options["scale.decimals"]),l=t.options["scale.point"],c=t.options["scale.thousand"],x=o,d=t.options["scale.round"],u={max:1,labels:[],values:[]},g=t.options["scale.formatter"];if(prefix="hbar"===t.object.type||"heatmap"===t.object.type?"xaxis":"yaxis",prefix="odo"===t.object.type?"":prefix,o==undefined||null==o)for(var o=1,p=0;p<i;++p){var f=(((o-r)/i+r)*(p+1)).toFixed(h);u.labels.push(s+f+a),u.values.push(parseFloat(f))}else if(o<=1&&!n){for(var m=[1,.5,.1,.05,.01,.005,.001,5e-4,1e-4,5e-5,1e-5,5e-6,1e-6,5e-7,1e-7,5e-8,1e-8,5e-9,1e-9,5e-10,1e-10,5e-11,1e-11,5e-12,1e-12,5e-13],p=0;p<m.length;++p)if(m[p]<o){p--;break}u.max=m[p],u.labels=[],u.values=[];for(var b=0;b<i;++b){var C=((m[p]-r)/i*(b+1)+r).toFixed(h);u.values.push(C),u.labels.push(DxChart.numberFormat({object:t.object,number:C,unitspre:s,unitspost:a,thousand:c,point:l,formatter:g,decimals:h}))}}else if(n){if("number"==typeof o&&n){for(p=0;p<i;++p)u.labels.push(DxChart.numberFormat({object:t.object,number:((p+1)/i*(o-r)+r).toFixed(h),unitspre:s,unitspost:a,thousand:c,point:l,formatter:g})),u.values.push(((p+1)/i*(o-r)+r).toFixed(h));u.max=o}}else{o=Math.ceil(o);for(var y=Math.pow(10,Math.max(1,Number(String(Number(o)-Number(r)).length-1))),D=y;D<o;)D+=y/2;Number(x)>Number(D)&&(D+=y/2),o<=10&&(D=Number(x)<=5?5:10),t.object&&"boolean"==typeof d&&d&&(D=10*y),u.max=D;n=e[prefix+"ScalePoint"],x=e[prefix+"ScaleThousand"];t.object.set(prefix+"scaleThousand",c),t.object.set(prefix+"scalePoint",l);for(p=0;p<i;++p)u.labels.push(DxChart.numberFormat({object:t.object,number:((p+1)/i*(D-r)+r).toFixed(h),unitspre:s,unitspost:a,point:l,thousand:c,formatter:g})),u.values.push(((p+1)/i*(D-r)+r).toFixed(h));t.object.set(prefix+"scaleThousand",x),t.object.set(prefix+"scalePoint",n)}u.units_pre=s,u.units_post=a,u.point=l,u.decimals=h,u.thousand=c,u.numlabels=i,u.round=Boolean(d),u.min=r,u.formatter=g;for(p=0;p<u.values.length;++p)u.values[p]=parseFloat(u.values[p]);return u},DxChart.arrayInvert=function(){for(var t=DxChart.getArgs(arguments,"array"),e=0,i=t.array.length;e<i;++e)t.array[e]=!t.array[e];return t.array},DxChart.arrayTrim=function(){for(var t=DxChart.getArgs(arguments,"array"),e=[],i=!1,s=0;s<t.array.length;s++)(i=t.array[s]?!0:i)&&e.push(t.array[s]);for(var e=DxChart.arrayReverse(e),a=[],i=!1,s=0;s<e.length;s++)(i=e[s]?!0:i)&&a.push(e[s]);return a=DxChart.arrayReverse(a)},DxChart.clone=DxChart.arrayClone=function(){var t=DxChart.getArgs(arguments,"array");return null===t.array||"object"!=typeof t.array?t.array:JSON.parse(JSON.stringify(t.array))},DxChart.arrayMax=function(){var t=DxChart.getArgs(arguments,"array,ignore"),e=null;if("number"==typeof t.array)return t.array;if(DxChart.isNull(t.array))return 0;for(var i,s=0,a=t.array.length;s<a;++s)"number"!=typeof t.array[s]||isNaN(t.array[s])||(i=t.ignore?Math.abs(t.array[s]):t.array[s],e="number"==typeof e?Math.max(e,i):i);return e},DxChart.arrayMin=function(t){var t=DxChart.getArgs(arguments,"array,ignore"),e=null;Math;if("number"==typeof t.array)return t.array;if(DxChart.isNull(t.array))return 0;for(var i,s=0,a=t.array.length;s<a;++s)"number"==typeof t.array[s]&&(i=t.ignore?Math.abs(t.array[s]):t.array[s],e="number"==typeof e?Math.min(e,i):i);return e},DxChart.arrayPad=function(){var t=DxChart.getArgs(arguments,"array,length,value");if(t.array.length<t.length)for(var e=t.array.length;e<t.length;e+=1)t.array[e]=t.value;return t.array},DxChart.arraySum=function(){var t=DxChart.getArgs(arguments,"array");if("number"==typeof t.array)return t.array;if(DxChart.isNull(t.array))return 0;for(var e=t.array.length,i=0,s=0;i<e;s+=t.array[i++]||0);return s},DxChart.arrayLinearize=function(){for(var t=[],e=arguments,i=0,s=e.length;i<s;++i)if("object"==typeof e[i]&&e[i])for(var a=0,o=e[i].length;a<o;++a)for(var r=DxChart.arrayLinearize(e[i][a]),n=0,h=r.length;n<h;++n)t.push(r[n]);else t.push(e[i]);return t},DxChart.arrayLinearizeString=function(){for(var t=[],e=arguments,i=0,s=e.length;i<s;++i)if("object"==typeof e[i]&&e[i])for(var a=0,o=e[i].length;a<o;++a)for(var r=DxChart.arrayLinearize(e[i][a]),n=0,h=r.length;n<h;++n)t.push(""+r[n]);else t.push(""+e[i]);return t},DxChart.arrayShift=function(){for(var t=DxChart.getArgs(arguments,"array"),e=[],i=1,s=t.array.length;i<s;++i)e.push(t.array[i]);return e},DxChart.arrayReverse=function(){var t=DxChart.getArgs(arguments,"array");if(t.array){for(var e=[],i=t.array.length-1;0<=i;--i)e.push(t.array[i]);return e}},DxChart.abs=function(){var t,e=DxChart.getArgs(arguments,"value");if("string"==typeof e.value&&(e.value=parseFloat(e.value)||0),"number"==typeof e.value)return Math.abs(e.value);if("object"!=typeof e.value)return 0;for(t in e.value)"string"!=typeof e.value[t]&&"number"!=typeof e.value[t]&&"object"!=typeof e.value[t]||(e.value[t]=DxChart.abs(e.value[t]));return e.value},DxChart.clear=DxChart.Clear=function(t){var t=DxChart.getArgs(arguments,"canvas,color"),e=t.canvas.__object__;if(t.canvas){var i=t.canvas.getContext("2d"),s=t.color||e&&e.get("clearto");if(DxChart._fireEvent(e,"onbeforeclear"),DxChart.text.domNodeCache&&DxChart.text.domNodeCache[t.canvas.id])for(var a in DxChart.text.domNodeCache[t.canvas.id]){a=DxChart.text.domNodeCache[t.canvas.id][a];a&&a.style&&(a.style.display="none")}s&&"rgba(0,0,0,0)"!==s&&"transparent"!==s?s?e.path("fs % fr -100 -100 % %",s,t.canvas.width+200,t.canvas.height+200):e.path("fs % fr -100 -100 % %",e.get("clearto"),t.canvas.width+200,t.canvas.height+200):(i.clearRect(-100,-100,t.canvas.width+200,t.canvas.height+200),i.globalCompositeOperation="source-over",isNexacroRuntime&&i.setElementGlobalCompositeOperation(i.globalCompositeOperation)),DxChart.Registry.get("background.image."+t.canvas.id)&&((s=DxChart.Registry.get("background.image."+t.canvas.id)).style.position="absolute",s.style.left="-10000px",s.style.top="-10000px"),DxChart.Registry.get("tooltip")&&e&&!e.get("tooltipsNohideonclear")&&DxChart.hideTooltip(t.canvas),isNexacroRuntime?t.canvas.cursor="default":t.canvas.style.cursor="default",DxChart._fireEvent(e,"onclear")}},DxChart.drawTitle=function(){var t,e=DxChart.getArgs(arguments,"object"),i=e.object,s="center",a="center",o=(i.canvas.width-i.marginLeft-i.marginRight)/2+i.marginLeft,r=null;null!=i.properties.titleText&&""!=i.properties.titleText&&(e=DxChart.getTextInfo({object:e.object,prefix:"title"}),i.context.beginPath(),i.context.fillStyle=e.color,isNexacroRuntime&&i.context.setElementFillStyle(e.color),DxChart.isNumber(i.properties.titleFontStyleObj.size)||(e.size+=4),DxChart.isBoolean(i.properties.titleFontStyleObj.bold)||(e.bold=!0),r=i.properties.marginTop-e.size-5,"top"===i.properties.xaxisPosition&&(r=i.canvas.height-i.properties.marginBottom+e.size+5),!(i.properties.keyData&&i.properties.keyData.length&&i.properties.keyPosition&&"margin"!==i.properties.keyPosition)&&i.properties.keyData&&i.properties.keyData.length&&i.properties.keyPosition&&"margin"===i.properties.keyPosition?(a="bottom",r-=(t=DxChart.measureText("Mg",i.properties.keyLabelsFontStyleObj.bold,i.properties.keyLabelsFontStyleObj.font,i.properties.keyLabelsFontStyleObj.size))[1],isNexacroRuntime&&(o+=2*t[1])):a="center",DxChart.isNumber(i.properties.titleX)&&(o=i.properties.titleX),DxChart.isNumber(i.properties.titleY)&&(r=i.properties.titleY),DxChart.isString(i.properties.titleX)&&(o+=parseFloat(i.properties.titleX)),DxChart.isString(i.properties.titleY)&&(r+=parseFloat(i.properties.titleY)),DxChart.isNumber(i.properties.titleOffsetX)&&(o+=i.properties.titleOffsetX),DxChart.isNumber(i.properties.titleOffsetY)&&(r+=i.properties.titleOffsetY),a=DxChart.isString(i.properties.titleSubtitle)&&0<i.properties.titleSubtitle.length?"bottom":"center",DxChart.isString(i.properties.titleHalign)&&(s=i.properties.titleHalign),DxChart.isString(i.properties.titleValign)&&(a=i.properties.titleValign),t=i.context.fillStyle,i.context.fillStyle=e.color||"black",isNexacroRuntime&&i.context.setElementFillStyle(i.context.fillStyle),DxChart.text({object:i,font:e.font,size:e.size,color:e.color,bold:e.bold,italic:e.italic,x:o,y:r,text:i.properties.titleText,valign:a,halign:s,tag:"title",marker:!1}),"string"==typeof i.properties.titleSubtitle&&i.properties.titleSubtitle.length&&(DxChart.isNull(i.properties.titleSubtitleFontStyleObj.size)&&(i.properties.titleSubtitleFontStyleObj.size=e.size-4),e=DxChart.getTextInfo({object:i,prefix:"titleSubtitle"}),DxChart.text({object:i,font:e.font,size:e.size,color:e.color,bold:e.bold,italic:e.italic,x:o+i.properties.titleSubtitleOffsetX,y:r+i.properties.titleSubtitleOffsetY,text:i.properties.titleSubtitle,valign:"top",halign:s,tag:"subtitle",marker:!1})),i.context.fillStyle=t,isNexacroRuntime)&&i.context.setElementFillStyle(i.context.fillStyle)},DxChart.getMouseXY=function(t){if(t.target){var e,i,s=t.target,a=s.style,o=0,r=0,n=(a=a||{})&&parseInt(a.borderLeftWidth)||0,h=a&&parseInt(a.borderTopWidth)||0,l=a&&parseInt(a.paddingLeft)||0,a=a&&parseInt(a.paddingTop)||0,c=n+l,x=h+a;if("number"==typeof t.offsetX&&"number"==typeof t.offsetY)i=isNexacroRuntime?(e=t.pageX-n-l,t.pageY-h-a):DxChart.ISIE||DxChart.ISOPERA?DxChart.ISIE?(e=t.offsetX-l,t.offsetY-a):(e=t.offsetX,t.offsetY):(e=t.offsetX-n-l,t.offsetY-h-a);else{if(!isNexacroRuntime&&void 0!==s.offsetParent)for(;o+=s.offsetLeft,r+=s.offsetTop,s=s.offsetParent;);e=t.pageX-o-c,i=t.pageY-r-x,isNexacroRuntime||(e-=2*(parseInt(document.body.style.borderLeftWidth)||0),i-=2*(parseInt(document.body.style.borderTopWidth)||0))}return[e,i]}},DxChart.getCanvasXY=function(t){if(t.getBoundingClientRect)return o=t.getBoundingClientRect(),a=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop,[o.x+a,o.y+r];var e=0,i=0,s=t;if(isNexacroRuntime)return[e,i];for(;e+=s.offsetLeft,i+=s.offsetTop,"table"==s.tagName.toLowerCase()&&(DxChart.ISCHROME||DxChart.ISSAFARI)&&(e+=parseInt(s.border)||0,i+=parseInt(s.border)||0),(s=s.offsetParent)&&"body"!=s.tagName.toLowerCase(););var a=t.style.paddingLeft?parseInt(t.style.paddingLeft):0,o=t.style.paddingTop?parseInt(t.style.paddingTop):0,r=t.style.borderLeftWidth?parseInt(t.style.borderLeftWidth):0,t=t.style.borderTopWidth?parseInt(t.style.borderTopWidth):0;return 0<navigator.userAgent.indexOf("Firefox")&&(e+=parseInt(document.body.style.borderLeftWidth)||0,i+=parseInt(document.body.style.borderTopWidth)||0),[e+a+r,i+o+t]},DxChart.isFixed=function(){for(var t=DxChart.getArgs(arguments,"canvas");t.canvas&&"body"!=t.canvas.tagName.toLowerCase();){if("fixed"==t.canvas.style.position)return t.canvas;t.canvas=t.canvas.offsetParent}return!1},DxChart.register=function(){var t,e=DxChart.getArgs(arguments,"object");"function"==typeof e.object&&(t=e.object,e.object=new function(){this.id=null,this.isFunction=!0,this.canvas={id:null},this.getObjectByXY=function(){return!1},this.get=function(){},this.set=function(){},this.draw=function(){t()}}),e.object.get("noregister")||!1===e.object.get("register")||(DxChart.REG.add(e.object),e.object.set("register",!1))},DxChart.redraw=function(){var t=DxChart.getArgs(arguments,"color,cvs"),e=DxChart.REG.objects.byCanvasID;if("object"==typeof t.color&&t.color&&"function"==typeof t.color.toString&&"function"==typeof t.color.toString().indexOf&&-1<t.color.toString().indexOf("HTMLCanvasElement"))return DxChart.redrawCanvas(t.cvs,!0,t.color);if(isNexacroRuntime)for(var i=0,s=e.length;i<s;++i)e[i]&&DxChart.clear(e[i][1].canvas,t.color||null);else for(var a=document.getElementsByTagName("canvas"),i=0,s=a.length;i<s;++i)a[i]&&a[i].__object__&&a[i].__object__.isDxChart&&(a[i].noclear||(DxChart.clear(a[i],t.color||null),a[i].width=a[i].width,a[i].__initTranslated__=!1));for(i=0,s=e.length;i<s;++i)e[i]&&(e[i][0],e[i][1].draw())},DxChart._resizeCanvas=function(t){if(t){var e=DxChart.REG.getObjectsByCanvasID(t.id);if(t.__object__)for(var i=0,s=e.length;i<s;++i)e[i]&&e[i]&&e[i].isDxChart&&"function"==typeof e[i].initZoom&&e[i].initZoom()}},DxChart.redrawCanvas=function(t,e,i){if(t){var s=DxChart.REG.getObjectsByCanvasID(t.id);if(t.__object__){(DxChart.isNull(e)||"boolean"==typeof e&&!1!==e)&&(i=i||t.__object__.get("clearto")||"transparent",DxChart.clear(t,i));for(var a=0,o=s.length;a<o;++a)s[a]&&s[a]&&s[a].isDxChart&&s[a].draw()}}},DxChart.Background.draw=function(){var d=DxChart.getArgs(arguments,"object"),u=d.object.properties,g=0,p=d.object.marginLeft,f=d.object.marginRight,m=d.object.marginTop,b=d.object.marginBottom,C=u.marginInner,t=u.variantValue;if(!1!==u.backgroundUse){"hbar"!=d.object.type&&"gantt"!=d.object.type||(C=0);var e=d.object.canvas.width-p-f,i=d.object.canvas.height-m-b;if(!(e<30||i<10)){var s,y,a,C=C||0,i=(d.object.context.fillStyle=u.textColor,isNexacroRuntime&&d.object.context.setElementFillStyle(u.textColor),"3d"==t&&(d.object.context.save(),d.object.context.translate(u.variantThreedOffsetX,-1*u.variantThreedOffsetY)),"bar"!==d.object.type&&"heatmap"!==d.object.type&&"waterfall"!==d.object.type&&"hbar"!==d.object.type&&"line"!==d.object.type&&"gantt"!==d.object.type&&"scatter"!==d.object.type&&"string"==typeof u.xaxisTitle&&u.xaxisTitle.length&&(u.textFontStyleObj.size,e=(d.object.canvas.width-p-f)/2+p,i=d.object.canvas.height-b+25,"number"==typeof u.xaxisTitlePos&&(i=d.object.canvas.height-b*u.xaxisTitlePos),"number"==typeof u.xaxisTitleX&&(e=u.xaxisTitleX),"number"==typeof u.xaxisTitleY&&(i=u.xaxisTitleY),a=DxChart.getTextInfo({object:d.object,prefix:"xaxisTitle"}),DxChart.text({object:d.object,font:a.font,size:a.size,color:a.color,bold:a.bold,italic:a.italic,x:e,y:i,text:u.xaxisTitle,halign:"center",valign:"top",tag:"xaxis.title"})),"bar"!==d.object.type&&"heatmap"!==d.object.type&&"waterfall"!==d.object.type&&"hbar"!==d.object.type&&"line"!==d.object.type&&"gantt"!==d.object.type&&"scatter"!==d.object.type&&"string"==typeof u.yaxisTitle&&u.yaxisTitle.length&&(u.textFontStyleObj.size,u.textFontStyleObj.face,u.textFontStyleObj.italic,e=270,u.yaxisTitleBold,i=u.yaxisTitleColor,s="number"==typeof u.yaxisTitlePos?u.yaxisTitlePos*p:"hbar"===d.object.type&&DxChart.isNull(u.yaxisTitlePos)?(("number"==typeof d.object.yaxisLabelsFontStyleObj.size?d.object.yaxisLabelsFontStyleObj:u.textFontStyleObj).size,u.marginLeft-d.object.yaxisLabelsFontStyleObj.size):(s=d.object&&d.object.scale2?DxChart.measureText({text:d.object.scale2.labels[d.object.scale2.labels.length-1],bold:"boolean"==typeof u.yaxisScaleBold?u.yaxisScaleBold:u.textFontStyleObj.bold,font:u.yaxisScaleFont||u.textFontStyleObj.face,size:"number"==typeof u.yaxisScaleSize?u.yaxisScaleSize:u.textFontStyleObj.size}):[0,0],u.marginLeft-s[0]-7),"number"==typeof u.yaxisTitleFontStyleObj.size&&u.yaxisTitleFontStyleObj.size,"boolean"==typeof u.yaxisTitleFontStyleObj.italic&&u.yaxisTitleFontStyleObj.italic,"string"==typeof u.yaxisTitleFontStyleObj.face&&u.yaxisTitleFontStyleObj.face,("right"==u.yaxisTitleAlign||"right"==u.yaxisTitlePosition||"hbar"===d.object.type&&"right"===u.yaxisPosition&&void 0===u.yaxisTitleAlign&&void 0===u.yaxisTitlePosition)&&(e=90,s="number"==typeof u.yaxisTitlePos?d.object.canvas.width-f+u.yaxisTitlePos*f:d.object.canvas.width-f+(u.yaxisLabelsFontStyleObj.size||u.textFontStyleObj.size)+10),y=(d.object.canvas.height-m-b)/2+m,"number"==typeof u.yaxisTitleX&&(s=u.yaxisTitleX),"number"==typeof u.yaxisTitleY&&(y=u.yaxisTitleY),d.object.context.fillStyle=i,isNexacroRuntime&&d.object.context.setElementFillStyle(i),a=DxChart.getTextInfo({object:d.object,prefix:"yaxisTitle"}),DxChart.text({object:d.object,font:a.font,size:a.size,color:a.color,bold:a.bold,italic:a.italic,x:s,y:y,valign:"bottom",halign:"center",angle:e,text:u.yaxisTitle,tag:"yaxis.title",accessible:!1})),u.backgroundColor),o=(i&&("map"==d.object.type?(d.object.context.fillStyle=DxChart.parseGradient(d.object,i,0,0,d.object.canvas.width,d.object.canvas.height),isNexacroRuntime&&d.object.context.setElementFillStyle(d.object.context.fillStyle),d.object.context.fillRect(0,0,d.object.canvas.width,d.object.canvas.height)):(d.object.context.fillStyle=DxChart.parseGradient(d.object,i,p+.5,m+.5,d.object.canvas.width-p-f,d.object.canvas.height-m-b),isNexacroRuntime&&d.object.context.setElementFillStyle(d.object.context.fillStyle),d.object.context.fillRect(p+.5,m+.5,d.object.canvas.width-p-f,d.object.canvas.height-m-b))),u.yaxisLabelsCount||5),r=("number"==typeof u.backgroundBarsCount&&(o=u.backgroundBarsCount),(d.object.canvas.height-b-m)/o),n=isNexacroRuntime?1:0;if(u.backgroundBarsColor1){d.object.context.beginPath(),d.object.context.fillStyle=u.backgroundBarsColor1,isNexacroRuntime&&d.object.context.setElementFillStyle(u.backgroundBarsColor1),d.object.context.strokeStyle=u.backgroundBarsColor1,isNexacroRuntime&&d.object.context.setElementStrokeStyle(d.object.context.strokeStyle),g=d.object.canvas.height-b;for(var h=0;h<o;h+=2)d.object.context.rect(p,h*r+m,d.object.canvas.width-p-f,r+n);d.object.context.fill()}if(u.backgroundBarsColor2){d.object.context.beginPath(),d.object.context.fillStyle=u.backgroundBarsColor2,isNexacroRuntime&&d.object.context.setElementFillStyle(u.backgroundBarsColor2),d.object.context.strokeStyle=u.backgroundBarsColor2,isNexacroRuntime&&d.object.context.setElementStrokeStyle(d.object.context.strokeStyle);for(h=1;h<o;h+=2)d.object.context.rect(p,h*r+m,d.object.canvas.width-p-f,r+n);d.object.context.fill()}if(u.backgroundEffect&&""!=u.backgroundEffect){var l=d.object.canvas.width-d.object.marginLeft-d.object.marginRight,g=d.object.canvas.height-d.object.marginTop-d.object.marginBottom,c=d.object.marginLeft+l/2,x=d.object.marginTop+g/2;if(d.object.adjustSpace={x:d.object.marginLeft,y:d.object.marginTop,r:d.object.marginLeft+l,b:d.object.marginTop+g},"WaterColor"==u.backgroundEffect){if(this.waterColorCnt=0,d.object.waterCoord)for(var h=0,D=d.object.waterCoord.length;h<D;h++)d.object.waterCoord[h]=null;d.object.waterCoord=[],d.object.waterColorSeq==undefined&&(d.object.waterColorSeq=0),d.object.waterColorSeq++,d.object.context.globalCompositeOperation="hard-light",isNexacroRuntime&&d.object.context.setElementGlobalCompositeOperation("hard-light");var v=d.object.context.globalAlpha;d.object.context.globalAlpha=u.backgroundEffectAlpha||.25,isNexacroRuntime&&d.object.context.setElementGlobalAlpha(d.object.context.globalAlpha);for(h=0,D=10;h<D;h++)d.object.waterCoord.push(new WaterColor({ctx:d.object.context,size:l*(.7+.1*Math.random()),x:c+Math.cos(h/D*DxChart.TWOPI)*c,y:x+Math.sin(h/D*DxChart.TWOPI)*x,minColor:u.backgroundMinColorCode||0,maxColor:u.backgroundMaxColorCode||255,parentNode:d.object,waterColorSeq:d.object.waterColorSeq}));d.object.context.globalCompositeOperation="source-over",isNexacroRuntime&&d.object.context.setElementGlobalCompositeOperation("source-over"),d.object.context.globalAlpha=v}else if("Lamp"==u.backgroundEffect){d.object.context.globalCompositeOperation="lighter",isNexacroRuntime&&d.object.context.setElementGlobalCompositeOperation("lighter");new BgLamp({context:d.object.context,canvas:d.object.canvas,radius:u.backgroundEffectLampRadius,count:u.backgroundEffectLampCount,blur:u.backgroundEffectLampBlur,backgroundColors:u.backgroundEffectLampBackgroundColors,colors:u.backgroundLampColors});d.object.context.globalCompositeOperation="source-over",isNexacroRuntime&&d.object.context.setElementGlobalCompositeOperation("source-over")}else if("Crystal"==u.backgroundEffect){d.object.context.globalCompositeOperation="lighter",isNexacroRuntime&&d.object.context.setElementGlobalCompositeOperation("lighter");new BgCrystal({context:d.object.context,canvas:d.object.canvas,color:u.backgroundEffectCrystalColor});d.object.context.globalCompositeOperation="source-over",isNexacroRuntime&&d.object.context.setElementGlobalCompositeOperation("source-over")}else if("Ball"==u.backgroundEffect){var S,k=[],v=(d.object.context.globalCompositeOperation="lighten",isNexacroRuntime&&d.object.context.setElementGlobalCompositeOperation("lighten"),d.object.context.globalAlpha);if(d.object.context.globalAlpha=u.backgroundEffectAlpha||.25,isNexacroRuntime&&d.object.context.setElementGlobalAlpha(d.object.context.globalAlpha),d.object.Balls)for(h=0,D=d.object.Balls.length;h<D;h++)d.object.Balls[h]=null;d.object.Balls=[];for(let t=0;t<10;t++)S=new BgBall({ctx:d.object.context,startColor:u.backgroundEffectBallStartColor,endColor:u.backgroundEffectBallEndColor,parentNode:d.object}),k.push(S),S.draw();d.object.Balls=k,d.object.context.globalCompositeOperation="source-over",isNexacroRuntime&&d.object.context.setElementGlobalCompositeOperation("source-over"),d.object.context.globalAlpha=v}else"Wave"==u.backgroundEffect&&(v=d.object.context.globalAlpha,d.object.context.globalAlpha=u.backgroundEffectAlpha||.25,isNexacroRuntime&&d.object.context.setElementGlobalAlpha(d.object.context.globalAlpha),d.object.Waves&&(d.object.Waves=null),d.object.Waves=new BgWaves({canvas:d.object.canvas,ctx:d.object.context,waves:u.backgroundEffectWaveCount||3,hue:u.backgroundEffectWaveHue||[11,14],width:l,parentNode:d.object,alpha:u.backgroundEffectAlpha,background:u.backgroundEffectBackColorUse,backColor1:u.backgroundEffectColor1,backColor2:u.backgroundEffectColor2}),d.object.Waves.render(),d.object.context.globalAlpha=v)}d.object.context.beginPath();function w(t,e,i){if(u.backgroundGrid){if(u.backgroundGridHlinesCount+=1e-4,u.backgroundGridAutofit&&(u.backgroundGridAutofitAlign&&("hbar"===t.type&&t.set("backgroundGridHlinesCount",t.data.length),"line"===t.type?"number"!=typeof u.backgroundGridVlinesCount&&(u.xaxisLabels&&u.xaxisLabels.length?t.set("backgroundGridVlinesCount",u.xaxisLabels.length-1):t.set("backgroundGridVlinesCount",0<t.data[0].length?t.data[0].length-1:0)):"waterfall"===t.type?t.set("backgroundGridVlinesCount",t.data.length+(u.totalUse?1:0)):"bar"===t.type?t.set("backgroundGridVlinesCount",t.data.length):"scatter"===t.type?"number"!=typeof u.backgroundGridVlinesCount&&(DxChart.isArray(u.xaxisLabels)&&u.xaxisLabels.length?t.set("backgroundGridVlinesCount",u.xaxisLabels.length):t.set("backgroundGridVlinesCount",10)):"gantt"===t.type?("number"!=typeof t.get("backgroundGridVlinesCount")&&t.set("backgroundGridVlinesCount",u.xaxisScaleMax),t.set("backgroundGridHlinesCount",t.data.length)):"hbar"===t.type&&DxChart.isNull(u.backgroundGridHlinesCount)&&t.set("backgroundGridHlinesCount",t.data.length)),h=0,h="line"===t.type?(e.width-p-f-2*C)/u.backgroundGridVlinesCount:(e.width-p-f)/u.backgroundGridVlinesCount,n=(e.height-m-b)/u.backgroundGridHlinesCount,t.set("backgroundGridVsize",h),t.set("backgroundGridHsize",n)),u.backgroundVBarsColor1&&u.backgroundVBarsColor2)for(var s=e.width-f,a=0,o=p,r=o="line"===d.object.type?p+C:o;Math.round(r)<=s&&!(s<r+h/2);r+=h)i.beginPath(),++a%2==1?(i.fillStyle=u.backgroundVBarsColor1,isNexacroRuntime&&i.setElementFillStyle(u.backgroundVBarsColor1)):(i.fillStyle=u.backgroundVBarsColor2,isNexacroRuntime&&i.setElementFillStyle(u.backgroundVBarsColor2)),i.rect(r,m,h,t.canvas.height-m-b),i.closePath(),i.fill();if(i.beginPath(),i.lineWidth=u.backgroundGridLineWidth||1,isNexacroRuntime&&i.setElementLineWidth(i.lineWidth),i.strokeStyle=u.backgroundGridColor,isNexacroRuntime&&i.setElementStrokeStyle(i.strokeStyle),u.backgroundGridDashed&&(isNexacroRuntime?i.setElementLineStyle("dashed"):i.setLineDash([3,5])),u.backgroundGridDotted&&(isNexacroRuntime?i.setElementLineStyle("dotted"):i.setLineDash([1,3])),u.backgroundGridHlines){g=e.height-b;var n=u.backgroundGridHsize;for(y=m;y<=g;y+=n)i.moveTo(p,parseInt(y)),i.lineTo(d.object.canvas.width-f,parseInt(y)),"3d"===d.object.properties.variantValue&&"bar"===d.object.type&&d.object.properties.backgroundGridThreedYaxis&&(i.moveTo(p,parseInt(y)),i.lineTo(p-d.object.properties.variantThreedOffsetX,parseInt(y)+d.object.properties.variantThreedOffsetY))}if(u.backgroundGridVlines){var s=e.width-f,h=u.backgroundGridVsize,a=0,l=[],c=[];if("line"===d.object.type)for(r=p+C;Math.round(r)<=s;r+=h)l.push([Math.round(r),m]),c.push([Math.round(r),t.canvas.height-b]);else for(r=p;Math.round(r)<=s;r+=h)l.push([Math.round(r),m]),c.push([Math.round(r),t.canvas.height-b]);var o=0,x=l.length;0<C&&(x-=o=1);for(r=o;r<x;r++)i.moveTo(l[r][0],l[r][1]),i.lineTo(c[r][0],c[r][1]);l=c=null}u.backgroundGridBorder&&(i.strokeStyle=u.backgroundGridColor,isNexacroRuntime&&i.setElementStrokeStyle(i.strokeStyle),i.strokeRect(Math.round(p),Math.round(m),t.canvas.width-p-f,t.canvas.height-m-b))}i.stroke(),i.beginPath(),i.closePath()}u.backgroundGrid&&(isNexacroRuntime||!0===u.backgroundNoCache?w(d.object,d.object.canvas,d.object.context):DxChart.cachedDraw(d.object,d.object.uid,w)),"3d"==t&&d.object.context.restore(),"function"==typeof d.object.context.setLineDash&&(isNexacroRuntime?d.object.context.setElementLineStyle("dash"):d.object.context.setLineDash([])),d.object.context.stroke(),"string"==typeof d.object.properties.titleText&&DxChart.drawTitle(d.object)}}},DxChart.numberFormat=function(t){var e,i=t.unitspre?String(t.unitspre):"",s=t.unitspost?String(t.unitspost):"",a="",o="",r="string"==typeof t.point?t.point:".",n="string"==typeof t.thousand?t.thousand:",";if(RegExp.$1="","function"==typeof t.formatter)return t.formatter(t);if(0<String(t.number).indexOf("e"))return String(i+String(t.number)+s);t.number=String(t.number),0<t.number.indexOf(".")&&(e=t.number,t.number=t.number.replace(/\.(.*)/,""),o=e.replace(/(.*)\.(.*)/,"$2"));for(var h=n,l=t.number.length-1,c=0;0<=l;c++,l--)c%3==0&&0!=c&&(a+=h),a+=t.number.charAt(l);for(var x=a,a="",l=x.length-1;0<=l;l--)a+=x.charAt(l);return 0==a.indexOf("-"+t.thousand)&&(a="-"+a.substr(("-"+t.thousand).length)),o.length&&(a=a+r+o,o="",RegExp.$1=""),"-"==a.charAt(0)&&(a=a.replace(/-/,""),i="-"+i),i+(a=a.replace(/^,+/,""))+s},DxChart.drawBars=function(){var t=DxChart.getArgs(arguments,"object"),e=t.object.properties,i=e.backgroundHbars;if(null!==i){t.object.context.beginPath();for(var s=0,a=i.length;s<a;++s){var o=i[s][0],r=i[s][1],n=i[s][2],h=((o=(o=DxChart.isNull(o)?t.object.scale2.max:o)>t.object.scale2.max?t.object.scale2.max:o)+(r=o+(r=DxChart.isNull(r)?t.object.scale2.max-o:r)>t.object.scale2.max?t.object.scale2.max-o:r)<-1*t.object.scale2.max&&(r=-1*t.object.scale2.max-o),"center"==e.xaxisPosition&&o==t.object.scale2.max&&r<-2*t.object.scale2.max&&(r=-2*t.object.scale2.max),e.marginLeft),l=t.object.getYCoord(o),c=t.object.canvas.width-e.marginLeft-e.marginRight,o=t.object.getYCoord(o+r)-l;-1!=DxChart.ISOPERA&&"center"==e.xaxisPosition&&o<0&&(l-=o*=-1),"top"==e.xaxisPosition&&(l=t.object.canvas.height-l,o*=-1),t.object.context.fillStyle=DxChart.parseLinearGradientInfo(t.object,n,h,l,c,o),isNexacroRuntime&&t.object.context.setElementFillStyle(t.object.context.fillStyle),t.object.context.fillRect(h,l,c,o)}}},DxChart.drawInGraphLabels=function(){var i=DxChart.getArgs(arguments,"object"),t=i.object.properties,e=t.labelsIngraph,s=[];if(e){for(var a=DxChart.getTextInfo({object:i.object,prefix:"labelsIngraph"}),o=0,r=e.length;o<r;o+=1)if("number"==typeof e[o])for(var n=0;n<e[o];++n)s.push(null);else"string"==typeof e[o]||"object"==typeof e[o]?s.push(e[o]):s.push("");if(DxChart.noShadow(i.object),s&&0<s.length)for(var h,l,c,x,d,u,o=0,r=s.length;o<r;o+=1){function g(t,e){i.object.context.moveTo(Math.round(t),e+5),i.object.context.lineTo(Math.round(t),e+5+l),i.object.context.stroke(),i.object.context.beginPath(),i.object.context.moveTo(Math.round(t),e+5),i.object.context.lineTo(Math.round(t)-3,e+10),i.object.context.lineTo(Math.round(t)+3,e+10),i.object.context.closePath()}s[o]&&((h=i.object.coords[o])&&0<h.length&&(u=("bar"==i.object.type?h[0]+h[2]/2:h[0])+(t.labelsIngraphOffsetX||0),h=("bar"==i.object.type?h[1]+h[3]/2:h[1])+(t.labelsIngraphOffsetY||0),l="number"==typeof s[o][4]?s[o][4]:25,i.object.context.beginPath(),i.object.context.fillStyle=t.labelsIngraphBackgroundColor||"black",isNexacroRuntime&&i.object.context.setElementFillStyle(i.object.context.fillStyle),i.object.context.strokeStyle=t.labelsIngraphLineColor||"black",isNexacroRuntime&&i.object.context.setElementStrokeStyle(i.object.context.strokeStyle),"bar"===i.object.type?("top"==i.object.get("xaxisPosition")&&(l*=-1),x="dot"==t.variantValue||"arrow"==t.variantValue?(i.object.context.moveTo(Math.round(u),i.object.coords[o][1]-5),i.object.context.lineTo(Math.round(u),i.object.coords[o][1]-5-l),c=Math.round(u),i.object.coords[o][1]-5-l):(i.object.context.arc(Math.round(u),h,2.5,0,6.28,0),!0===t.labelsIngraphLabelTop?(i.object.context.moveTo(Math.round(u),h),i.object.context.lineTo(Math.round(u),i.object.coords[o][1]-5-l),c=Math.round(u),i.object.coords[o][1]-5-l):(i.object.context.moveTo(Math.round(u),h),i.object.context.lineTo(Math.round(u),h-l),c=Math.round(u),h-l)),i.object.context.stroke()):"object"==typeof s[o]&&"number"==typeof s[o][3]&&-1==s[o][3]?(g(u,h),d="top",c=u,x=h+5+l):(c=u,(x=h-5-l)<5&&("string"==typeof s[o]||void 0===s[o][3])&&(x=h+5+l,d="top"),"top"===d?g(u,h):(u=u,h=h,i.object.context.moveTo(Math.round(u),h-5),i.object.context.lineTo(Math.round(u),h-5-l),i.object.context.stroke(),i.object.context.beginPath(),i.object.context.moveTo(Math.round(u),h-5),i.object.context.lineTo(Math.round(u)-3,h-10),i.object.context.lineTo(Math.round(u)+3,h-10),i.object.context.closePath())),i.object.context.fill(),i.object.context.beginPath(),"object"==typeof s[o]&&"string"==typeof s[o][1]?i.object.context.fillStyle=s[o][1]:i.object.context.fillStyle=t.labelsIngraphColor,isNexacroRuntime&&i.object.context.setElementFillStyle(i.object.context.fillStyle),null!=(u=i.object.properties.labelsIngraphTextBound)&&u!=undefined||(u=!0),DxChart.text({object:i.object,font:a.font,size:a.size,color:i.object.context.fillStyle||a.color,bold:a.bold,italic:a.italic,x:c,y:x+(i.object.properties.textAccessible?2:0),text:"object"==typeof s[o]&&"string"==typeof s[o][0]?s[o][0]:s[o],valign:d||"bottom",halign:"center",bounding:u,"bounding.fill":"object"==typeof s[o]&&"string"==typeof s[o][2]?s[o][2]:"white",tag:"labels ingraph"}),i.object.context.fill()),d=undefined)}}},DxChart.hideCrosshairCoords=function(){var t,e=DxChart.Registry.get("coordinates.coords.div");e&&(e.style&&1==e.style.opacity||1==e.opacity)&&e.__object__.get("crosshairsCoordsFadeout")?isNexacroRuntime?(nexacro._OnceCallbackTimer.callonce(e._refform,function(){e.set_opacity(.9)},25),nexacro._OnceCallbackTimer.callonce(e._refform,function(){e.set_opacity(.8)},50),nexacro._OnceCallbackTimer.callonce(e._refform,function(){e.set_opacity(.7)},75),nexacro._OnceCallbackTimer.callonce(e._refform,function(){e.set_opacity(.6)},100),nexacro._OnceCallbackTimer.callonce(e._refform,function(){e.set_opacity(.5)},125),nexacro._OnceCallbackTimer.callonce(e._refform,function(){e.set_opacity(.4)},150),nexacro._OnceCallbackTimer.callonce(e._refform,function(){e.set_opacity(.3)},175),nexacro._OnceCallbackTimer.callonce(e._refform,function(){e.set_opacity(.2)},200),nexacro._OnceCallbackTimer.callonce(e._refform,function(){e.set_opacity(.1)},225),nexacro._OnceCallbackTimer.callonce(e._refform,function(){e.set_visible(!1)},275)):(t=DxChart.Registry.get("coordinates.coords.div").style,setTimeout(function(){t.opacity=.9},25),setTimeout(function(){t.opacity=.8},50),setTimeout(function(){t.opacity=.7},75),setTimeout(function(){t.opacity=.6},100),setTimeout(function(){t.opacity=.5},125),setTimeout(function(){t.opacity=.4},150),setTimeout(function(){t.opacity=.3},175),setTimeout(function(){t.opacity=.2},200),setTimeout(function(){t.opacity=.1},225),setTimeout(function(){t.opacity=0},250),setTimeout(function(){t.display="none"},275)):isNexacroRuntime?nexacro._OnceCallbackTimer.callonce(e._refform,function(){e.set_visible(!1)},275):(t=DxChart.Registry.get("coordinates.coords.div").style,setTimeout(function(){t.display="none"},275))},DxChart.draw3DAxes=function(){var t=DxChart.getArgs(arguments,"object"),e=t.object.properties,i=t.object.marginLeft,s=t.object.marginRight,a=t.object.marginTop,o=t.object.marginBottom,r=e.xaxisPosition,o=(t.object.canvas.height-a-o)/2,n=e.variantThreedOffsetX,h=e.variantThreedOffsetY,l=e.variantThreedXaxis;e.variantThreedYaxis&&DxChart.draw3DYAxis(t.object),l&&("center"===r?t.object.path("b m % % l % % l % % l % % c s #aaa f %",i,a+o,i+n,a+o-h,t.object.canvas.width-s+n,a+o-h,t.object.canvas.width-s,a+o,e.variantThreedXaxisColor):(l="hbar"===t.object.type?t.object.canvas.height-t.object.properties.marginBottom:t.object.getYCoord(0),t.object.path("m % % l % % l % % l % % c s #aaa f %",i,l,i+n,l-h,t.object.canvas.width-s+n,l-h,t.object.canvas.width-s,l,e.variantThreedXaxisColor)))},DxChart.draw3DYAxis=function(t){var t=DxChart.getArgs(arguments,"object"),e=t.object.properties,i=t.object.marginLeft,s=t.object.marginRight,a=t.object.marginTop,o=t.object.marginBottom,r=(e.xaxisPosition,t.object.canvas.height,e.variantThreedOffsetX),n=e.variantThreedOffsetY;e.variantThreedYaxisColor;s="hbar"!==t.object.type&&"bar"!==t.object.type||"center"!==e.yaxisPosition?"hbar"!==t.object.type&&"bar"!==t.object.type||"right"!==e.yaxisPosition?i:t.object.canvas.width-s:(t.object.canvas.width-i-s)/2+i,t.object.path("b m % % l % % l % % l % % s #aaa f % b",s,a,s+r,a-n,s+r,t.object.canvas.height-o-n,s,t.object.canvas.height-o,e.variantThreedYaxisColor)},DxChart.roundedRect=function(){var t,e=DxChart.getArgs(arguments,"context,x,y,width,height,radius,roundtl,roundtr,roundbl,roundbr"),i=(e.radius,t=Math.min(Math.min(e.width,e.height)/2,e.radius),!1!==e.roundtl),s=!1!==e.roundtr,a=!1!==e.roundbl,o=!1!==e.roundbr;e.context.beginPath(),e.context.moveTo(e.x,e.y+t),i?e.context.quadraticCurveTo(e.x,e.y,e.x+t,e.y):(e.context.lineTo(e.x,e.y),e.context.lineTo(e.x+t,e.y)),e.context.lineTo(e.x+e.width-t,e.y),s?e.context.quadraticCurveTo(e.x+e.width,e.y,e.x+e.width,e.y+t):(e.context.lineTo(e.x+e.width,e.y),e.context.lineTo(e.x+e.width,e.y+t)),e.context.lineTo(e.x+e.width,e.y+e.height-t),o?e.context.quadraticCurveTo(e.x+e.width,e.y+e.height,e.x+e.width-t,e.y+e.height):(e.context.lineTo(e.x+e.width,e.y+e.height),e.context.lineTo(e.x+e.width-t,e.y+e.height)),e.context.lineTo(e.x+t,e.y+e.height),a?e.context.quadraticCurveTo(e.x,e.y+e.height,e.x,e.y+e.height-t):(e.context.lineTo(e.x,e.y+e.height),e.context.lineTo(e.x,e.y+e.height-t)),e.context.closePath()},DxChart.addCustomEventListener=function(){var t=DxChart.getArgs(arguments,"object,name,func");return void 0===DxChart.events[t.object.uid]&&(DxChart.events[t.object.uid]=[]),"on"!==t.name.substr(0,2)&&(t.name="on"+t.name),DxChart.events[t.object.uid].push([t.object,t.name,t.func]),DxChart.events[t.object.uid].length-1},DxChart._fireEvent=function(){var t=DxChart.getArgs(arguments,"object,name");if(t.object&&t.object.isDxChart){t.object[t.name]&&t.object[t.name](t.object);var e=t.object.uid;if("string"==typeof e&&"object"==typeof DxChart.events&&"object"==typeof DxChart.events[e]&&0<DxChart.events[e].length)for(var i=0;i<DxChart.events[e].length;++i)DxChart.events[e][i]&&DxChart.events[e][i][1]===t.name&&DxChart.events[e][i][2](t.object)}},DxChart.removeAllCustomEventListeners=function(){var t=DxChart.getArgs(arguments,"uid");t.uid&&DxChart.events[t.uid]?DxChart.events[t.uid]=[]:(DxChart.events=[],DxChart.REG.iterate(function(t){t.onclick&&(t.onclick=null),t.onmousemove&&(t.onmousemove=null),t.onmouseover&&(t.onmouseover=null),t.onmouseout&&(t.onmouseout=null)}))},DxChart.removeCustomEventListener=function(){var t=DxChart.getArgs(arguments,"object,index");"object"==typeof DxChart.events&&"object"==typeof DxChart.events[t.object.uid]&&"object"==typeof DxChart.events[t.object.uid][t.index]&&(DxChart.events[t.object.uid][t.index]=null)},DxChart._drawBackgroundImageCallback=function(t,e){var i=t.properties,s=t.marginLeft||i.marginLeft,a=t.marginRight||i.marginRight,o=t.marginTop||i.marginTop,r=t.marginBottom||i.marginBottom,n=i.backgroundImageStretch,h=i.backgroundImageAlign,h="string"==typeof h?(l=-1!=h.indexOf("right")?t.canvas.width-(i.backgroundImageW||e.width)-a:s,-1!=h.indexOf("bottom")?t.canvas.height-(i.backgroundImageH||e.height)-r:o):(l=s||25,o||25),l="number"==typeof i.backgroundImageX?i.backgroundImageX:l,s=(h="number"==typeof i.backgroundImageY?i.backgroundImageY:h,n?t.canvas.width-s-a:e.width),a=n?t.canvas.height-o-r:e.height,n=("number"==typeof i.backgroundImageW&&(s=i.backgroundImageW),"number"==typeof i.backgroundImageH&&(a=i.backgroundImageH),t.context.globalAlpha);t.context.globalAlpha=i.backgroundImageAlpha,isNexacroRuntime&&t.context.setElementGlobalAlpha(t.context.globalAlpha),t.context.drawImage(e,l,h,s,a),t.context.globalAlpha=n,isNexacroRuntime&&t.context.setElementGlobalAlpha(t.context.globalAlpha)},DxChart.drawBackgroundImage=function(a){var o,a=DxChart.getArgs(arguments,"object");if("string"==typeof a.object.properties.backgroundImage){var t=a.object.get("backgroundImage");if(void 0===a.object.canvas.__DxChart_background_image__){if(isNexacroRuntime){o={},a.object.canvas._imgobj||(a.object.canvas._imgobj={});o.src=t,o.handle=nexacro._getImageObject(t,function(t,e,i,s){a.object.__DxChart_background_image_loaded__=!0,o.width=e,o.height=i,o.imagewidth=e,o.imageheight=i,DxChart._drawBackgroundImageCallback(a.object,o)},this,"",!1)}else{if(o=new Image,nexacro){if(!(t="url("==t.substring(0,4).toLowerCase()?t.substring(5,t.length-2):t)||!t.length)return null;t=nexacro._getImageLocation(t)}o.src=t}o.__object__=a.object,o.__canvas__=a.object.canvas,o.__context__=a.object.context,a.object.canvas.__DxChart_background_image__=o}else o=a.object.canvas.__DxChart_background_image__;isNexacroRuntime||(o.onload=function(){a.object.__DxChart_background_image_loaded__=!0,DxChart.clear(a.object.canvas),DxChart.redrawCanvas(a.object.canvas)},DxChart._drawBackgroundImageCallback(a.object,o))}},DxChart.hasTooltips=function(){var t=DxChart.getArgs(arguments,"object"),e=t.object.properties;if("object"==typeof e.tooltipsData&&e.tooltipsData){for(var i=0,s=e.tooltipsData.length;i<s;++i)if(!DxChart.isNull(t.object.get("tooltips")[i]))return!0}else if("function"==typeof e.tooltipsData)return!0;return!1},DxChart.createUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},DxChart.REG.add=function(){var t=DxChart.getArgs(arguments,"object"),e=t.object.uid,i=t.object.canvas.id;DxChart.REG.objects.byUID[DxChart.REG.objects.byUID.length]=[e,t.object],DxChart.REG.objects.byCanvasID.push([i,t.object])},DxChart.REG.remove=function(){for(var t=DxChart.getArgs(arguments,"object"),e=(t.object.id,t.object.uid),i=0;i<DxChart.REG.objects.byUID.length;++i)DxChart.REG.objects.byUID[i]&&DxChart.REG.objects.byUID[i][1].uid==e&&(DxChart.REG.objects.byUID[i]=null);for(i=0;i<DxChart.REG.objects.byCanvasID.length;++i)DxChart.REG.objects.byCanvasID[i]&&DxChart.REG.objects.byCanvasID[i][1]&&DxChart.REG.objects.byCanvasID[i][1].uid==e&&(DxChart.REG.objects.byCanvasID[i]=null)},DxChart.REG.clear=function(){if("object"!=typeof arguments[0]||DxChart.isNull(arguments)||"object"!=typeof arguments[0].canvas&&"string"!=typeof arguments[0].id)if("string"==typeof arguments[0])t={id:arguments[0]};else{if("object"!=typeof arguments[0]||!arguments[0].getContext)return DxChart.REG.objects={},DxChart.REG.objects.byUID=[],void(DxChart.REG.objects.byCanvasID=[]);t={canvas:arguments[0]}}else var t=arguments[0];if(t.id||t.canvas){t.canvas&&(t.id=t.canvas.id);for(var e=DxChart.REG.getObjectsByCanvasID(t.id),i=0,s=e.length;i<s;++i)DxChart.REG.remove(e[i])}else DxChart.REG.objects={},DxChart.REG.objects.byUID=[],DxChart.REG.objects.byCanvasID=[]},DxChart.REG.list=function(){for(var t=DxChart.getArgs(arguments,"alert"),e=[],i=0,s=DxChart.REG.objects.byUID.length;i<s;++i)DxChart.REG.objects.byUID[i]&&e.push(DxChart.REG.objects.byUID[i][1].type);if(!t.alert)return e;$p(e)},DxChart.REG.clearByType=function(){for(var t,e=DxChart.getArgs(arguments,"type"),i=DxChart.REG.objects.byUID,s=0,a=i.length;s<a;++s)i[s]&&(i[s][0],t=i[s][1])&&t.type===e.type&&DxChart.REG.remove(t)},DxChart.REG.iterate=function(){for(var t=DxChart.getArgs(arguments,"func,type"),e=DxChart.REG.objects.byUID,i=0,s=e.length;i<s;++i)if("string"==typeof t.type)for(var a=t.type.split(/,/),o=0,r=a.length;o<r;++o)a[o]==e[i][1].type&&t.func(e[i][1]);else t.func(e[i][1])},DxChart.REG.getObjectsByCanvasID=function(t){for(var e=DxChart.REG.objects.byCanvasID,i=[],s=0,a=e.length;s<a;++s)e[s]&&e[s][0]==t&&i.push(e[s][1]);return i},DxChart.REG.firstbyxy=DxChart.REG.getObjectByXY=DxChart.REG.getFirstObjectByXY=function(){for(var t=DxChart.getArgs(arguments,"event"),e=t.event.target,i=DxChart.REG.getObjectsByCanvasID(e.id),s=i.length-1;0<=s;--s){var a=i[s].getObjectByXY(t.event);if(a)return a}},DxChart.REG.getObjectsByXY=function(t){for(var e=t.target,i=[],s=DxChart.REG.getObjectsByCanvasID(e.id),a=s.length-1;0<=a;--a){var o=s[a].getObjectByXY(t);o&&i.push(o)}return i},DxChart.REG.get=DxChart.REG.getObjectByUID=function(){for(var t=DxChart.getArgs(arguments,"uid"),e=DxChart.REG.objects.byUID,i=0,s=e.length;i<s;++i)if(e[i]&&e[i][1].uid==t.uid)return e[i][1]},DxChart.REG.bringToFront=function(){var t=DxChart.getArgs(arguments,"object,redraw"),e=t.redraw&&!0;DxChart.REG.remove(t.object),DxChart.REG.add(t.object),e&&DxChart.redrawCanvas(t.object.canvas)},DxChart.REG.type=DxChart.REG.getObjectsByType=function(){var t,e=DxChart.getArgs(arguments,"type"),i=DxChart.REG.objects.byUID,s=[];for(t in i)i[t]&&i[t][1]&&i[t][1].type&&i[t][1].type&&i[t][1].type==e.type&&s.push(i[t][1]);return s},DxChart.REG.first=DxChart.REG.getFirstObjectByType=function(){var t,e=DxChart.getArgs(arguments,"type"),i=DxChart.REG.objects.byUID;for(t in i)if(i[t]&&i[t][1]&&i[t][1].type==e.type)return i[t][1];return null},DxChart.getAngleByXY=function(){var t=DxChart.getArgs(arguments,"cx,cy,x,y"),e=Math.atan((t.y-t.cy)/(t.x-t.cx)),e=Math.abs(e);return t.x>=t.cx&&t.y>=t.cy?e+=DxChart.TWOPI:t.x>=t.cx&&t.y<t.cy?e=DxChart.HALFPI-e+(DxChart.PI+DxChart.HALFPI):t.x<t.cx&&t.y<t.cy?e+=DxChart.PI:e=DxChart.PI-e,e>DxChart.TWOPI&&(e-=DxChart.TWOPI),isNexacroRuntime&&(e-=DxChart.HALFPI),e},DxChart.getHypLength=function(){var t=DxChart.getArgs(arguments,"x1,y1,x2,y2");return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))},DxChart.getRadiusEndPoint=function(t,e,i,s){return[t+Math.cos(i)*s,e+Math.sin(i)*s]},DxChart.installEventListeners=function(){var t=DxChart.getArgs(arguments,"object"),e=t.object.properties;DxChart.installCanvasClickListener?(DxChart.installWindowMousedownListener(t.object),DxChart.installWindowMouseupListener(t.object),DxChart.installCanvasMousemoveListener(t.object),DxChart.installCanvasMouseupListener(t.object),DxChart.installCanvasMousedownListener(t.object),DxChart.installCanvasClickListener(t.object),"undefined"==typeof nexacro&&DxChart.installCanvasResizeListener(t.object),"org"!=t.object.type&&"tree"!=t.object.type&&"map"!=t.object.type||DxChart.installCanvasWheelListener(t.object)):(DxChart.hasTooltips(t.object)||e.changeableValue||e.annotationValue||e.contextmenu||e.keyInteractive||"function"==typeof t.object.onclick||"function"==typeof t.object.onmousemove||"function"==typeof t.object.onmouseout||"function"==typeof t.object.onmouseover)&&alert("[RGRAPH] You appear to have used dynamic features but not included the file: DxChart.common.dynamic.js")},DxChart.pr=function(t){var e=DxChart.getArgs(arguments,"object,alert,indent,counter"),i=e.indent||"    ",s="",a="number"==typeof e.counter?e.counter:0;if(3<=a)return"";switch(typeof t){case"string":s+=e.object+" ("+typeof e.object+", "+e.object.length+")";break;case"number":case"boolean":s+=e.object+" ("+typeof e.object+")";break;case"function":s+="function () {}";break;case"undefined":s+="undefined";break;case"null":s+="null";break;case"object":if(DxChart.isNull(e.object))s+="null";else{for(var o in s+="Object {\n",t)s+=i+"    "+o+" => "+DxChart.pr(e.object[o],!0,i+"    ",a+1)+"\n";s+=i+"}"}break;default:s+="Unknown type: "+typeof e.object}return e.alert||alert(s),s},DxChart.dashedLine=function(){for(var t=DxChart.getArgs(arguments,"context,x1,y1,x2,y2,size"),e=t.x2-t.x1,i=t.y2-t.y1,s=Math.floor(Math.sqrt(e*e+i*i)/(t.size||3)),a=e/s,o=i/s,r=0;r%2==0&&0<r?t.context.lineTo(t.x1,t.y1):t.context.moveTo(t.x1,t.y1),t.x1+=a,t.y1+=o,++r<=s;);},DxChart.getMaskString=function(t,e,i){(t=new DxChartMask(t=t||"string")).setMask(e);i=t.applyMask(i),t=null;return i},DxChart.AJAX=function(){var t,e,i=DxChart.getArgs(arguments,"url,callback,scope"),s=i.url;if("undefined"!=typeof nexacro){if(!(s="url("==s.substring(0,4).toLowerCase()?s.substring(5,s.length-2):s)||!s.length)return null;s=nexacro._getImageLocation(s)}isNexacroRuntime?((t=new nexacro.DataObject).addEventHandler("onsuccess",function(t,e){i.scope?i.callback.call(i.scope,e.response):i.callback(e.response)},i.scope),t.set_url(s),t.load()):(window.XMLHttpRequest?e=new XMLHttpRequest:window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP")),e.onreadystatechange=function(){4==this.readyState&&200==this.status&&(this.__user_callback__=i.callback,i.scope?i.callback.call(i.scope,this.responseText):this.__user_callback__(this.responseText))},e.open("GET",s,!0),e&&e.setRequestHeader&&e.setRequestHeader("Cache-Control","no-cache"),e.send())},DxChart.AJAX.post=DxChart.AJAX.POST=function(){var t,e,i=DxChart.getArgs(arguments,"url,data,callback"),s=[];for(e in window.XMLHttpRequest?t=new XMLHttpRequest:window.ActiveXObject&&(t=new ActiveXObject("Microsoft.XMLHTTP")),t.onreadystatechange=function(){4==this.readyState&&200==this.status&&(this.__user_callback__=i.callback,this.__user_callback__(this.responseText))},t.open("POST",i.url,!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.data)"string"==typeof e&&s.push(e+"="+encodeURIComponent(i.data[e]));t.send(s.join("&"))},DxChart.AJAX.getNumber=function(){var e=DxChart.getArgs(arguments,"url,callback");DxChart.AJAX(e.url,function(){var t=parseFloat(this.responseText);e.callback(t)})},DxChart.AJAX.getString=function(){var e=DxChart.getArgs(arguments,"url,callback");DxChart.AJAX(e.url,function(){var t=String(this.responseText);e.callback(t)})},DxChart.AJAX.getJSON=function(){var args=DxChart.getArgs(arguments,"url,callback");DxChart.AJAX(args.url,function(){var json=eval("("+this.responseText+")");args.callback(json)})},DxChart.AJAX.getCSV=function(){var a=DxChart.getArgs(arguments,"url,callback,separator"),o=a.separator||",";DxChart.AJAX(a.url,function(){for(var t=new RegExp(o),e=this.responseText.split(t),i=0,s=e.length;i<s;++i)e[i]=parseFloat(e[i]);a.callback(e)})},DxChart.rotateCanvas=function(){var t=DxChart.getArgs(arguments,"canvas,x,y,angle"),e=t.canvas.getContext("2d");e.translate(t.x,t.y),e.rotate(t.angle),e.translate(0-t.x,0-t.y)},DxChart.measureText=function(){var t,e,i=DxChart.getArgs(arguments,"text,bold,font,size"),s=(void 0===DxChart.measuretext_cache&&(DxChart.measuretext_cache=[]),i.text+":"+i.bold+":"+i.font+":"+i.size);if("object"==typeof DxChart.measuretext_cache&&DxChart.measuretext_cache[s])return DxChart.measuretext_cache[s];if(isNexacroRuntime)return t=(i.bold?"bold ":"")+i.size+"px "+i.font,void 0===DxChart.measuretext_cache_fontobj&&(DxChart.measuretext_cache_fontobj=[]),DxChart.measuretext_cache_fontobj[t]?e=DxChart.measuretext_cache_fontobj[t]:(e=new nexacro.FontObject(t),DxChart.measuretext_cache_fontobj[t]=e),t=nexacro._getTextSize(i.text,e),e=null,DxChart.measuretext_cache[s]=[t[0],t[1]],[t[0],t[1]];if(DxChart.measuretext_cache["text-div"]){if(DxChart.measuretext_cache["text-div"])for(var a=DxChart.measuretext_cache["text-div"];a.firstChild;)a.removeChild(a.firstChild)}else(a=document.createElement("DIV")).style.position="absolute",a.style.top="-100px",a.style.left="-100px",a.style.lineHeight=1.5*(i.size||12)+"px",document.body.appendChild(a),DxChart.measuretext_cache["text-div"]=a;return a.insertAdjacentHTML("afterbegin",String(i.text).replace(/\r?\n/g,"<br />")),a.style.fontFamily=i.font,a.style.fontWeight=i.bold?"bold":"normal",a.style.fontSize=(i.size||12)+"px",DxChart.measuretext_cache[s]=[a.offsetWidth,a.offsetHeight],[a.offsetWidth,a.offsetHeight]},DxChart.text=function(c){var x,d;for(_ in arguments[0]&&arguments[1]&&("string"==typeof arguments[1].text||"number"==typeof arguments[1].text)?(d=arguments[0],c=arguments[1]):(d=c.object,"number"==typeof c.text&&(c.text=String(c.text))),DxChart.text.defaults)"string"==typeof _&&void 0===c[_]&&(c[_]=DxChart.text.defaults[_]);function t(){-1!==String(c.size).toLowerCase().indexOf("italic")&&(c.size=c.size.replace(/ *italic +/,""),c.italic=!0);var t,e,i,s,a,o,r,n=Math.abs(parseInt(c.x))+"_"+Math.abs(parseInt(c.y))+"_"+String(c.text).replace(/[^a-zA-Z0-9]+/g,"_")+"_"+d.canvas.id,h=(d.canvas.DxChart_domtext_wrapper?t=d.canvas.DxChart_domtext_wrapper:((t=document.createElement("div")).id=d.canvas.id+"_DxChart_domtext_wrapper",t.className="DxChart_domtext_wrapper",t.style.overflow=0!=d.properties.textAccessibleOverflow&&"hidden"!=d.properties.textAccessibleOverflow?"visible":"hidden",t.style.width=d.canvas.offsetWidth+"px",t.style.height=d.canvas.offsetHeight+"px",t.style.cssFloat=d.canvas.style.cssFloat,t.style.display=d.canvas.style.display||"inline-block",t.style.position=d.canvas.style.position||"relative",t.style.left=d.canvas.style.left,t.style.right=d.canvas.style.right,t.style.top=d.canvas.style.top,t.style.bottom=d.canvas.style.bottom,t.style.width=d.canvas.width+"px",t.style.height=d.canvas.height+"px",t.style.lineHeight="initial",d.canvas.style.position="absolute",d.canvas.style.left=0,d.canvas.style.top=0,d.canvas.style.display="inline",d.canvas.style.cssFloat="none","bar"!==d.type&&"bipolar"!==d.type&&"hbar"!==d.type||"3d"!==d.properties.variantValue||(t.style.transform="skewY("+d.properties.variantThreedAngle+"rad)"),d.canvas.parentNode.insertBefore(t,d.canvas),d.canvas.parentNode.removeChild(d.canvas),t.appendChild(d.canvas),d.canvas.DxChart_domtext_wrapper=t),{size:12,font:"Arial",italic:"normal",bold:"normal",valign:"bottom",halign:"left",marker:!0,color:x.fillStyle,bounding:{enabled:!1,fill:"rgba(255,255,255,0.7)",stroke:"#666",lineWidth:1}}),l=(c.text=String(c.text).replace(/\r?\n/g,"[[RETURN]]"),void 0===DxChart.text.domNodeCache&&(DxChart.text.domNodeCache=new Array),void 0===DxChart.text.domNodeCache[d.id]&&(DxChart.text.domNodeCache[d.id]=new Array),void 0===DxChart.text.domNodeDimensionCache&&(DxChart.text.domNodeDimensionCache=new Array),void 0===DxChart.text.domNodeDimensionCache[d.id]&&(DxChart.text.domNodeDimensionCache[d.id]=new Array),DxChart.text.domNodeCache[d.id]&&DxChart.text.domNodeCache[d.id][n]?((e=DxChart.text.domNodeCache[d.id][n]).style.display="inline",s=DxChart.text.domNodeDimensionCache[d.id][n].width,a=DxChart.text.domNodeDimensionCache[d.id][n].height,o=DxChart.text.domNodeDimensionCache[d.id][n].top,r=DxChart.text.domNodeDimensionCache[d.id][n].left):((e=document.createElement("span")).style.position="absolute",e.style.display="inline",e.className=" DxChart_accessible_text DxChart_accessible_text_"+d.id+" DxChart_accessible_text_"+(c.tag||"").replace(/\./,"_")+" DxChart_accessible_text_"+d.type+" "+(c.cssClass||""),e.style.left=c.x*(parseInt(d.canvas.offsetWidth)/parseInt(d.canvas.width))+"px",e.style.top=c.y*(parseInt(d.canvas.offsetHeight)/parseInt(d.canvas.height))+"px",e.style.color=c.color||h.color,e.style.fontFamily=c.font||h.font,e.style.fontWeight=c.bold?"bold":h.bold,e.style.fontStyle=c.italic?"italic":h.italic,e.style.fontSize=(c.size||h.size)+"pt",e.style.whiteSpace="nowrap",e.style.lineHeight=DxChart.ISIE?"normal":"initial",e.tag=c.tag,e.setAttribute("data-tag",c.tag),"number"==typeof c.angle&&0!==c.angle&&(DxChart.measureText(c.text,c.bold,c.font,c.size),l="center"===c.halign?"50%":"right"===c.halign?"100%":"0%",i="center"===c.valign?"50%":"top"===c.valign?"0%":"100%",e.style.transformOrigin="{1} {2}".format(l,i),e.style.transform="rotate("+c.angle+"deg)"),e.style.textShadow="{1}px {2}px {3}px {4}".format(x.shadowOffsetX,x.shadowOffsetY,x.shadowBlur,x.shadowColor),c.bounding&&(e.style.border="1px solid "+(c["bounding.stroke"]||h.bounding.stroke),e.style.backgroundColor=c["bounding.fill"]||h.bounding.fill,e.style.borderWidth="number"==typeof c["bounding.lineWidth"]?c["bounding.lineWidth"]:h.bounding.lineWidth),void 0!==d.properties.textAccessiblePointerevents&&!d.properties.textAccessiblePointerevents||"none"===d.properties.textAccessiblePointerevents?e.style.pointerEvents="none":e.style.pointerEvents="auto",e.style.padding=c.bounding?"2px":null,e.__text__=c.text,e.insertAdjacentHTML("afterbegin",c.text.replace("&","&amp;").replace("<","&lt;").replace(">","&gt;").replace(/\[\[RETURN\]\]/g,"<br />")),t.appendChild(e),c.halign=c.halign||"left",c.valign=c.valign||"bottom","right"===c.halign?(e.style.left=parseFloat(e.style.left)-e.offsetWidth+"px",e.style.textAlign="right"):"center"===c.halign&&(e.style.left=parseFloat(e.style.left)-e.offsetWidth/2+"px",e.style.textAlign="center"),"top"!==c.valign&&("center"===c.valign?e.style.top=parseFloat(e.style.top)-e.offsetHeight/2+"px":e.style.top=parseFloat(e.style.top)-e.offsetHeight+"px"),s=parseFloat(e.offsetWidth),a=parseFloat(e.offsetHeight),o=parseFloat(e.style.top),r=parseFloat(e.style.left),DxChart.text.domNodeCache[d.id][n]=e,DxChart.text.domNodeDimensionCache[d.id][n]={left:r,top:o,width:s,height:a},e.id=n),c.marker&&d.path("b m % % l % % m % % l % % s",c.x-5,c.y,c.x+5,c.y,c.x,c.y-5,c.x,c.y+5),"drawing.text"===d.type&&d.properties.tooltipsData&&e.addEventListener(-1!==d.properties.tooltipsEvent.indexOf("mousemove")?"mousemove":"click",function(t){DxChart.Registry.get("tooltip")&&0===DxChart.Registry.get("tooltip").__index__&&DxChart.Registry.get("tooltip").__object__.uid==d.uid||(DxChart.hideTooltip(),DxChart.redraw(),DxChart.tooltip(d,d.properties.tooltipsData[0],c.x,c.y,0,t))},!1),{});return l.x=r,l.y=o,l.width=s,l.height=a,l.object=d,l.text=c.text,l.tag=c.tag,DxChart.text.domNodeCache.reset=function(){if(arguments[0]){var t;for(s in t="string"==typeof arguments[0]?document.getElementById(arguments[0]):arguments[0],DxChart.text.domNodeCache[t.id]){var e=DxChart.text.domNodeCache[t.id][s];e&&e.parentNode&&e.parentNode.removeChild(e)}DxChart.text.domNodeCache[t.id]=[],DxChart.text.domNodeDimensionCache[t.id]=[]}else{for(var i in DxChart.text.domNodeCache)for(var s in DxChart.text.domNodeCache[i])DxChart.text.domNodeCache[i][s]&&DxChart.text.domNodeCache[i][s].parentNode&&DxChart.text.domNodeCache[i][s].parentNode.removeChild(DxChart.text.domNodeCache[i][s]);DxChart.text.domNodeCache=[],DxChart.text.domNodeDimensionCache=[]}},DxChart.text.find=function(t){var e,i,s=[];if(t.object&&t.object.isDxChart)var a=t.object.id;else{if(!t.id)return alert("[RGRAPH] You Must give either an object or an ID to the DxChart.text.find() function"),!1;a=("string"==typeof t.id?t:t.object).id;t.object=document.getElementById(a).__object__}for(i in DxChart.text.domNodeCache[a])if(e=DxChart.text.domNodeCache[a][i],"string"==typeof t.tag&&t.tag===e.tag)s.push(e);else{if("object"==typeof t.tag&&t.tag.constructor.toString().indexOf("RegExp"))if(new RegExp(t.tag).test(e.tag)){s.push(e);continue}("string"==typeof t.text&&t.text===e.__text__||"object"==typeof t.text&&t.text.constructor.toString().indexOf("RegExp")&&new RegExp(t.text).test(e.__text__))&&s.push(e)}return"function"==typeof t.callback&&t.callback({nodes:s,object:t.object}),s},l.node=e,d&&d.isDxChart&&d.coordsText&&d.coordsText.push(l),l}if(d&&d.isDxChart?(a=(d=d).canvas,x=d.context):"string"==typeof d?(x=(a=document.getElementById(d)).getContext("2d"),d=a.__object__):"function"==typeof d.getContext&&(x=(a=d).getContext("2d"),d=a.__object__),"string"==typeof c.boundingFill&&(c["bounding.fill"]=c.boundingFill),"string"==typeof c.boundingStroke&&(c["bounding.stroke"]=c.boundingStroke),"number"==typeof c.boundingLineWidth&&(c["bounding.lineWidth"]=c.boundingLineWidth),"string"==typeof c.textInfoPrefix&&c.textInfoPrefix.length&&(a=DxChart.getTextInfo({object:d,prefix:c.textInfoPrefix,idx:c.idx}),c.font=a.font,c.size=a.size,c.color&&""!=c.color||(c.color=a.color),c.bold=a.bold,c.italic=a.italic),void 0===c.accessible){if(d&&d.properties.textAccessible)return t()}else if("boolean"==typeof c.accessible&&c.accessible)return t();var e,i=c.x,s=c.y,a=i,o=s,r=c.text,n=(r&&"undefined"!==r||(r=""),"undefined"!=typeof nexacro&&nexacro.replaceAll(r,"\\n","\n"),"string"==typeof r?r.split(/\r?\n/g):""),h=n.length,l=c.font||"Arial",u=c.size||10,g=1.5*u,p=c.bold,f=c.italic,m=c.halign||"left",b=c.valign||"bottom",A="string"==typeof c.tag&&0<c.tag.length?c.tag:"",C=(c.marker,c.angle||0),y=("number"==typeof r&&(r=String(r)),c.bounding),D=c["bounding.stroke"]||"black",v=c["bounding.fill"]||"rgba(255,255,255,0.7)",I=c["bounding.shadow"],N=c["bounding.shadow.color"]||"#ccc",M=c["bounding.shadow.blur"]||3,W=c["bounding.shadow.offsetx"]||3,B=c["bounding.shadow.offsety"]||3,S="number"==typeof c["bounding.lineWidth"]?c["bounding.lineWidth"]:1,k={};if("string"==typeof c.color&&(e=x.fillStyle,x.fillStyle=c.color,isNexacroRuntime)&&x.setElementFillStyle(x.fillStyle),"string"==typeof r){isNexacroRuntime?(F=new nexacro.FontObject((f?"italic ":"")+(p?"bold ":"")+u+"px "+l),x.setElementFont(F)):x.font=(f?"italic ":"")+(p?"bold ":"")+u+"px "+l;for(var w=0,_=0;_<h;++_)w=Math.max(w,DxChart.measureText(n[_],p,l,u)[0]);0!=C&&(x.save(),isNexacroRuntime?(F=i+Math.cos(C/180*Math.PI)*(w/2),f=s+Math.sin(C/180*Math.PI)*(w/2)*.5,w<u&&(F=i,f=s),x.translate(F,f),x.rotate(C)):(x.translate(i,s),x.rotate(Math.PI/180*C)),s=i=0);var T,P,R,L,j,G,H,Y,F=g*h,E=(c.marker&&(f=x.strokeStyle,x.beginPath(),x.strokeStyle="red",isNexacroRuntime&&x.setElementStrokeStyle(x.strokeStyle),x.moveTo(i,s-10),x.lineTo(i,s+10),x.moveTo(i-10,s),x.lineTo(i+10,s),x.stroke(),x.strokeStyle=f,isNexacroRuntime)&&x.setElementStrokeStyle(x.strokeStyle),"center"==m?(x.textAlign="center",T=i-2-w/2,isNexacroRuntime&&x.setElementTextAlign("center")):"right"==m?(x.textAlign="right",T=i-2-w,isNexacroRuntime&&x.setElementTextAlign("end")):(x.textAlign="left",T=i-2,isNexacroRuntime&&x.setElementTextAlign("start")),f="center"==b?(x.textBaseline="middle",--s,(s-=(h-1)/2*g)-g/2-2):"top"==b?(x.textBaseline="top",s-2):"alphabetic"==b?(x.textBaseline="alphabetic",s-g+5):(x.textBaseline="bottom",1<h&&(s-=(h-1)*g),s-g-2),isNexacroRuntime&&x.setElementTextBaseline(x.textBaseline),w+4),O=4+F;if(y&&(P=x.lineWidth,R=x.strokeStyle,L=x.fillStyle,j=x.shadowColor,G=x.shadowBlur,H=x.shadowOffsetX,Y=x.shadowOffsetY,x.lineWidth=S||.001,isNexacroRuntime&&x.setElementLineWidth(S||.001),I&&(x.shadowColor=N,x.shadowBlur=M,x.shadowOffsetX=W,x.shadowOffsetY=B,isNexacroRuntime)&&(x.setElementShadowColor(x.shadowColor),x.setElementShadowBlur(x.shadowBlur),x.setElementShadowOffsetX(x.shadowOffsetX),x.setElementShadowOffsetY(x.shadowOffsetY)),isNexacroRuntime&&(T-=3,E+=4),x.fillStyle=v,isNexacroRuntime&&x.setElementFillStyle(v),x.fillRect(T,f,E,O),x.strokeStyle=D,isNexacroRuntime&&x.setElementStrokeStyle(D),x.strokeRect(T,f,E,O),x.lineWidth=P,isNexacroRuntime&&x.setElementLineWidth(P),x.strokeStyle=R,isNexacroRuntime&&x.setElementStrokeStyle(R),x.fillStyle=L,isNexacroRuntime&&x.setElementFillStyle(c.color),x.shadowColor=j,x.shadowBlur=G,x.shadowOffsetX=H,x.shadowOffsetY=Y,isNexacroRuntime&&x.setElementShadowColor(x.shadowColor),isNexacroRuntime&&x.setElementShadowBlur(x.shadowBlur),isNexacroRuntime&&x.setElementShadowOffsetX(x.shadowOffsetX),isNexacroRuntime)&&x.setElementShadowOffsetY(x.shadowOffsetY),1<h)for(_=0;_<h;++_)y&&isNexacroRuntime?x.fillText(n[_],i+5,s+g*_):x.fillText(n[_],i,s+g*_);else x.fillText(r,i+.5,s+.5);return 0!=C&&(90==C?"left"==m?("bottom"==b&&(T=a-2,f=o-2,E=4+F,O=w+4),"center"==b&&(T=a-F/2-2,f=o-2,E=4+F,O=w+4),"top"==b&&(T=a-F-2,f=o-2,E=4+F,O=w+4)):"center"==m?("bottom"==b&&(T=a-2,f=o-w/2-2,E=4+F,O=w+4),"center"==b&&(T=a-F/2-2,f=o-w/2-2,E=4+F,O=w+4),"top"==b&&(T=a-F-2,f=o-w/2-2,E=4+F,O=w+4)):"right"==m&&("bottom"==b&&(T=a-2,f=o-w-2,E=4+F,O=w+4),"center"==b&&(T=a-F/2-2,f=o-w-2,E=4+F,O=w+4),"top"==b)&&(T=a-F-2,f=o-w-2,E=4+F,O=w+4):180==C?"left"==m?("bottom"==b&&(T=a-w-2,f=o-2,E=w+4,O=4+F),"center"==b&&(T=a-w-2,f=o-F/2-2,E=w+4,O=4+F),"top"==b&&(T=a-w-2,f=o-F-2,E=w+4,O=4+F)):"center"==m?("bottom"==b&&(T=a-w/2-2,f=o-2,E=w+4,O=4+F),"center"==b&&(T=a-w/2-2,f=o-F/2-2,E=w+4,O=4+F),"top"==b&&(T=a-w/2-2,f=o-F-2,E=w+4,O=4+F)):"right"==m&&("bottom"==b&&(T=a-2,f=o-2,E=w+4,O=4+F),"center"==b&&(T=a-2,f=o-F/2-2,E=w+4,O=4+F),"top"==b)&&(T=a-2,f=o-F-2,E=w+4,O=4+F):270==C&&("left"==m?("bottom"==b&&(T=a-F-2,f=o-w-2,E=4+F,O=w+4),"center"==b&&(T=a-F/2-4,f=o-w-2,E=4+F,O=w+4),"top"==b&&(T=a-2,f=o-w-2,E=4+F,O=w+4)):"center"==m?("bottom"==b&&(T=a-F-2,f=o-w/2-2,E=4+F,O=w+4),"center"==b&&(T=a-F/2-4,f=o-w/2-2,E=4+F,O=w+4),"top"==b&&(T=a-2,f=o-w/2-2,E=4+F,O=w+4)):"right"==m&&("bottom"==b&&(T=a-F-2,f=o-2,E=4+F,O=w+4),"center"==b&&(T=a-F/2-2,f=o-2,E=4+F,O=w+4),"top"==b)&&(T=a-2,f=o-2,E=4+F,O=w+4)),x.restore()),x.textBaseline="alphabetic",isNexacroRuntime&&x.setElementTextBaseline(x.textBaseline),x.textAlign="left",isNexacroRuntime&&x.setElementTextAlign(x.textAlign),k.x=T,k.y=f,k.width=E,k.height=O,k.object=d,k.text=r,k.tag=A,d&&d.isDxChart&&d.coordsText&&d.coordsText.push(k),"string"==typeof e&&(x.fillStyle=e,isNexacroRuntime)&&x.setElementFillStyle(x.fillStyle),k}},DxChart.text.defaults={},DxChart.addCustomText=function(t){if(DxChart.isArray(t.properties.text)&&t.properties.text.length)for(var e=0;e<t.properties.text.length;++e){var i=t.properties.text[e];i.object=t,"string"==typeof i.color&&i.color.length||(i.color="black"),DxChart.text(i)}},DxChart.sequentialIndexToGrouped=function(){for(var t=DxChart.getArgs(arguments,"index,data"),e=0,i=0;0<=--t.index;)(DxChart.isNull(t.data[e])||"number"==typeof t.data[e]||++i>=t.data[e].length)&&(e++,i=0);return[e,i]},DxChart.groupedIndexToSequential=function(){for(var t=DxChart.getArgs(arguments,"object,dataset,index"),e=0,i=0;e<=t.dataset;++e)for(var s=0;s<t.object.data[t.dataset].length;++s){if(e===t.dataset&&s===t.index)return i;i++}return i},DxChart.Highlight.rect=function(){var t=DxChart.getArgs(arguments,"object,shape"),e=t.object.properties;e.tooltipsHighlight&&(t.object.context.lineWidth=1,isNexacroRuntime&&t.object.context.setElementLineWidth(t.object.context.lineWidth),t.object.context.beginPath(),t.object.context.strokeStyle=e.highlightStroke,isNexacroRuntime&&t.object.context.setElementStrokeStyle(t.object.context.strokeStyle),t.object.context.fillStyle=e.highlightFill,isNexacroRuntime&&t.object.context.setElementFillStyle(t.object.context.fillStyle),t.object.context.rect(t.shape.x-.5,t.shape.y-.5,t.shape.width+1,t.shape.height+1),t.object.context.stroke(),t.object.context.fill())},DxChart.Highlight.point=function(){var t,e,i=DxChart.getArgs(arguments,"object,shape"),s=i.object.properties,a=i.object.__mouseover_shape__.dataset;s.tooltipsHighlight&&(t=s.highlightStroke,e=s.highlightFill,DxChart.isArray(s.highlightStroke)&&(t=s.highlightStroke[a]),DxChart.isArray(s.highlightFill)&&(e=s.highlightFill[a]),i.object.context.beginPath(),i.object.context.strokeStyle=t,isNexacroRuntime&&i.object.context.setElementStrokeStyle(i.object.context.strokeStyle),i.object.context.fillStyle=e,isNexacroRuntime&&i.object.context.setElementFillStyle(i.object.context.fillStyle),a=s.highlightPointRadius||2,i.object.context.arc(i.shape.x,i.shape.y,a,0,DxChart.TWOPI,0),i.object.context.stroke(),i.object.context.fill())},DxChart.parseDate=function(){for(var t=DxChart.getArgs(arguments,"str"),e=(t.str.match(/^\d\d\d\d-\d\d-\d\d(t|T)\d\d:\d\d(:\d\d)?$/)&&(t.str=t.str.toUpperCase().replace(/T/," ")),new Date),i={seconds:"00",minutes:"00",hours:"00",date:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()},s=["january","february","march","april","may","june","july","august","september","october","november","december"],a=s.join("|"),o=0;o<s.length;++o)s[s[o]]=o,s[s[o].substring(0,3)]=o,a=a+"|"+s[o].substring(0,3);for(var r,n="[-./_=+~#:;,]+",h=t.str.split(/ +/),o=0,l=h.length;o<l;++o)h[o]&&(h[o].match(/^\d\d\d\d$/)&&(i.year=h[o]),"number"==typeof(r=function(t){t=t.toLowerCase().match(a);return!!t&&s[t[0]]}(h[o]))&&(i.month=r+1),h[o].match(/^\d?\d(?:st|nd|rd|th)?$/)&&(i.date=parseInt(h[o])),h[o].match(/^(\d\d):(\d\d):?(?:(\d\d))?$/)&&(i.hours=parseInt(RegExp.$1),i.minutes=parseInt(RegExp.$2),RegExp.$3)&&(i.seconds=parseInt(RegExp.$3)),h[o].match(new RegExp("^(\\d\\d\\d\\d)"+n+"(\\d\\d)"+n+"(\\d\\d)$","i"))&&(i.date=parseInt(RegExp.$3),i.month=parseInt(RegExp.$2),i.year=parseInt(RegExp.$1)),h[o].match(new RegExp("^(\\d\\d)"+n+"(\\d\\d)"+n+"(\\d\\d\\d\\d)$","i")))&&(i.date=parseInt(RegExp.$1),i.month=parseInt(RegExp.$2),i.year=parseInt(RegExp.$3));return t.str="{1}/{2}/{3} {4}:{5}:{6}".format(i.year,1===String(i.month).length?"0"+i.month:i.month,1===String(i.date).length?"0"+i.date:i.date,1===String(i.hours).length?"0"+i.hours:i.hours,1===String(i.minutes).length?"0"+i.minutes:i.minutes,1===String(i.seconds).length?"0"+i.seconds:i.seconds),Date.parse(t.str)},DxChart._getMatchedCount=function(t,e){var i=0;return t.length.length<=0||e.length<=0||(t=t.match(RegExp("["+e+"]","g")))&&(i=t.length),i},DxChart._parseGradientColorStop=function(t){t=t.replace(/:/g,",");for(var e,i=/\s*((?:\#(?:[A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})|(?:rgb)\(\s*(?:[0-9]{1,3}\s*,\s*){2}[0-9]{1,3}\s*\)|(?:rgba)\(\s*(?:[0-9]{1,3}\s*,\s*){3}(0|0\.\d+|1)\s*\)|[_A-Za-z-][_A-Za-z0-9-]*))(?:\s+((?:[+-]?\d*\.?\d+)(?:%|[a-z]+)?))?(?:\s*,\s*\s*)?/gi,s=[],a=i.exec(t);null!==a;)e={color:a[1]},a[3]?e.percents=parseFloat((a[3]+"").replace("%",""))/100:a[2]&&t.indexOf("rgba")<0&&(e.percents=parseFloat(a[2])/100),s.push(e),a=i.exec(t);for(var o=0,r=0,n=s.length,h=0;h<n;h++){var l=s[h];l.percents||(l.percents=0==h?0:h==n-1?1:-1);if(0<l.percents){for(var c,x=((c=l.percents)-o)/r,d=1;d<r;d++)s[h-d].percents=c-x*d;o=c,r=0}r++}return s},DxChart.parseLinearGradientInfo=function(t,e,i,s,a,o){var r=e,n=t.context;if(0<=e.toLowerCase().indexOf("linear-gradient")){var h=t.canvas.width,t=t.canvas.height,h=(i=i||0,s=s||0,a!==undefined&&null!==a||(a=h),o!==undefined&&null!==o||(o=t),e.indexOf("(")),t=e.substring(h+1,e.length-1),l=("to"==t.substring(0,2)&&(h=t.indexOf(","),angle=t.substring(0,h).trim(),t=t.substring(h+1).trim()),DxChart._parseGradientColorStop(t));(r=n.createLinearGradient(i,s,a,o))._fitstColor=l[0].color;for(var c=0;c<l.length;c++){var x=l[c];r.addColorStop(x.percents,DxChart._rgba2hex(x.color)[0])}}return r},DxChart._shadeColor=function(t,e){var i,s,a,o;return"transparent"==t||""==t||t&&0<=t.indexOf("gradient")||"#"!=(t="undefined"!=typeof nexacro&&nexacro._xreNamedColorList[t]?nexacro._xreNamedColorList[t]:t).substring(0,1)||t.length<7?t:(i=parseInt(t.substring(1,3),16),s=parseInt(t.substring(3,5),16),t=parseInt(t.substring(5,7),16),o=0,o=i,(e=parseInt(e,10))<(a=0)?(t<(o=s<o?s:o)&&(o=t),"#"+r(i+(a=parseInt(Math.abs(e)/100*(255-o),10))).toString(16).padLeft(2,"0")+r(s+a).toString(16).padLeft(2,"0")+r(t+a).toString(16).padLeft(2,"0")):((o=o<s?s:o)<t&&(o=t),"#"+r(i-(a=parseInt(e/100*o,10))).toString(16).padLeft(2,"0")+r(s-a).toString(16).padLeft(2,"0")+r(t-a).toString(16).padLeft(2,"0")));function r(t){return 255<t?t=255:t<0&&(t=0),t}},DxChart.parseRadialGradientInfo=function(t,e,i,s,a,o,r,n){var h=e,l=t.context;if(0<=e.toLowerCase().indexOf("radial-gradient")){for(var c=e.indexOf("("),c=e.substring(c+1,e.length-1),x=DxChart._parseGradientColorStop(c),d=(isNexacroRuntime&&(i=parseInt(i),s=parseInt(s),a=parseInt(a),n=parseInt(n)),h=l.createRadialGradient(i,s,a,o,r,n),DxChart._rgba2hex(x[x.length-1].color)[0],0);d<x.length;d++){var t=x[d],u=DxChart._rgba2hex(t.color)[0];h.addColorStop(t.percents,u)}isNexacroRuntime&&(h._lastColor=x[x.length-1].color)}return h},DxChart.parseDateOld=function(){var t,e,i,s=DxChart.getArgs(arguments,"str");return s.str=DxChart.trim(s.str),"now"===s.str&&(s.str=(new Date).toString()),s.str.match(/^(\d\d)(?:-|\/)(\d\d)(?:-|\/)(\d\d\d\d)(.*)$/)&&(s.str="{1}/{2}/{3}{4}".format(RegExp.$3,RegExp.$2,RegExp.$1,RegExp.$4)),s.str.match(/^(\d\d\d\d)(-|\/)(\d\d)(-|\/)(\d\d)( |T)(\d\d):(\d\d):(\d\d)$/)&&(s.str=RegExp.$1+"-"+RegExp.$3+"-"+RegExp.$5+"T"+RegExp.$7+":"+RegExp.$8+":"+RegExp.$9),s.str.match(/^\d\d\d\d-\d\d-\d\d$/)&&(s.str=s.str.replace(/-/g,"/")),s.str.match(/^\d\d:\d\d:\d\d$/)&&(t=(i=new Date).getDate(),e=i.getMonth()+1,i=i.getFullYear(),1===String(e).length&&(e="0"+e),1===String(t).length&&(t="0"+t),s.str=i+"/"+e+"/"+t+" "+s.str),Date.parse(s.str)},DxChart.resetColorsToOriginalValues=function(){var t=DxChart.getArgs(arguments,"object");if(t.object.original_colors)for(var e in t.object.original_colors)"string"==typeof e&&(t.object.properties[e]=DxChart.arrayClone(t.object.original_colors[e]));"function"==typeof t.object.resetColorsToOriginalValues&&t.object.resetColorsToOriginalValues(),t.object.colorsParsed=!1},DxChart.linearGradient=function(){for(var t=arguments[0],e=t.object.context.createLinearGradient(t.x1,t.y1,t.x2,t.y2),i=t.colors.length,s=0;s<t.colors.length;++s){var a=t.colors[s];e.addColorStop(s/(i-1),a)}return e},DxChart.radialGradient=function(){for(var t=arguments[0],e=t.object.context.createRadialGradient(t.x1,t.y1,t.r1,t.x2,t.y2,t.r2),i=t.colors.length,s=0;s<t.colors.length;++s)e.addColorStop(s/(i-1),t.colors[s]);return e},DxChart.clearEventListeners=function(){var t=DxChart.getArgs(arguments,"id");t.id&&"window"===t.id?(window.removeEventListener("mousedown",DxChart.window_mousedown_event_listener,!1),window.removeEventListener("mouseup",DxChart.window_mouseup_event_listener,!1)):((t=document.getElementById(t.id)).removeEventListener("mouseup",t.DxChart_mouseup_event_listener,!1),t.removeEventListener("mousemove",t.DxChart_mousemove_event_listener,!1),t.removeEventListener("mousedown",t.DxChart_mousedown_event_listener,!1),t.removeEventListener("click",t.DxChart_click_event_listener,!1))},DxChart.hidePalette=function(){var t=DxChart.Registry.get("palette");"object"==typeof t&&t&&(t.style.visibility="hidden",t.style.display="none",DxChart.Registry.set("palette",null))},DxChart.random=function(){var t=DxChart.getArgs(arguments,"min,max,decimals"),e=t.decimals||0,i=Math.random();return Number(((t.max-t.min)*i+t.min).toFixed(e))},DxChart.arrayRandom=function(){for(var t=DxChart.getArgs(arguments,"count,min,max,decimals"),e=0,i=[];e<t.count;e+=1)i.push(DxChart.random(t.min,t.max,t.decimals));return i},DxChart.noShadow=function(){var t=DxChart.getArgs(arguments,"object");t.object.context.shadowColor="rgba(0,0,0,0)",t.object.context.shadowBlur=0,t.object.context.shadowOffsetX=0,t.object.context.shadowOffsetY=0,isNexacroRuntime&&(t.object.context.setElementShadowColor(t.object.context.shadowColor),t.object.context.setElementShadowBlur(t.object.context.shadowBlur),t.object.context.setElementShadowOffsetX(t.object.context.shadowOffsetX),t.object.context.setElementShadowOffsetY(t.object.context.shadowOffsetY))},DxChart.setShadow=function(){var t,e;"object"==typeof arguments[0]&&"object"==typeof arguments[0].object&&(arguments[0].object.isDxChart,1)&&"string"==typeof arguments[0].prefix?((t=arguments[0]).object.context.shadowColor=t.object.properties[t.prefix+"StyleObj"].color,t.object.context.shadowOffsetX=t.object.properties[t.prefix+"StyleObj"].offsetx,t.object.context.shadowOffsetY=t.object.properties[t.prefix+"StyleObj"].offsety,t.object.context.shadowBlur=t.object.properties[t.prefix+"StyleObj"].blur,isNexacroRuntime&&t.object.context.setElementShadowColor(t.object.context.shadowColor),isNexacroRuntime&&t.object.context.setElementShadowBlur(t.object.context.shadowBlur),isNexacroRuntime&&t.object.context.setElementShadowOffsetX(t.object.context.shadowOffsetX),isNexacroRuntime&&t.object.context.setElementShadowOffsetY(t.object.context.shadowOffsetY)):1===arguments.length&&"object"==typeof arguments[0]&&(arguments[0].isDxChart,1)?((e=arguments[0]).context.shadowColor="rgba(0,0,0,0)",e.context.shadowOffsetX=0,e.context.shadowOffsetY=0,e.context.shadowBlur=0,isNexacroRuntime&&(e.context.setElementShadowColor(e.context.shadowColor),e.context.setElementShadowBlur(e.context.shadowBlur),e.context.setElementShadowOffsetX(e.context.shadowOffsetX),e.context.setElementShadowOffsetY(e.context.shadowOffsetY))):((e=arguments[0]).context.shadowColor=arguments[1],e.context.shadowOffsetX=arguments[2],e.context.shadowOffsetY=arguments[3],e.context.shadowBlur=arguments[4],isNexacroRuntime&&e.context.setElementShadowColor(e.context.shadowColor),isNexacroRuntime&&e.context.setElementShadowBlur(e.context.shadowBlur),isNexacroRuntime&&e.context.setElementShadowOffsetX(e.context.shadowOffsetX),isNexacroRuntime&&e.context.setElementShadowOffsetY(e.context.shadowOffsetY))},DxChart.Registry.set=function(t,e){return t=t.replace(/([A-Z])/g,function(t){return"."+String(RegExp.$1).toLowerCase()}),DxChart.Registry.store[t]=e},DxChart.Registry.get=function(t){return t=t.replace(/([A-Z])/g,function(t){return"."+String(RegExp.$1).toLowerCase()}),DxChart.Registry.store[t]},DxChart.toRadians=function(){return DxChart.getArgs(arguments,"degrees").degrees*(DxChart.PI/180)},DxChart.toDegrees=function(){return DxChart.getArgs(arguments,"radians").radians*(180/Math.PI)},DxChart.log=function(){var t=DxChart.getArgs(arguments,"number,base");return Math.log(t.number)/(t.base?Math.log(t.base):1)},DxChart.isArray=function(){var t,e=DxChart.getArgs(arguments,"object");return!(!e.object||!e.object.constructor)&&(t=e.object.constructor.toString().indexOf("Array"),null!=e.object)&&"number"==typeof t&&0<t&&t<20},DxChart.trim=function(){var t=DxChart.getArgs(arguments,"str");return DxChart.ltrim(DxChart.rtrim(t.str))},DxChart.ltrim=function(){return DxChart.getArgs(arguments,"str").str.replace(/^(\s|\0)+/,"")},DxChart.rtrim=function(){return DxChart.getArgs(arguments,"str").str.replace(/(\s|\0)+$/,"")},DxChart.isNull=function(){var t=DxChart.getArgs(arguments,"arg");return"object"==typeof t.arg&&!t.arg},DxChart.async=function(){var t=DxChart.getArgs(arguments,"func,delay");return setTimeout(t.func,t.delay||1)},DxChart.reset=function(){var t=DxChart.getArgs(arguments,"canvas");"string"==typeof t.canvas&&(t.canvas=document.getElementById(t.canvas)),isNexacroRuntime?t.canvas.set_width(t.canvas.width):t.canvas.width=t.canvas.width,DxChart.clear(t.canvas),t.canvas.__initTranslated__=!1,DxChart.cache[t.canvas.uid]&&(DxChart.cache[t.canvas.uid].canvas.oldw=1),DxChart.REG.clear(t.canvas),t.canvas.__DxChart_background_image__&&(delete t.canvas.__DxChart_background_image__.__object__,delete t.canvas.__DxChart_background_image__.__canvas__,delete t.canvas.__DxChart_background_image__.__context__),delete t.canvas.__object__,delete t.canvas.__DxChart_background_image__,DxChart.text.domNodeCache&&DxChart.text.domNodeCache.reset&&DxChart.text.domNodeCache.reset(t.canvas),DxChart.text.domNodeCache||(DxChart.text.domNodeCache=[]),DxChart.text.domNodeDimensionCache||(DxChart.text.domNodeDimensionCache=[]),DxChart.text.domNodeCache[t.canvas.uid]=[],DxChart.text.domNodeDimensionCache[t.canvas.uid]=[]},DxChart.Effects.updateCanvas=function(){var t,e=DxChart.getArgs(arguments,"func,cvs");isNexacroRuntime?e.cvs._refform&&e.func&&(t=.25,e.val&&(t=e.val),nexacro._OnceCallbackTimer.callonce(e.cvs._refform,e.func,t)):(window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){setTimeout(t,16.666)},window.requestAnimationFrame(e.func))},DxChart.Effects.userRequestedStop=function(t){var e=!1;return t.stopAnimationRequested&&(t.stopAnimationRequested=!(e=!0)),e},DxChart.Effects.getEasingMultiplier=function(){var t=DxChart.getArgs(arguments,"frames,frame");return Math.pow(Math.sin(t.frame/t.frames*DxChart.HALFPI),3)},DxChart.str2num=function(){var t=DxChart.getArgs(arguments,"string,separator"),e=t.separator||",";if("string"==typeof t.string&&t.string.trim().match(/^\[ *\d+$/)&&(t.string=t.string.replace("[","")),"number"!=typeof t.string&&("string"==typeof t.string&&(-1!=t.string.indexOf(e)?t.string=t.string.split(e):(t.string=parseFloat(t.string),isNaN(t.string)&&(t.string=null))),"object"==typeof t.string)&&!DxChart.isNull(t.string))for(var i=0,s=t.string.length;i<s;i+=1)t.string[i]=DxChart.str2num(t.string[i],t.separator);return t.string},DxChart.createCanvas=function(t){var e,i="background_cached_canvas"+t.id;return isNexacroRuntime?((e=t.parent[i])||((e=new nexacro.CanvasComponent(i,0,0,t.width,t.height)).set_name(i),e.id=i,t.parent.addChild(i,e),e.show(),e.sendToBack()),e.set_visible(!0)):(e=document.getElementById(i))||((e=document.createElement("canvas")).setAttribute("width",t.width),e.setAttribute("height",t.height),e.setAttribute("id",i)),e},DxChart.cachedDraw=function(){var t,e,i=DxChart.getArgs(arguments,"object,id,function");DxChart.cache[i.id]?(e=DxChart.cache[i.id].canvas.oldw,t=DxChart.cache[i.id].canvas.oldh,DxChart.cache[i.id].canvas.isclear,e==i.object.canvas.width&&t==i.object.canvas.height||(isNexacroRuntime?(DxChart.cache[i.id].canvas.set_width(i.object.canvas.width),DxChart.cache[i.id].canvas.set_height(i.object.canvas.height)):(DxChart.cache[i.id].canvas.setAttribute("width",i.object.canvas.width),DxChart.cache[i.id].canvas.setAttribute("height",i.object.canvas.height)),DxChart.cache[i.id].context.clearRect(0,0,i.object.canvas.width+.5,i.object.canvas.height+.5),DxChart.cache[i.id].context.translate(.5,.5),i.function(i.object,DxChart.cache[i.id].canvas,DxChart.cache[i.id].context),DxChart.cache[i.id].canvas.oldw=i.object.canvas.width,DxChart.cache[i.id].canvas.oldh=i.object.canvas.height,DxChart.NOBGCACHE=!1,DxChart.cache[i.id].canvas.isclear=!1)):(DxChart.cache[i.id]={},DxChart.cache[i.id].object=i.object,DxChart.cache[i.id].canvas=DxChart.createCanvas(i.object.canvas,i.id),DxChart.cache[i.id].canvas.isclear=!1,DxChart.cache[i.id].canvas.__object__=i.object,DxChart.cache[i.id].context=DxChart.cache[i.id].canvas.getContext("2d"),DxChart.cache[i.id].canvas.oldw=i.object.canvas.width,DxChart.cache[i.id].canvas.oldh=i.object.canvas.height,DxChart.cache[i.id].context.translate(.5,.5),(e=i.object.context.changSetTransform)&&DxChart.cache[i.id].context.setTransform(e.a,e.b,e.c,e.d,e.e,e.f),i.function(i.object,DxChart.cache[i.id].canvas,DxChart.cache[i.id].context)),i.object.context.drawImage(DxChart.cache[i.id].canvas,-.5,-.5)},DxChart.parseJsonDataset=function(t,e){if(e==undefined||null==e)return[e];var i=t.binddataset;if(!i)return[e];for(var s=e.split(","),a=[],o=[],r=0,n=s.length;r<n;r++){var h=s[r].split("bind:")[1].split("=");a.push(nexacro.trim(h[0])),h[1]?o.push(nexacro.trim(h[1])):o.push(nexacro.trim(h[0]))}for(var l=[],c=a.length,x=!1,d=Number.POSITIVE_INFINITY,u=0,r=0,n=i.rowcount;r<n;r++){for(var g={},p=0;p<c;p++){var f,m=i.getColumn(r,a[p]),b=o[p];null===m||m===undefined?g[b]=null:nexacro&&m instanceof nexacro.Decimal?(D=m.valueOf(),g[b]=D):m.constructor==Date||nexacro&&m instanceof nexacro.Date?(x=!0,f=m.getTime(),"end"==b&&"DATE"==i.getColumnInfo(a[p]).type&&(f+=86399e3),g[b]=f,g[b+"_org"]=m):g[b]="number"==typeof m?parseFloat(m):m}l.push(g)}if(x){u=0,d=Number.POSITIVE_INFINITY;for(r=0,n=l.length;r<n;r++){var C=(D=l[r]).end-D.start,u=Math.max(D.end,u),d=Math.min(D.start,d);D.gap=C/864e5,D.duration=C}}else{u=0,d=Number.POSITIVE_INFINITY;for(r=0,n=l.length;r<n;r++)(D=l[r]).duration=D.end-D.start}for(var y=[],r=0,n=l.length;r<n;r++){var D=l[r],v=l[r+1];if(v&&D.label==v.label){var S=[];S.push(D);for(p=r+1;p<n;p++){var k=l[p];if(k.label!=D.label){r=p-1,D=S;break}S.push(k)}}y.push(D)}return[y,u,d,x]},DxChart.parseDataset=function(t,e,i,s){var a,o,r;return e!=undefined&&null!=e&&(a=t.binddataset)?(o=null,e[0]&&0<=e[0].indexOf("^")&&(r=e[0].split("^"),e[0]=r[0],o=parseInt(r[1])),r="line"==t.type||"tooltipsData"==s||i?DxChart.convertDataset(a,e,o,"linear"):DxChart.convertDataset(a,e,o),"tooltipsData"==s?DxChart.arrayLinearize(r):r):e},DxChart._parsePropertiesSet=function(t,e,i){0<=e.indexOf("FontStyle")?(t.set(e+"Obj",DxChart._parseFontInfo(i)),t.set(e,i)):0<=e.indexOf("ShadowStyle")?(t.set(e+"Obj",DxChart._parseShadowInfo(i)),t.set(e,i)):0<=e.indexOf("BorderStyle")?(t.set(e+"Obj",DxChart._parseBorderInfo(i)),t.set(e,i)):"shadowStyle"==e?(t.set(e+"Obj",DxChart._parseShadowInfo(i)),t.set(e,i)):("xaxisLabels"==e||"labelsData"==e||"tooltipsData"==e||"keyData"==e||"colors"==e||"exploded"==e||"CustomData"==e||"labelsIngraph"==e||"labelsIngraphSpecific"==e||"labelsCenterSpecific"==e||"labelsSpecific"==e||"labelsAboveSpecific"==e||"labelsAboveImageUrl"==e||"tooltipsFormattedKeyLabels"==e||"yaxisLabels"==e?i&&(0<=i.toString().indexOf("bind:")||0<=i.toString().indexOf("expr:"))&&(t.__labels__={value:i,key:e},i=DxChart.parseDataset(t,i,!1,e)):0<=e.indexOf("margin")&&("string"==typeof i&&0<i.indexOf("%")?(t.set(e+"_org",i),0<=e.indexOf("Left")||0<=e.indexOf("Center")||0<=e.indexOf("Right")?i=parseInt(t.canvas.width*(parseFloat(i.replace("%"))/100)):(0<=e.indexOf("Top")||0<=e.indexOf("Bottom"))&&(i=parseInt(t.canvas.height*(parseFloat(i.replace("%"))/100)))):"string"==typeof i&&(i=parseInt(i))),(!isNexacroRuntime||"meter"!=t.type||"anglesStart"!=e&&"anglesEnd"!=e)&&(!isNexacroRuntime||"semicircle"!=t.type||"anglesStart"!=e&&"anglesEnd"!=e)?t.set(e,i):t.set(e,i-DxChart.HALFPI))},DxChart.parseProperties=function(){var t,e=DxChart.getArgs(arguments,"object,config");for(t in e.config)if("string"==typeof t){var i=e.config[t];if("object"==typeof i&&0==Array.isArray(i))for(var s in i)"string"==typeof s&&DxChart._parsePropertiesSet(e.object,t+s,i[s]);else DxChart._parsePropertiesSet(e.object,t,e.config[t])}},DxChart.path=function(args){var arguments=Array.prototype.slice.call(arguments),context,p,args,context,p,args,context,p,args,context,p,args;1===arguments.length&&args.object&&args.path?(context=args.object.context,p=args.path,args=args.args):1===arguments.length&&args.context&&args.path?(context=args.context,p=args.path,args=args.args):2<=arguments.length&&arguments[0].isDxChart&&arguments[0].context?(context=arguments[0].context,p=arguments[1],args=2<arguments.length?arguments.slice(2):[]):2<=arguments.length&&arguments[0].toString().indexOf("Context")&&(context=arguments[0],p=arguments[1],args=2<arguments.length?arguments.slice(2):[]),"string"==typeof p&&(p=splitstring(p)),DxChart.path.last=DxChart.arrayClone(p);for(var i=0,len=p.length;i<len;i+=1)switch(p[i]){case"b":context.beginPath();break;case"c":context.closePath();break;case"m":context.moveTo(parseFloat(p[i+1]),parseFloat(p[i+2])),i+=2;break;case"l":context.lineTo(parseFloat(p[i+1]),parseFloat(p[i+2])),i+=2;break;case"s":p[i+1]&&(context.strokeStyle=p[i+1],isNexacroRuntime)&&context.setElementStrokeStyle(context.strokeStyle),context.stroke(),i++;break;case"f":p[i+1]&&(context.fillStyle=p[i+1],isNexacroRuntime)&&context.setElementFillStyle(context.fillStyle),context.fill(),i++;break;case"fo":p[i+1]&&(context.fillStyle=p[i+1],isNexacroRuntime)&&context.setElementFillStyle(context.fillStyle),i++;break;case"fi":context.fill(),i++;break;case"qc":context.quadraticCurveTo(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4])),i+=4;break;case"bc":context.bezierCurveTo(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4]),parseFloat(p[i+5]),parseFloat(p[i+6])),i+=6;break;case"r":context.rect(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4])),i+=4;break;case"a":context.arc(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4]),parseFloat(p[i+5]),"true"===p[i+6]||!0===p[i+6]||1===p[i+6]||"1"===p[i+6]),i+=6;break;case"at":context.arcTo(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4]),parseFloat(p[i+5])),i+=5;break;case"lw":context.lineWidth=parseFloat(p[i+1]),isNexacroRuntime&&context.setElementLineWidth(context.lineWidth),i++;break;case"e":context.ellipse(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4]),parseFloat(p[i+5]),parseFloat(p[i+6]),parseFloat(p[i+7]),"true"===p[i+8]),i+=8;break;case"lj":context.lineJoin=p[i+1],isNexacroRuntime&&context.setElementLineJoin(context.lineJoin),i++;break;case"lc":context.lineCap=p[i+1],isNexacroRuntime&&context.setElementLineCap(context.lineCap),i++;break;case"sc":context.shadowColor=p[i+1],isNexacroRuntime&&context.setElementShadowColor(context.shadowColor),i++;break;case"sb":context.shadowBlur=parseFloat(p[i+1]),isNexacroRuntime&&context.setElementShadowBlur(context.shadowBlur),i++;break;case"sx":context.shadowOffsetX=parseFloat(p[i+1]),isNexacroRuntime&&context.setElementShadowOffsetX(context.shadowOffsetX),i++;break;case"sy":context.shadowOffsetY=parseFloat(p[i+1]),isNexacroRuntime&&context.setElementShadowOffsetY(context.shadowOffsetY),i++;break;case"fs":context.fillStyle=p[i+1],isNexacroRuntime&&context.setElementFillStyle(context.fillStyle),i++;break;case"ss":context.strokeStyle=p[i+1],isNexacroRuntime&&context.setElementStrokeStyle(context.strokeStyle),i++;break;case"fr":context.fillRect(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4])),i+=4;break;case"sr":context.strokeRect(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4])),i+=4;break;case"cl":context.clip();break;case"sa":context.save();break;case"rs":context.restore();break;case"tr":context.translate(parseFloat(p[i+1]),parseFloat(p[i+2])),i+=2;break;case"sl":context.scale(parseFloat(p[i+1]),parseFloat(p[i+2])),i+=2;break;case"ro":context.rotate(parseFloat(p[i+1])),i++;break;case"tf":context.transform(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4]),parseFloat(p[i+5]),parseFloat(p[i+6])),i+=6;break;case"stf":context.setTransform(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4]),parseFloat(p[i+5]),parseFloat(p[i+6])),i+=6;break;case"cr":context.clearRect(parseFloat(p[i+1]),parseFloat(p[i+2]),parseFloat(p[i+3]),parseFloat(p[i+4])),i+=4;break;case"ld":var parts=eval(p[i+1]);isNexacroRuntime?context.setElementLineStyle("dotted"):context.setLineDash(parts),i+=1;break;case"ldo":context.lineDashOffset=p[i+1],i++;break;case"fo":context.font=p[i+1],isNexacroRuntime&&context.setElementFont(context.font),i++;break;case"ft":context.fillText(p[i+1],parseFloat(p[i+2]),parseFloat(p[i+3])),i+=3;break;case"st":context.strokeText(p[i+1],parseFloat(p[i+2]),parseFloat(p[i+3])),i+=3;break;case"ta":context.textAlign=p[i+1],isNexacroRuntime&&context.setElementTextAlign(context.textAlign),i++;break;case"tbl":context.textBaseline=p[i+1],isNexacroRuntime&&context.setElementTextBaseline(context.textBaseline),i++;break;case"ga":context.globalAlpha=parseFloat(p[i+1]),isNexacroRuntime&&(context.setElementGlobalAlpha(context.globalAlpha),context._globalAlphaFill=context.globalAlpha,context._globalAlphaStroke=context.globalAlpha),i++;break;case"gco":context.globalCompositeOperation=p[i+1],isNexacroRuntime&&context.setElementGlobalCompositeOperation(context.globalCompositeOperation),i++;break;case"fu":p[i+1](context.canvas.__object__),i++;break;case"":break;default:console.log("[ERROR] Unknown option: "+p[i])}function splitstring(t){for(var e=[],i="",s=!1,a=0,o=0;o<t.length;o+=1){var r=t[o];r.match(/ /)?s?i+=r:("%"===(i='"'!==i[0]&&"'"!==i[0]?i:i.substr(1,i.length-2)).trim()&&void 0!==args[a]&&(i=args[a++]),e.push(i),i=""):("'"!==r&&'"'!==r||(s=!s),i+=r)}return"%"===i.trim()&&args[a]&&(i=args[a++]),e.push(i),e}},DxChart.getTextInfo=function(t){var e=t.object.properties,i=t.prefix,t=t.idx,s=i+"FontStyleObj",a=("string"==typeof e[s].face?e[s]:e.textFontStyleObj).face,o=("number"==typeof e[s].size?e[s]:e.textFontStyleObj).size,r=(DxChart.isNull(e[s].bold)?e.textFontStyleObj:e[s]).bold,s=(DxChart.isNull(e[s].italic)?e.textFontStyleObj:e[s]).italic,i="string"==typeof e[i+"Color"]?e[i+"Color"]:DxChart.isArray(e[i+"Color"])&&DxChart.isNumber(t)?e[i+"Color"][t]:e.textColor;return{font:a,size:o,color:i,bold:r,italic:s}},DxChart._getColumnDataset=function(t,e){if(t instanceof nexacro.NormalDataset||t instanceof nexacro.Dataset){if(DxChart.isArray(e))return DxChart.convertDataset(t,e);if(0<=(e+"").indexOf("bind:")){e=e.replace("bind:","");for(var i=[],s=0,a=t.rowcount;s<a;s++){var o=t.getColumn(s,e);o instanceof nexacro.Decimal?i.push(o.valueOf()):i.push(parseFloat(o))}return i}}return e},DxChart.convertDataset=function(t,e,i,s){var a=e.toString();if(a.indexOf("bind")<0&&a.indexOf("expr")<0)return e;"string"==typeof e&&(a=e,(e=[]).push(a));var o,r=t.rowcount,n=[],h=1;if(0<(i=i||0)&&(h=parseInt(r/i)),"linear"==s&&1<e.length)for(var l=0,c=e.length;l<c;l++)n[l]=[];for(var x=0,r=t.rowcount;x<r;x++){var d=[];if(0===parseInt(x%h)){for(var u,l=0,c=e.length;l<c;l++)0<=e[l].indexOf("expr:")?"function"==typeof(u=t._createExprFunc(e[l].replace("expr:","")))?o=u.call(this,x,x,this,t,t._viewRecords,t._viewRecords[x],[]):trace("Expression Error==========="+e[l]):o=t.getColumn(x,e[l].replace("bind:","").trim()),o instanceof nexacro.Decimal&&(o=o.valueOf()),("linear"==s&&1<c?n[l]:d).push(o);"linear"==s&&1!=e.length||(1==e.length?n.push(d[0]):n.push(d))}}return n},DxChart.responsive=function(i){var s=this;i.sort(function(t,e){var i=DxChart.isNull(t.maxWidth),s=DxChart.isNull(e.maxWidth);return i&&s?0:i&&!s?-1:!i&&s?1:e.maxWidth-t.maxWidth});for(var t=0;t<i.length;++t)i[t+1]&&"number"==typeof i[t+1].maxWidth?i[t].minWidth=i[t+1].maxWidth:i[t+1]||(i[t].minWidth=0);for(t=0;t<i.length;++t){i[t].minWidth=DxChart.isNull(i[t].minWidth)?0:i[t].minWidth,i[t].maxWidth=DxChart.isNull(i[t].maxWidth)?1e5:i[t].maxWidth;var a,e="screen and (min-width: %1px) and (max-width: %2px)".format(i[t].minWidth,i[t].maxWidth);isNexacroRuntime||(a=window.matchMedia(e),function(e){a.addListener(function(t){t.matches&&o(i[e])})}(t),document.documentElement.clientWidth>=i[t].minWidth&&document.documentElement.clientWidth<i[t].maxWidth&&o(i[t]))}function o(t){if("number"==typeof t.width&&(s.get("textAccessible")&&(s.canvas.parentNode.style.width=t.width+"px"),s.canvas.width=t.width,s.canvas.__initTranslated__=!1),"number"==typeof t.height&&(s.get("textAccessible")&&(s.canvas.parentNode.style.height=t.height+"px"),s.canvas.height=t.height,s.canvas.__initTranslated__=!1),"object"==typeof t.options)for(var e in t.options)"string"==typeof e&&s.set(e,t.options[e]);function i(t,e,i){for(var s=[["float","cssFloat"]],a=0;a<s.length;++a)e===s[a][0]&&(e=s[a][1]);t.style[e]=i}if("object"==typeof t.css)for(var e in t.css)"string"==typeof e&&(s.get("textAccessible")?i(s.canvas.parentNode,e,t.css[e]):i(s.canvas,e,t.css[e]));if("object"==typeof t.parentCss)for(var e in t.parentCss)"string"==typeof e&&(s.get("textAccessible")?i(s.canvas.parentNode.parentNode,e,t.parentCss[e]):i(s.canvas.parentNode,e,t.parentCss[e]));DxChart.cache=[],DxChart.resetColorsToOriginalValues(s),s.get("textAccessible")&&DxChart.text.domNodeCache&&DxChart.text.domNodeCache.reset&&DxChart.text.domNodeCache.reset(s.canvas),DxChart.redraw(s.canvas),"function"==typeof t.callback&&t.callback(s)}return s},DxChart.responsive_old=function(a){function t(){for(var t=!1,e=0;e<a.length;++e)if(!t&&(document.documentElement.clientWidth<=a[e].maxWidth||DxChart.isNull(a[e].maxWidth))){if(t=!0,"number"==typeof a[e].width&&(o.get("textAccessible")&&(o.canvas.parentNode.style.width=a[e].width+"px"),o.canvas.width=a[e].width,o.canvas.__initTranslated__=!1),"number"==typeof a[e].height&&(o.get("textAccessible")&&(o.canvas.parentNode.style.height=a[e].height+"px"),o.canvas.height=a[e].height,o.canvas.__initTranslated__=!1),"object"==typeof a[e].options&&"object"==typeof a[e].options)for(var i in a[e].options)"string"==typeof i&&o.set(i,a[e].options[i]);function s(t,e,i){for(var s=[["float","cssFloat"]],a=0;a<s.length;++a)e===s[a][0]&&(e=s[a][1]);t.style[e]=i}if("object"==typeof a[e].css)for(var i in a[e].css)"string"==typeof i&&(o.get("textAccessible")?s(o.canvas.parentNode,i,a[e].css[i]):s(o.canvas,i,a[e].css[i]));if("object"==typeof a[e].parentCss)for(var i in a[e].parentCss)"string"==typeof i&&(o.get("textAccessible")?s(o.canvas.parentNode.parentNode,i,a[e].parentCss[i]):s(o.canvas.parentNode,i,a[e].parentCss[i]));DxChart.cache=[],DxChart.resetColorsToOriginalValues(o),o.get("textAccessible")&&DxChart.text.domNodeCache.reset(o.canvas),DxChart.redraw(),"function"==typeof a[e].callback&&a[e].callback(o)}}var e=arguments[1]||{},o=this,i=null;e.delay="number"==typeof e.delay?e.delay:200;return DxChart.responsive.window_resize_event_listener=function(){0<e.delay?(clearTimeout(i),i=setTimeout(t,e.delay)):t()},window.addEventListener("resize",DxChart.responsive.window_resize_event_listener,!1),t(),o},DxChart.pathObjectFunction=function(){var t;1===arguments.length&&"object"==typeof arguments[0]?(t=DxChart.getArgs(arguments,"path,args"),DxChart.path({object:this,path:t.path,args:t.args})):(t=Array.prototype.slice.call(arguments,1),DxChart.path({object:this,path:arguments[0],args:t}))},DxChart.drawXAxis=function(t){var e=t.properties,i=(t.context,"number"==typeof e.xaxisTickmarksLength?e.xaxisTickmarksLength:3),s="bar"===t.type&&"sketch"===e.variantValue,a=e.xaxisAddLineSize||0;if("object"==typeof e.xaxisLabels&&!DxChart.isNull(e.xaxisLabels)&&e.xaxisLabels.length)for(var o=0;o<e.xaxisLabels.length;++o)void 0!==e.xaxisLabels[o]&&null!==e.xaxisLabels[o]||(e.xaxisLabels[o]="");var r,n,h,l,c,x=t.canvas.width-e.marginRight;if(p="hbar"!==t.type&&"gantt"!==t.type&&"heatmap"!==t.type||"bottom"!==e.xaxisPosition?"hbar"!==t.type&&"gantt"!==t.type||"top"!==e.xaxisPosition?t.getYCoord(0<e.yaxisScaleMin?e.yaxisScaleMin:0):e.marginTop:t.canvas.height-e.marginBottom,"line"===t.type&&e.yaxisScaleInvert&&0===e.yaxisScaleMin&&(p=t.getYCoord(t.scale2.max)),"scatter"===t.type&&e.yaxisScaleInvert&&0<=e.yaxisScaleMin&&(p=t.getYCoord(t.scale2.max)),"drawing.xaxis"===t.type&&(p="center"===e.xaxisPosition?(t.canvas.height-e.marginTop-e.marginBottom)/2+e.marginTop:t.y),e.xaxisUse){if(e.xaxisColor&&t.path("lw % b m % % l % % s %",e.xaxisLineWidth,e.marginLeft-(s?5:0)-("left"==e.yaxisPosition?a:0),p-(s?2:0),t.canvas.width-e.marginRight+(s?7:0),p+(s?2:0)+("left"!=e.yaxisPosition?a:0),e.xaxisColor),!s){e.xaxisTickmarks?"number"==typeof e.xaxisTickmarksCount?r=e.xaxisTickmarksCount:"bar"===t.type?r=t.data.length||10:"hbar"===t.type?r=e.xaxisLabelsCount||5:"gantt"===t.type&&e.xaxisLabels.length&&0<e.xaxisLabels.length?(r=e.xaxisLabels.length||5,"edge"==e.xaxisLabelsPosition&&(r=e.xaxisLabels.length-1||5)):r="line"===t.type?0<t.data[0].length?t.data[0].length-1:10:"scatter"===t.type&&e.scale?5:"scatter"===t.type&&e.xaxisLabels?e.xaxisLabels.length:"scatter"===t.type?5:"waterfall"===t.type?t.data.length+(e.totalUse?1:0):"drawing.xaxis"===t.type?e.scale?e.xaxisScaleLabelsCount:e.xaxisLabels&&e.xaxisLabels.length?e.xaxisLabels.length:5:5:e.xaxisTickmarksCount=0,"center"===e.xaxisPosition&&0<=e.yaxisScaleMin?h=e.yaxisScaleInvert?(n=t.getYCoord(e.yaxisScaleMax)-i,t.getYCoord(e.yaxisScaleMax)+i):(n=t.getYCoord(e.yaxisScaleMin)-i,t.getYCoord(e.yaxisScaleMin)+i):"center"===e.xaxisPosition||e.yaxisScaleMin<0?(h=e.yaxisScaleInvert?(n=t.getYCoord(t.scale2.max)-i,t.getYCoord(t.scale2.max)+i):(n=t.getYCoord(0)-i,t.getYCoord(0)+i),e.yaxisScaleMin<0&&0<e.yaxisScaleMax&&(n=t.getYCoord(0)-i,h=t.getYCoord(0)+i)):h="top"===e.xaxisPosition?t.getYCoord?(n=t.getYCoord(0)-i,t.getYCoord(0)):(n=e.marginTop-i,e.marginTop):t.getYCoord?"line"===t.type&&e.yaxisScaleInvert||"scatter"===t.type&&e.yaxisScaleInvert?(n=t.getYCoord(t.scale2.max),t.getYCoord(t.scale2.max)+i):"drawing.xaxis"===t.type?(n=t.y,t.y+i):(n=t.getYCoord(e.yaxisScaleMin),t.getYCoord(e.yaxisScaleMin)+i):(n=t.canvas.height-e.marginBottom,t.canvas.height-e.marginBottom+i),("bar"==t.type||"line"==t.type)&&e.marginInner&&0<e.marginInner&&(e.xaxisTickmarksLastLeft=!0);for(o=0;o<r;o++){if(DxChart.isNull(e.xaxisTickmarksLastLeft)){if(0===o&&e.yaxisUse&&"left"===e.yaxisPosition&&!(0<e.xaxisScaleMax&&e.xaxisScaleMin<0))continue}else if(0===o&&!e.xaxisTickmarksLastLeft)continue;if(DxChart.isNull(e.xaxisTickmarksLastRight)){if(o===r&&e.yaxisUse&&"right"===e.yaxisPosition)continue}else if(o===r&&!e.xaxisTickmarksLastRight)continue;if(y="line"===t.type?(t.canvas.width-e.marginLeft-e.marginRight-2*(e.marginInner||0))/r*o+e.marginLeft+(e.marginInner||0):(t.canvas.width-e.marginLeft-e.marginRight)/r*o+e.marginLeft,"hbar"===t.type){if("center"===e.yaxisPosition&&y>t.getXCoord(0)-2&&y<t.getXCoord(0)+2)continue;if("left"===e.yaxisPosition&&e.xaxisScaleMin<0&&0<e.xaxisScaleMax&&y>t.getXCoord(0)-2&&y<t.getXCoord(0)+2)continue}t.path("lw % b m % % l % % s %",e.xaxisTickmarksLineWidth||e.xaxisLineWidth,y,n,y,h,e.xaxisTickmarksColor||e.xaxisColor)}}t.path("lw 1")}if(0!=e.xaxisLabelsAngle?(l="center",m="right",c=0-e.xaxisLabelsAngle,"top"===e.xaxisPosition&&(c=e.xaxisLabelsAngle)):(l="top",m="center",c=0),e.xaxisScale){var d=t.scale2;if("scatter"===t.type)d=t.xscale2;else if("heatmap"===t.type)d=DxChart.getScale({object:t,options:{"scale.max":e.xaxisScaleMax,"scale.min":e.xaxisScaleMin,"scale.decimals":Number(e.xaxisScaleDecimals),"scale.point":e.xaxisScalePoint,"scale.thousand":e.xaxisScaleThousand,"scale.round":e.xaxisScaleRound,"scale.units.pre":e.xaxisScaleUnitsPre,"scale.units.post":e.xaxisScaleUnitsPost,"scale.labels.count":e.xaxisScaleLabelsCount,"scale.strict":!1}});else if("drawing.xaxis"===t.type&&e.xaxisScale)for(d=DxChart.getScale({object:t,options:{"scale.max":e.xaxisScaleMax,"scale.min":e.xaxisScaleMin,"scale.decimals":Number(e.xaxisScaleDecimals),"scale.point":e.xaxisScalePoint,"scale.thousand":e.xaxisScaleThousand,"scale.round":e.xaxisScaleRound,"scale.units.pre":e.xaxisScaleUnitsPre,"scale.units.post":e.xaxisScaleUnitsPost,"scale.labels.count":e.xaxisScaleLabelsCount,"scale.strict":!0}}),o=0;o<=e.xaxisScaleLabelsCount;++o){var u=(e.xaxisScaleMax-e.xaxisScaleMin)/e.xaxisScaleLabelsCount*o+e.xaxisScaleMin;e.marginInner,"function"==typeof e.xaxisScaleFormatter?e.xaxisScaleFormatter(this,u):DxChart.numberFormat({object:t,number:u.toFixed(0===u?0:e.xaxisScaleDecimals),unitspre:e.xaxisScaleUnitsPre,unitspost:e.xaxisScaleUnitsPost,point:e.xaxisScalePoint,thousand:e.xaxisScaleThousand})}for(o=0;o<d.labels.length;++o){var g=(t.canvas.width-e.marginLeft-e.marginRight)/d.labels.length,p=(y="right"===e.yaxisPosition?e.marginLeft+g*o:"center"===e.yaxisPosition?(g/=2,t.getXCoord(0)+g+g*o):e.marginLeft+g*o+g,"top"===e.xaxisPosition?t.marginTop-(e.xaxisTickmarksLength||0)+e.xaxisLabelsOffsetY-5:t.canvas.height-e.marginBottom+(e.xaxisTickmarksLength||0)+e.xaxisLabelsOffsetY+5);"drawing.xaxis"===t.type&&(p="top"===e.xaxisPosition?t.y-(e.xaxisTickmarksLength||0)+e.xaxisLabelsOffsetY:t.y+(e.xaxisTickmarksLength||0)+e.xaxisLabelsOffsetY+5),x<y+e.xaxisLabelsOffsetX||(DxChart.text({object:t,textInfoPrefix:"xaxisLabels",x:y+e.xaxisLabelsOffsetX,y:p,text:"function"==typeof e.xaxisScaleFormatter?e.xaxisScaleFormatter({object:t,number:d.values[o]}):"right"===e.yaxisPosition?String(d.labels[d.labels.length-1-o]):String(d.labels[o]),valign:"string"==typeof e.xaxisLabelsValign?e.xaxisLabelsValign:"top"===e.xaxisPosition?"bottom":l,halign:"string"==typeof e.xaxisLabelsHalign?e.xaxisLabelsHalign:m,marker:!1,angle:c,tag:"xaxis.labels"}),"hbar"===t.type&&"center"===e.yaxisPosition&&(y=t.getXCoord(0)-g-g*o,DxChart.text({object:t,textInfoPrefix:"xaxisLabels",x:y+e.xaxisLabelsOffsetX,y:"top"===e.xaxisPosition?t.marginTop-(e.xaxisTickmarksLength||0)+e.xaxisLabelsOffsetY-5:t.canvas.height-e.marginBottom+(e.xaxisTickmarksLength||0)+e.xaxisLabelsOffsetY+5,text:"function"==typeof e.xaxisScaleFormatter?e.xaxisScaleFormatter({object:t,number:d.values[o]}):"-"+String(d.labels[o]),valign:"string"==typeof e.xaxisLabelsValign?e.xaxisLabelsValign:"top"===e.xaxisPosition?"bottom":l,halign:"string"==typeof e.xaxisLabelsHalign?e.xaxisLabelsHalign:m,marker:!1,angle:c,tag:"xaxis.labels"})))}a=(a=(e.xaxisScaleUnitsPre||"")+(e.xaxisScaleMin||0).toFixed(e.xaxisScaleDecimals).replace(/\./,e.xaxisScalePoint)+(e.xaxisScaleUnitsPost||"")).replace(/^(.+)-(\d)/,"-$1$2");DxChart.text({object:t,textInfoPrefix:"xaxisLabels",x:"right"===e.yaxisPosition?t.canvas.width-e.marginRight+e.xaxisLabelsOffsetX:"center"===e.yaxisPosition?t.getXCoord(0)+e.xaxisLabelsOffsetX:e.marginLeft+e.xaxisLabelsOffsetX,y:p,text:"function"==typeof e.xaxisScaleFormatter?e.xaxisScaleFormatter({object:t,number:0}):a,valign:"string"==typeof e.xaxisLabelsValign||"string"==typeof e.xaxisLabelsValign?e.xaxisLabelsValign:"top"===e.xaxisPosition?"bottom":l,halign:"string"==typeof e.xaxisLabelsHalign?e.xaxisLabelsHalign:m,marker:!1,angle:c,tag:"xaxis.labels"})}else if(e.xaxisLabels&&e.xaxisLabels.length&&("section"===e.xaxisLabelsPosition||"edge"===e.xaxisLabelsPosition))for(var f,m,b,C,y,D,v,S=!1,k=1,w=0,_=e.xaxisLabels.length,T=("hbar"!=t.type&&"number"==typeof e.xaxisLabelsCount&&e.xaxisLabels.length>e.xaxisLabelsCount&&(_=e.xaxisLabelsCount,S=!0,k=parseInt(e.xaxisLabels.length/e.xaxisLabelsCount),w=parseInt(k/2)),g="edge"===e.xaxisLabelsPosition?"gantt"==t.type||"hbar"==t.type?(t.canvas.width-e.marginLeft-e.marginRight)/(_-1):(t.canvas.width-e.marginLeft-e.marginRight-(e.marginInner||0)-(e.marginInner||0))/(_-1):(t.canvas.width-e.marginLeft-e.marginRight)/_,e.marginInner),P=("hbar"!=t.type&&"gantt"!=t.type||(T=0),-1),o=0;o<e.xaxisLabels.length;++o){if(S){if("section"===e.xaxisLabelsPosition){if(o%k!=w)continue}else if(o%k!=0)continue;P++}y="edge"===e.xaxisLabelsPosition?e.marginLeft+(T||0)+g*(S?P:o):e.marginLeft+g*(S?P:o)+g/2,"object"==typeof e.xaxisLabels[o]&&"scatter"===t.type?(b=0,f="left"===e.xaxisLabelsSpecificAlign?"left":"center",m="center",b=e.xaxisLabels[o+1]&&"number"==typeof e.xaxisLabels[o+1][1]?e.xaxisLabels[o+1][1]:e.xaxisScaleMax,C=e.xaxisLabels[o][1],y=(t.getXCoord(b)-t.getXCoord(C))/2+t.getXCoord(C),"left"==f&&(y=t.getXCoord(C),m="left"),DxChart.isNull(y)||("drawing.xaxis"===t.type&&(p="top"===e.xaxisPosition?t.y-(e.xaxisTickmarksLength||0)+e.xaxisLabelsOffsetY:t.y+(e.xaxisTickmarksLength||0)+e.xaxisLabelsOffsetY+5),D=String(e.xaxisLabels[o][0]),e.xaxisLabelsMask&&((v=new DxChartMask(e.xaxisLabelsMaskType||"string")).setMask(e.xaxisLabelsMask),D=v.applyMask(D)),x<y+5+e.xaxisLabelsOffsetX)||(DxChart.text({object:t,textInfoPrefix:"xaxisLabels",x:y+5+e.xaxisLabelsOffsetX,y:p+5+e.xaxisLabelsOffsetY,valign:l,halign:0!=c?"right":m,text:D,angle:c,marker:!1,tag:"labels.specific",cssClass:DxChart.getLabelsCSSClassName({object:t,name:"xaxisLabelsClass",index:o})}),t.path("b m % % l % % s #bbb",Math.round(e.marginLeft+(e.xaxisLabels[o][1]-e.xaxisScaleMin)/(e.xaxisScaleMax-e.xaxisScaleMin)*(t.canvas.width-e.marginLeft-e.marginRight)),t.canvas.height-e.marginBottom,Math.round(e.marginLeft+(e.xaxisLabels[o][1]-e.xaxisScaleMin)/(e.xaxisScaleMax-e.xaxisScaleMin)*(t.canvas.width-e.marginLeft-e.marginRight)),t.canvas.height-e.marginBottom+20),(o===e.xaxisLabels.length-1||S&&P===_-1)&&t.path("b m % % l % % s #bbbbbb",t.canvas.width-e.marginRight,t.canvas.height-e.marginBottom,t.canvas.width-e.marginRight,t.canvas.height-e.marginBottom+20))):(p="top"===e.xaxisPosition?e.marginTop+e.xaxisLabelsOffsetY-5:t.canvas.height-e.marginBottom+e.xaxisLabelsOffsetY+5,"drawing.xaxis"===t.type&&"drawing.xaxis"===t.type&&(p="top"===e.xaxisPosition?t.y-(e.xaxisTickmarksLength||0)+e.xaxisLabelsOffsetY:t.y+(e.xaxisTickmarksLength||0)+e.xaxisLabelsOffsetY+5),D=String(e.xaxisLabels[o]),e.xaxisLabelsMask&&((v=new DxChartMask(e.xaxisLabelsMaskType||"string")).setMask(e.xaxisLabelsMask),D=v.applyMask(D)),x<y+e.xaxisLabelsOffsetX||DxChart.text({object:t,textInfoPrefix:"xaxisLabels",x:y+e.xaxisLabelsOffsetX,y:p+e.xaxisLabelsOffsetY,text:D,valign:"string"==typeof e.xaxisLabelsValign?e.xaxisLabelsValign:"top"===e.xaxisPosition?"bottom":l,halign:"string"==typeof e.xaxisLabelsHalign?e.xaxisLabelsHalign:m,marker:!1,angle:c,tag:"xaxis.labels",cssClass:DxChart.getLabelsCSSClassName({object:t,name:"xaxisLabelsClass",index:o})}))}e.xaxisTitle&&(y=e.marginLeft+(t.canvas.width-e.marginLeft-e.marginRight)/2+e.xaxisTitleOffsetX,p="top"===e.xaxisPosition?e.marginTop-7+e.xaxisTitleOffsetY-e.xaxisTickmarksLength:t.canvas.height-e.marginBottom+7+e.xaxisTitleOffsetY+e.xaxisTickmarksLength,"drawing.xaxis"===t.type&&(p=t.y+7+e.xaxisTitleOffsetY+e.xaxisTickmarksLength),(e.xaxisScale||e.xaxisLabels&&e.xaxisLabels.length)&&(s=DxChart.getTextInfo({object:t,prefix:"xaxisLabels"}),"top"===e.xaxisPosition?p-=1.5*s.size:p+=1.5*s.size),"number"==typeof e.xaxisTitlePos&&(p="top"===e.xaxisPosition?e.marginTop*e.xaxisTitlePos:t.canvas.height-e.marginBottom+e.marginBottom*e.xaxisTitlePos),"number"==typeof e.xaxisTitleX&&(y=e.xaxisTitleX),"number"==typeof e.xaxisTitleY&&(p=e.xaxisTitleY),DxChart.text({object:t,textInfoPrefix:"xaxisTitle",x:y,y:p,text:e.xaxisTitle.toString(),valign:"top"===e.xaxisPosition?e.xaxisTitleValign||"bottom":e.xaxisTitleValign||"top",halign:e.xaxisTitleHalign||"center",marker:!1,angle:e.xaxisTitleAngle||(e.xaxisPosition,0),tag:"xaxis.title"}))},DxChart.drawYAxis=function(o){var t,e,i,s=o.properties,a=(o.context,"bar"===o.type&&"sketch"===s.variantValue),r=(tickmarksLength="number"==typeof s.yaxisTickmarksLength?s.yaxisTickmarksLength:3,s.yaxisAddLineSize||0),n=0;if(("hbar"===o.type&&(s.yaxisLabelsSpecific=s.yaxisLabels),"hbar"!==o.type&&"gantt"!==o.type||"left"!==s.yaxisPosition?"hbar"!==o.type&&"gantt"!==o.type||"right"!==s.yaxisPosition?"drawing.yaxis"===o.type?(n=o.x,"right"==s.yaxisPosition&&(n=o.canvas.width-n)):n="right"===s.yaxisPosition?o.canvas.width-s.marginRight:"hbar"===o.type?o.getXCoord(0):s.marginLeft:n=o.canvas.width-s.marginRight:(n=o.getXCoord(0),"hbar"===o.type&&0<s.xaxisScaleMin&&s.xaxisScaleMax>s.xaxisScaleMin&&(n=o.getXCoord(s.xaxisScaleMin))),s.yaxisUse)&&(s.yaxisColor&&o.path("lw % b m % % l % % s %",s.yaxisLineWidth,n-(a?5:0),s.marginTop-(a?2:0)-("top"==s.xaxisPosition?r:0),n+(a?7:0),o.canvas.height-s.marginBottom+(a?2:0)+("bottom"==s.xaxisPosition?r:0),s.yaxisColor),!a)){s.yaxisTickmarks?t="number"==typeof s.yaxisTickmarksCount?s.yaxisTickmarksCount:"bar"===o.type?s.yaxisLabelsSpecific?s.yaxisLabelsSpecific.length-1:s.yaxisLabelsCount:"hbar"===o.type?o.data.length||5:"line"===o.type?s.yaxisLabelsSpecific?s.yaxisLabelsSpecific.length-1:s.yaxisLabelsCount:"scatter"===o.type||"waterfall"===o.type?s.yaxisLabelsCount:5:s.yaxisTickmarksCount=0,i="right"===s.yaxisPosition?(e=n)+tickmarksLength:(e=n)-tickmarksLength,"hbar"===o.type&&s.xaxisScaleMin<0&&0<s.xaxisScaleMax&&(e=o.getXCoord(0)-tickmarksLength,i=o.getXCoord(0)+tickmarksLength);for(var h=0;h<t;h++){if(DxChart.isNull(s.yaxisTickmarksLastTop)){if(0===h&&s.xaxis&&"top"===s.xaxisPosition)continue}else if(0===h&&!s.yaxisTickmarksLastTop)continue;if(DxChart.isNull(s.yaxisTickmarksLastBottom)){if(h===t&&s.xaxis&&"bottom"===s.xaxisPosition)continue}else if(h===t&&!s.yaxisTickmarksLastBottom)continue;var l,c=(o.canvas.height-s.marginTop-s.marginBottom)/t*h+s.marginTop;l=o.getYCoord?o.getYCoord(0):o.getXCoord?o.getXCoord(0):o.marginTop,s.xaxisUse&&("center"===s.xaxisPosition&&!s.yaxisCenterContinue||"bottom"===s.xaxisPosition&&s.yaxisScaleMin<0&&0<s.yaxisScaleMax)&&l-1<c&&c<l+1||(o.path("lw % b m % % l % % s %",s.yaxisTickmarksLineWidth||s.yaxisLineWidth,e,c,i,c,s.yaxisTickmarksColor||s.yaxisColor),s.yaxisScaleMin<0&&0<s.yaxisScaleMax&&o.path("lw % b m % % l % % s %",s.yaxisTickmarksLineWidth||s.yaxisLineWidth,e,o.canvas.height-s.marginBottom,i,o.canvas.height-s.marginBottom,s.yaxisTickmarksColor||s.yaxisColor),"scatter"===o.type&&"center"===s.xaxisPosition&&s.yaxisScaleInvert&&o.path("lw % b m % % l % % s %",s.yaxisTickmarksLineWidth||s.yaxisLineWidth,e,s.marginTop,i,s.marginTop,s.yaxisColor))}o.path("lw 1")}var x="center",d="right",u=s.yaxisAddLineSize||0;if(s.yaxisScale&&!s.yaxisLabelsSpecific){if("drawing.yaxis"===o.type&&s.yaxisScale){o.scale2=DxChart.getScale({object:o,options:{"scale.max":s.yaxisScaleMax,"scale.min":s.yaxisScaleMin,"scale.decimals":Number(s.yaxisScaleDecimals),"scale.point":s.yaxisScalePoint,"scale.thousand":s.yaxisScaleThousand,"scale.round":s.yaxisScaleRound,"scale.units.pre":s.yaxisScaleUnitsPre,"scale.units.post":s.yaxisScaleUnitsPost,"scale.labels.count":s.yaxisScaleLabelsCount,"scale.strict":!0}});for(h=0;h<=s.yaxisScaleLabelsCount;++h){var g=(s.yaxisScaleMax-s.yaxisScaleMin)/s.yaxisScaleLabelsCount*h+s.yaxisScaleMin;s.marginInner;_="function"==typeof s.yaxisScaleFormatter?s.yaxisScaleFormatter(this,g):DxChart.numberFormat({object:o,number:g.toFixed(0===g?0:s.yaxisScaleDecimals),unitspre:s.yaxisScaleUnitsPre,unitspost:s.yaxisScaleUnitsPost,point:s.yaxisScalePoint,thousand:s.yaxisScaleThousand})}}var p=o.scale2;if("heatmap"==o.type&&(p=DxChart.getScale({object:o,options:{"scale.max":s.yaxisScaleMax,"scale.min":s.yaxisScaleMin,"scale.decimals":Number(s.yaxisScaleDecimals),"scale.point":s.yaxisScalePoint,"scale.thousand":s.yaxisScaleThousand,"scale.round":s.yaxisScaleRound,"scale.units.pre":s.yaxisScaleUnitsPre,"scale.units.post":s.yaxisScaleUnitsPost,"scale.labels.count":s.yaxisScaleLabelsCount,"scale.strict":!1}}),o.scale2=p),o.maxLabelLength=Math.max(o.maxLabelLength,o.context.measureText(o.scale2.labels[4]).width),"center"===s.xaxisPosition){for(var f=(o.canvas.height-s.marginTop-s.marginBottom)/2,h=0;h<p.labels.length;++h){var m=(o.canvas.height-s.marginTop-s.marginBottom)/(2*p.labels.length),c=s.marginTop+m*h,b=String(p.labels[p.labels.length-1-h]);s.yaxisLabelsMask&&((w=new DxChartMask(s.yaxisLabelsMaskType||"string")).setMask(s.yaxisLabelsMask),b=w.applyMask(b)),DxChart.text({object:o,textInfoPrefix:"yaxisLabels",x:"right"===s.yaxisPosition?n+(s.yaxisTickmarksLength||0)+s.yaxisLabelsOffsetX+5+u:n-(s.yaxisTickmarksLength||0)+s.yaxisLabelsOffsetX-5-u,y:s.yaxisScaleInvert?f+s.marginTop-m*h+s.yaxisLabelsOffsetY:s.marginTop+m*h+s.yaxisLabelsOffsetY,text:String(p.labels[p.labels.length-1-h]),valign:"string"==typeof s.yaxisLabelsValign?s.yaxisLabelsValign:x,halign:"string"==typeof s.yaxisLabelsHalign?s.yaxisLabelsHalign:"right"===s.yaxisPosition?"left":d,marker:!1,angle:0,tag:"yaxis.labels"})}for(h=0;h<p.labels.length;++h)0===h&&s.yaxisScaleInvert||(m=(o.canvas.height-s.marginTop-s.marginBottom)/(2*p.labels.length),c=s.marginTop+(o.canvas.height-s.marginTop-s.marginBottom)/2+m*h+m,b=s.yaxisScaleInvert?String(p.labels[p.labels.length-h-1]):String(p.labels[h]),s.yaxisLabelsMask&&((w=new DxChartMask(s.yaxisLabelsMaskType||"string")).setMask(s.yaxisLabelsMask),b=w.applyMask(b)),DxChart.text({object:o,textInfoPrefix:"yaxisLabels",x:"right"===s.yaxisPosition?n+(s.yaxisTickmarksLength||0)+s.yaxisLabelsOffsetX+5+u:n-(s.yaxisTickmarksLength||0)+s.yaxisLabelsOffsetX-5-u,y:s.yaxisScaleInvert?f+s.marginTop+m*h:c+s.yaxisLabelsOffsetY,text:"-"+b,valign:"string"==typeof s.yaxisLabelsValign?s.yaxisLabelsValign:x,halign:"string"==typeof s.yaxisLabelsHalign?s.yaxisLabelsHalign:"right"===s.yaxisPosition?"left":d,marker:!1,angle:0,tag:"yaxis.labels"}));DxChart.text({object:o,textInfoPrefix:"yaxisLabels",x:"right"===s.yaxisPosition?n+5+(s.yaxisTickmarksLength||0)+s.yaxisLabelsOffsetX+u:n-5-(s.yaxisTickmarksLength||0)+s.yaxisLabelsOffsetX-u,y:s.yaxisScaleInvert?s.marginTop+s.yaxisLabelsOffsetY:s.marginTop+(o.canvas.height-s.marginBottom-s.marginTop)/2+s.yaxisLabelsOffsetY,text:"function"==typeof s.yaxisScaleFormatter?s.yaxisScaleFormatter({object:this,number:0,unitspre:s.yaxisScaleUnitsPre,unitspost:s.yaxisScaleUnitsPost,point:s.yaxisScalePoint,thousand:s.yaxisScaleThousand,formatter:s.yaxisScaleFormatter}):(s.yaxisScaleUnitsPre||"")+s.yaxisScaleMin.toFixed(s.yaxisScaleDecimals).replace(/\./,s.yaxisScalePoint)+(s.yaxisScaleUnitsPost||""),valign:"string"==typeof s.yaxisLabelsValign?s.yaxisLabelsValign:x,halign:"string"==typeof s.yaxisLabelsHalign?s.yaxisLabelsHalign:"right"===s.yaxisPosition?"left":d,marker:!1,angle:0,tag:"yaxis.labels"}),s.yaxisScaleInvert&&DxChart.text({object:o,textInfoPrefix:"yaxisLabels",x:"right"===s.yaxisPosition?n+5+(s.yaxisTickmarksLength||0)+s.yaxisLabelsOffsetX+u:n-5-(s.yaxisTickmarksLength||0)+s.yaxisLabelsOffsetX-u,y:o.canvas.height-s.marginBottom+s.yaxisLabelsOffsetY,text:"function"==typeof s.yaxisScaleFormatter?s.yaxisScaleFormatter({object:this,number:0,unitspre:s.yaxisScaleUnitsPre,unitspost:s.yaxisScaleUnitsPost,point:s.yaxisScalePoint,thousand:s.yaxisScaleThousand,formatter:s.yaxisScaleFormatter}):(s.yaxisScaleUnitsPre||"")+s.yaxisScaleMin.toFixed(s.yaxisScaleDecimals).replace(/\./,s.yaxisScalePoint)+(s.yaxisScaleUnitsPost||""),valign:"string"==typeof s.yaxisLabelsValign?s.yaxisLabelsValign:x,halign:"string"==typeof s.yaxisLabelsHalign?s.yaxisLabelsHalign:"right"===s.yaxisPosition?"left":d,marker:!1,angle:0,tag:"yaxis.labels"})}else if("top"===s.xaxisPosition){for(h=0;h<p.labels.length;++h){m=(o.canvas.height-s.marginTop-s.marginBottom)/p.labels.length,b=(c=s.yaxisScaleInvert?o.canvas.height-s.marginBottom-m*h-m-m:s.marginTop+m*h,String(p.labels[h]));s.yaxisLabelsMask&&((w=new DxChartMask(s.yaxisLabelsMaskType||"string")).setMask(s.yaxisLabelsMask),b=w.applyMask(b)),DxChart.text({object:o,textInfoPrefix:"yaxisLabels",x:"right"===s.yaxisPosition?n+(s.yaxisTickmarksLength||0)+s.yaxisLabelsOffsetX+5+u:n-(s.yaxisTickmarksLength||0)+s.yaxisLabelsOffsetX-5-u,y:c+m+s.yaxisLabelsOffsetY,text:"-"+b,valign:"string"==typeof s.yaxisLabelsValign?s.yaxisLabelsValign:x,halign:"string"==typeof s.yaxisLabelsHalign?s.yaxisLabelsHalign:"right"===s.yaxisPosition?"left":d,marker:!1,angle:0,tag:"yaxis.labels"})}DxChart.text({object:o,textInfoPrefix:"yaxisLabels",x:"right"===s.yaxisPosition?n+5+(s.yaxisTickmarksLength||0)+s.yaxisLabelsOffsetX+u:n-5-(s.yaxisTickmarksLength||0)+s.yaxisLabelsOffsetX-u,y:s.yaxisScaleInvert?o.canvas.height-s.marginBottom+s.yaxisLabelsOffsetY:s.marginTop+s.yaxisLabelsOffsetY,text:"function"==typeof s.yaxisScaleFormatter?s.yaxisScaleFormatter({object:this,number:0,unitspre:s.yaxisScaleUnitsPre,unitspost:s.yaxisScaleUnitsPost,point:s.yaxisScalePoint,thousand:s.yaxisScaleThousand,formatter:s.yaxisScaleFormatter}):(s.yaxisScaleUnitsPre||"")+s.yaxisScaleMin.toFixed(s.yaxisScaleDecimals).replace(/\./,s.yaxisScalePoint)+(s.yaxisScaleUnitsPost||""),valign:"string"==typeof s.yaxisLabelsValign?s.yaxisLabelsValign:x,halign:"string"==typeof s.yaxisLabelsHalign?s.yaxisLabelsHalign:"right"===s.yaxisPosition?"left":d,marker:!1,angle:0,tag:"yaxis.labels"})}else{for(h=0;h<p.labels.length;++h){m=(o.canvas.height-s.marginTop-s.marginBottom)/p.labels.length,c=s.marginTop+m*(h+(s.yaxisScaleInvert?1:0)),b=String(s.yaxisScaleInvert?p.labels[h]:p.labels[p.labels.length-1-h]);s.yaxisLabelsMask&&((w=new DxChartMask(s.yaxisLabelsMaskType||"string")).setMask(s.yaxisLabelsMask),b=w.applyMask(b)),DxChart.text({object:o,textInfoPrefix:"yaxisLabels",x:"right"===s.yaxisPosition?n+(s.yaxisTickmarksLength||0)+s.yaxisLabelsOffsetX+5+u:n-(s.yaxisTickmarksLength||0)+s.yaxisLabelsOffsetX-5-u,y:c+s.yaxisLabelsOffsetY,text:b,valign:"string"==typeof s.yaxisLabelsValign?s.yaxisLabelsValign:x,halign:"string"==typeof s.yaxisLabelsHalign?s.yaxisLabelsHalign:"right"===s.yaxisPosition?"left":d,marker:!1,angle:0,tag:"yaxis.labels"})}r=DxChart.numberFormat({object:o,number:s.yaxisScaleMin.toFixed(s.yaxisScaleDecimals),unitspre:s.yaxisScaleUnitsPre,unitspost:s.yaxisScaleUnitsPost,point:s.yaxisScalePoint,thousand:s.yaxisScaleThousand});DxChart.text({object:o,textInfoPrefix:"yaxisLabels",x:"right"===s.yaxisPosition?n+5+(s.yaxisTickmarksLength||0)+s.yaxisLabelsOffsetX+u:n-5-(s.yaxisTickmarksLength||0)+s.yaxisLabelsOffsetX-u,y:s.yaxisScaleInvert?s.marginTop:o.canvas.height-s.marginBottom+s.yaxisLabelsOffsetY,text:"function"==typeof s.yaxisScaleFormatter?s.yaxisScaleFormatter({object:this,number:0,unitspre:s.yaxisScaleUnitsPre,unitspost:s.yaxisScaleUnitsPost,point:s.yaxisScalePoint,thousand:s.yaxisScaleThousand,formatter:s.yaxisScaleFormatter}):r,valign:"string"==typeof s.yaxisLabelsValign?s.yaxisLabelsValign:x,halign:"string"==typeof s.yaxisLabelsHalign?s.yaxisLabelsHalign:"right"===s.yaxisPosition?"left":d,marker:!1,angle:0,tag:"yaxis.labels"})}}else if(s.yaxisLabelsSpecific&&s.yaxisLabelsSpecific.length&&("section"===s.yaxisLabelsPosition||"edge"===s.yaxisLabelsPosition)){var m=(o.canvas.height-s.marginTop-s.marginBottom)/(s.yaxisLabelsSpecific.length-("section"===s.yaxisLabelsPosition?0:1)),C=(o.maxLabelLength=0,DxChart.getTextInfo({object:o,prefix:"yaxisLabels"})),x="string"==typeof s.yaxisLabelsValign?s.yaxisLabelsValign:"center",y=d="string"==typeof s.yaxisLabelsHalign?s.yaxisLabelsHalign:"right"===s.yaxisPosition?"left":"right",D=!1,v=(isNexacroRuntime&&"right"==d&&(D=!0),!1),S=1,k=0;"heatmap"==o.type&&"number"==typeof s.yaxisLabelsCount&&s.yaxisLabelsSpecific.length>s.yaxisLabelsCount&&(v=!0,S=s.yaxisLabelsCount,k=parseInt(S/2));for(h=0;h<s.yaxisLabelsSpecific.length;++h){if(v)if("section"===s.yaxisLabelsPosition){if(h%S!=k)continue}else if(h%S!=0)continue;var w,_=String(s.yaxisLabelsSpecific[h]||""),T=(s.yaxisLabelsMask&&((w=new DxChartMask(s.yaxisLabelsMaskType||"string")).setMask(s.yaxisLabelsMask),_=w.applyMask(_)),"drawing.yaxis"===o.type?"right"===s.yaxisPosition?o.x+7+s.yaxisLabelsOffsetX:o.x-5+s.yaxisLabelsOffsetX+u:"right"===s.yaxisPosition?n+s.yaxisLabelsOffsetX+5+u:s.marginLeft-5+s.yaxisLabelsOffsetX-u);if(isNexacroRuntime&&D){var P=DxChart.measureText(_,C.bold,C.font,C.size);if(0<((_=-1<_.indexOf("\\n")||-1<_.indexOf("\\r")?_.replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\r\\n/g,"\r\n"):_).match(/\r|\n/g)||[]).length){for(var R=_.split(/\n|\r\n?/),L=0,j=0,F=0;F<R.length;F++)R[F].length>j&&(L=DxChart.measureText(R[F],C.bold,C.font,C.size)[0],j=R[F].length);T=n-L-5}else T="right"===y?s.marginLeft-5+s.yaxisLabelsOffsetX-u-P[0]:n-P[0];d="left"}c=s.marginTop+m*h+("section"===s.yaxisLabelsPosition?m/2:0),DxChart.text({object:o,textInfoPrefix:"yaxisLabels",x:T,y:c+s.yaxisLabelsOffsetY,text:_,valign:x,halign:d,marker:!1,idx:h,tag:"yaxis.labels",cssClass:DxChart.getLabelsCSSClassName({object:o,name:"yaxisLabelsClass",index:h})});o.maxLabelLength=Math.max(o.maxLabelLength,2*o.context.measureText(String(s.yaxisLabelsSpecific[h])).width)}}if(s.yaxisTitle){if("gantt"===o.type)for(var h=0,E=0;h<s.yaxisLabels.length;++h){var C=DxChart.getTextInfo({object:o,prefix:"yaxisLabels"});E=Math.max(E,DxChart.measureText(s.yaxisLabels[h],C.bold,C.font,C.size)[0])}else o.scale2&&o.scale2.labels&&(C=DxChart.getTextInfo({object:o,prefix:"yaxisLabels"}),E=DxChart.measureText(o.scale2.labels[o.scale2.labels.length-1],C.bold,C.font,C.size)[0]);("hbar"===o.type&&s.yaxisLabels&&s.yaxisLabels.length||"drawing.yaxis"===o.type&&s.yaxisLabelsSpecific&&s.yaxisLabelsSpecific.length)&&(E=function(t){for(var e=DxChart.getTextInfo({object:o,prefix:"yaxisLabels"}),i=0,s=0;i<t.length;++i)var a=DxChart.measureText(t[i],e.bold,e.font,e.size),s=Math.max(s,a[0]);return s}("drawing.yaxis"===o.type?s.yaxisLabelsSpecific:s.yaxisLabels));n="right"===s.yaxisPosition?o.canvas.width-s.marginRight+5+E+10:s.marginLeft-5-E-10,c=(o.canvas.height-s.marginTop-s.marginBottom)/2+s.marginTop;"drawing.yaxis"===o.type&&(n="right"===s.yaxisPosition?o.x+5+E+10:o.x-5-E-10),"number"==typeof s.yaxisTitlePos&&(n="right"===s.yaxisPosition?o.canvas.width-s.marginRight*s.yaxisTitlePos:s.marginLeft*s.yaxisTitlePos),"number"==typeof s.yaxisTitleOffsetX&&(n+=s.yaxisTitleOffsetX),"number"==typeof s.yaxisTitleOffsetY&&(c+=s.yaxisTitleOffsetY),"number"==typeof s.yaxisTitleX&&(n=s.yaxisTitleX),"number"==typeof s.yaxisTitleY&&(c=s.yaxisTitleY),DxChart.text({object:o,textInfoPrefix:"yaxisTitle",x:n,y:c,text:s.yaxisTitle.toString(),valign:s.yaxisTitleValign||"bottom",halign:s.yaxisTitleHalign||"center",marker:!1,accessible:"boolean"==typeof s.yaxisTitleAccessible?s.yaxisTitleAccessible:undefined,angle:s.yaxisTitleAngle||("right"===s.yaxisPosition?90:-90),tag:"yaxis.title"})}},DxChart.getLabelsCSSClassName=function(){var t=DxChart.getArgs(arguments,"object,name,index"),e=t.object.properties,i="";return"string"==typeof e[t.name]?i=e[t.name]:"object"==typeof e[t.name]&&"string"==typeof e[t.name][t.index]&&(i=e[t.name][t.index]),i},DxChart.setCSS=function(t,e){for(var i in"string"==typeof t&&(t=document.getElementById(t)),e)"string"==typeof i&&(t.style[i]=e[i])},DxChart.labelSubstitution=function(args){var text=String(args.text);if(!text.match(/%{.*?}/))return text;for(var text=text.replace(/%%/g,"___--PERCENT--___"),reg=(text=text.replace(/%{index}/g,args.index),/%{prop(?:erty)?:([_a-z0-9]+)\[([0-9]+)\]}/i);text.match(reg);){var property=RegExp.$1,index=parseInt(RegExp.$2);text=args.object.properties[property]?text.replace(reg,args.object.properties[property][index]||""):text.replace(reg,""),RegExp.lastIndex=null}for(;text.match(/%{property:([_a-z0-9]+)}/i);){var str="%{property:"+RegExp.$1+"}";text=text.replace(str,args.object.properties[RegExp.$1])}for(;text.match(/%{prop:([_a-z0-9]+)}/i);){var str="%{prop:"+RegExp.$1+"}";text=text.replace(str,args.object.properties[RegExp.$1])}for(;text.match(/%{value(?:_formatted)?}/i);){var value=args.value;text=text.match(/%{value_formatted}/i)?text.replace("%{value_formatted}","number"==typeof value?DxChart.numberFormat({object:args.object,number:value.toFixed(args.decimals),thousand:args.thousand||",",point:args.point||".",unitspre:args.unitsPre||"",unitspost:args.unitsPost||""}):null):text.replace("%{value}",value)}for(var reg=/%{global:([_a-z0-9.]+)\[([0-9]+)\]}/i;text.match(reg);){var name=RegExp.$1,index=parseInt(RegExp.$2);text=eval(name)[index]?text.replace(reg,eval(name)[index]||""):text.replace(reg,""),RegExp.lastIndex=null}for(var reg=/%{global:([_a-z0-9.]+)}/i;text.match(reg);){var name=RegExp.$1;text=eval(name)?text.replace(reg,eval(name)||""):text.replace(reg,""),RegExp.lastIndex=null}var regexp=/%{function:([_A-Za-z0-9]+)\((.*?)\)}/;for(text=text.replace(/\r/,"|CR|"),text=text.replace(/\n/,"|LF|");text.match(regexp);){for(var str=RegExp.$1+"("+RegExp.$2+")",i=0,len=str.length;i<len;++i)str=str.replace(/\r?\n/,"\\n");DxChart.Registry.set("label-templates-function-object",args.object);var func=new Function("return "+str),ret=func();text=text.replace(regexp,ret)}return text=text.replace(/\r?\n/g,"<br />"),text=text.replace(/___--PERCENT--___/g,"%"),text=text.replace(/\|CR\|/,"\r"),text=text.replace(/\|LF\|/,"\n"),text.toString()},DxChart.splitString=function(t){var e=new RegExp("([\"'a-z0-9]+) *= *","ig");return t=(t=(t=(t=(t=(t=t.replace(e,'"$1":')).replace(/""/g,'"')).replace(/''/g,'"')).replace(/:'/g,':"')).replace(/' *,/g,'",')).trim().replace(/,$/,""),JSON.parse("{"+t+"}")},DxChart.GET.raw=function(){return location.search},DxChart.GET.parse=function(){if(!DxChart.isNull(DxChart.GET.__parts__))return DxChart.GET.__parts__;for(var t=DxChart.GET.raw().replace(/^\?/,"").split(/\&/),e=0;e<t.length;++e){var i=t[e].split("=");t[i[0]]=decodeURI(i[1])}return DxChart.GET.__parts__=t},DxChart.GET.text=DxChart.GET.string=function(t){var e=DxChart.GET.parse();return e[t]?String(e[t]):null},DxChart.GET.number=function(t){var e=DxChart.GET.parse();return e[t]?Number(e[t]):null},DxChart.GET.json=DxChart.GET.object=function(t){var e=DxChart.GET.parse();return e[t]?JSON.parse(e[t]):null},DxChart.GET.list=DxChart.GET.array=function(t){var e=DxChart.GET.parse();if(!e[t])return null;var i=e[t].split(arguments[1]||",");i[0]=i[0].replace(/^\[/,""),i[i.length-1]=i[i.length-1].replace(/\]$/,"");for(var s=0;s<i.length;++s)i[s]=i[s].replace(/^('|")/,""),i[s]=i[s].replace(/('|")$/,""),Number(i[s])&&(i[s]=Number(i[s]));return i},DxChart.clipTo={},DxChart.clipTo.start=function(){var t,e,i,s,a,o,r,n,h,l=DxChart.getArgs(arguments,"object,dimensions");if(DxChart.clipTo.object=l.object,DxChart.clipTo.__initTranslated__=l.object.canvas.__initTranslated__,"string"==typeof l.dimensions)"tophalf"===l.dimensions?l.object.path("sa b r % % % % cl",0,0,l.object.canvas.width,l.object.canvas.height/2):"bottomhalf"===l.dimensions?l.object.path("sa b r % % % % cl",0,l.object.canvas.height/2,l.object.canvas.width,l.object.canvas.height/2):"lefthalf"===l.dimensions?l.object.path("sa b r % % % % cl",0,0,l.object.canvas.width/2,l.object.canvas.height):"righthalf"===l.dimensions?l.object.path("sa b r % % % % cl",l.object.canvas.width/2,0,l.object.canvas.width/2,l.object.canvas.height):"tophalf.margins"===l.dimensions?l.object.path("sa b r % % % % cl",0,0,l.object.canvas.width,(l.object.canvas.height-l.object.properties.marginTop-l.object.properties.marginBottom)/2+l.object.properties.marginTop):"bottomhalf.margins"===l.dimensions?(l.object.canvas.height,l.object.properties.marginTop,l.object.properties.marginBottom,l.object.path("sa b r % % % % cl",0,(l.object.canvas.height-l.object.properties.marginTop-l.object.properties.marginBottom)/2+l.object.properties.marginTop,l.object.canvas.width,l.object.canvas.height)):"lefthalf.margins"===l.dimensions?l.object.path("sa b r % % % % cl",0,0,l.object.properties.marginLeft+(l.object.canvas.width-l.object.properties.marginLeft-l.object.properties.marginRight)/2,l.object.canvas.height):"righthalf.margins"===l.dimensions?l.object.path("sa b r % % % % cl",l.object.properties.marginLeft+(l.object.canvas.width-l.object.properties.marginLeft-l.object.properties.marginRight)/2,0,(l.object.canvas.width-l.object.properties.marginLeft-l.object.properties.marginRight)/2,l.object.canvas.height):l.dimensions.match(/^((?:h|v)bar) +([-.0-9]+) ?- ?([-.0-9]+)$/i)?(t=RegExp.$1.toLowerCase(),e=parseFloat(RegExp.$2),i=parseFloat(RegExp.$3),s=l.object.properties.marginTop,a=l.object.properties.marginBottom,o=l.object.properties.marginLeft,r=l.object.properties.marginRight,n=l.object.canvas.width-o-r,h=l.object.canvas.height-s-a,"hbar"===t?l.object.path("sa b r % % % % cl",0,s+h*e,l.object.canvas.width,(i-e)*(l.object.canvas.height-s-a)):"vbar"===t&&l.object.path("sa b r % % % % cl",o+n*e,0,(i-e)*(l.object.canvas.width-o-r),l.object.canvas.height)):(l.object.path("sa"),l.object.path(l.dimensions),l.object.path("cl"));else if(DxChart.isArray(l.dimensions)&&DxChart.isArray(l.dimensions[0])){for(var c=0,x=[];c<l.dimensions.length;++c)x.push("%1 %2 %3".format(0===c?"m":"l",l.dimensions[c][0],l.dimensions[c][1]));x="sa b "+x.join(" ")+" cl",l.object.path(x)}else DxChart.isArray(l.dimensions)&&l.object.path("sa b r % % % % cl",l.dimensions[0],l.dimensions[1],l.dimensions[2],l.dimensions[3])},DxChart.clipTo.end=function(){DxChart.clipTo.object.canvas.__initTranslated__=DxChart.clipTo.__initTranslated__,DxChart.path(DxChart.clipTo.object,"rs")},DxChart.parseConfigString=function(){var e=DxChart.getArgs(arguments,"string,separator"),i=!(e.separator=","),s=[],a=[],o={};e.string.split("").forEach(function(t){'"'===t||"'"===t?i=!i:t!==e.separator||i?a.push(t):(s.push(a.join("")),a=[])}),s.push(a.join(""));for(let t=0;t<s.length;++t){var r=s[t].indexOf("="),n=s[t].substr(0,r),r=s[t].substr(r+1);DxChart.isNumeric(r)&&(r=Number(r)),o[n]=r}return o},DxChart.drawHorizontalLines=function(e){var i,s,a,o,r=e.properties.horizontalLines;if(r){var n={dotted:!1,dashed:!0,color:"#666666",lineWidth:1,label:"Average (%{value})",labelPosition:"top right",labelColor:"#666666",labelValueDecimals:2,labelOffsetX:0,labelOffsetY:0};for(let t=0;t<e.properties.horizontalLines.length;++t){var h=r[t],l=DxChart._parseFontInfo(h.labelFontStyle),c=l.face||e.properties.textFontStyleObj.face,x=h.labelColor||n.labelColor,d=l.size||e.properties.textFontStyleObj.size-4,u="boolean"==typeof l.bold?h.labelBold:e.properties.textFontStyleObj.bold,l="boolean"==typeof l.italic?h.labelItalic:e.properties.textFontStyleObj.italic;switch(e.type){case"line":"number"==typeof h.value?s=e.getYCoord(h.value):"average"===h.value&&(i=DxChart.arraySum(e.orgData[0])/e.orgData[0].length,s=e.getYCoord(i));break;case"bar":if("number"==typeof h.value)s=e.getYCoord(h.value);else if("average"===h.value){for(var g=0,p=0,f=e.data.length;p<f;p++)DxChart.isNumber(e.data[p])?g+=e.data[p]:DxChart.isArray(e.data[p])&&(g+=DxChart.arraySum(e.data[p]));var m=0;for(let t=0;t<e.data.length;++t)"grouped"===e.properties.grouping?m+=DxChart.isArray(e.data[t])?e.data[t].length:1:"stacked"===e.properties.grouping&&++m;s=e.getYCoord(i=g/m)}break;case"scatter":if("number"==typeof h.value)s=e.getYCoord(h.value);else if("average"===h.value){var b=0,C=e.data[0];if(C)for(p=0,f=C.length;p<f;p++)b+=parseFloat(C[p][1]);i=b/e.data[0].length,s=e.getYCoord(i)}}linedash="[1,1]",!0===h.dotted&&(linedash="[1,3]"),(!0===h.dashed||void 0===h.dashed&&void 0===h.dotted)&&(linedash="[6,6]"),e.path("lw % ld % b m % % l % % s %",("number"==typeof h.lineWidth?h:n).lineWidth,linedash,e.properties.marginLeft,s,e.canvas.width-e.properties.marginRight,s,h.color||n.color),"bar"!=e.type&&"line"!=e.type&&"scatter"!=e.type||(h.labelPosition||(h.labelPosition=n.labelPosition),a="string"==typeof h.labelPosition&&0<=h.labelPosition.indexOf("left")?(textX=e.marginLeft+10,"left"):"string"==typeof h.labelPosition&&0<=h.labelPosition.indexOf("center")?(textX=(e.canvas.width-e.properties.marginLeft-e.properties.marginRight)/2+e.properties.marginLeft,"center"):"string"==typeof h.labelPosition&&"right-margin"===h.labelPosition?(textX=e.canvas.width-e.properties.marginRight+10,"left"):(textX="string"==typeof h.labelPosition&&"left-margin"===h.labelPosition?e.properties.marginLeft-10:e.canvas.width-e.marginRight-10,"right"),o="string"==typeof h.labelPosition&&0<=h.labelPosition.indexOf("bottom")?(textY=s+5,"top"):"string"==typeof h.labelPosition&&"right-margin"===h.labelPosition||"string"==typeof h.labelPosition&&"left-margin"===h.labelPosition?(textY=s,"center"):(textY=s-5,"bottom"));var y=("number"==typeof h.lineWidth?h:n).lineWidth,m=DxChart.numberFormat({object:e,number:("number"==typeof h.value?h.value:i).toFixed(("number"==typeof h.labelValueDecimals?h:n).labelValueDecimals),unitspre:h.labelValueUnitsPre,unitspost:h.labelValueUnitsPost,thousand:h.labelValueThousand,point:h.labelValuePoint,formatter:h.labelValueFormatter,decimals:h.labelValueDecimals});DxChart.text({object:e,text:("string"==typeof h.label?h:n).label.replace("%{value}",m),x:textX+parseFloat(h.labelOffsetX||n.labelOffsetX),y:textY-y/2+parseFloat((-1!==h.labelPosition.indexOf("top")?-1*h.labelOffsetY:h.labelOffsetY)||n.labelOffsetY),valign:o,halign:a,size:d,font:c,color:x,italic:l,bold:u,bounding:!0,boundingFill:"rgba(255,255,255,0.75)",boundingStroke:"transparent"})}}},DxChart.runOnce=function(t,e){if(!DxChart.Registry.get("oncefunc")[t])return(DxChart.Registry.get("oncefunc")[t]=e)()},DxChart._parseFontInfo=function(t){if(!t||""==t)return{face:null,size:null,italic:null,bold:null,underline:null,strikeout:null,antialias:null,type:null};var e={face:null,size:null,italic:null,bold:null,underline:null,strikeout:null,antialias:null,type:null},i=t,s=i.indexOf('"');if(0<=s){for(var a="",o=0;o<i.length;o++){var r=i.charAt(o);a+=r=s<o&&" "==r?"#":r}i=a}for(var n,h=i.split(/\s+/),l=[],c=0,x=!0,d=[],o=0,u=h.length;o<u&&x;o++)switch(n=h[o]){case"bold":e.bold=!0,d.push(n);break;case"italic":e.italic=!0,d.push(n);break;case"underline":e.underline=!0,d.push(n);break;case"strikeout":e.strikeout=!0,d.push(n);break;case"antialias":e.antialias=!0,d.push(n);break;case"normal":e.normal=!0,d.push(n);break;default:var g,p=parseInt(n);p!=p?0==c?x=!1:(n=n.replace(/#/gi," "),l.push(n)):(0<=(g=n.indexOf("/"))&&(g++,0<=(g=n.substring(g,n.length)).search(/px|pt|cm|em|%/i))&&(e.lineheight=parseInt(g)),c=p)}if(x)e.face=0<l.length?l.join(","):"Arial,Verdana,sans-serif",e.size=0<c?c:12;else if(2<=(h=t.split(",")).length&&(e.face=h[0],d=[],e.size=0|parseInt(h[1]),h[2]))for(var f=h[2].split(/\s+/),o=0,u=f.length;o<u;o++)switch(n=f[o]){case"bold":e._bold=!0,d.push(n);break;case"italic":e._italic=!0,d.push(n);break;case"underline":e._underline=!0,d.push(n);break;case"strikeout":e._strikeout=!0,d.push(n);break;case"antialias":e._antialias=!0,d.push(n);break;case"normal":e._normal=!0,d.push(n)}return e.type=d.join(","),e},DxChart._hexstr=function(t){t=nexacro.toNumber(t);var e=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f");return""+e[t>>4&15]+e[15&t]},DxChart._hex2rgb=function(t,e){var i,s,a,o;if(t&&0!=t.length)return"object"==typeof t?(i=t[0],s=t[1],a=t[2],t[3]?"rgba("+i+", "+s+", "+a+", "+o+")":"rgb("+i+", "+s+", "+a+")"):!(0<=t.indexOf("rgb"))&&"#"==t.substr(0,1)?(i=parseInt(t.slice(1,3),16),s=parseInt(t.slice(3,5),16),a=parseInt(t.slice(5,7),16),7==String(t).length&&"number"==typeof e?"rgba("+i+", "+s+", "+a+", "+e+")":7<String(t).length?"rgba("+i+", "+s+", "+a+", "+(o=(parseInt(t.slice(7,9),16)/255).toString())+")":"rgb("+i+", "+s+", "+a+")"):t},DxChart._rgba2hex=function(t){var e;return t.toLowerCase().indexOf("rgb")<0?[t,1]:(t=t.split("(")[1].split(")")[0].split(","),e=DxChart._hexstr(t[0]),e=(e+=DxChart._hexstr(t[1]))+DxChart._hexstr(t[2]),null!=t[3]&&t[3]!==undefined&&(e+=this._hexstr(255*t[3])),["#"+e,t[3]])},DxChart.appendAxis=function(t,e){var i;"y"==e.axisType?(i=new DxChartYAxis({id:t.id,elem:t.canvas,x:e.x,xPosPercent:e.xPosPercent,options:e.options}),t.properties.yaxisAppenObject.push(i)):"x"==e.type&&t.properties.xaxisAppenObject.push(e)},DxChart._parseShadowInfo=function(t){var e={value:t,offsetx:2,offsety:2,blur:3,color:"rgba(128,128,128,0.5)"};return t&&"string"==typeof t&&(t=t.trim())&&4==(t=(e.value=t).split(" ")).length&&(e.offsetx=parseInt(t[0].replace("px")),e.offsety=parseInt(t[1].replace("px")),e.offsetX=e.offsetx,e.offsetY=e.offsety,e.blur=parseInt(t[2].replace("px")),e.color=t[3]),e},DxChart.setDefaultProperties=function(t,e){var i={};switch(e){case"margin":i={Default:5,InnerGrouped:1,Left:35,LeftAuto:!0,Right:35,Top:35,Bottom:35,Inner:0,Center:0,CenterAuto:!0};break;case"shadow":i={Use:!1,Style:"2px 2px 3px rgba(128,128,128,0.5)",StyleObj:{},InnerUse:!1,InnerStyle:"3px 3px 6px black",InnerStyleObj:{},OuterUse:!1,OuterStyle:"3px 3px 6px black",OuterStyleObj:{}};break;case"animation":i={Factor:1,UnfoldX:!1,UnfoldY:!0,UnfoldInitial:2,TraceClip:1,TraceCenter:!1};break;case"crosshairs":i={Use:!1,Color:"#333333",Hline:!0,Vline:!0,LineWidth:1,Coords:!1,CoordsFixed:!0,CoordsLabelsX:"X",CoordsLabelsY:"Y",CoordsFormatterX:null,CoordsFormatterY:null};break;case"highlight":i={Value:!0,Radius:3,Style:null,StyleTwodFill:"rgba(255,255,255,0.7)",StyleTwodStroke:"rgba(255,255,255,0.7)",StyleTwodLineWidth:0,StyleOutlineWidth:null,StyleInvertStroke:"transparent",StyleInvertFill:"rgba(255,255,255,0.7)",Stroke:"gray",Fill:"white",PointRadius:2};break;case"line":i={Above:!1,Width:2.001,WidthSegments:0,Cap:"round",join:"round",Curve:!1,Close:!1,Colors:["black"],ShadowUse:!1,ShadowStyle:"3px 3px 2px black",ShadowStyleObj:{},Dotted:!1,Dashed:!1,Stepped:!1,Visible:[]};break;case"trendLine":i={Value:!1,Colors:["#666666"],LineWidth:1,Margin:25,Dashed:!1,Dotted:!1,DashArray:null,Clip:!0};break;case"bubble":i={Min:0,Max:null,Width:null,Data:null,LineWidth:1,ShadowUse:!1,ShadowStyle:"2px 2px 3px #aaaaaa",ShadowStyleObj:{}};break;case"background":i={BarsCount:null,BarsColor1:null,BarsColor2:null,VBarsColor1:null,VBarsColor2:null,Color:null,Circles:!0,CirclesCount:null,CirclesColor:"#dddddd",CirclesPoly:!0,CirclesSpokes:24,Grid:1,GridAlign:!0,GridAutofit:!0,GridAutofitAlign:!0,GridBorder:!0,GridColor:"#dddddd",GridCircles:!0,GridCirclesCount:5,GridDashed:!1,GridDotted:!1,GridLineWidth:1,GridHlines:!0,GridHlinesCount:5,GridHsize:25,GridVsize:25,GridSize:null,GridRadials:!0,GridRadialsCount:null,GridRadialsOffset:0,GridVlines:!0,GridVlinesCount:null,GridThreedYaxis:!0,Hbars:[],Image:null,ImageAlpha:1,ImageAlign:null,ImageStretch:!0,ImageX:null,ImageY:null,ImageW:null,ImageH:null,Rings:!0,RingsColors:null,RingsAlpha:.5,Vbars:[]};break;case"xaxis":i={Use:!0,LineWidth:1,Color:"black",Labels:null,LabelsAngle:0,LabelsFontStyle:null,LabelsFontStyleObj:{},LabelsColor:null,LabelsFormattedDecimals:0,LabelsFormattedPoint:".",LabelsFormattedThousand:",",LabelsFormattedUnitsPre:"",LabelsFormattedUnitsPost:"",LabelsOffsetX:0,LabelsOffsetY:0,LabelsHalign:null,LabelsValign:null,LabelsPosition:"edge",LabelsSpecificAlign:"left",Scale:null,ScaleUnitsPre:"",ScaleUnitsPost:"",ScaleMin:0,ScaleMax:0,ScalePoint:".",ScaleThousand:",",ScaleDecimals:null,ScaleZerostart:null,AddLineSize:0,Position:"bottom",Tickmarks:!0,TickmarksLength:3,TickmarksLastLeft:null,TickmarksLastRight:null,TickmarksCount:null,TickmarksInterval:null,TickmarksLineWidth:1,TickmarksColor:null,Title:"",TitleFontStyle:null,TitleFontStyleObj:{},TitleColor:null,TitlePos:null,TitleOffsetX:0,TitleOffsetY:0,TitleX:null,TitleY:null,TitleHalign:"center",TitleValign:"top",AppenObject:[]};break;case"yaxis":i={AddLineSize:0,Use:!0,LineWidth:1,Color:"black",CenterContinue:!1,Tickmarks:!0,TickmarksLineWidth:1,TickmarksCount:null,TickmarksLastTop:null,TickmarksLastBottom:null,TickmarksLength:3,TickmarksColor:"black",Scale:!0,ScaleMin:0,ScaleMax:null,ScaleUnitsPre:"",ScaleUnitsPost:"",ScaleDecimals:0,ScalePoint:".",ScaleThousand:",",ScaleRound:!1,ScaleFormatter:null,ScaleInvert:!1,Labels:null,LabelsSpecific:null,LabelsCount:5,LabelsOffsetX:0,LabelsOffsetY:0,LabelsHalign:null,LabelsValign:null,LabelsFontStyle:null,LabelsFontStyleObj:{},LabelsColor:null,LabelsPosition:"edge",LabelsFormattedDecimals:0,LabelsFormattedPoint:".",LabelsFormattedThousand:",",LabelsFormattedUnitsPre:"",LabelsFormattedUnitsPost:"",Position:"left",Title:"",TitleFontStyle:null,TitleFontStyleObj:{},TitleColor:null,TitlePos:null,TitleX:null,TitleY:null,TitleOffsetX:0,TitleOffsetY:0,TitleHalign:null,TitleValign:null,TitleAccessible:null,AppenObject:[]};break;case"labels":i={Above:!1,AboveBorder:!1,AboveBorderStyle:null,AboveBorderStyleObj:{},AboveDecimals:0,AboveFontStyle:null,AboveFontStyleObj:{},AboveColor:null,AbovePoint:".",AboveThousand:",",AboveBackground:"rgba(0,0,0,0)",AboveAngle:null,AboveOffset:null,AboveOffsetX:0,AboveOffsetY:0,AboveSpecific:null,AboveUnitsPre:"",AboveUnitsPost:"",AboveFormatter:null,AboveLastFontStyle:null,AboveLastFontStyleObj:{},AboveLastColor:null,Angled:!1,AngledSpecific:null,AngledAccessible:null,AngledFontStyle:null,AngledFontStyleObj:{},AngledColor:null,AngledUpFontStyle:null,AngledUpFontStyleObj:{},AngledUpColor:null,AngledDownFontStyle:null,AngledDownFontStyleObj:{},AngledDownColor:null,AngledLevelFontStyle:null,AngledLevelFontStyleObj:{},AngledLevelColor:null,Axes:"",AxesFontStyle:null,AxesFontStyleObj:null,AxesColor:null,AxesBoxed:null,AxesBoxedZero:!0,AxesBoxedBackground:"rgba(255,255,255,0.7)",AxesSpecific:null,AxesCount:5,AxesOffsetX:0,AxesOffsetY:0,BackgroundFill:"white",Boxed:!1,Center:null,CenterFontStyle:null,CenterFontStyleObj:{},CenterColor:null,CenterIndex:0,CenterSize:50,CenterOffsetX:0,CenterOffsetY:0,CenterUnitsPre:"",CenterUnitsPost:"",CenterDecimals:0,CenterPoint:".",CenterThousand:",",CenterSpecific:null,CenterSpecificFormattedDecimals:0,CenterSpecificFormattedPoint:".",CenterSpecificFormattedThousand:",",CenterSpecificFormattedUnitsPre:"",CenterSpecificFormattedUnitsPost:"",CenterBackground:!0,CenterBackgroundFill:"rgba(255,255,255,0.75)",CenterBackgroundStroke:"rgba(0,0,0,0)",Color:null,Complete:!0,CompleteFontStyle:null,CompleteFontStyleObj:null,CompleteColor:null,CompleteOffsetX:0,CompleteOffsetY:0,Count:null,Data:[],FontStyle:"13px "+DxChart.selectFontStyle,FontColor:null,FontStyleObj:{},FormattedDecimals:0,FormattedPoint:".",FormattedThousand:",",FormattedUnitsPre:"",FormattedUnitsPost:"",Full:"F",FullOffsetX:0,FullOffsetY:0,FullOffsetRadius:0,Empty:"E",EmptyOffsetX:0,EmptyOffsetY:0,EmptyOffsetRadius:0,Inbar:!1,InbarAlign:"left",InbarAbove:!1,InbarHalign:"center",InbarValign:"center",InbarFontStyle:null,InbarFontStyleObj:null,InbarColor:null,InbarBackground:null,InbarBackgroundPadding:0,InbarUnitsPre:null,InbarUnitsPost:null,InbarPoint:null,InbarThousand:null,InbarFormatter:null,InbarDecimals:null,InbarOffsetX:0,InbarOffsetY:0,InbarSpecific:null,Ingraph:null,IngraphBounding:!0,IngraphBoundingFill:"rgba(255,255,255,0.85)",IngraphBoundingStroke:"rgba(0,0,0,0)",IngraphDecimals:0,IngraphFontStyle:null,IngraphFontStyleObj:{},IngraphColor:null,IngraphOffsetX:0,IngraphOffsetY:0,IngraphSpecific:null,IngraphUnitsPre:"",IngraphUnitsPost:"",IngraphPoint:".",IngraphThousand:",",IngraphRadius:null,IngraphRadiusOffset:0,IngraphUndrawn:null,IngraphUndrawnAsLabels:null,Inner:!1,InnerFont:null,InnerSize:null,InnerColor:null,InnerBold:null,InnerItalic:null,InnerOffsetX:0,InnerOffsetY:0,InnerDecimals:0,InnerBackgroundFill:"rgba(255,255,255,0.7)",InnerBorder:!0,InnerBorderLineWidth:1,InnerBorderColor:"#ccc",InnerScalePoint:null,InnerScaleThousand:null,InnerUnitsPre:"",InnerUnitsPost:"",InnerSpecific:null,OffsetX:0,OffsetY:0,OffsetRadius:0,Position:null,RadiusOffset:0,Sticks:!1,SticksLength:7,SticksColors:null,SticksLineWidth:1,SticksHlength:5,Specific:null,SpecificFormattedDecimals:0,SpecificFormattedPoint:".",SpecificFormattedThousand:",",SpecificFormattedUnitsPre:"",SpecificFormattedUnitsPost:"",List:!0,ListLeftOffsetX:0,ListLeftOffsetY:0,ListRightOffsetX:0,ListRightOffsetY:0,Margin:35,Value:!1,ValueFontStyle:null,ValueFontStyleObj:{},ValueColor:null,ValueDecimals:0,ValuePoint:".",ValueThousand:",",ValueUnitsPre:"",ValueUnitsPost:"",ValueBackground:!0,ValueBackgroundFill:"rgba(255,255,255,0.75)",ValueBackgroundStroke:"rgba(0,0,0,0)",ValueSpecific:null,ValueAccessible:!0,ValueOffsetX:0,ValueOffsetY:0};break;case"tickmarks":i={LineWidth:null,Color:null,Inner:!1,InnerColor:"#999999",InnerCount:0,Outer:!0,OuterColor:"#999999",OuterCount:0,Highlighted:!0,LargeColor:"#999999",Type:"cross",Size:3,Style:"none",StyleDotStroke:"white",StyleDotFill:null,StyleDotLineWidth:3,StyleImage:null,StyleImageHalign:"center",StyleImageValign:"center",StyleImageOffsetX:0,StyleInnerColor:null,StyleImageOffsetY:0};break;case"key":i={Data:null,Background:"white",Position:"graph",Halign:null,Shadow:!1,ShadowStyle:"2px 2px 3px #666666",ShadowStyleObj:{},PositionMarginBoxed:!1,PositionMarginHSpace:0,PositionGutterBoxed:!1,PositionX:null,PositionY:null,ColorShape:"square",Rounded:!0,LineWidth:1,Colors:null,Interactive:!1,InteractiveArray:null,InteractiveHighlightChartStroke:"rgba(255,0,0,0.3)",InteractiveHighlightChartFill:"rgba(255,255,255,0.7)",InteractiveHighlightLabel:"rgba(255,0,0,0.2)",LabelsFontStyle:"12px Tahoma",LabelsFontStyleObj:{},LabelsColor:null,LabelsOffsetX:0,LabelsOffsetY:0};break;case"title":i={Text:"",FontStyle:"bold 20px "+DxChart.selectFontStyle,FontStyleObj:{},Color:null,X:null,Y:null,Halign:null,Valign:null,OffsetX:0,OffsetY:0,Side:null,SideFontStyle:null,SideFontStyleObj:{},SideColor:null,SideOffsetX:0,SideOffsetY:0,Subtitle:"",SubtitleFontStyle:null,SubtitleFontStyleObj:{},SubtitleColor:"#aaa",SubtitleOffsetX:0,SubtitleOffsetY:0,Top:"",TopFontStyle:null,TopFontStyleObj:null,TopColor:"black",TopPos:null,TopOffsetX:0,TopOffsetY:0,TopSubtitle:null,TopSubtitleFontStyle:null,TopSubtitleFontStyleObj:null,TopSubtitleColor:"#666666",TopSubtitlePos:null,TopSubtitleOffsetX:0,TopSubtitleOffsetY:0,Bottom:"",BottomFontStyle:null,BottomFontStyleObj:null,BottomColor:null,BottomPos:null,BottomOffsetX:0,BottomOffsetY:0,Left:"",LeftFontStyle:null,LeftFontStyleObj:null,LeftColor:null,LeftOffsetX:0,LeftOffsetY:0,Right:"",RightFontStyle:null,RightFontStyleObj:null,RightColor:null,RightOffsetX:0,RightOffsetY:0};break;case"tooltips":i={CoordsPage:!1,CssClass:"DxChart_tooltip",Css:null,Data:null,Dataset:null,DatasetEvent:"click",Effect:"slide",Event:"onmousemove",FormattedThousand:",",FormattedPoint:".",FormattedDecimals:0,FormattedUnitsPre:"",FormattedUnitsPost:"",FormattedKeyColors:null,FormattedKeyColorsShape:"square",FormattedKeyLabels:[],FormattedListType:"ul",FormattedListItems:null,FormattedTableHeaders:null,FormattedTableData:null,HotspotXonly:!1,HotspotSize:5,Highlight:!0,Pointer:!0,PointerCss:null,PositionStatic:!0,SameSeriesBackground:!1};break;case"filled":i={Accumulative:!0,Colors:null,Range:!1,RangeThreshold:null,RangeThresholdColors:DxChart.selectColorSet,Use:!1,Click:null,Mousemove:null,Tooltips:null,HighlightFill:"rgba(255,255,255,0.7)",HighlightStroke:"rgba(0,0,0,0)",MousemoveRedraw:!1};break;case"text":i={Value:null,FontStyle:"11px "+DxChart.selectFontStyle,FontStyleObj:{},Color:"black",Valign:"center",Accessible:!1,AccessibleOverflow:"visible",AccessiblePointerevents:!1};break;case"clip":i={Value:null,beforeValue:null,beforeProperties:null};break;case"scale":i={Visible:!1,Decimals:0,Formatter:null,UnitsPre:"",UnitsPost:"",Point:".",Round:!1,Thousand:",",LabelsCount:5,Min:0,Max:null,LabelsFontStyle:null,LabelsFontStyleObj:{},LabelsColor:null,LabelsOffsetR:0,LabelsOffsetX:0,LabelsOffsetY:0,Zerostart:!1};break;case"changeable":i={Value:!1,Only:null,Xonly:!1};break;case"segment":i={Highlight:!1,HighlightCount:null,HighlightFill:"rgba(0,255,0,0.5)",HighlightStroke:"rgba(0,0,0,0)"};break;case"annotation":i={Value:!1,Color:"black",LineWidth:1};break;case"backdrop":i={Value:!1,Size:30,Alpha:.2};break;case"combined":i={Effect:null,EffectOptions:null,EffectCallback:null};break;case"ends":i={Radius:null,Color:null};break;case"errorbars":i={Value:!1,Color:"black",Capped:!0,CappedWidth:12,LineWidth:1};break;case"null":i={Bridge:!1,BridgeLineWidth:null,BridgeColors:null,BridgeDashArray:[5,5]};break;case"border":i={Use:!1,Color:"rgba(255,255,255,0.5)",ColorArray:["#BEBCB0","#F0EFEA","#BEBCB0"],Outer:!1,Inner:!0,Width:10};break;case"needle":i={Color:"red",Size:35,StrokeColor:"red",RadiusOffset:45};break;case"angles":i={Start:null,End:null};break;case"variant":i={Value:null,SketchVerticals:!0,DonutWidth:null,ThreedXaxis:!0,ThreedYaxis:!0,ThreedAngle:.1,ThreedDepth:20,ThreedOffsetX:10,ThreedOffsetY:5,ThreedXaxisColor:"#dddddd",ThreedYaxisColor:"#dddddd",ThreedAngleAuto:null,StackedType:""};break;case"default":"line"==t.type?i={clearto:"rgba(0,0,0,0)",colors:DxChart.selectColorSet,contextmenu:null,outofbounds:!1,outofboundsClip:!1,redraw:!0}:"yaxis"==t.type?i={clearto:"rgba(0,0,0,0)",colors:["black"]}:"bar"==t.type||"hbar"==t.type?i={colorsStroke:"rgba(0,0,0,0)",colors:DxChart.selectColorSet,colorsSequential:!1,colorsReverse:!1,grouping:"grouped",unitsIngraph:!1,contextmenu:null,redraw:!0,beveled:!1,corners:"square",cornersRoundRadius:10,clearto:"rgba(0,0,0,0)"}:"heatmap"==t.type?i={colorsStroke:null,xaxisLabelsCount:null,yaxisLabelsCount:null,colors:[[0,25,"#F7B42C"],[26,50,"#f99c3a"],[51,75,"#fb7250"],[51,75,"##FC575E"]],colorsSequential:!1,colorsReverse:!1,cornersRoundRadius:5,unitsIngraph:!1,contextmenu:null,redraw:!0,variantValue:"bar",highlightStroke:"rgba(0,0,0,0)",highlightFill:"rgba(255,255,255,0.7)",marginInner:5,lineWidth:1,xaxisLabelsPosition:"section",yaxisLabelsPosition:"section",marginLeft:50,marginTop:50,marginRight:50,marginBottom:50,guideFontStyle:"9px Tahoma",guidePosition:"right",guidePositionX:null,guidePositionY:null,guideWidth:20,guideHeight:100,guideLineWidth:2,guideStrokeColor:"#000000",guideNeedleColor:"#ffffff",guideNeedleStrokeColor:"#dddddd",guideNeedleLineWidth:1,guideNeedleWidth:8,guideNeedleValue:null,guideNeedleCurrentValue:null,guideNeedleCurrentRangeValue:0,guideUse:!0,changeableValue:!0,clearto:"rgba(0,0,0,0)"}:"pie"==t.type?i={centerxAdjust:0,centeryAdjust:0,colors:DxChart.selectColorSet,colorsStroke:"white",contextmenu:null,centerx:null,centery:null,radius:null,exploded:[],highlightStyle:"2d",effectRoundrobinMultiplier:1,backgroundGrid:!1,shadowUse:!0,shadowStyle:"0px 0px 15px #aaaaaa",centerpin:null,centerpinFill:"gray",centerpinStroke:"white",origin:0-Math.PI/2,clearto:"rgba(0,0,0,0)",events:!0}:"waterfall"==t.type?i={colorsStroke:"#666",colors:DxChart.selectColorSet,colorsSequential:!1,colorsConnectors:"#666",marginInner:5,xaxisLabelsPosition:"section",xaxisTickmarks:!0,xaxisTickmarksLength:3,labelsAboveTotalFontStlye:null,labelsAboveTotalFontStlyeObj:{},labelsAboveTotalColor:null,labelsAboveTotalDecimals:null,labelsAboveTotalUnitsPre:null,labelsAboveTotalUnitsPost:null,labelsAboveTotalPoint:null,labelsAboveTotalThousand:null,labelsAboveTotalFormatter:null,labelsAboveTotalOffsetX:0,labelsAboveTotalOffsetY:0,contextmenu:null,resizable:!1,resizableHandleBackground:null,totalUse:!0,totalText:"Total",multiplierX:1,multiplierW:1,barOffsetX:0,barOffsetY:0,clearto:"rgba(0,0,0,0)"}:"fuel"==t.type?i={centerx:null,centery:null,radius:null,colors:DxChart.selectColorSet,contextmenu:null,resizable:!1,resizableHandleBackground:null,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAhCAYAAADOHBvaAAAAAXNSR0IArs4c6QAABPpJREFUWEe1lmlIY1cUx080ZjOJL5qq1VrHJRhEHbDtYKtjw2ggxRWsUEHb1FqoChH0gxU/9EPFEiiCuEOtS1VqOlQs1ggWxI2IRcUVtKDWGEdrYogmMfsr99Vk1KJ16vN8yju59/+75757z/tT4Gp4SaXSvKioqDeu5W98dLlcoFKpfh8bG5u56xw0juIeHBISwtdoNH8pFArKxsbGq2hAZmYmCASCYwzDAkdGRgbT0tIyGhoa5LW1tV/fJOQB63S6F2KxOHhxcfGVoO7Bra2tkJ6evigQCBL7+vpgenoaWlpabMnJyU/m5+eXr4t6wE6nE/f29gYmFeC3T+7OdrgA3u8CYLPZcHZ2RkxkMplgsVgA6c3OzsLx8fFgVlbWR5dVPWCHw4FTqVR4nQ0g++Xp3ckAUPNsGmg0Gmi12pPV1dWlvb29tIKCAo9GYWEhNDU1HfF4vBAAcF15x9fB35Vo4NPi4hsX4HQ6YfnHr+CdlqdXwFwuNyA/P19SVVWlTEpK8swXCASwtrZmptPpXABw3lgxPvcB1NTU3Fr5owAf+OL5u/8Co0llZWXS8PDwrurqao9GdHQ0zM3NveDz+SEPBka0jY2NhdTU1EStVuuBV1RUAIfDqXxQMADQt7e3LZGRkQRYIpHAyMgIbG9vrz00GEZHR38qKSn58ODgAIqLi6GzsxNdu/ceHIxhGNbb26vPzs4GOp0OCwsLC3FxcW+TCjYajVYajca4fiItFouTwWB4obzVarXS6XQGaWAkKhKJoLa2dlgsFudehp+dnZ1yOBwOylksFhwtglQwEj46OoKgoCBvd6O4gJ0zGAxiJ2w2m5NGo1FvBLflzQErMOLGe4zjOHz+6A+wf/lPA3FHaWkp7O7uipRK5aQ7d35+7mIymQTLaDSestlsP9JaphsSGBgIjY2N3xcUFHx2kaPs7Oy4IiIiwMvLC93tFaFQ+Jh0MBLf3NxcFwgEcRdgn5mZGVtKSgr4+vqCQqH4OSMjI490MILp9Xotj8d7zQ2empqypaamEl+wwcFBcsEUCgXQe0dhNpuNLBaLOMUo1Go1HhYWBmiMwWDQc7lcf9IqRluMbNAF2MRisdhusMFg0GIYFoAWhkxCc3PzW6SBr1V8BZyTk5MeHx8/XldXR3y3t7a2NkkDIxPhcDiIIm02m52GCJfiomMROavVipMGRhybzUagDAYD+Pm9vKoot7+//2dYWNibaLt1Ot1Ll0mG9UFVm81mGB4ehvLy8oD9/f0Td9Gnp6cnXC6Xh56RNyO14vz8fOjv74eYmBiQy+X9ubm5hRdg6uHhoT04OJh4NJlMp6SC1Wo16tOE+M7ODkil0ieTk5PLarV6XSKRRK+vr4NQKASZTPYtqWCr1QqJiYmwtLRE3FmlUgmoVaKdWFlZIRak0WggNDTUxw2mOBwO133trU6n01OpVAafz2eaTKbLh5r43d3djczex+3t7T9QRCJR0sTEhAqdRAzDIJgNUPE/fbVer0dm3m632y0ymYzT1dUFyAYnJCQQXquurq6ora2tDy2C4nQ67f7+/lQEJiOKioqQt/q1vr7+m8rKykomk8kaGhp63tjY2HX5G03BcRxH74OsQD15fHx8VSgUJtymSenp6WmJjY0tk8vl92Yjk9HR0YFcZIJKpVq9FYz+TElJeSwWi5+hRn+fMJlM9oGBgf69vT39f+n8Df2x0IJaadpCAAAAAElFTkSuQmCC",iconRedraw:!0,clearto:"rgba(0,0,0,0)"}:"activity"==t.type?i={radius:null,centerx:null,centery:null,width:null,ends:"round",colors:DxChart.selectColorSet,icons:[],iconsWidth:null,iconsHeight:null,iconsOffsetX:0,iconsOffsetY:0,contextmenu:null,clearto:"rgba(0,0,0,0)"}:"thermometer"==t.type?i={colorsStroke:"black",colors:DxChart.selectColorSet,resizable:!1,resizableHandleBackground:null,labelsValue:!0,labelsCount:10,annotatable:!1,annotatableColor:"black",annotatableLinewidth:1,tooltipsEffect:"slide",backgroundColor:"white",tickmarksSize:2,tickmarksCount:10,shadowUse:!0,shadowStyle:"0px 0px 15px #dddddd",highlightStroke:"rgba(0,0,0,0)",highlightFill:"rgba(255,255,255,0.7)",labelsPosition:"right",contextmenu:null,clearto:"rgba(0,0,0,0)",bulbBottomRadiusAdjust:0,bulbBottomRadius:null}:"vprogress"==t.type?i={colors:DxChart.selectColorSet,colorsStrokeInner:"#999",colorsStrokeOuter:"#999",contextmenu:null,backgroundColor:"linear-gradient(to right,#cccccc:#eeeeee:#efefef)",arrows:!1,beveled:!1,labelsCount:10,labelsPosition:"right",highlightStroke:"rgba(0,0,0,0)",highlightFill:"rgba(255,255,255,0.7)",tickmarksOuter:!0,tickmarksInner:!1,clearto:"rgba(0,0,0,0)"}:"drawing.text"==t.type?i={angle:0,colors:["black"],bounding:!1,boundingFill:"rgba(255,255,255,0.7)",boundingStroke:"#777",boundingShadow:!1,boundingShadowColor:"#ccc",boundingShadowBlur:3,boundingShadowOffsetX:3,boundingShadowOffsetY:3,marker:!1,halign:"left",valign:"bottom",link:null,linkTarget:"_self",linkOptions:"",clearto:"rgba(0,0,0,0)"}:"semicircle"==t.type?i={colors:DxChart.selectColorSet,colorsStroke:"#666666",radius:null,centerx:null,centery:null,width:null,anglesStart:Math.PI,anglesEnd:2*Math.PI,backgroundColor:"transparent",backgroundGrid:!1,backgroundGridMargin:20,backgroundGridColor:"#dddddd",backgroundGridLinewidth:1,backgroundGridCircles:!0,backgroundGridRadials:!0,backgroundGridRadialsCount:10,labelsCenter:!0,labelsCenterIndex:0,labelsCenterFade:!1,labelsCenterFontStyle:"30px Tahoma",labelsCenterFontStyleObj:{},labelsCenterColor:null,labelsCenterValign:"bottom",labelsCenterOffsetX:0,labelsCenterOffsetY:0,labelsCenterThousand:",",labelsCenterPoint:".",labelsCenterDecimals:0,labelsCenterUnitsPost:"",labelsCenterUnitsPre:"",labelsCenterSpecific:null,highlightStroke:"rgba(0,0,0,0)",highlightFill:"rgba(255,255,255,0.7)",labelsMin:!0,labelsMinColor:null,labelsMinFontStyle:null,labelsMinFontStyleObj:{},labelsMinOffsetAngle:0,labelsMinOffsetX:0,labelsMinOffsetY:5,labelsMinThousand:",",labelsMinPoint:".",labelsMinDecimals:0,labelsMinUnitsPost:"",labelsMinUnitsPre:"",labelsMinSpecific:null,labelsMax:!0,labelsMaxColor:null,labelsMaxFontStyle:null,labelsMaxFontStyleObj:{},labelsMaxOffsetAngle:0,labelsMaxOffsetX:0,labelsMaxOffsetY:5,labelsMaxThousand:",",labelsMaxPoint:".",labelsMaxDecimals:0,labelsMaxUnitsPost:"",labelsMaxUnitsPre:"",labelsMaxSpecific:null,annotatable:!1,annotatebleColor:"black",annotatebleLinewidth:1,shadowUse:!1,shadowStyle:"2px 2px 2px rgba(220,220,220,1)",contextmenu:null,clearto:"rgba(0,0,0,0)"}:"scatter"==t.type?i={colors:[],colorsBubbleGraduated:!0,colorsBubbleStroke:null,contextmenu:null,colorsDefault:"black",boxplotWidth:10,boxplotCapped:!0,clearto:"rgba(0,0,0,0)",outofbounds:!1,animationTrace:!1,animationTraceClip:1,backgroundGrid:!0,backgroundGridLinewidth:1,backgroundGridColor:"#dddddd",backgroundGridHsize:20,backgroundGridVsize:20,backgroundGridVlines:!0,backgroundGridHlines:!0,backgroundGridBorder:!0,backgroundGridAutofit:!0,backgroundGridAutofitAlign:!0,backgroundGridHlinesCount:5,backgroundGridVlinesCount:20,xaxisLinewidth:1,xaxisColor:"black",xaxisTickmarks:!0,xaxisTickmarksLength:3,xaxisLabelsOffsetx:0,xaxisLabelsOffsety:0,xaxisLabelsHalign:null,xaxisLabelsValign:null,xaxisLabelsPosition:"section",xaxisLabelsSpecificAlign:"left",xaxisPosition:"bottom",xaxisLabelsAngle:0,xaxisScale:!1,xaxisScaleMin:0,xaxisScaleMax:null,xaxisScaleUnitsPre:"",xaxisScaleUnitsPost:"",xaxisScaleLabelsCount:10,xaxisScaleFormatter:null,xaxisScaleDecimals:0,xaxisScaleThousand:",",xaxisScalePoint:".",horizontalLines:null}:"segment"==t.type?i={radius:null,centerx:null,centery:null,width:null,colors:DxChart.selectColorSet,radialsCount:36,contextmenu:null,effectRoundrobinMultiplier:1,backgroundColor:"white",backgroundGrid:!1,clearto:"rgba(0,0,0,0)"}:"rose"==t.type?i={axesUse:!1,axesColor:"black",axesLineWidth:1,axesTickmarks:!0,centerx:null,centery:null,radius:null,anglesStart:0,colors:DxChart.selectColorSet,colorsSequential:!1,colorsAlpha:.5,colorsStroke:"rgba(0,0,0,0)",contextmenu:null,resizable:!1,resizableHandleAdjust:[0,0],resizableHandleBackground:null,exploded:0,animationRoundrobinFactor:1,animationRoundrobinRadius:!0,animationGrowMultiplier:1,segmentHighlight:!1,segmentHighlightCount:null,segmentHighlightFill:"rgba(0,255,0,0.5)",segmentHighlightStroke:"rgba(0,0,0,0)",clearto:"rgba(0,0,0,0)"}:"bipolar"==t.type?i={colorsStroke:"rgba(0,0,0,0)",colors:DxChart.selectColorSet,colorsSequential:!1,colorsLeft:null,colorsRight:null,contextmenu:null,axesUse:!0,axesColor:"black",axesLineWidth:1,resizable:!1,resizableHandleBackground:null,grouping:"grouped",clearto:"rgba(0,0,0,0)",leftVisible:!0,rightVisible:!0}:"rose"==t.type?i={axes:!1,axesColor:"black",axesLineWidth:1,axesTickmarks:!0,centerx:null,centery:null,radius:null,anglesStart:0,colors:DxChart.selectColorSet,colorsSequential:!1,colorsAlpha:null,colorsStroke:"rgba(0,0,0,0)",contextmenu:null,resizable:!1,resizableHandleAdjust:[0,0],resizableHandleBackground:null,exploded:0,animationRoundrobinFactor:1,animationRoundrobinRadius:!0,animationGrowMultiplier:1,margin:10,clearto:"rgba(0,0,0,0)"}:"radar"==t.type?i={colorsStroke:"#aaa",colors:DxChart.selectColorSet,colorsAlpha:.5,circle:0,circleFill:"red",circleStroke:"black",contextmenu:null,resizable:!1,resizeHandleAdjust:[0,0],resizeHandleBackground:null,accumulative:!1,radius:null,centerx:null,centery:null,axesColor:"rgba(0,0,0,0)",animationTraceClip:1,clearto:"rgba(0,0,0,0)",margin:10}:"funnel"==t.type?i={colorsStroke:"rgba(0,0,0,0)",colors:DxChart.selectColorSet,contextmenu:null,resizable:!1,resizableHandleBackground:null,clearto:"rgba(0,0,0,0)"}:"pyramid"==t.type?i={ratio:50,ascending:!0,colorsStroke:"rgba(0,0,0,0)",colors:DxChart.selectColorSet,lineColors:["black"],contextmenu:null,resizable:!1,resizableHandleBackground:null,clearto:"rgba(0,0,0,0)"}:"drawing.yaxis"==t.type||"drawing.xaxis"==t.type?i={colors:["black"],clearto:"rgba(0,0,0,0)"}:"gantt"==t.type?i={colorsDefault:"white",coords:[],marginLeft:75,marginInner:2,xaxisUse:!1,yaxisUse:!1,xaxisDateFormat:"yyyy-MM-dd",xaxisDateLeftGap:0,xaxisDateRightGap:0,xaxisLabelsCount:5,contextmenu:null,highlightStroke:"rgba(0,0,0,0)",highlightFill:"rgba(255,255,255,0.7)",clearto:"rgba(0,0,0,0)"}:"horseshoe"==t.type?i={radius:null,centerx:null,centery:null,width:10,colors:["black","#eee"],contextmenu:null,clearto:"rgba(0,0,0,0)"}:"hprogress"==t.type?i={colors:DxChart.selectColorSet,colorsStrokeInner:"#999999",colorsStrokeOuter:"#999999",colorsStrokeInnerLineWidth:1,colorsStrokeOuterLineWidth:1,contextmenu:null,arrows:!1,beveled:!1,clearto:"rgba(0,0,0,0)"}:"rscatter"==t.type?i={centerx:null,centery:null,radius:null,colors:[],colorsDefault:"black",contextmenu:null,resizable:!1,resizableHandleBackground:null,axesColor:"transparent",backgroundColor:"transparent",backgroundGrid:!0,backgroundGridRadials:!0,backgroundGridRadialsCount:null,backgroundGridCircles:!0,backgroundGridCirclesCount:null,backgroundGridLinewidth:1,backgroundGridColor:"#ccc",labelsAxes:"n",labelsAxesBackground:"rgba(255,255,255,0.7)",keyBackground:"white",keyPosition:"graph",keyHalign:"right",scaleZerostart:!0,keyInteractiveHighlightChartFill:"rgba(255,0,0,0.9)",keyInteractiveHighlightLabel:"rgba(255,0,0,0.2)",segmentHighlightFill:"rgba(0,255,0,0.5)",segmentHighlightStroke:"rgba(0,0,0,0)",tickmarksStyle:null,lineColors:["black"],lineVisible:!1,clearto:"rgba(0,0,0,0)"}:"odo"==t.type?i={centerx:null,centery:null,backgroundBorderColor:"black",backgroundColor:"#eeeeee",backgroundLinesColor:"#dddddd",radius:null,needleColor:"black",needleWidth:2,needleHead:!0,needleTail:!0,needleType:"pointer",needleExtra:[],needleTriangleBorder:"#aaaaaa",colorsGreenMax:null,colorsGreenColor:"radial-gradient(#c1f7c1:#82f582:#2ad42a:#00cc00)",colorsYellowColor:"radial-gradient(#e6e693:#d9d95f:#d4d42c:#dde00b)",colorsRedColor:"radial-gradient(#eda1a1:#e36f6f:#d63131:#ff0000)",colorsRedMin:null,borderUse:!0,borderColor:"radial-gradient(#bebcb0:#d4d2c7:#ebe9df:#f7f6f0:#f7f6f0:#ebe9df:#d4d2c7#bebcb0)",tickmarks:!1,tickmarksHighlighted:!0,tickmarksLargeColor:"#999999",keyPosition:"graph",contextmenu:null,resizable:!1,resizableHandleAdjust:[0,0],resizableHandleBackground:null,clearto:"rgba(0,0,0,0)"}:"meter"==t.type&&(i={colorsStroke:null,colorsGreenStart:null,colorsGreenEnd:null,colorsGreenColor:"#207A20",colorsYellowStart:null,colorsYellowEnd:null,colorsYellowColor:"#D0AC41",colorsRedStart:null,colorsRedEnd:null,colorsRedColor:"#9E1E1E",colorsRanges:null,contextmenu:null,resizable:!1,resizableHandleAdjust:[0,0],resizableHandleBackground:null,tickmarksSmallCount:100,tickmarksSmallColor:"#bbbbbb",tickmarksLargeCount:10,tickmarksLargeColor:"black",radius:null,centerx:null,centery:null,segmentsRadiusStart:0,needleRadius:null,needleType:"normal",needleTail:!1,needleHead:!0,needleHeadLength:30,needleHeadWidth:.088,needleColor:"black",needleImageUrl:null,needleImageOffsetX:0,needleImageOffsetY:0,anglesStart:DxChart.PI,anglesEnd:DxChart.TWOPI,centerpinStroke:"black",centerpinFill:"white",clearto:"rgba(0,0,0,0)"}),i.nodataShow=!0;break;case"propFunc":return t.set=function(t){var e=void 0===arguments[1]?null:arguments[1];if(1===arguments.length&&"object"==typeof t)for(var i in t)"string"==typeof i&&this.set(i.replace(".",""),t[i]);else this.properties[t.replace(".","")]=e;return this},void(t.get=function(t){return this.properties[t.replace(".","")]})}if("propFunc"!=e){for(var s in"default"==e&&(e=""),i)s&&"string"==typeof s&&0<=s.indexOf("StyleObj")||(t.properties[e+s]=i[s],0<=s.indexOf("FontStyle")?t.properties[e+s+"Obj"]=DxChart._parseFontInfo(i[s]):0<=s.indexOf("ShadowStyle")&&(t.properties[e+s+"Obj"]=DxChart._parseShadowInfo(i[s])));"shadow"==e?(t.properties.shadowStyleObj=DxChart._parseShadowInfo(i.Style),t.properties.shadowInnerStyleObj=DxChart._parseShadowInfo(i.InnerStyle),t.properties.shadowOuterStyleObj=DxChart._parseShadowInfo(i.OuterStyle)):"labels"==e&&(t.properties.labelsAboveBorderStyleObj=DxChart._parseBorderInfo(i.AboveBorderStyle))}},DxChart._findColor=function(t,e){if(t){t=t.toLowerCase();for(var i,s=["rgb","rgba","hsl","hsla"],a=s.length,o=0;o<a;o++)if(0<=(i=t.indexOf(s[o],e)))return i}return-1},DxChart._parseBorderInfo=function(t){var e={color:"black",width:"0px",_width:0,style:"none",pt:"px"};if(t&&"string"==typeof t){for(var i,s,a=t.trim(),o=(e.style="solid",[]),r=e._width=0,n=-1;;)if(i=DxChart._findColor(a,r),n=a.indexOf(" ",r),0<i&&i<n&&(i=a.indexOf(")",i),n=a.indexOf(" ",i)),r=0<n?(s=a.slice(r,n),n+1):(s=a.slice(r),a.length+1),o[o.length]=s.trim(),r>=a.length)break;3==o.length&&("number"==typeof o[0]?(e.width=o[0]+"px",e._width=o[0],e.pt="px"):(e.width=o[0],0<=o[0].indexOf("px")?(e.pt="px",e._width=parseInt(o[0].replace("px",""))):0<=o[0].indexOf("pt")&&(e.pt="pt",e._width=parseInt(o[0].replace("pt","")))),e.style=o[1],e.color=o[2])}return e},DxChart.NoDataShow=function(t){var e,i,s,a,o;DxChart.clear(t.canvas),t.properties.nodataShow&&(t.properties.nodataImage&&""!=t.properties.nodataImage?(o=t.properties.nodataImage,e=t.properties.nodataImageX,i=t.properties.nodataImageY,s=t.properties.nodataImageWidth,a=t.properties.nodataImageHeight):(o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFcAAAAeCAYAAABZn4LIAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAceSURBVGhD7Zj3U1VXEMfz1ziZjLEgRbp0EKT3XiwYS2SisfeoiAIiWEDUsWQSy5ioib2MCmqUgBnQR5HexUZxpPrN7sJ9XuGRPMy8XzL3zHxnnoc9e8/9nN09e/3CYZY7NJlGGlwTSoNrQmlwTSgNrgmlwTWhNLgm1H+Ga+/oZnBe02fCZaCOTh5wcfOBu+cckYubt8xpsD9qwnDtHFzhHxiGzKwc6HQV6Ovrw/v3vSgtfYq0XZnw9Q8WG0NrWQzf1t5FpD4IZc6QHWs8n6PtFI0+ZF6vzI+3hqX+u53Dx/18jiYElx+akJiM0rKnUMaHDx9Gfg2P4pIniIpJEFtD6z1n+yE6NgnBoVFwcvHSv0xoeCzCI+P0dl7eAYiIikdiUjJi4+bCxzdI/ze1T7aLikkUm4TEBYiNn4fA4Ai4unsLILZxcvFESFg0YsiGs8zDyxfxCfPFPiZ2ruwnntfS371m+5ONLyKjEmhPMXB2nT3mmcbKaLj8gCDa9LNnuhGMwNDQEEoIZhnBHlJBLnnyF8EIHrMpCysHbN6yXWyam1uwaPEyWNs60bw9mlta8er1a3mZEAJ/9ep11Nc3oKamVmwLC+8T6AV6YCxbe1fsTs/C4OAgenp6hm1bWlBdU4OsvTlyeDNtnARa1fPn8ty0tAwkL1yM8vJK1NXXg3c9ODCAtrY2FBc/wYLkJdi6LVWCpqPjpazlParfw1gZDZc3um9frmxQGa9evcKiJSlYtXo9Ojs7R2aHx+6MLKnBah+WMx2wfuMWKSU8Ll26QpHsDzNzWwJTh6bmZqnj165dx7t377B+w2ZM+nIKIqPjBfTDh48kKm1GAHOq70xLR39/P/Lzj2DKNCvJiMePi9Dd3U3rt+CryTMIaDoaG5sEWNGfxRLV08xmykE905WjtbUNQSERtN5SfJ/75QL6evvFL/swaeSycw8vP4kM9XjxogPfpqzAmnWb8ObNm5HZ4aF7Vg4nZ89P/DDcDRu3Uo1+T5HSLgBSd6bLfHV1rcCNphRn+JcuX8XU6VZyQAxix87d4pdfljOA/anhHj9+UmBxFnC6D9Dc+QsXZe83b94miDoUFRWhi54ZRyWB13J5qKioRHt7O0VoEmZY2GExBcuLjg6cP/+bgH9EB+XrHyL26ncxRkbD5do2ODgkL6gM3sSylO+xVuC+HZkdHr29vRLtaj8KXE7FEyd/woOHf1BENSIgMJzStlpSOiMzS2Dl5h2WlNav27RVSk/Gnmx9mhqCa2PnTLU1CfUNDbh//wE20jouK9k5B7B02Xd4+7YTeYcOY5azxydwY2IT5Tlsx4ESGZ2AQ/lH6TB6EEr1mv2q38UYGQ13tk/AMDXV4Jr0zeIUrFi5dkzkvv8HuDy2/pBKUb9covfY8R9RV1ePxqYm7D+QJ5G7N3u/HqICl9M6IzNbD90QXGtbZ4n+hoZGKi83cDA3nw5lSErKrVu3xbeOIpIzgi8uBS6XHl+/YNy9ew8DVIPv3LmH53TgPNJ2ZdBheE64PEygLPhSWaiRhymjf6Af12/cwt17hbShwZHZ4aErr5BbWu1HDZchzbCwxcWLv0u97uzskmhLoEuLywbPT51urS8LDJEv0NVrN4of9mcIruVMR4rQ5bS3AVy+co32dxOVVVUCmVvF02fOiX++K9SRy9GZvHAplboXciipOzOwbXsatZhlcmF7zwmacGmY4IWWJ2CUwSf886mz+JXq0+AouHv25Bi80BS4mfT3aWbWlBGB+ghpoBLBlw1Hj1xodPlN+nKqtFociQXUMXCPzRDZnxouX2jTyV/S3OFWkaNzb85+dLx8iX37c+Ugzcxt4BcQKod56vRZuUcYLncK8YnzcCD3EN5SeeNS9/VUC0yeYk4l5Ai66OCjqEyYJHJZ7DgoJArlukoBwaOvrx851EEcPXZColgZpWVlmEMpNnoz6lYsO+cgzC3tYE4XUDp1FhxNDIJbsbCIWMqGArRRRNXW1qGF2rSCgkKJagUsa3Qrxh1FO12yBYUPpDRwfeaxdt1mueh4DZeNltZWiVbuaWvr2H8LVq5aQ61YicDm+st2VtazsCN1l+ztzNlzsjfl2cbIaLgshjVv/iJ9z8ijq6tbXkwZ3Adzb2jolHmOo4UvC74g+d8sV3cfhBPQ0PBosbNzcKM0DEQEfVRws8+gOC0VH2qfXt7+1PDHy4dAHH1AsC1/cNgReL4n+EOEPxyUdRzt3K7xAXJm8W8uCVwi+HdQSKRkqb3jx3LIHzeBQRFjMvHfNCG4LHt6cd4A17CqqudSGjgtua7xTesXECY2htayeMMcfWpIypw6KhmwMscar96p1462NfQslmLHv9lWsVGvVTTevDGaMFwWP5BvT/7PGjcPHxH//pwb9f+sz4KryThpcE0oDa4JpcE1oTS4JpQG14TS4JpQGlyTyR1/A/jyZyoYvDOxAAAAAElFTkSuQmCC",e=t.canvas.width/2-43,i=t.canvas.height/2-20),new DxChartImage({src:o,elem:t.elem,id:t.id,canvas:t.canvas,x:e,y:i,width:s,height:a,options:{imageStyle:"rect",halign:"center",valign:"center"}}).draw())},DxChart.parseGradient=function(t,e,i,s,a,o,r,n,h){if(!e||"string"!=typeof e)return e;if("string"==typeof e&&0<=e.toLowerCase().indexOf("linear-gradient")){var l=o;if(o=i+a,r=s+l,(e=e.toLowerCase()).match(/linear-gradient\((\{[^}]+\})\)/)){var c,a=(a=RegExp.$1).replace(/(['"])?([a-z0-9A-Z_]+)(['"])?:/g,'"$2": '),x=JSON.parse(a),d=(c="number"==typeof x.r1&&"number"==typeof x.r2?t.context.createRadialGradient(x.x1,x.y1,x.r1,x.x2,x.y2,x.r2):t.context.createLinearGradient(x.x1,x.y1,x.x2,x.y2),1/(x.colors.length-1));c.addColorStop(0,DxChart.trim(x.colors[0]));for(var u=1,g=x.colors.length;u<g;++u)c.addColorStop(u*d,DxChart._rgba2hex(DxChart.trim(x.colors[u]))[0]);return c}h&&(0<=e.indexOf("to left full,")?e=e.replace("to left full,","to right full,"):0<=e.indexOf("to right full,")?e=e.replace("to right full,","to left full,"):0<=e.indexOf("to left,")?e=e.replace("to left,","to right,"):0<=e.indexOf("to right,")&&(e=e.replace("to right,","to left,"))),c=0<=e.indexOf("to bottom full,")?DxChart.parseLinearGradientInfo(t,e,t.marginLeft,t.marginTop,t.marginLeft,t.canvas.height-t.marginBottom):0<=e.indexOf("to left full,")?DxChart.parseLinearGradientInfo(t,e,t.canvas.width-t.marginRight,t.marginTop,t.marginLeft,t.marginTop):0<=e.indexOf("to right full,")?DxChart.parseLinearGradientInfo(t,e,t.marginLeft,t.marginTop,t.canvas.width-t.marginRight,t.marginTop):0<=e.indexOf("to top full,")?DxChart.parseLinearGradientInfo(t,e,t.marginLeft,t.canvas.height-t.marginBottom,t.marginLeft,t.marginTop):0<=e.indexOf("to right bottom full,")?DxChart.parseLinearGradientInfo(t,e,t.marginLeft,t.marginTop,t.canvas.width-t.marginRight,t.canvas.height-t.marginBottom):0<=e.indexOf("to bottom,")?DxChart.parseLinearGradientInfo(t,e,i,s,i,r):0<=e.indexOf("to left,")?DxChart.parseLinearGradientInfo(t,e,o,s,i,s):0<=e.indexOf("to right,")?DxChart.parseLinearGradientInfo(t,e,i,s,o,s):0<=e.indexOf("to top,")?DxChart.parseLinearGradientInfo(t,e,i,r,i,s):0<=e.indexOf("to right bottom,")?DxChart.parseLinearGradientInfo(t,e,i,s,o,r):DxChart.parseLinearGradientInfo(t,e,t.marginLeft,t.marginTop,t.marginLeft,t.canvas.height-t.marginBottom)}else"string"==typeof e&&e.toLowerCase().indexOf("radial-gradient");return c||e},DxChart._Base=function(i,t){var e=i.id,s=i.data,a=i.owner?i.owner.canvas:i.elem||document.getElementById(e);i.binddataset&&i.datachangeevent&&i.datachangeevent.Use&&i.binddataset.addEventHandler("oncolumnchanged",function(t,e){-1<s.indexOf("bind:"+e.columnid)&&(this.resetData(s),(this[sEffect=i.datachangeevent.Effect||"draw"]||this.draw).call(this),DxChart.redrawCanvas(a))},this),this.elem=i.elem,this.__orgdata__=i.data,this.id=t+e,this.canvas=a,this.context=this.canvas.getContext("2d"),(this.canvas.__object__=this).type=t,this.max=0,this.stackedOrGrouped=!1,this.coords=[],this.coords2=[],this.coords.key=[],this.coordsText=[],this.coordsLineCurve=[],this.coordsAxes={xaxis:[],yaxis:[]},this.hasnegativevalues=!1,this.isDxChart=!0,this.DxChart=!0,this.uid=this.canvas.uid?t+this.canvas.uid:DxChart.createUID(),this.canvas.uid=this.uid,this.colorsParsed=!1,this.original_colors=[],this.firstDraw=!0,this.stopAnimationRequested=!1,this.cachedBackgroundCanvas=null,this.properties={},this.orgData=null,DxChart.Effects&&"function"==typeof DxChart.Effects.decorate&&DxChart.Effects.decorate(this),this.responsive=DxChart.responsive,this.initZoom=function(){this.cameraOffset={x:this.canvas.width/2,y:this.canvas.height/2},this.cameraZoom=1},this.exec=function(t){return t(this),this},this.set=function(t){var e=void 0===arguments[1]?null:arguments[1];if(1===arguments.length&&"object"==typeof t)for(var i in t)"string"==typeof i&&this.set(i.replace(".",""),t[i]);else this.properties[t.replace(".","")]=e,"rscatter"!=this.type&&"scatter"!=this.type||"tooltipsData"===t&&"string"==typeof e&&this.populateTooltips();return this},this.get=function(t){return this.properties[t.replace(".","")]},this.on=function(t,e){return"function"!=typeof this[t]?this[t]=e:DxChart.addCustomEventListener(this,t,e),this},this.parseSingleColorForGradient=function(t){var e,i,s,a,o,r,n;return t&&"string"==typeof t&&(n=this.properties,a="string"==typeof arguments[1]?arguments[1]:"vertical","string"==typeof t&&0<=t.toLowerCase().indexOf("linear-gradient")?e=0<=(t=t.toLowerCase()).indexOf("to bottom,")?DxChart.parseLinearGradientInfo(this,t,this.marginLeft,this.marginTop,this.marginLeft,this.canvas.height-this.marginBottom):0<=t.indexOf("to left,")?DxChart.parseLinearGradientInfo(this,t,this.canvas.width-this.marginRight,this.marginTop,this.marginLeft,this.marginTop):0<=t.indexOf("to right,")?DxChart.parseLinearGradientInfo(this,t,this.marginLeft,this.marginTop,this.canvas.width-this.marginRight,this.marginTop):0<=t.indexOf("to top,")?DxChart.parseLinearGradientInfo(this,t,this.marginLeft,this.canvas.height-this.marginBottom,this.marginLeft,this.marginTop):0<=t.indexOf("to right bottom,")?DxChart.parseLinearGradientInfo(this,t,this.marginLeft,this.marginTop,this.canvas.width-this.marginRight,this.canvas.height-this.marginBottom):"horizontal"==a?DxChart.parseLinearGradientInfo(this,t,0,0,this.canvas.width,0):DxChart.parseLinearGradientInfo(this,t,0,this.canvas.height-this.properties.marginBottom,0,this.properties.marginTop):"string"==typeof t&&0<=t.toLowerCase().indexOf("radial-gradient")&&(a="donut"==n.variantValue?"number"==typeof n.variantDonutWidth?this.radius-n.variantDonutWidth:this.radius/2:0,o=i=this.centerx,r=s=this.centery,n=Math.min(this.canvas.width-n.marginLeft-n.marginRight,this.canvas.height-n.marginTop-n.marginBottom)/2,"semicircle"==this.type&&(n=this.radius),e=DxChart.parseRadialGradientInfo(this,t,o,r,a,i,s,n)),e)||t},this.path=DxChart.pathObjectFunction},DxChart._BeforeDraw=function(t,e){var i=t.properties;"string"==typeof i.backgroundImage&&DxChart.drawBackgroundImage(t),DxChart._fireEvent(t,"onbeforedraw"),DxChart._fireEvent(t,"onresizebeforedraw"),t.canvas.__initTranslated__||(t.context.translate(.5,.5),t.canvas.__initTranslated__=!0),t.marginLeft=i.marginLeft,t.marginRight=i.marginRight,t.marginTop=i.marginTop,t.marginBottom=i.marginBottom,t.marginInner=i.marginInner,i.marginLeft_org&&(t.properties.marginLeft=parseInt(t.canvas.width*(parseFloat(i.marginLeft_org.replace("%"))/100)),t.marginLeft=t.properties.marginLeft),t.properties.marginCenter_org&&(t.properties.marginCenter=parseInt(t.canvas.width*(parseFloat(i.marginCenter_org.replace("%"))/100)),t.marginCenter=t.properties.marginCenter),t.properties.marginRight_org&&(t.properties.marginRight=parseInt(t.canvas.width*(parseFloat(i.marginRight_org.replace("%"))/100)),t.marginRight=t.properties.marginRight),t.properties.marginTop_org&&(t.properties.marginTop=parseInt(t.canvas.height*(parseFloat(i.marginTop_org.replace("%"))/100)),t.marginRight=t.properties.marginTop),t.properties.marginBottom_org&&(t.properties.marginBottom=parseInt(t.canvas.height*(parseFloat(i.marginBottom_org.replace("%"))/100)),t.marginRight=t.properties.marginBottom),e||"function"!=typeof t.parseColors||t.colorsParsed||(t.colorsParsed=!0,t.parseColors()),isNexacroRuntime&&DxChart.makeTooltipRuntime(t),0==DxChart[DxChart.randomKey]&&DxChart.drawTrialMark(t)},DxChart.drawTrialMark=function(t){var o,e,r=t.context;r.beginPath(),isNexacroRuntime?((o={}).src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAAAVCAYAAADo49gpAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAUkSURBVFhH7ZlbaBZHFMe7uYANFavmSYVW0BelGiWlprkZ9UXB1BelYMELKeiDGClo7CWW0ovxwQcVFC+YQhVsFTSFgmCae6KQ+kUFS9EnwQgqRkmJgdz6+29nPiab/bL7NQoSu7DM7MyZy/nNOWfOl3hvpHhaWloWj4yMlNGdp9fzvB6+l6eSnwzt6Ng4PDz8NmUXunah0++lpaW3wnTzwhqbm5u/on0h7wNNkJGR0VVcXHxjMsCJ0qGtrS1vaGgoD71lLLORT5SUlHwfHDcKXHt7+4yBgYF6BtQhvC9qkdehv6mp6Vt4rM7JyVmRn5//zOqcBCdog4ODFxCqfF2sK+7BA28JXA4Cb52FlwRHZwKX3Pw/tHCchK+l9BzHE/Ml4YMzMS0rjnu2trZeGuPvnvdnYWFhlW1H5ifqUzmlYHsF7WslRwyptodEXNnD9zrkcyn76G6nPGb77ZqZmZknCwoKfo1rKS9aDk7fMeffcPrBM7fnXj4+jrMQSo6EyaFoD+27i4qKTgocEDbS1o+yG6yytN+nfRbtN5FbrHlo66BtWXBOZLp51wies2YVB1QTZ59xZZj7jmSZd36cMcD7Bc/82qNSyYB3ALcrzkBXCWM571KWGyD9KLvMKKsNzbOQwmDKkhhXbuapoy5L03ybqU+hvCuFXjI43xBYJzTDCDKB1yHa7ghcLZttIF/5MR1w7kKyWhRt4J3OXGewpk+AUsH3CTNnDe07BcP2G2t7HmxTu1yXYr/q5FV5SocM3DPIf2AOpJ+ylrW2m7m0nsbNM7LygHPqdw7oLus/loVT3qZc4OpMWx3yH43HAV23IFcscF1MsCnupWBPP3hC7uas2bsWZZTpZmPKjcbAGW99u6Zcn6FPeN/UIWkeoJaTDdzj+6o5hJuUj+haaQBUMe5DWbbGG5lu+h5Sf8uCphTUK/YgUsFTnsd6pxXjGti0fiHEetIBZyzRV8hMXmMvEdeqotzEAedbRNDCiaPnSFp18fTK2o0F+rFTVqRvJyR8qjhslU2lT4TVNXhKQ7Kysrawed8dop50wCErd5P72KeedVbp47+AY1jycjBBXTHUh9nR0bFW8Kz70T7ThA4XnB8zXR3TBaecjvGn5KqnqTRxOdRGQTMKhwZT3PIGG12EjA8nYBVyH/Xp8ZVXv41dLhAJmLHfqK60JUzOBac0BWg/2wvFxLFchvtgNY+xuAmDY29bibuFsridzDuXy0G3a+QTdkL2xtRgxRylH8hd4XOl0hTeMjZ+zLiOG+fszduN8tuctMW6WQ/WNCPsVnXBOWCSFm3TnBcNDkM7zHp/Cdx7KFSNxa2PpIZAqjzOWEfojaq45sa7gHtZS9EUCtBzgjExBrhexihv9G9S6nJH/3KIC055I+OUsPuhJNUDuPP0VdtfDp8zMAer+zIKXhg45Woseta6IPXfeGcJhBtT3FyOvh0K0iY26Ye0dWUpKyUO2WQ3CpxxZylkUxEfgrH4cV2VPR1FblTemIoBRrafeZ9gZAeSSR8k/2ADFcBLRMF7Wf2COJGfVLJq7S1uapWOHo2Nje8Tho4ATXnkv79V9XR2dk7r6+u7SPUzOq+nM+lklzXQDih+4yW9o8A58OqpXwbeF5MdSBz9jHuWAW2VhTYGnJ0It91LXX9GeYBP689Nibh5XpzNvMoyytPQdwlhS3+D0x8krimmBfec8octQXMh+coKBviTMNlTyuWvstIT3Rug9D+HacyTkMFkZ2fXE3N1yYx5/gH0+Y5+bGT4MAAAAABJRU5ErkJggg==",((o.__object__=this).__icon__=o).handle=nexacro._getImageObject(o.src,function(t,e,i,s){o.__loaded__=!0;var a=o.__object__;o.width=e,o.height=i,o.imagewidth=e,o.imageheight=i,r.drawImage(o,a.centerx-o.width/2,a.centery-a.radius+35),o.__object__=null},this,"",!1)):((e=new Image).src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAAAVCAYAAADo49gpAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAUkSURBVFhH7ZlbaBZHFMe7uYANFavmSYVW0BelGiWlprkZ9UXB1BelYMELKeiDGClo7CWW0ovxwQcVFC+YQhVsFTSFgmCae6KQ+kUFS9EnwQgqRkmJgdz6+29nPiab/bL7NQoSu7DM7MyZy/nNOWfOl3hvpHhaWloWj4yMlNGdp9fzvB6+l6eSnwzt6Ng4PDz8NmUXunah0++lpaW3wnTzwhqbm5u/on0h7wNNkJGR0VVcXHxjMsCJ0qGtrS1vaGgoD71lLLORT5SUlHwfHDcKXHt7+4yBgYF6BtQhvC9qkdehv6mp6Vt4rM7JyVmRn5//zOqcBCdog4ODFxCqfF2sK+7BA28JXA4Cb52FlwRHZwKX3Pw/tHCchK+l9BzHE/Ml4YMzMS0rjnu2trZeGuPvnvdnYWFhlW1H5ifqUzmlYHsF7WslRwyptodEXNnD9zrkcyn76G6nPGb77ZqZmZknCwoKfo1rKS9aDk7fMeffcPrBM7fnXj4+jrMQSo6EyaFoD+27i4qKTgocEDbS1o+yG6yytN+nfRbtN5FbrHlo66BtWXBOZLp51wies2YVB1QTZ59xZZj7jmSZd36cMcD7Bc/82qNSyYB3ALcrzkBXCWM571KWGyD9KLvMKKsNzbOQwmDKkhhXbuapoy5L03ybqU+hvCuFXjI43xBYJzTDCDKB1yHa7ghcLZttIF/5MR1w7kKyWhRt4J3OXGewpk+AUsH3CTNnDe07BcP2G2t7HmxTu1yXYr/q5FV5SocM3DPIf2AOpJ+ylrW2m7m0nsbNM7LygHPqdw7oLus/loVT3qZc4OpMWx3yH43HAV23IFcscF1MsCnupWBPP3hC7uas2bsWZZTpZmPKjcbAGW99u6Zcn6FPeN/UIWkeoJaTDdzj+6o5hJuUj+haaQBUMe5DWbbGG5lu+h5Sf8uCphTUK/YgUsFTnsd6pxXjGti0fiHEetIBZyzRV8hMXmMvEdeqotzEAedbRNDCiaPnSFp18fTK2o0F+rFTVqRvJyR8qjhslU2lT4TVNXhKQ7Kysrawed8dop50wCErd5P72KeedVbp47+AY1jycjBBXTHUh9nR0bFW8Kz70T7ThA4XnB8zXR3TBaecjvGn5KqnqTRxOdRGQTMKhwZT3PIGG12EjA8nYBVyH/Xp8ZVXv41dLhAJmLHfqK60JUzOBac0BWg/2wvFxLFchvtgNY+xuAmDY29bibuFsridzDuXy0G3a+QTdkL2xtRgxRylH8hd4XOl0hTeMjZ+zLiOG+fszduN8tuctMW6WQ/WNCPsVnXBOWCSFm3TnBcNDkM7zHp/Cdx7KFSNxa2PpIZAqjzOWEfojaq45sa7gHtZS9EUCtBzgjExBrhexihv9G9S6nJH/3KIC055I+OUsPuhJNUDuPP0VdtfDp8zMAer+zIKXhg45Woseta6IPXfeGcJhBtT3FyOvh0K0iY26Ye0dWUpKyUO2WQ3CpxxZylkUxEfgrH4cV2VPR1FblTemIoBRrafeZ9gZAeSSR8k/2ADFcBLRMF7Wf2COJGfVLJq7S1uapWOHo2Nje8Tho4ATXnkv79V9XR2dk7r6+u7SPUzOq+nM+lklzXQDih+4yW9o8A58OqpXwbeF5MdSBz9jHuWAW2VhTYGnJ0It91LXX9GeYBP689Nibh5XpzNvMoyytPQdwlhS3+D0x8krimmBfec8octQXMh+coKBviTMNlTyuWvstIT3Rug9D+HacyTkMFkZ2fXE3N1yYx5/gH0+Y5+bGT4MAAAAABJRU5ErkJggg==",e.onload=function(){r.drawImage(e,5,5)})},DxChart.drawTrialMark_old=function(t){var t=t.context,e=(t.beginPath(),t.lineWidth),i=t.strokeStyle,s=DxChart.getRadiusEndPoint(20,20,DxChart.PI-DxChart.HALFPI/3,15),a=DxChart.getRadiusEndPoint(20,20,DxChart.TWOPI-DxChart.HALFPI/3,15);t.strokeStyle="#EA5826",t.lineWidth=3,isNexacroRuntime&&(t.setElementStrokeStyle(t.strokeStyle),t.setElementLineWidth(t.lineWidth)),t.beginPath(),t.moveTo(s[0],s[1]),t.lineTo(s[0],s[1]),t.lineTo(17,18),t.lineTo(23,25),t.lineTo(a[0],a[1]),t.stroke(),t.strokeStyle="#229EFD",isNexacroRuntime&&t.setElementStrokeStyle(t.strokeStyle),t.beginPath(),t.arc(20,20,15,0,DxChart.TWOPI),t.stroke(),i&&(t.strokeStyle=i,isNexacroRuntime)&&t.setElementStrokeStyle(i),e&&(t.lineWidth=e,isNexacroRuntime)&&t.setElementLineWidth(t.lineWidth)},DxChart.checkLC=function(){var t,e,i=new Date,i=(i.getFullYear(),(i.getMonth()+1+"").padLeft(2,"0"),(i.getDate()+"").padLeft(2,"0"),DxChart.randomKey="L"+DxChart.random(1e3,2e3),!(DxChart[DxChart.randomKey]=!1)),s=!1;"undefined"!=typeof DxChartLicense&&(e=DxChartLicense.Customer+"|"+DxChartLicense.Project+"|"+DxChartLicense.Domain+"|"+DxChartLicense.Expired,DxChartLicense.skip&&(e=e+"|"+DxChartLicense.skip,s=!0),DxChart.genKey(),t=isNexacroRuntime||!window.location?((t=(t=(t=0==(i=nexacro.getApplication()?i:!1)?"":nexacro._project_url||nexacro.getApplication().xadl).toLowerCase())||"").indexOf("http")<0&&(DxChart[DxChart.randomKey]=!1),(t.split("/")[2]||"").split(":")[0]):window.location.hostname,e=(e=DxChart.encryptAES(e)).replace(/\+/g,"^").replace(/\=/g,"*"),1==i)&&e==DxChartLicense.License&&(s||0<=DxChartLicense.Domain.indexOf(t)&&("unlimit"==DxChartLicense.Expired||(i=new Date(parseInt(DxChartLicense.Expired.substr(0,4)),parseInt(DxChartLicense.Expired.substr(4,2))-1,parseInt(DxChartLicense.Expired.substr(6,2)),23,59,59,9,999),e=new Date,i.getTime()>e.getTime())))&&(DxChart[DxChart.randomKey]=!0)},DxChart.checkLC(),DxChart.isString=function(t){return"string"==typeof t},DxChart.isNumber=function(t){return"number"==typeof t},DxChart.isTextual=function(t){return"string"==typeof t||"number"==typeof t},DxChart.isNumeric=function(t){return t=String(t),Boolean(t.match(/^[-.0-9]+$/))||Boolean(t.match(/^[-.0-9]+e[-0-9]+$/))||"Infinity"===t||"-Infinity"===t||Boolean(t.match(/^[-.0-9]+x[0-9a-f]+$/i))},DxChart.isBool=DxChart.isBoolean=function(t){return"boolean"==typeof t},DxChart.isObject=function(t){return!!(t&&"object"==typeof t&&0<t.constructor.toString().toLowerCase().indexOf("object"))},DxChart.isFunction=function(t){return"function"==typeof t},DxChart.isUndefined=function(t){return void 0===t}}(window,document),String.prototype.format=function(){if(0===arguments.length)return e=(e=this).match(/{[a-z0-9]+?}/i)?this.replace(/{[a-z0-9]+?}/gi,function(t,e){return t=(t=t.substr(1)).substr(0,t.length-1),window[t]}):e;if(1===arguments.length&&DxChart.isArray(arguments[0]))return this.format.apply(this,arguments[0]);var t,e,i=arguments;for(t in i)DxChart.isNull(i[t])&&(i[t]="null");return(e=(e=(e=this.replace(/{(\d+)}/g,function(t,e){return void 0!==i[e-1]?i[e-1]:t})).replace(/(?:%|\\)%(\d)/g,"__PPEERRCCEENNTT__$1")).replace(/%(\d+)/g,function(t,e){return void 0!==i[e-1]?i[e-1]:t})).replace("__PPEERRCCEENNTT__","%")},"undefined"!=typeof nexacro&&window&&window.addEventListener&&window.addEventListener("resize",function(){DxChart.redraw()}),window?DxChart=window.DxChart||{isDxChart:!0,DxChart:!0}:(window=nexacro,navigator={userAgent:"nexacro"},DxChart=nexacro.DxChart||{isDxChart:!0,DxChart:!0},nexacro.DxChart||(nexacro.DxChart=DxChart),document={}),!function(a){navigator.userAgent;DxChart._replaceTouchEvent=function(t,e){if(t.type&&0<=t.type.indexOf("touch")){var i=t.targetTouches,s=t;if(i&&i[0]){var a,o=i[0];for(a in o)t[a]=o[a];t.offsetX=t.pageX,t.offsetY=t.pageY,t.target||(t.target=e),t.offsetLeft=t.offsetTop=0,t.type=s.type}}return t},DxChart.installCanvasResizeListener=function(t){var s=t.canvas;isNexacroRuntime&&(s=t.canvas._refform),DxChart.window_onsize_event_listener||(DxChart.window_onsize_event_listener=function(t){var e=t.target.__object__,i=e.onsize;i&&i(e,t),DxChart.redrawCanvas(s)},isNexacroRuntime)||isNexacroFramework||a.addEventListener("resize",DxChart.window_onsize_event_listener,!1)},DxChart.installWindowMousedownListener=function(i){var s=i.canvas;isNexacroRuntime&&(s=i.canvas._refform),DxChart.window_mousedown_event_listener||(DxChart.window_mousedown_event_listener=function(t){t=DxChart._replaceTouchEvent(t,i),0<=navigator.userAgent.indexOf("Firefox")&&(a.event=t);var e=DxChart.Registry.get("tooltip");DxChart.hideTooltip&&e&&"slide"!==e.__object__.get("tooltipsEffect")&&(DxChart.clear(DxChart.Registry.get("tooltip").__canvas__),DxChart.redrawCanvas(s),DxChart._timerHideTooltip()),"touchstart"==t.type&&s.DxChart_mousemove_event_listener(t)},isNexacroRuntime)||(a.addEventListener("mousedown",DxChart.window_mousedown_event_listener,!1),a.addEventListener("touchstart",DxChart.window_mousedown_event_listener,!1))},DxChart.installCanvasWheelListener=function(t){t.canvas;isNexacroRuntime&&t.canvas._refform,DxChart.window_wheel_event_listener||(DxChart.window_wheel_event_listener=function(t){if(t.target.__object__&&("org"==t.target.__object__.type||"tree"==t.target.__object__.type||"map"==t.target.__object__.type))if("map"==t.target.__object__.type)for(var e=DxChart.REG.getObjectsByCanvasID(t.target.id),i=0;i<e.length;++i)e[i].adjustZoom(t,e[i]);else t.target.__object__.adjustZoom(t,t.target.__object__)},isNexacroRuntime)||a.addEventListener("wheel",DxChart.window_wheel_event_listener)},DxChart.installWindowMouseupListener=function(t){t.canvas;isNexacroRuntime&&t.canvas._refform,DxChart.window_mouseup_event_listener||(DxChart.window_mouseup_event_listener=function(t){var e,i;"touchend"==t.type&&DxChart.hideTooltip(),t=DxChart._replaceTouchEvent(t,e),0<=navigator.userAgent.indexOf("Firefox")&&(a.event=t),DxChart.annotating_window_onmouseup?DxChart.annotating_window_onmouseup(t):((DxChart.Registry.get("changing")||DxChart.Registry.get("changing.gantt"))&&((e=DxChart.Registry.get("changing"))&&"line"===e.type&&(e.data_arr=DxChart.arrayLinearize(e.data)),DxChart._fireEvent(DxChart.Registry.get("changing"),"onadjustend")),DxChart.Registry.set("changing",null),DxChart.Registry.set("changing.shape",null),DxChart.Registry.set("changing.gantt",null),e&&e.canvas&&(t=e.canvas,i=!1,e.isDxChart&&e.get("annotationValue")&&(canvas.__DxChart_trace_cover__?DxChart.clear(t):i=!0),i||DxChart.redrawCanvas(t)))},isNexacroRuntime)||(a.addEventListener("mouseup",DxChart.window_mouseup_event_listener,!1),a.addEventListener("touchend",DxChart.window_mouseup_event_listener,!1))},DxChart.installCanvasMousemoveListener=function(t){var e=t.canvas;(e=isNexacroRuntime?t.canvas._refform:e).DxChart_mousemove_event_listener||(e.DxChart_mousemove_event_listener=function(t,e){if(t=DxChart._replaceTouchEvent(t,r),(t=isNexacroRuntime?DxChart.FixEventObject(t,e):t).target.__object__&&("org"==t.target.__object__.type||"tree"==t.target.__object__.type||"map"==t.target.__object__.type))if("map"==t.target.__object__.type)for(var i=DxChart.REG.getObjectsByCanvasID(t.target.id),s=0;s<i.length;++s)i[s].onPointerMove(t);else t.target.__object__.onPointerMove(t);if(0<=navigator.userAgent.indexOf("Firefox")&&(window.event=t),t.target.__object__&&t.target.__object__.get("annotationValue")&&DxChart.annotating_canvas_onmousemove)DxChart.annotating_canvas_onmousemove(t);else{var a=[];if((i=DxChart.REG.getObjectsByXY(t))&&0<i.length){for(var s=0,o=i.length;s<o;s+=1){var r=i[s];r.id;if(a[r.uid]=!0,"function"==typeof r.getShape){var n=r.getShape(t);if(DxChart.last_mouseover_uid&&DxChart.last_mouseover_uid!==r.uid&&(DxChart._fireEvent(DxChart.last_mouseover_object,"onmouseout"),DxChart.last_mouseover_object.__mouseover_shape_index__=null,DxChart.last_mouseover_object.__mouseover_shape__=null,DxChart.last_mouseover_object=null,DxChart.last_mouseover_uid=null),(!n&&"number"==typeof r.__mouseover_shape_index__||n&&"number"==typeof r.__mouseover_shape_index__&&n.index!==r.__mouseover_shape_index__)&&DxChart._fireEvent(r,"onmouseout"),r.coords&&r.coords.key&&r.coords.key.length)for(var h=DxChart.getMouseXY(t),s=0,l=!1;s<r.coords.key.length;++s)h[0]>=r.coords.key[s][0]&&h[0]<=r.coords.key[s][0]+r.coords.key[s][2]&&h[1]>=r.coords.key[s][1]&&h[1]<=r.coords.key[s][1]+r.coords.key[s][3]&&(DxChart.Registry.set("key-element",r.coords.key[s]),l=!0),l||DxChart.Registry.set("key-element",null);else"gantt"!=r.type&&1!=r._isrange||(h=DxChart.getMouseXY(t));var c,x=null,d=null;if(x||"function"!=typeof r.onmousemove||(x=r.onmousemove),n&&"object"==typeof r["$"+(c=n.sequentialIndex)]&&"function"==typeof r["$"+c].onmousemove&&(d=r["$"+c].onmousemove),!n||"function"!=typeof x&&"function"!=typeof d&&"string"!=typeof r.get("link"))"string"==typeof r.get("eventsMousemoveRevertto")&&(DxChart.cursor.push("default"),r.set("eventsMousemoveRevertto",null));else if(null==r.get("eventsMousemoveRevertto")&&(isNexacroRuntime?r.set("eventsMousemoveRevertto",t.target.cursor):r.set("eventsMousemoveRevertto",t.target.style.cursor)),"function"==typeof x&&(DxChart.custom_events_mousemove_pointer=x(t,n)),"function"==typeof d&&(DxChart.custom_events_mousemove_pointer=DxChart.custom_events_mousemove_pointer||d(t,n)),"object"==typeof DxChart.events&&"object"==typeof DxChart.events[r.uid])for(var s in DxChart.events[r.uid])"string"==typeof s&&"object"==typeof DxChart.events[r.uid][s]&&"onmousemove"===DxChart.events[r.uid][s][1]&&"function"==typeof DxChart.events[r.uid][s][2]&&DxChart.events[r.uid][s][2](r);if((x=null)||"function"!=typeof r.onmouseover||(x=r.onmouseover),n?"object"==typeof r["$"+(c=n.sequentialIndex)]&&"function"==typeof r["$"+c].onmouseover&&(d=r["$"+c].onmouseover):(r.__mouseover_shape_index__=null,DxChart.__mouseover_objects__=[],DxChart.last_mouseover_uid=null,DxChart.last_mouseover_object=null,"gantt"==r.type&&(DxChart.Registry.set("changing.ganttpoint",!1),DxChart.evaluateCursor(t))),void 0===DxChart.__mouseover_objects__&&(DxChart.__mouseover_objects__=[],DxChart.last_mouseover_uid=null,DxChart.last_mouseover_object=null),n){var u=DxChart.Registry.get("treehighlight");if(u&&u.cube!=n.cube&&r.removeHighlight(u),"tree"!=r.type&&"map"!=r.type||r.highlight(n),r.__mouseover_shape_index__===n.index==!1&&(r.__mouseover_shape__=n,r.__mouseover_shape_index__=n.index,DxChart.last_mouseover_uid=r.uid,DxChart.last_mouseover_object=r,DxChart.__mouseover_objects__.push(r),x&&x(t,n),d&&d(t,n),"object"==typeof DxChart.events)&&"object"==typeof DxChart.events[r.uid])for(var s in DxChart.events[r.uid])"string"==typeof s&&DxChart.events[r.uid][s]&&"object"==typeof DxChart.events[r.uid][s]&&"onmouseover"===DxChart.events[r.uid][s][1]&&"function"==typeof DxChart.events[r.uid][s][2]&&DxChart.events[r.uid][s][2](r)}else r.__mouseover_shape_index__=null,DxChart.__mouseover_objects__=[],DxChart.last_mouseover_uid=null,DxChart.last_mouseover_object=null;var g=DxChart.Registry.get("tooltip"),x=r.get("tooltips")||r.get("tooltipsData"),d=r.get("tooltipsEvent");if(n&&(x&&x[n.index]||n.tooltip)&&-1!==d.indexOf("mousemove")&&(DxChart.isNull(g)||r.uid!=g.__object__.uid||g.__index__!=n.sequentialIndex||g&&g.__shape__&&"number"==typeof n.dataset&&n.dataset!=g.__shape__.dataset))return void(isNexacroRuntime?DxChart.runtimeCanvasMouseupListener(r,n,t):r.canvas.DxChart_mouseup_event_listener(t));if(r&&r.get("changeableValue"))return"gantt"!=r.type&&!0!==r._isrange||DxChart.evaluateCursorNew(r,t,n,h),void r.changing_mousemove(t,n);if(n||r.overChartArea&&r.overChartArea(t))break;(u=DxChart.Registry.get("treehighlight"))&&!n&&u.obj.removeHighlight(u)}}for(i=DxChart.REG.getObjectsByCanvasID(t.target.id),s=0;s<i.length;++s)a[i[s].uid]||(i[s].__mouseover_shape_index__=null);(g=DxChart.Registry.get("tooltip"))&&!n&&r&&DxChart._timerHideTooltip(r)}else{for(i=DxChart.REG.getObjectsByCanvasID(t.target.id),s=0;s<i.length;s++)"number"==typeof i[s].__mouseover_shape_index__&&DxChart._fireEvent(i[s],"onmouseout"),i[s].__mouseover_shape_index__=null,"heatmap"==i[s].type&&1==DxChart._MouseDownFlag&&(n=i[s].getShape(t))&&i[s].get("changeableValue")&&i[s].changing_mousemove(t,n);DxChart.__mouseover_objects__=[],DxChart.last_mouseover_uid=null,DxChart.last_mouseover_object=null,(g=DxChart.Registry.get("tooltip"))&&(DxChart._timerHideTooltip(r),DxChart.redrawCanvas(g.__canvas__)),(u=DxChart.Registry.get("treehighlight"))&&u.obj.removeHighlight(u)}t.target&&t.target.__object__&&t.target.__object__.get("crosshairsUse")&&DxChart.drawCrosshairs(t,t.target.__object__),DxChart.evaluateCursor(t)}},isNexacroRuntime?(t.canvas.setEventHandler("onmousemove",e.DxChart_mousemove_event_listener,e),t.canvas.setEventHandler("ontouchmove",e.DxChart_mousemove_event_listener,e)):(e.addEventListener("mousemove",e.DxChart_mousemove_event_listener,!1),e.addEventListener("touchmove",e.DxChart_mousemove_event_listener,!1)))},DxChart.FixEventObject=function(t,e){if(null!=e)return null!=e.clientx&&(e.pageX=e.clientx,e.pageY=e.clienty,e.offsetX=e.pageX,e.offsetY=e.pageY),e.target=t,e.offsetLeft=e.offsetTop=0,e},DxChart.installCanvasMousedownListener=function(t){var e=t.canvas;(e=isNexacroRuntime?t.canvas._refform:e).DxChart_mousedown_event_listener||(e.DxChart_mousedown_event_listener=function(t,e){if(DxChart._MouseDownFlag=!0,t=DxChart._replaceTouchEvent(t,a),(t=isNexacroRuntime?DxChart.FixEventObject(t,e):t).target.__object__&&("org"==t.target.__object__.type||"tree"==t.target.__object__.type||"map"==t.target.__object__.type))if("map"==t.target.__object__.type)for(var i=DxChart.REG.getObjectsByCanvasID(t.target.id),s=0;s<i.length;++s)i[s].onPointerDown(t);else t.target.__object__.onPointerDown(t);if(0<=navigator.userAgent.indexOf("Firefox")&&(window.event=t),t.target.__object__&&t.target.__object__.get("annotationValue")&&DxChart.annotating_canvas_onmousedown)DxChart.annotating_canvas_onmousedown(t);else if(a=DxChart.REG.getObjectByXY(t)){var a,o,r;a.id;if(a&&a.isDxChart&&a.get("changeableValue"))if((a=DxChart.REG.getObjectByXY(t))&&a.isDxChart){switch(a.type){case"bar":var n=a.getShapeByX(t);break;case"gantt":(n=a.getShape(t))&&(o="object"==typeof a.data[n.dataset]&&a.data[n.dataset][n.index]&&a.data[n.dataset][n.index].start?a.data[n.dataset][n.index]:a.data[n.dataset],r=DxChart.getMouseXY(t),DxChart.Registry.set("changing.gantt",{dataset:n.dataset,index:n.index,object:a,mousex:r[0],mousey:r[1],event:o,event_start:o.start,event_duration:o.duration,mode:r[0]>n.x+n.width-5?"resize":"move",shape:n}));break;case"line":var n=a.getShape(t);break;case"hbar":var n=a.getShapeByY(t);break;case"activity":n=a.getShape(t);break;default:n=null}a._isrange&&((n=a.getShape(t))?(r=DxChart.getMouseXY(t),DxChart.Registry.set("changing.range",{object:a,mousex:r[0],mousey:r[1],shape:n,sIndex:a.owner.properties.rangeStartIndex,eIndex:a.owner.properties.rangeEndIndex})):DxChart.Registry.set("changing.range",null)),"line"===a.type&&a.properties.changeableXonly&&(n=a.getShapeByX(t)),(DxChart.isNull(a.properties.changeableOnly)||void 0===a.properties.changeableOnly||DxChart.isArray(a.properties.changeableOnly)&&a.isAdjustable&&a.isAdjustable(n))&&(DxChart.Registry.set("changing.shape",n),DxChart._fireEvent(a,"onchangebegin"),DxChart.Registry.set("changing",a),DxChart.clear(a.canvas),DxChart.redraw(),isNexacroRuntime?t.target._refform.DxChart_mousemove_event_listener(t.target,t):a.canvas.DxChart_mousemove_event_listener(t))}"slide"!==a.properties.tooltipsEffect&&(DxChart.clear(a.canvas),DxChart.redraw())}},isNexacroRuntime?t.canvas.setEventHandler("onlbuttondown",e.DxChart_mousedown_event_listener,e):(e.addEventListener("mousedown",e.DxChart_mousedown_event_listener,!1),e.addEventListener("touchstart",e.DxChart_mousedown_event_listener,!1)))},DxChart.runtimeCanvasMouseupListener=function(t,e,i){DxChart.redrawCanvas(t.canvas),DxChart.Registry.set("tooltip.shape",e);var s=e.tooltip;s&&(DxChart.showTooltipRuntime({object:t,text:s,x:0,y:0,index:e.sequentialIndex,event:i}),"tree"!=t.type)&&t.highlight(e)},DxChart.installCanvasMouseupListener=function(t){var l=t.canvas;(l=isNexacroRuntime?t.canvas._refform:l).DxChart_mouseup_event_listener||(l.DxChart_mouseup_event_listener=function(t,e){if(DxChart._MouseDownFlag=!1,"touchend"==t.type&&(DxChart.hideTooltip(),DxChart.redrawCanvas(l)),t=DxChart._replaceTouchEvent(t,void 0),isNexacroRuntime&&(t=DxChart.FixEventObject(t,e)),DxChart.Registry.set("changing.range",null),t.target.__object__&&("org"==t.target.__object__.type||"tree"==t.target.__object__.type||"map"==t.target.__object__.type))if("map"==t.target.__object__.type)for(var i=DxChart.REG.getObjectsByCanvasID(t.target.id),s=0;s<i.length;++s)i[s].onPointerUp(t);else t.target.__object__.onPointerUp(t);if(0<=navigator.userAgent.indexOf("Firefox")&&(window.event=t),t.target.__object__&&t.target.__object__.get("annotationValue")&&DxChart.annotating_window_onmouseup)DxChart.annotating_window_onmouseup(t);else if(i=DxChart.REG.getObjectsByXY(t)){if(0==i.length)for(var a=DxChart.REG.getObjectsByCanvasID(t.target.id),s=0;s<a.length;s++)"heatmap"==a[s].type&&DxChart.Registry.get("changing.shape")&&(DxChart.Registry.set("changing.shape",null),DxChart.redrawCanvas(a[s].canvas));for(var s=0,o=i.length;s<o;s+=1){var r=i[s];i[s].id;if(!DxChart.isNull(r)&&DxChart.showTooltip){var n=r.getShape(t);if(n&&n.tooltip){var h=n.tooltip;if(h)return n.object.type,isNexacroRuntime||(DxChart.redrawCanvas(r.canvas),DxChart.Registry.set("tooltip.shape",n),DxChart.showTooltip({object:r,text:h,x:0,y:0,index:n.sequentialIndex,event:t}),"tree"!=r.type&&r.highlight(n)),DxChart.Registry.get("tooltip")&&(DxChart.Registry.get("tooltip").__shape__=n,DxChart.evaluateCursor(t,n)),t.cancelBubble=!0,t.stopPropagation(),!1}}if((DxChart.Registry.get("changing")||DxChart.Registry.get("changing.gantt"))&&(r&&"line"===r.type&&(r.data_arr=DxChart.arrayLinearize(r.data)),DxChart._fireEvent(DxChart.Registry.get("changing"),"onadjustend")),DxChart.Registry.set("changing",null),DxChart.Registry.set("changing.shape",null),DxChart.Registry.set("changing.gantt",null),DxChart.Registry.set("changing.range",null),n||r.overChartArea&&r.overChartArea(t))break}}},isNexacroRuntime?t.canvas.setEventHandler("onlbuttonup",l.DxChart_mouseup_event_listener,l):(l.addEventListener("mouseup",l.DxChart_mouseup_event_listener,!1),l.addEventListener("touchend",l.DxChart_mouseup_event_listener,!1)))},DxChart.installCanvasClickListener=function(t){var e=t.canvas;(e=isNexacroRuntime?t.canvas._refform:e).DxChart_click_event_listener||(e.DxChart_click_event_listener=function(t,e){t=DxChart._replaceTouchEvent(t,void 0),isNexacroRuntime&&(t=DxChart.FixEventObject(t,e)),0<=navigator.userAgent.indexOf("Firefox")&&(window.event=t);for(var i=DxChart.REG.getObjectsByXY(t),s=0,a=i.length;s<a;s+=1){var o=i[s],r=(o.id,o.getShape(t));if((n=null)||"function"!=typeof o.onclick||(n=o.onclick),r&&"function"==typeof n){if(n(t,r),"object"==typeof DxChart.events&&"object"==typeof DxChart.events[o.uid])for(var s in DxChart.events[o.uid])"string"==typeof s&&"object"==typeof DxChart.events[o.uid][s]&&"onclick"===DxChart.events[o.uid][s][1]&&"function"==typeof DxChart.events[o.uid][s][2]&&DxChart.events[o.uid][s][2](o);return}if("function"==typeof n)return void n(t,r);if(DxChart.Registry.get("key-element")&&DxChart._fireEvent(o,"onkeyclick"),r){var n,h=r.sequentialIndex;if("number"==typeof h&&o["$"+h])if("function"==typeof(n=o["$"+h].onclick))return void n(t,r)}if(r||o.overChartArea&&o.overChartArea(t))break}},isNexacroRuntime?t.canvas.setEventHandler("onclick",e.DxChart_click_event_listener,e):e.addEventListener("click",e.DxChart_click_event_listener,!1))},DxChart.evaluateCursorNew=function(t,e,i,s){var a;i&&s&&(s=s[0]>i.x+i.width-5?"resize":"move",!0===t._isrange&&(s="m"==i.mode?"move":"resize"),a=t.canvas,isNexacroRuntime?a._refform.set_cursor("resize"==s?"ew-resize":"move"):a.style.cursor="resize"==s?"e-resize":"move",!0!==t._isrange)&&DxChart.Registry.set("changing.ganttpoint",!0),i||(a=t.canvas,isNexacroRuntime?a._refform.set_cursor("default"):a.style.cursor="default")},DxChart.evaluateCursor=function(t,e){t=t.target;1==DxChart.Registry.get("changing.ganttpoint")&&e||(DxChart.Registry.set("changing.ganttpoint",!1),isNexacroRuntime?t._refform.set_cursor("default"):t.style.cursor="default")},DxChart.parseTooltipText=function(t,e){if(!t)return null;if("function"==typeof t)var i=t(e);else if("string"==typeof t)i=t;else if("object"==typeof t&&"function"==typeof t[e])i=t[e](e);else{if("object"==typeof t&&(DxChart.isNull(t[e])||void 0===t[e]))return null;i="string"==typeof t[e]&&t[e]?t[e]:"number"==typeof t[e]&&t[e]?t[e]+"":""}return void 0!==i&&"null"!=typeof i||(i=""),DxChart.getTooltipTextFromDIV?DxChart.getTooltipTextFromDIV(i):i},DxChart.drawCrosshairs=function(t,e){var i=e.canvas.width,s=e.canvas.height,a=(x=DxChart.getMouseXY(t))[0],o=x[1],r=e.marginLeft,n=e.marginRight,h=e.marginTop,l=e.marginBottom,c=(e.properties,e.properties);if(DxChart.redrawCanvas(e.canvas),r<=a&&h<=o&&a<=i-n&&o<=s-l){var x,d,u,g,p,f,m,b,C,y,D,v,S,k,w,_,T=c.crosshairsLineWidth||1;if(e.context.lineWidth=T||1,isNexacroRuntime&&e.context.setElementLineWidth(e.context.lineWidth),e.context.beginPath(),e.context.strokeStyle=c.crosshairsColor,isNexacroRuntime&&e.context.setElementStrokeStyle(e.context.strokeStyle),c.crosshairsSnap){var P=null,R=null;if("line"==e.type){for(var L=0;L<e.coords.length;++L){var j=DxChart.getHypLength(e.coords[L][0],e.coords[L][1],a,o);("number"!=typeof R||j<R)&&(P=L,R=j)}for(var a=e.coords[P][0],o=e.coords[P][1],F=0;F<e.coords2.length;++F)for(P=0;P<e.coords2[F].length;++P)e.coords2[F][P][0]==a&&e.coords2[F][P][1]==o&&(e.canvas.__crosshairs_snap_dataset__=F,e.canvas.__crosshairs_snap_point__=P)}else{for(L=0;L<e.coords.length;++L)for(var E=0;E<e.coords[L].length;++E){var O=DxChart.getHypLength(e.coords[L][E][0],e.coords[L][E][1],a,o);("number"!=typeof R||O<R)&&(F=L,P=E,R=O)}e.canvas.__crosshairs_snap_dataset__=F,e.canvas.__crosshairs_snap_point__=P,a=e.coords[F][P][0],o=e.coords[F][P][1]}}c.crosshairsVline&&(e.context.moveTo(Math.round(a),Math.round(h)),e.context.lineTo(Math.round(a),Math.round(s-l))),c.crosshairsHline&&(e.context.moveTo(Math.round(r),Math.round(o)),e.context.lineTo(Math.round(i-n),Math.round(o))),e.context.stroke(),"scatter"==e.type&&c.crosshairsCoords?(T=(T=(a-r)/(i-r-n)*(c.xaxisScaleMax-c.xaxisScaleMin)+c.xaxisScaleMin).toFixed(c.yaxisScaleDecimals),i=e.max-(o-c.marginTop)/(s-h-l)*(e.max-e.scale2.min),i=(i="scatter"==e.type&&"center"===e.properties.xaxisPosition?2*(i-e.max/2):i).toFixed(c.yaxisScaleDecimals),s=DxChart.Registry.get("coordinates.coords.div"),x=DxChart.getMouseXY(t),l=DxChart.getCanvasXY(e.canvas),x=c.crosshairsPosition||"left",d=c.crosshairsBackgroundColor||"#ffffff",u=c.crosshairsTextColor||"#666666",g=c.crosshairsBorderStyle||"1px solid #dddddd",p=c.crosshairsborderRadius||"3px",f=c.crosshairsPadding||"5px",m=c.crosshairsFontStyle||"10px Tahoma,Arial,Verdana",b=DxChart._parseFontInfo(m),s||(isNexacroRuntime?(s=(y=e.canvas.parent).components[C="__DxChart_crosshair_"],(s=new Div).init(C,0,0,0,0,null,null),y.addChild(C,s),s.show(),s.set_visible(!1),s.form.set_scrollbartype("none"),s.set_background(d),s.set_border(g),s.set_borderRadius(p),(y=new Static).init(C="__DxChart_crosshairstatic_",0,0,null,null,0,0),s.form.addChild(C,y),y.show(),y.set_color(u),y.set_visible(!0),y.set_padding(f),s._sta=y,s.__object__=e):((s=document.createElement("DIV")).__object__=e,s.style.position="absolute",s.style.backgroundColor=d,s.style.border=g,s.style.fontFamily=b.face,s.style.fontSize=b.size,s.style.padding=f,s.style.opacity=1,s.style.WebkitBorderRadius=p,s.style.borderRadius=p,s.style.MozBorderRadius=p,s.style.zIndex=1500012,s.style.lineHeight=DxChart.ISIE?"normal":"initial",document.body.appendChild(s)),DxChart.Registry.set("coordinates.coords.div",s)),isNexacroRuntime?(s.set_background(d),s.set_border(g),s.set_borderRadius(p),s._sta.set_color(u),s._sta.set_padding(f),s._sta.set_font(m)):(s.style.backgroundColor=d,s.style.color=u,s.style.border=g,s.style.fontFamily=b.face,s.style.fontSize=b.size+"px",s.style.padding=f,s.style.opacity=1,s.style.WebkitBorderRadius=p,s.style.borderRadius=p,s.style.MozBorderRadius=p),"function"==typeof c.crosshairsCoordsFormatterX&&(T=c.crosshairsCoordsFormatterX({object:e,value:parseInt(T)})),"function"==typeof c.crosshairsCoordsFormatterY&&(i=c.crosshairsCoordsFormatterY({object:e,value:parseInt(i)})),isNexacroRuntime?(C=c.crosshairsCoordsLabelsX+": "+T+"\n",C+=c.crosshairsCoordsLabelsY+": "+i+"\n",s.set_visible(!0),s.bringToFront(),y=DxChart.measureText(C,b.bold,b.face,b.size),s._sta.set_text(C),s.set_width(y[0]+5),s.set_height(y[1]+10)):(s.innerHTML='<span id="DxChart_crosshairsCoordsLabelsX">'+c.crosshairsCoordsLabelsX+":</span> "+T+'<br><span id="DxChart_crosshairsCoordsLabelsY">'+c.crosshairsCoordsLabelsY+":</span> "+i,document.getElementById("DxChart_crosshairsCoordsLabelsX").style.color=u,document.getElementById("DxChart_crosshairsCoordsLabelsY").style.color=u,e.canvas.addEventListener("mouseout",DxChart.hideCrosshairCoords,!1)),isNexacroRuntime?(s.set_opacity(1),s.set_visible(!0),s.bringToFront(),_=w=0,c.crosshairsCoordsFixed?(v=e.canvas.width,e.canvas.height,S=s.getOffsetWidth(),k=s.getOffsetHeight(),"left"==x?D=l[0]+r+3:"center"==x?D=(v-S)/2:"right"==x&&(D=v-S-n),l[1],s.set_left(D),s.set_top(_)):(s.set_left(w+Math.max(2,t.pageX-s.getOffsetWidth()-3)),s.set_top(_+Math.max(2,t.pageY-s.getOffsetHeight()-3)))):(s.style.opacity=1,s.style.display="inline",c.crosshairsCoordsFixed?(v=e.canvas.width,e.canvas.height,S=parseInt(s.offsetWidth),k=parseInt(s.offsetHeight),"left"==x?w=l[0]+r+3:"center"==x?w=(v-S)/2:"right"==x&&(w=v-S-n),(_=l[1]+h-3-k)<0&&(_=0),s.style.left=w+"px",s.style.top=_+"px"):(s.style.left=Math.max(2,t.pageX-s.offsetWidth-3)+"px",s.style.top=Math.max(2,t.pageY-s.offsetHeight-3)+"px")),e.canvas.__crosshairs_labels__=s,e.canvas.__crosshairs_x__=T,e.canvas.__crosshairs_y__=i):c.crosshairsCoords&&alert("Showing crosshair coordinates is only supported on the Scatter chart"),DxChart._fireEvent(e,"oncrosshairs")}else DxChart.hideCrosshairCoords()},DxChart.allowSegmentHighlight=function(t){var o=t.object,r=t.count,n=t.fill,h=t.stroke;DxChart.segmentHighlightFunction||(DxChart.segmentHighlightFunction=function(t){var t=DxChart.getMouseXY(t),e=DxChart.getAngleByXY(o.centerx,o.centery,t[0],t[1]),i=((e+=DxChart.HALFPI)>DxChart.TWOPI&&(e-=DxChart.TWOPI),DxChart.redraw(),0),s=0,a=2*Math.PI/r,t=o.radius;!function(){for(var t=0;t<r;t+=1)if(e<a*(t+1))return i=t*a,s=(t+1)*a}(),i-=DxChart.HALFPI,s-=DxChart.HALFPI,o.path("b m % % a % % % % % false c s % f %",o.centerx,o.centery,o.centerx,o.centery,t,i,s,h,n)},o.canvas.addEventListener("mousemove",DxChart.segmentHighlightFunction,!1))}}(window),DxChart=window.DxChart||{isDxChart:!0,DxChart:!0},!function(){navigator.userAgent;DxChart.contextMenu=function(){var t=DxChart.getArgs(arguments,"object,menuitems,event"),i=t.object,s=t.menuitems,t=t.event,e=i.canvas,a=(DxChart._fireEvent(i,"onbeforecontextmenu"),DxChart.Registry.get("contextmenu")&&DxChart.hideContext(),DxChart.hidePalette(),i.set("mousedown",!1),t.pageX),o=t.pageY,r=document.createElement("div"),n=document.createElement("div");r.className="DxChart_contextmenu",r.__canvas__=e,r.style.position="absolute",r.style.left=0,r.style.top=0,r.style.border="1px solid #666",r.style.backgroundColor="white",r.style.boxShadow="1px 1px 3px #ddd",r.style.MozBoxShadow="1px 1px 3px #ddd",r.style.WebkitBoxShadow="1px 1px 3px #ddd",r.style.opacity=0,r.style.lineHeight="initial",n.className="DxChart_contextmenu_background",n.style.position="absolute",n.style.backgroundColor="#ccc",n.style.borderRight="1px solid #aaa",n.style.top=0,n.style.left=0,n.style.width="18px",n.style.height="100%",n.style.opacity=0;for(var n=(r=document.body.appendChild(r)).appendChild(n),h=0;h<s.length;++h){var l=document.createElement("div");l.__object__=i,l.__canvas__=e,l.__contextmenu__=r,l.className="DxChart_contextmenu_item",s[h]?(l.style.padding="2px 5px 2px 23px",l.style.fontFamily="Arial",l.style.fontSize="10pt",l.style.textAlign="left",l.style.fontWeight="normal",l.innerHTML=s[h][0],DxChart.isArray(s[h][1])&&(l.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAAQUlEQVQImY3NoQ2AMABE0ZewABMyGQ6mqWODzlAclBSFO8HZl8uf0FFxCHtwYkt4Y6ChYE44cGH9/fyae2p2LAleW9oVTQuVf6gAAAAASUVORK5CYII=)",l.style.backgroundRepeat="no-repeat",l.style.backgroundPosition="97% center"),s[h][1]?l.addEventListener?(l.addEventListener("mouseover",function(t){DxChart.hideContextSubmenu(),t.target.style.backgroundColor="rgba(0,0,0,0.2)",t.target.style.cursor="pointer"},!1),l.addEventListener("mouseout",function(t){t.target.style.backgroundColor="inherit",t.target.style.cursor="default"},!1)):(l.attachEvent("onmouseover",function(){DxChart.hideContextSubmenu(),event.srcElement.style.backgroundColor="#eee",event.srcElement.style.cursor="pointer"},!1),l.attachEvent("onmouseout",function(){event.srcElement.style.backgroundColor="inherit",event.srcElement.style.cursor="default"},!1)):l.addEventListener?(l.addEventListener("mouseover",function(t){t.target.style.cursor="default"},!1),l.addEventListener("mouseout",function(t){t.target.style.cursor="default"},!1)):(l.attachEvent("onmouseover",function(){event.srcElement.style.cursor="default"},!1),l.attachEvent("onmouseout",function(){event.srcElement.style.cursor="default"},!1))):(l.style.borderBottom="1px solid #ddd",l.style.marginLeft="25px"),r.appendChild(l),s[h]&&s[h][1]&&"function"==typeof s[h][1]?l.addEventListener("click",s[h][1],!1):s[h]&&s[h][1]&&DxChart.isArray(s[h][1])&&function(){var e=s[h][1];l.addEventListener("mouseover",function(t){DxChart.contextMenu_submenu(i,e,t.target)},!1)}()}return r.style.width=r.offsetWidth+10+"px",r.style.height=r.offsetHeight-2+"px",a+r.offsetWidth>document.body.offsetWidth&&(a-=r.offsetWidth),r.style.left=a+"px",r.style.top=o+"px",setTimeout("if (obj = DxChart.Registry.get('contextmenu')) obj.style.opacity = 0.2",50),setTimeout("if (obj = DxChart.Registry.get('contextmenu')) obj.style.opacity = 0.4",100),setTimeout("if (obj = DxChart.Registry.get('contextmenu')) obj.style.opacity = 0.6",150),setTimeout("if (obj = DxChart.Registry.get('contextmenu')) obj.style.opacity = 0.8",200),setTimeout("if (obj = DxChart.Registry.get('contextmenu')) obj.style.opacity = 1",250),setTimeout("if (obj = DxChart.Registry.get('contextmenu.bg')) obj.style.opacity = 0.2",50),setTimeout("if (obj = DxChart.Registry.get('contextmenu.bg')) obj.style.opacity = 0.4",100),setTimeout("if (obj = DxChart.Registry.get('contextmenu.bg')) obj.style.opacity = 0.6",150),setTimeout("if (obj = DxChart.Registry.get('contextmenu.bg')) obj.style.opacity = 0.8",200),setTimeout("if (obj = DxChart.Registry.get('contextmenu.bg')) obj.style.opacity = 1",250),DxChart.Registry.set("contextmenu",r),DxChart.Registry.set("contextmenu.bg",n),DxChart.Registry.get("contextmenu").oncontextmenu=function(){return!1},DxChart.Registry.get("contextmenu.bg").oncontextmenu=function(){return!1},e.addEventListener("click",function(){DxChart.hideContext()},!1),window.addEventListener("click",function(){DxChart.hideContext()},!1),window.addEventListener("resize",function(){DxChart.hideContext()},!1),"function"==typeof i.getShape&&(DxChart.Registry.get("contextmenu").__shape__=i.getShape(t)),t.stopPropagation(),DxChart._fireEvent(i,"oncontextmenu"),!1},DxChart.hideContext=function(){var t=DxChart.Registry.get("contextmenu"),e=DxChart.Registry.get("contextmenu.bg");DxChart.hideContextSubmenu(),t&&(t.parentNode.removeChild(t),e.parentNode.removeChild(e),t.style.visibility="hidden",t.style.display="none",DxChart.Registry.set("contextmenu",null),e.style.visibility="hidden",e.style.display="none",DxChart.Registry.set("contextmenu.bg",null))},DxChart.hideContextSubmenu=function(){var t=DxChart.Registry.get("contextmenu.submenu");t&&(t.style.visibility="none",t.style.display="none",DxChart.Registry.set("contextmenu.submenu",null))},DxChart.showContext=function(){var t,e,i,s,a=DxChart.getArgs(arguments,"object").object;DxChart.hidePalette(),a.get("contextmenu")&&a.get("contextmenu").length&&(t=0<=navigator.userAgent.indexOf("Opera"),e=0<=navigator.userAgent.indexOf("Safari"),i=0<=navigator.userAgent.indexOf("Chrome"),s=0<navigator.userAgent.indexOf("Firefox")&&0<navigator.userAgent.indexOf("Mac"),navigator.userAgent.indexOf("MSIE 9"),(t||e)&&!i||s?a.canvas.addEventListener("dblclick",function(t){if(t.ctrlKey)return!0;DxChart.Registry.get("contextmenu")||DxChart.contextMenu(a,a.get("contextmenu"),t)},!1):a.canvas.oncontextmenu=function(t){return!!t.ctrlKey||(DxChart.contextMenu(a,a.get("contextmenu"),t),!1)})},DxChart.contextMenu_submenu=function(){var t=DxChart.getArgs(arguments,"object,menuitems,parentMenuItem"),e=t.object,i=t.menuitems,t=t.parentMenuItem,s=(DxChart.hideContextSubmenu(),e.canvas),a=(e.context,t.parentNode),o=document.createElement("DIV");o.style.position="absolute",o.style.width="100px",o.style.top=a.offsetTop+t.offsetTop+"px",o.style.left=a.offsetLeft+a.offsetWidth+"px",o.style.backgroundColor="white",o.style.border="1px solid black",o.className="DxChart_contextmenu",o.__contextmenu__=a,o.style.lineHeight="initial",o.style.boxShadow="3px 3px 3px rgba(96,96,96,0.5)",o.style.MozBoxShadow="3px 3px 3px rgba(96,96,96,0.5)",o.style.WebkitBoxShadow="3px 3px 3px rgba(96,96,96,0.5)",o.style.filter="progid:DXImageTransform.Microsoft.Shadow(color=#aaaaaa,direction=135)",document.body.appendChild(o);for(var r=0;r<i.length;++r){var n=document.createElement("DIV");n.__canvas__=s,n.__contextmenu__=a,n.className="DxChart_contextmenu_item",i[r]?(n.style.padding="2px 5px 2px 23px",n.style.fontFamily="Arial",n.style.fontSize="10pt",n.style.fontWeight="normal",n.style.textAlign="left",n.innerHTML=i[r][0],i[r][1]?n.addEventListener?(n.addEventListener("mouseover",function(t){t.target.style.backgroundColor="rgba(0,0,0,0.2)",t.target.style.cursor="pointer"},!1),n.addEventListener("mouseout",function(t){t.target.style.backgroundColor="inherit",t.target.style.cursor="default"},!1)):(n.attachEvent("onmouseover",function(){event.srcElement.style.backgroundColor="rgba(0,0,0,0.2)",event.srcElement.style.cursor="pointer"},!1),n.attachEvent("onmouseout",function(){event.srcElement.style.backgroundColor="inherit",event.srcElement.style.cursor="default"},!1)):n.addEventListener?(n.addEventListener("mouseover",function(t){t.target.style.cursor="default"},!1),n.addEventListener("mouseout",function(t){t.target.style.cursor="default"},!1)):(n.attachEvent("onmouseover",function(){event.srcElement.style.cursor="default"},!1),n.attachEvent("onmouseout",function(){event.srcElement.style.cursor="default"},!1))):(n.style.borderBottom="1px solid #ddd",n.style.marginLeft="25px"),o.appendChild(n),i[r]&&i[r][1]&&(document.all?n.attachEvent("onclick",i[r][1]):n.addEventListener("click",i[r][1],!1))}e=document.createElement("DIV");e.className="DxChart_contextmenu_background",e.style.position="absolute",e.style.backgroundColor="#ccc",e.style.borderRight="1px solid #aaa",e.style.top=0,e.style.left=0,e.style.width="18px",e.style.height="100%",e=o.appendChild(e),DxChart.Registry.set("contextmenu.submenu",o)},DxChart.showPNG=function(){arguments[0]&&arguments[0].id?(t=arguments[0],e=arguments[1]):DxChart.Registry.get("contextmenu")?t=DxChart.Registry.get("contextmenu").__canvas__:alert("[RGRAPH SHOWPNG] Could not find canvas!");var e,t,i=t.__object__,s=document.createElement("DIV"),a=(s.id="__DxChart_image_bg__",s.style.position="fixed",s.style.top="-10px",s.style.left="-10px",s.style.width="5000px",s.style.height="5000px",s.style.backgroundColor="rgb(204,204,204)",s.style.opacity=0,document.body.appendChild(s),document.createElement("DIV")),o=(a.style.backgroundColor="white",a.style.opacity=0,a.style.border="1px solid black",a.style.position="fixed",a.style.top="20%",a.style.width=t.width+"px",a.style.height=t.height+35+"px",a.style.left=document.body.clientWidth/2-t.width/2+"px",a.style.padding="5px",a.style.borderRadius="10px",a.style.MozBorderRadius="10px",a.style.WebkitBorderRadius="10px",a.style.boxShadow="0 0 15px rgba(96,96,96,0.5)",a.style.MozBoxShadow="0 0 15px rgba(96,96,96,0.5)",a.style.WebkitBoxShadow="rgba(96,96,96,0.5) 0 0 15px",a.__canvas__=t,a.__object__=i,a.id="__DxChart_image_div__",document.body.appendChild(a),a.innerHTML+='<div id="DxChart_showpng_div_container"><textarea onclick="this.select()" readonly="readonly" id="__DxChart_dataurl__">'+t.toDataURL()+"</textarea></div>",document.getElementById("__DxChart_dataurl__")),o=(o.style.overflow="hidden",o.style.height="20px",o.style.width=t.width-i.marginLeft-i.marginRight+"px",o.style.position="relative",o.style.left=i.marginLeft+"px",document.getElementById("DxChart_showpng_div_container")),o=(o.style.position="absolute",o.style.top=t.height+"px",o.style.width=t.width+"px",o.style.height="25px",document.createElement("IMG"));DxChart.Registry.set("png",o),o.__canvas__=t,o.__object__=i,o.id="__DxChart_image_img__",o.className="DxChart_png",o.src=t.toDataURL(),a.appendChild(o),setTimeout(function(){document.getElementById("__DxChart_dataurl__").select()},50),window.addEventListener("resize",function(t){var e=DxChart.Registry.get("png");e.style.left=document.body.clientWidth/2-e.width/2+"px"},!1),s.onclick=function(t){var e=document.getElementById("__DxChart_image_div__"),i=document.getElementById("__DxChart_image_bg__");e&&(e.style.opacity=0,e.parentNode.removeChild(e),e.id="",e.style.display="none",e=null),i&&(i.style.opacity=0,i.id="",i.style.display="none")},window.addEventListener("resize",function(t){s.onclick(t)},!1),DxChart.showpng_image_bg=s,DxChart.showpng_image_div=a,setTimeout("DxChart.showpng_image_div.style.opacity = 0.2",50),setTimeout("DxChart.showpng_image_div.style.opacity = 0.4",100),setTimeout("DxChart.showpng_image_div.style.opacity = 0.6",150),setTimeout("DxChart.showpng_image_div.style.opacity = 0.8",200),setTimeout("DxChart.showpng_image_div.style.opacity = 1",250),setTimeout("DxChart.showpng_image_bg.style.opacity = 0.1",50),setTimeout("DxChart.showpng_image_bg.style.opacity = 0.2",100),setTimeout("DxChart.showpng_image_bg.style.opacity = 0.3",150),setTimeout("DxChart.showpng_image_bg.style.opacity = 0.4",200),setTimeout("DxChart.showpng_image_bg.style.opacity = 0.5",250),o.onclick=function(t){t.stopPropagation?t.stopPropagation():e.cancelBubble=!0},e&&e.stopPropagation&&e.stopPropagation()}}(),window?DxChart=window.DxChart||{isDxChart:!0,DxChart:!0}:(window=nexacro,navigator={userAgent:"nexacro"},DxChart=nexacro.DxChart||{isDxChart:!0,DxChart:!0},nexacro.DxChart||(nexacro.DxChart=DxChart),document={}),DxChart.HTML=DxChart.HTML||{},!function(r){DxChart.drawKey=function(){var f=DxChart.getArgs(arguments,"object,key,colors");if(f.key){f.object.properties;var m=f.object.properties,t=m.keyPosition,e=(m.textFontStyleObj.size,[]),i=[];f.object.context.lineWidth=1,isNexacroRuntime&&f.object.context.setElementLineWidth(f.object.context.lineWidth),f.object.context.beginPath(),"number"==typeof m.keyVpos&&f.object.set("keyPositionY",m.keyVpos*f.object.get("marginTop"));for(var b,s=0;s<f.key.length;++s)null!=f.key[s]&&(i.push(f.colors[s]),e.push(f.key[s]));key=e,colors=i;var C=!1;if("boolean"==typeof m.keyTextAccessible&&(C=m.keyTextAccessible),!t||"gutter"!==t&&"margin"!==t)!function(t,e,i,s){var a=f.object.marginLeft,o=f.object.marginRight,r=f.object.marginTop,n=f.object.marginBottom,h="right"==m.yaxisPosition?a+10:f.object.canvas.width-o-10,l=r+10,c=(m.titleText,m.keyBackground,0),x=DxChart.getTextInfo({object:f.object,prefix:"keyLabels"});blob_size=x.size,text_size=x.size,f.object.coords||(f.object.coords={}),f.object.coords.key=[],f.object.context.font=(x.italic?"italic ":"")+(x.bold?"bold ":"")+x.size+"px "+x.font,isNexacroRuntime&&f.object.context.setElementFont(f.object.context.font);for(var d,u=0;u<key.length;++u)c=Math.max(c,DxChart.measureText(key[u],x.bold,x.font,x.size)[0]);for(c=(c+=5)+blob_size+5+5+5,("left"==m.yaxisPosition||"pie"===f.object.type&&!m.yaxisPosition||"pie"===f.object.type&&!m.yaxisPosition||"hbar"===f.object.type&&!m.yaxisPosition||"hbar"===f.object.type&&"center"===m.yaxisPosition||"hbar"===f.object.type&&"right"===m.yaxisPosition||"rscatter"===f.object.type&&!m.yaxisPosition||"radar"===f.object.type&&!m.yaxisPosition||"rose"===f.object.type&&!m.yaxisPosition||"funnel"===f.object.type&&!m.yaxisPosition||"vprogress"===f.object.type&&!m.yaxisPosition||"hprogress"===f.object.type&&!m.yaxisPosition)&&(h-=c),"string"==typeof m.keyHalign&&(h="left"===m.keyHalign?a+10:0<=m.keyHalign.indexOf("%")?a+(d=(d=98<=(d=parseInt(m.keyHalign.replace("%")))?98:d)<2?2:d)/100*(f.object.canvas.width-o-a):f.object.canvas.width-o-c),"pie"==f.object.type&&m.variantValue3d&&(h-=isNexacroRuntime?200:300),"center"!=m.keyValign&&"bottom"!=m.keyValign||(d=key.length*(text_size+(m.keyLabelsOffsetY||0)),l="center"==m.keyValign?parseInt((f.object.canvas.height-r-n-d)/2):parseInt(f.object.canvas.height-n-d)),"number"==typeof m.keyPositionX&&(h=m.keyPositionX),"number"==typeof m.keyPositionY&&(l=m.keyPositionY),"number"==typeof m.keyPositionOffsetX&&(h+=m.keyPositionOffsetX),"number"==typeof m.keyPositionOffsetY&&(l+=m.keyPositionOffsetY),m.keyShadow&&(f.object.context.shadowColor=m.keyShadowStyleObj.color,f.object.context.shadowBlur=m.keyShadowStyleObj.blur,f.object.context.shadowOffsetX=m.keyShadowStyleObj.offsetx,f.object.context.shadowOffsetY=m.keyShadowStyleObj.offsety,isNexacroRuntime&&f.object.context.setElementShadowColor(f.object.context.shadowColor),isNexacroRuntime&&f.object.context.setElementShadowBlur(f.object.context.shadowBlur),isNexacroRuntime&&f.object.context.setElementShadowOffsetX(f.object.context.shadowOffsetX),isNexacroRuntime)&&f.object.context.setElementShadowOffsetY(f.object.context.shadowOffsetY),f.object.context.beginPath(),f.object.context.fillStyle=m.keyBackground,isNexacroRuntime&&f.object.context.setElementFillStyle(f.object.context.fillStyle),f.object.context.strokeStyle="black",isNexacroRuntime&&f.object.context.setElementStrokeStyle(f.object.context.strokeStyle),(void 0===m.keyPositionGraphBoxed||"boolean"==typeof m.keyPositionGraphBoxed&&m.keyPositionGraphBoxed)&&0!=s&&(f.object.context.lineWidth="number"==typeof m.keyLineWidth?m.keyLineWidth:1,isNexacroRuntime&&f.object.context.setElementLineWidth(f.object.context.lineWidth),1==m.keyRounded?(f.object.context.beginPath(),f.object.context.strokeStyle="#333333",isNexacroRuntime&&f.object.context.setElementStrokeStyle(f.object.context.strokeStyle),DxChart.roundedRect({context:f.object.context,x:Math.round(h),y:Math.round(l),width:c-5,height:5+(text_size+5)*DxChart.getKeyLength(key),radius:4}),f.object.context.stroke(),f.object.context.fill(),DxChart.noShadow(f.object)):(f.object.context.strokeRect(Math.round(h),Math.round(l),c-5,5+(text_size+5)*DxChart.getKeyLength(key)),f.object.context.fillRect(Math.round(h),Math.round(l),c-5,5+(text_size+5)*DxChart.getKeyLength(key)))),DxChart.noShadow(f.object),f.object.context.beginPath(),m.keyColors&&(colors=m.keyColors),b=m.keyStrokeColors||colors,u=key.length-1;0<=u;u--){var g=Number(u)+1,p=("circle"==(p="object"==typeof m.keyColorShape&&"string"==typeof m.keyColorShape[u]||"object"==typeof m.keyColorShape&&"function"==typeof m.keyColorShape[u]?m.keyColorShape[u]:"string"==typeof m.keyColorShape||"function"==typeof m.keyColorShape?m.keyColorShape:"rect")?(f.object.context.beginPath(),f.object.context.strokeStyle=b[u],isNexacroRuntime&&f.object.context.setElementStrokeStyle(f.object.context.strokeStyle),f.object.context.fillStyle=colors[u],isNexacroRuntime&&(colors[u]instanceof nexacro._CanvasGradient&&colors[u]._lastColor?f.object.context.setElementFillStyle(colors[u]._lastColor):f.object.context.setElementFillStyle(f.object.context.fillStyle)),f.object.context.arc(h+5+blob_size/2,l+5*g+text_size*g-text_size+blob_size/2,blob_size/2,0,6.26,0),f.object.context.fill(),f.object.context.stroke()):"line"==p?(f.object.context.beginPath(),f.object.context.strokeStyle=b[u],isNexacroRuntime&&f.object.context.setElementStrokeStyle(f.object.context.strokeStyle),f.object.context.moveTo(h+5,l+5*g+text_size*g-text_size+blob_size/2),f.object.context.lineTo(h+blob_size+5,l+5*g+text_size*g-text_size+blob_size/2),f.object.context.stroke()):"triangle"==p?(f.object.context.beginPath(),f.object.context.strokeStyle=b[u],isNexacroRuntime&&f.object.context.setElementStrokeStyle(f.object.context.strokeStyle),f.object.context.moveTo(h+5,l+5*g+text_size*g-text_size+blob_size),f.object.context.lineTo(h+blob_size/2+5,l+5*g+text_size*g-text_size),f.object.context.lineTo(h+blob_size+5,l+5*g+text_size*g-text_size+blob_size),f.object.context.closePath(),f.object.context.fillStyle=colors[u],isNexacroRuntime&&(colors[u]instanceof nexacro._CanvasGradient&&colors[u]._lastColor?f.object.context.setElementFillStyle(colors[u]._lastColor):f.object.context.setElementFillStyle(f.object.context.fillStyle)),f.object.context.fill(),f.object.context.stroke()):"function"==typeof p?p({object:f.object,color:colors[u],x:h+5,y:l+5*g+text_size*g-text_size,width:text_size,height:text_size+1}):(f.object.context.strokeStyle=b[u],isNexacroRuntime&&f.object.context.setElementStrokeStyle(f.object.context.strokeStyle),f.object.context.fillStyle=colors[u],isNexacroRuntime&&(colors[u]instanceof nexacro._CanvasGradient&&colors[u]._lastColor?f.object.context.setElementFillStyle(colors[u]._lastColor):f.object.context.setElementFillStyle(f.object.context.fillStyle)),f.object.context.rect(h+5,l+5*g+text_size*g-text_size,text_size,text_size+1),f.object.context.fill(),f.object.context.stroke()),f.object.context.beginPath(),1);isNexacroRuntime&&(p=0),ret=DxChart.text({object:f.object,font:x.font,size:x.size,bold:x.bold,italic:x.italic,color:"object"==typeof x.color?x.color[u]:x.color,x:h+blob_size+5+5+(m.keyLabelsOffsetX||0),y:l+5*g+text_size*g+p+(m.keyLabelsOffsetY||0),text:key[u],accessible:C}),f.object.coords.key[u]=[ret.x,ret.y,ret.width,ret.height,key[u],colors[u],f.object]}f.object.context.fill()}();else{var a,o=("number"==typeof m.keyLabelsFontStyleObj.size?m.keyLabelsFontStyleObj:m.textFontStyleObj).size,r=m.keyLabelsFontStyleObj.bold,n=m.keyLabelsFontStyleObj.italic,h=m.keyLabelsFontStyleObj.face||m.textFontStyleObj.face,l=m.keyLabelsColor||m.textColor,t=f.object.marginLeft,c=f.object.marginRight,x=f.object.marginTop,d=f.object.marginBottom,u=(f.object.canvas.width-t-c)/2+f.object.marginLeft,g=x-o-5,p=(m.titleText,o),y=m.keyBackground,D=0;f.object.coords||(f.object.coords={}),f.object.coords.key=[],isNexacroRuntime?(a=new nexacro.FontObject((n?"italic ":"")+(r?"bold ":"")+o+"px "+h),f.object.context.setElementFont(a)):f.object.context.font=(n?"italic ":"")+(r?"bold ":"")+o+"px "+h;for(var v=0;v<key.length;v++)D=(D=(D=(D+=8)+p+8)+(isNexacroRuntime?DxChart.measureText(key[v],h,r,o)[0]:f.object.context.measureText(key[v]).width))+(m.keyPositionMarginHSpace||0);D=D+8+(m.keyPositionMarginHSpace||0),u=f.object.canvas.width/2,u="pie"==f.object.type?(u="string"==typeof m.keyHalign?"left"===m.keyHalign?f.object.radius+t:"right"===m.keyHalign?f.object.canvas.width-f.object.radius-c:0<=m.keyHalign.indexOf("%")?(S=parseInt(m.keyHalign.replace("%")),t+(f.object.canvas.width-c-t)*((S=(S=98<=S?98:S)<2?2:S)/100)):f.object.canvas.width/2:f.object.canvas.width/2)-D/2+20:"string"==typeof m.keyHalign?"left"===m.keyHalign?t+20:"right"===m.keyHalign?(u=f.object.canvas.width-c-10)-D-20:0<=m.keyHalign.indexOf("%")?(S=parseInt(m.keyHalign.replace("%")),t+(f.object.canvas.width-c-t)*(S/100)):u-D/2+20:u-D/2+20,"string"==typeof m.keyValign&&("center"==m.keyValign?g=parseInt((f.object.canvas.height-x-d)/2)-o-5:"bottom"==m.keyValign&&(g=parseInt(f.object.canvas.height-d+o+5))),"number"==typeof m.keyPositionX&&(u=m.keyPositionX),"number"==typeof m.keyPositionY&&(g=m.keyPositionY),"number"==typeof m.keyPositionOffsetX&&(u+=m.keyPositionOffsetX),"number"==typeof m.keyPositionOffsetY&&(g+=m.keyPositionOffsetY),(f.object.get("keyPositionGutterBoxed")||f.object.get("keyPositionMarginBoxed"))&&(m.keyShadow&&(f.object.context.shadowColor=m.keyShadowStyleObj.color,f.object.context.shadowBlur=m.keyShadowStyleObj.blur,f.object.context.shadowOffsetX=m.keyShadowStyleObj.offsetx,f.object.context.shadowOffsetY=m.keyShadowStyleObj.offsety,isNexacroRuntime&&f.object.context.setElementShadowColor(f.object.context.shadowColor),isNexacroRuntime&&f.object.context.setElementShadowBlur(f.object.context.shadowBlur),isNexacroRuntime&&f.object.context.setElementShadowOffsetX(f.object.context.shadowOffsetX),isNexacroRuntime)&&f.object.context.setElementShadowOffsetY(f.object.context.shadowOffsetY),f.object.context.beginPath(),f.object.context.fillStyle=y,isNexacroRuntime&&f.object.context.setElementFillStyle(f.object.context.fillStyle),f.object.context.strokeStyle="#999999",isNexacroRuntime&&f.object.context.setElementStrokeStyle(f.object.context.strokeStyle),m.keyRounded?DxChart.roundedRect({context:f.object.context,x:u,y:g-4,width:D,height:o+4+4}):f.object.context.rect(u,g-4,D,o+4+4),f.object.context.stroke(),f.object.context.fill(),DxChart.noShadow(f.object)),m.keyColors&&(colors=m.keyColors),b=m.keyStrokeColors||colors;for(var v=0,S=u;v<key.length;++v){S+=8,k="object"==typeof m.keyColorShape&&"string"==typeof m.keyColorShape[v]||"object"==typeof m.keyColorShape&&"function"==typeof m.keyColorShape[v]?m.keyColorShape[v]:"function"==typeof m.keyColorShape||"string"==typeof m.keyColorShape?m.keyColorShape:"square",S+=m.keyPositionMarginHSpace||0,"line"==k?(f.object.context.beginPath(),f.object.context.strokeStyle=b[v],isNexacroRuntime&&f.object.context.setElementStrokeStyle(f.object.context.strokeStyle),f.object.context.moveTo(S,g+p/2),f.object.context.lineTo(S+p,g+p/2),f.object.context.stroke()):"circle"==k?(f.object.context.beginPath(),f.object.context.strokeStyle=b[v],isNexacroRuntime&&f.object.context.setElementStrokeStyle(f.object.context.strokeStyle),f.object.context.fillStyle=colors[v],isNexacroRuntime&&f.object.context.setElementFillStyle(f.object.context.fillStyle),f.object.context.moveTo(S,g+p/2),f.object.context.arc(S+p/2,g+p/2,p/2,0,6.28,0),f.object.context.fill(),f.object.context.stroke()):"triangle"==k?(f.object.context.fillStyle=colors[v],isNexacroRuntime&&f.object.context.setElementFillStyle(f.object.context.fillStyle),f.object.context.beginPath(),f.object.context.strokeStyle=b[v],isNexacroRuntime&&f.object.context.setElementStrokeStyle(f.object.context.strokeStyle),f.object.context.moveTo(S,g+p),f.object.context.lineTo(S+p/2,g),f.object.context.lineTo(S+p,g+p),f.object.context.closePath(),f.object.context.fill(),f.object.context.stroke()):"function"==typeof k?k({object:f.object,color:colors[v],x:S,y:g,width:p,height:p}):(f.object.context.beginPath(),f.object.context.strokeStyle=b[v],isNexacroRuntime&&f.object.context.setElementStrokeStyle(f.object.context.strokeStyle),f.object.context.fillStyle=colors[v],isNexacroRuntime&&f.object.context.setElementFillStyle(f.object.context.fillStyle),f.object.context.rect(S,g,p,p),f.object.context.fill(),f.object.context.stroke()),S=S+p+8,f.object.context.beginPath(),f.object.context.fillStyle="object"==typeof l?l[v]:l,isNexacroRuntime&&f.object.context.setElementFillStyle(f.object.context.fillStyle);var k=DxChart.text({object:f.object,font:h,bold:r,size:o,italic:n,x:S+(m.keyLabelsOffsetX||0),y:g+o+1+(m.keyLabelsOffsetY||0),text:key[v],accessible:C});f.object.context.fill(),S+=isNexacroRuntime?DxChart.measureText(key[v],r,h,o)[0]:f.object.context.measureText(key[v]).width,f.object.coords.key[v]=[k.x,k.y,k.width,k.height,key[v],colors[v],f.object]}}if(m.keyInteractive){for(var s=0,w=f.object.coords.key.length,_=0;s<w;s+=1)_=Math.max(_,f.object.coords.key[s][2]);m.keyInteractiveArray||(m.keyInteractiveArray=[]);for(s=0,w=f.object.coords.key.length;s<w;s+=1)!function(i){f.object.coords.key;var s,t=f.object.coords.key[i],a=i,e=!1;0==(e=m.keyInteractiveArray[i]&&(s=m.keyInteractiveArray[i]).x==t[0]&&s.y==t[1]+2?!0:e)&&(s=new DxChartRect({owner:f.object,id:f.object.id,x:t[0],y:t[1]+2,width:"gutter"===m.keyPosition||"margin"===m.keyPosition?t[2]:_,height:t[3],options:{colorsFill:"rgba(0,0,0,0)"}}),(m.keyInteractiveArray[i]=s)._toggle=!1,s.onclick=function(t,e){s._toggle=!s._toggle,DxChart.redrawCanvas(f.object.canvas),1==s._toggle?(s.context.fillStyle=m.keyInteractiveHighlightLabel,isNexacroRuntime&&s.context.setElementFillStyle(s.context.fillStyle),s.context.fillRect(e.x,e.y,e.width,e.height),"function"==typeof f.object.interactiveKeyHighlight&&(f.object.set("keyInteractiveIndex",i),DxChart._fireEvent(f.object,"onbeforeinteractivekey"),f.object.interactiveKeyHighlight(a),DxChart._fireEvent(f.object,"onafterinteractivekey"))):(s.properties.colorsFill="rgba(0,0,0,0)",s.draw())},s.onmousemove=function(t,e){return!0}),s.properties.colorsFill="rgba(0,0,0,0)",s.draw()}(s)}}},DxChart.getKeyLength=function(t){for(var e=0,i=0,s=t.length;i<s;i+=1)null!=t[i]&&++e;return e},DxChart.HTML.key=DxChart.HTML.Key=function(t,e){for(var t=r.getElementById(t),i=DxChart.createUID(),s='<table border="0" cellspacing="0" cellpadding="0" id="DxChart_key_'+i+'" '+(e.tableClass?'class="'+e.tableClass+'"':"")+">",a=0;a<e.labels.length;a+=1)s+='<tr><td valign="top"><div id="DxChart_html_key_blob_'+a+'"     '+(e.blobClass?'class="DxChart_html_key_blob '+e.blobClass+'"':"DxChart_html_key_blob")+">&nbsp;</div><td>"+(e.links&&e.links[a]?'<a href="'+e.links[a]+'">':"")+"<span "+(e.labelClass?'class="'+e.labelClass+'"':"")+'" id="DxChart_html_key_label_'+a+'">'+e.labels[a]+"</span>"+(e.links&&e.links[a]?"</a>":"")+"</td></tr>";t.innerHTML+=s+"</table>";for(a=0;a<e.labels.length;a+=1){var o=document.getElementById("DxChart_html_key_blob_"+a);o.style.width="20px",o.style.height="20px"}DxChart.setCSS(r.getElementById("DxChart_key_"+i),{});for(a=0;a<e.labels.length;a+=1)DxChart.setCSS(r.getElementById("DxChart_html_key_blob_"+a),{display:"inline-block",marginRight:"5px",marginTop:"4px",width:"15px",height:"15px",backgroundColor:e.colors[a]}),DxChart.setCSS(r.getElementById("DxChart_html_key_label_"+a),e.labelCss),e["labelCss_"+a]&&DxChart.setCSS(r.getElementById("DxChart_html_key_label_"+a),e["labelCss_"+a]);return r.getElementById("DxChart_key_"+i)}}(document),!function(win,doc,undefined){var ua=navigator.userAgent;DxChart.tooltips={},DxChart.tooltips.css=DxChart.tooltips.style={display:"inline-block",position:"absolute",padding:"6px",fontFamily:"Arial",fontSize:"10pt",fontWeight:"normal",textAlign:"center",overflow:"visible",left:0,top:0,backgroundColor:"black",color:"white",visibility:"visible",zIndex:1500002,borderRadius:"5px",border:"1px solid #ffffff",boxShadow:"0 0 5px rgba(96,96,96,0.5)",transition:"left ease-out .25s, top ease-out .25s",opacity:0,lineHeight:DxChart.ISIE||DxChart.ISNEXA?"normal":"initial"},DxChart._runtimeQueue=[],DxChart.showTooltipRuntime=function(t){DxChart.showTooltip(t)},DxChart.makeTooltipRuntime=function(t){var t=t.canvas.parent,e="__DxChart_tooltip_",i=t.components[e],s=(i||((i=new Div).init(e,0,0,0,0,null,null),t.addChild(e,i),i.set_visible(!1),i.show(),i.form.set_scrollbartype("none"),(objWbrowser=new nexacro.WebBrowser).init("wb_"+e,-2,-2,0,0,null,null),i.addChild("wb_"+e,objWbrowser),objWbrowser.show(),i._webbrowser=objWbrowser,(s=new nexacro.CanvasComponent).init("ttcvs_"+e,0,0,10,10,null,null),t.addChild("ttcvs_"+e,s),s.show(),s.set_visible(!1),objWbrowser.getProperty("document").callMethod("Open",""),objWbrowser.getProperty("document").callMethod("Write",'<html>\n<title></title>\n<meta http-equiv="X-UA-Compatible" content="IE=Edge" />\n<head>\n<meta charset="utf-8">\n<style>\nbody {\n\t-ms-overflow-style: none; /* for Internet Explorer, Edge */\n\tscrollbar-width: none; /* for Firefox */\n\toverflow-y: scroll; \n\tfont-family: Arial; \n}\nbody::-webkit-scrollbar {\ndisplay: none; /* for Chrome, Safari, and Opera */\n}\n* {\n  margin: 0;\n  padding: 0;\n  border: none;\n  white-space: nowrap;\n}\t\t\ndiv#svg-container img,\ndiv#canvas-container img {\n    max-width: 100%;\n    height: 100%;\n}\n.DxChart_tooltip h2 {\n    margin: 2px;\n    font-style: italic;\n}\n.DxChart_tooltip table {\n    border-collapse: collapse;\n    font-family: Verdana;\n}\n.DxChart_tooltip thead th {\n    font-style: italic;\n}\n.DxChart_tooltip th,\n.DxChart_tooltip td {\n    padding: 5px;\n}\n.DxChart_tooltip td:nth-child(1){\n    font-style: italic;\n}\n@media screen and (max-width: 800px) {\n    div#canvas-container,\n    div#svg-container {\n        float: none !important;\n        text-align: center !important;\n    }\n}\n</style>\n</head>\n<body style="border:none">\n<div id="tooltipdiv" name="tooltipdiv" cssclass="tooltipsCssClass" style="left:2px;top:2px">\n</div>\n<script type="text/javascript">\ndocument.body.style.overflow = "hidden";\nvar div = document.getElementById("tooltipdiv"); \nfunction setCss(v) {\n  div.style.className = v; \n}\nfunction setStyleStr(v1) {\n  try {; \n  \tdiv.style.cssText = v1; \n  }catch(e){}\n}\nfunction setStyle(v1, v2) {\n  try {; \n  \tdiv.style[v1] = v2; \n  }catch(e){}\n}\nfunction setElemStyle(elemid, v1, v2) {\n  var elem = document.getElementById(elemid); \n  try {; \n  \tif(elem) elem.style[v1] = v2; \n  }catch(e){}\n}\nfunction setHtml(v) {\n  div.innerHTML = v; \n}\nfunction getCStyle(v) {\n  var style = div.style.backgroundColor; \n  return style; \n}\nfunction getDivWidth() {\n  return div.offsetWidth; \n}\nfunction getDivHeight() {\n  return div.offsetHeight; \n}\n<\/script>\n</body>\n</html>'),objWbrowser.getProperty("document").callMethod("Close")),t.components["ttcvs_"+e]);return[i,s]},DxChart.showTooltip=function(objParam){DxChart._tooltipFlag=!0;var args=objParam,arrStyleValue={display:"display",position:"position",padding:"padding",fontFamily:"font-family",fontSize:"font-size",fontWeight:"font-weight",textAlign:"text-align",overflow:"overflow",left:"left",top:"top",backgroundColor:"background-color",color:"color",visibility:"visibility",zIndex:"z-index",borderRadius:"border-radius",boxShadow:"box-shadow",border:"border",opacity:"opacity",lineHeight:"line-height",transition:"transition"};if(DxChart.SHOW_TOOLTIP_TIMER&&(isNexacroRuntime?DxChart.SHOW_TOOLTIP_TIMER.stop():clearTimeout(DxChart.SHOW_TOOLTIP_TIMER)),0!==DxChart.trim(args.text).length){if(DxChart._fireEvent(args.object,"onbeforetooltip"),"function"==typeof args.object.get("tooltipsOverride"))return args.object.get("tooltipsOverride")(args.object,args.text,args.x,args.y,args.index);var originalX=args.x,originalY=args.y,timers=(args.text=DxChart.getTooltipTextFromDIV(args.text),DxChart.Registry.get("tooltip.timers")),tooltipObj,objDiv,objWbrowser,objNXCanvas;if(timers&&timers.length)for(var i=0;i<timers.length;++i)isNexacroRuntime?timers[i].stop():clearTimeout(timers[i]);DxChart.Registry.set("tooltip.timers",[]),args.object.get("contextmenu")&&DxChart.hideContext(),"string"!=typeof args.object.get("tooltipsCssClass")&&args.object.set("tooltipsCssClass","DxChart_tooltip");var sNexaBorder="",sNexaShadow="",arrObj,objDiv,objNXCanvas,tooltipObj,specific,i,val,idx;if(isNexacroRuntime?(arrObj=DxChart.makeTooltipRuntime(args.object),objDiv=arrObj[0],objNXCanvas=arrObj[1],objDiv.bringToFront(),objNXCanvas.bringToFront(),objWbrowser=objDiv._webbrowser,tooltipObj=objDiv):(tooltipObj=document.getElementById("__DxChart_tooltip__"),tooltipObj?(DxChart.tooltips.style.left=parseInt(tooltipObj.style.left.replace("px","")),DxChart.tooltips.style.top=parseInt(tooltipObj.style.top.replace("px",""))):(tooltipObj=document.createElement("DIV"),tooltipObj.id="__DxChart_tooltip__",document.body.appendChild(tooltipObj),tooltipObj.addEventListener("mouseenter",function(){tooltipObj.style.visibility="visible",tooltipObj.style.display="inline-block"}),tooltipObj.addEventListener("mousemove",function(){tooltipObj.style.visibility="visible",tooltipObj.style.display="inline-block"})),tooltipObj.innerHTML="",tooltipObj.style.width="10px",tooltipObj.style.height="10px",tooltipObj.className=args.object.get("tooltipsCssClass"),tooltipObj.style.zIndex=1500012),isNexacroRuntime){var arrStyleData={},i,i,specific,i,val,idx;for(i in DxChart.tooltips.style)"string"==typeof i&&("borderRadius"==i?objDiv.set_borderRadius(DxChart.tooltips.style[i]+" "+DxChart.tooltips.style[i]):"border"==i?sNexaBorder=DxChart.tooltips.style[i]:"boxShadow"==i?sNexaShadow=DxChart.tooltips.style[i]:arrStyleData[i]=DxChart.tooltips.style[i]);for(i in DxChart.tooltips.css)"string"==typeof i&&("borderRadius"==i?objDiv.set_borderRadius(DxChart.tooltips.css[i]+" "+DxChart.tooltips.css[i]):"border"==i?sNexaBorder=DxChart.tooltips.css[i]:"boxShadow"==i?sNexaShadow=DxChart.tooltips.css[i]:arrStyleData[i]=DxChart.tooltips.css[i]);if(!DxChart.isNull(args.object.properties.tooltipsCss))for(i in"line"==args.object.type&&"function"==typeof args.object.tooltipSubstitutions&&(specific=args.object.tooltipSubstitutions({index:args.index})),args.object.properties.tooltipsCss){"string"==typeof i&&("borderRadius"==i?objDiv.set_borderRadius(args.object.properties.tooltipsCss[i]+" "+args.object.properties.tooltipsCss[i]):"border"==i?sNexaBorder=args.object.properties.tooltipsCss[i]:"boxShadow"==i?sNexaShadow=args.object.properties.tooltipsCss[i]:(val=args.object.properties.tooltipsCss[i],idx=args.index,DxChart.isArray(val)&&(val="line"==args.object.type&&specific&&val[specific.dataset]?val[specific.dataset]:(val.length-1<idx&&(idx%=val.length),val[idx])),arrStyleData[i]=val))}var strStyle="left:2px;top:2px;",Style;for(Style in arrStyleData)"opacity"==Style&&0==arrStyleData[Style]||(strStyle=arrStyleValue[Style]?strStyle+arrStyleValue[Style]+":"+arrStyleData[Style]+";":strStyle+Style+":"+arrStyleData[Style]+";");objWbrowser.getProperty("window").callMethod("setStyleStr",strStyle),"slide"===args.object.properties.tooltipsEffect&&(tooltipObj&&tooltipObj.set_left("string"==typeof DxChart.tooltip_slide_effect_previous_x_coordinate?DxChart.tooltip_slide_effect_previous_x_coordinate:0),tooltipObj)&&tooltipObj.set_top("string"==typeof DxChart.tooltip_slide_effect_previous_y_coordinate?DxChart.tooltip_slide_effect_previous_y_coordinate:0)}else{for(var i in DxChart.tooltips.style)"string"==typeof i&&("border"==i&&(sNexaBorder=DxChart.tooltips.style[i]),tooltipObj.style[i]=substitute(DxChart.tooltips.style[i],args.object,args));for(var i in DxChart.tooltips.css)"string"==typeof i&&(tooltipObj.style[i]=substitute(DxChart.tooltips.css[i],args.object,args));if(!DxChart.isNull(args.object.properties.tooltipsCss))for(i in"line"==args.object.type&&"function"==typeof args.object.tooltipSubstitutions&&(specific=args.object.tooltipSubstitutions({index:args.index})),args.object.properties.tooltipsCss){"string"==typeof i&&("border"==i&&(sNexaBorder=args.object.properties.tooltipsCss[i]),val=args.object.properties.tooltipsCss[i],idx=args.index,DxChart.isArray(val)&&(val="line"==args.object.type&&specific&&val[specific.dataset]?val[specific.dataset]:(val.length-1<idx&&(idx%=val.length),val[idx])),tooltipObj.style[i]=substitute(val,args.object,args))}"slide"===args.object.properties.tooltipsEffect&&(tooltipObj.style.left="string"==typeof DxChart.tooltip_slide_effect_previous_x_coordinate?DxChart.tooltip_slide_effect_previous_x_coordinate:0,tooltipObj.style.top="string"==typeof DxChart.tooltip_slide_effect_previous_y_coordinate?DxChart.tooltip_slide_effect_previous_y_coordinate:0)}var nNexaBorder=3,arrBorder,arrShrdow,acolorx,nNexaBorder,origIdx;if(isNexacroRuntime&&(""==sNexaBorder&&(sNexaBorder="1px solid "+DxChart.tooltips.style.backgroundColor),arrBorder=sNexaBorder.split("px"),nNexaBorder=parseInt(arrBorder[0])+2,objDiv._webbrowser.set_left(-nNexaBorder),objDiv._webbrowser.set_top(-nNexaBorder),objDiv.set_border(sNexaBorder),""!=sNexaShadow)&&"none"!=sNexaShadow&&(arrShrdow=sNexaShadow.split(" "),arrShrdow[3]&&(acolorx=DxChart._rgba2hex(arrShrdow[3])),objDiv.set_boxShadow(arrShrdow[0]+"px "+arrShrdow[1]+"px "+arrShrdow[2]+" "+acolorx[0])),tooltipObj.__original_text__=args.text,args.text=substitute(args.text,args.object,args),!isNexacroRuntime&&args.object.properties.tooltipsPointer&&(args.text+='<div id="DxChart_tooltipsPointer"></div><div id="DxChart_tooltipsPointerDummy"></div>'),isNexacroRuntime||!args.object.properties.tooltipsPointer||DxChart.isNull(args.object.properties.tooltipsPointerCss)||setTimeout(function(){var t,e=document.getElementById("DxChart_tooltipsPointer");for(t in args.object.properties.tooltipsPointerCss)"string"==typeof t&&(e.style[t]=substitute(args.object.properties.tooltipsPointerCss[t],args.object,args))},50),isNexacroRuntime?objWbrowser.getProperty("window").callMethod("setHtml",args.text):tooltipObj.innerHTML=args.text,tooltipObj.__text__=args.text,tooltipObj.__canvas__=args.object.canvas,tooltipObj.__event__=args.object.get("tooltipsEvent")||"click",tooltipObj.__object__=args.object,!args.object.properties.tooltipsPointer||isNexacroRuntime||setTimeout(function(){var t=document.getElementById("DxChart_tooltipsPointer"),e=window.getComputedStyle(tooltipObj,!1);t&&(t.style.backgroundColor=e.backgroundColor,t.style.color="transparent",t.style.position="absolute",t.style.bottom="-4px",t.style.left="50%",t.style.zIndex=1510002,t.style.transform="translateX(-50%) rotate(45deg)",t.style.width="10px",t.style.height="10px"),(t=document.getElementById("DxChart_tooltipsPointerDummy"))&&(t.style.backgroundColor=e.backgroundColor,t.style.color="transparent",t.style.position="absolute",t.style.bottom="0px",t.style.left="10%",t.style.width="80%",t.style.zIndex=1511002,t.style.height="8px")},16.666),"number"==typeof args.index&&(tooltipObj.__index__=args.index,origIdx=args.index),"line"===args.object.type||"radar"===args.object.type){for(var ds=0;ds<args.object.data.length&&args.index>=args.object.data[ds].length;++ds)args.index-=args.object.data[ds].length;tooltipObj.__dataset__=ds,tooltipObj.__index2__=args.index}isNexacroRuntime||document.body.appendChild(tooltipObj);var width=tooltipObj.offsetWidth,height=tooltipObj.offsetHeight,arrBorder,nGap;try{width=Math.max(width,tooltipObj.scrollWidth),height=Math.max(height,tooltipObj.scrollHeight)}catch(e){}if(width+=5,height+=10,!isNexacroRuntime&&sNexaBorder&&(arrBorder=sNexaBorder.split("px"),nNexaBorder=parseInt(arrBorder[0]),width+=2*nNexaBorder,height+=2*nNexaBorder),isNexacroRuntime?(width=objWbrowser.getProperty("window").callMethod("getDivWidth"),height=objWbrowser.getProperty("window").callMethod("getDivHeight"),tooltipObj.set_width(width),tooltipObj.set_height(height),objWbrowser.set_width(width+2*nNexaBorder),objWbrowser.set_height(height+2*nNexaBorder)):(tooltipObj.style.width=width+"px",tooltipObj.style.height=height+"px"),!isNexacroRuntime&&args.object.properties.tooltipsPointer){var styles=window.getComputedStyle(tooltipObj,!1),pointer=document.getElementById("DxChart_tooltipsPointer"),tooltipsPointerCss=(pointer&&(pointer.style.backgroundColor=styles["background-color"]),tooltipObj.__pointer__=pointer,"");if(args.object.properties.tooltipsPointerCss){var pointerDiv=document.getElementById("DxChart_tooltipsPointer");for(property in args.object.properties.tooltipsPointerCss)"string"==typeof property&&(pointerDiv.style[property]=args.object.properties.tooltipsPointerCss[property])}}args.object.properties.tooltipsOffsetX=args.object.properties.tooltipsOffsetX||0,args.object.properties.tooltipsOffsetY=args.object.properties.tooltipsOffsetY||0,isNexacroRuntime&&tooltipObj?(tooltipObj.set_left(args.event.pageX-(0+width/2)+args.object.properties.tooltipsOffsetX),tooltipObj.set_top(args.event.pageY-height-10+args.object.properties.tooltipsOffsetY),parseFloat(tooltipObj.getOffsetLeft())<=5&&tooltipObj.set_left(5+args.object.properties.tooltipsOffsetX),parseFloat(tooltipObj.getOffsetTop())<=5&&tooltipObj.set_top(5+args.object.properties.tooltipsOffsetY),tooltipObj.getOffsetRight()>args.object.canvas.getOffsetRight()&&(nGap=tooltipObj.getOffsetRight()-args.object.canvas.getOffsetRight(),tooltipObj.set_left(tooltipObj.getOffsetLeft()-nGap)),tooltipObj.set_visible(!0)):(tooltipObj.style.left=args.event.pageX-(parseFloat(tooltipObj.style.paddingLeft)+width/2)+args.object.properties.tooltipsOffsetX+"px",tooltipObj.style.top=args.event.pageY-height-10+args.object.properties.tooltipsOffsetY+"px",parseFloat(tooltipObj.style.left)<=5&&(tooltipObj.style.left=5+args.object.properties.tooltipsOffsetX+"px"),parseFloat(tooltipObj.style.top)<=5&&(tooltipObj.style.top=5+args.object.properties.tooltipsOffsetY+"px"),parseFloat(tooltipObj.style.left)+parseFloat(tooltipObj.style.width)>window.innerWidth&&(tooltipObj.style.left="",tooltipObj.style.right=5+args.object.properties.tooltipsOffsetX+"px")),args.object.properties.tooltipsPositionStatic&&"function"==typeof args.object.positionTooltipStatic&&args.object.positionTooltipStatic({object:args.object,event:args.event,tooltip:tooltipObj,index:origIdx});var bLeftZero=!1,left,width,left,width,pointer,left,width,nGap,left,width,pointer,nGap,nGap,bgcolor,border,borderLine,pointer;if(isNexacroRuntime?tooltipObj.getOffsetLeft()<0&&(bLeftZero=!0):parseInt(tooltipObj.style.left)<0&&(bLeftZero=!0),bLeftZero?isNexacroRuntime?(left=parseInt(tooltipObj.getOffsetLeft()),width=parseInt(tooltipObj.getOffsetWidth()),left+=.1*width*4,tooltipObj.set_left(left)):(left=parseInt(tooltipObj.style.left),width=parseInt(tooltipObj.style.width),left+=.1*width*4,tooltipObj.style.left=left+"px",pointer=document.getElementById("DxChart_tooltipsPointer"),function(t){setTimeout(function(){t&&(t.style.left="calc(10% + 5px)")},25)}(pointer)):isNexacroRuntime?tooltipObj.getOffsetRight()>args.object.canvas.getOffsetRight()&&(left=parseInt(tooltipObj.getOffsetLeft()),width=parseInt(tooltipObj.getOffsetWidth()),nGap=tooltipObj.getOffsetRight()-args.object.canvas.getOffsetRight(),tooltipObj.set_left(tooltipObj.getOffsetLeft()-nGap)):parseInt(tooltipObj.style.left)+parseInt(tooltipObj.offsetWidth)>document.body.offsetWidth&&(left=parseInt(tooltipObj.style.left),width=parseInt(tooltipObj.style.width),left-=.1*width*4,tooltipObj.style.left=left+"px",pointer=document.getElementById("DxChart_tooltipsPointer"),function(t){setTimeout(function(){t&&(t.style.left="calc(90% - 5px)")},25)}(pointer)),isNexacroRuntime||DxChart.isFixed(args.object.canvas)&&(tooltipObj.style.position="fixed"),isNexacroRuntime&&(0<=tooltipObj.getOffsetTop()?tooltipObj._upposition=!0:(tooltipObj._upposition=!1,nGap=args.object.canvas.width-(tooltipObj.left+tooltipObj.width),tooltipObj.set_top(args.event.pageY-tooltipObj.getOffsetHeight()-30)),tooltipObj.left+tooltipObj.width>=args.object.canvas.width&&(nGap=args.object.canvas.width-(tooltipObj.left+tooltipObj.width),tooltipObj.set_left(tooltipObj.getOffsetLeft()-nGap-10)),args.object.properties.tooltipsPointer?(bgcolor=DxChart.tooltips.style.backgroundColor,args.object.properties.tooltipsPointerCss&&args.object.properties.tooltipsPointerCss.backgroundColor?bgcolor=args.object.properties.tooltipsPointerCss.backgroundColor:args.object.properties.tooltipsCss&&args.object.properties.tooltipsCss.backgroundColor&&(bgcolor=args.object.properties.tooltipsCss.backgroundColor),border=DxChart.tooltips.style.border,args.object.properties.tooltipsPointerCss&&args.object.properties.tooltipsPointerCss.border?border=args.object.properties.tooltipsPointerCss.border:args.object.properties.tooltipsCss&&args.object.properties.tooltipsCss.border&&(border=args.object.properties.tooltipsCss.border),borderLine=1,border&&""!=border&&(borderLine=parseInt(border.split("px")[0])),DxChart.drawRuntimeToolTipPointer(args.object,tooltipObj,objNXCanvas,bgcolor,border),objNXCanvas.set_left(tooltipObj.getOffsetLeft()+width/2-5),tooltipObj._upposition?objNXCanvas.set_top(tooltipObj.getOffsetTop()+height-borderLine):objNXCanvas.set_top(tooltipObj.getOffsetTop()-10+borderLine),objNXCanvas.set_visible(!0)):objNXCanvas.set_visible(!1)),"fade"===args.object.get("tooltipsEffect")){if(!isNexacroRuntime)for(var i=1;i<=10;++i)!function(t){isNexacroRuntime?nexacro._OnceCallbackTimer.callonce(args.object.canvas.parent,function(){tooltipObj.set_opacity(t/10)},25*t):setTimeout(function(){tooltipObj.style.opacity=t/10},25*t)}(i)}else isNexacroRuntime?tooltipObj.set_opacity(1):tooltipObj.style.opacity=1;isNexacroRuntime||(tooltipObj.onmousedown=function(t){t.stopPropagation()},tooltipObj.onmouseup=function(t){t.stopPropagation()},tooltipObj.onclick=function(t){0==t.button&&t.stopPropagation()}),DxChart.Registry.set("tooltip",tooltipObj),isNexacroRuntime?DxChart.Registry.set("tooltipPointer",objNXCanvas):args.object.properties.tooltipsPointer&&(pointer=tooltipObj.getElementsByTagName("div")[0],DxChart.Registry.set("tooltipPointer",pointer)),"slide"===args.object.properties.tooltipsEffect&&(DxChart.tooltip_slide_effect_previous_x_coordinate=isNexacroRuntime?tooltipObj.getOffsetLeft():tooltipObj.style.left,DxChart.tooltip_slide_effect_previous_y_coordinate=isNexacroRuntime?tooltipObj.getOffsetTop():tooltipObj.style.top),DxChart._fireEvent(args.object,"ontooltip")}function substitute(original,VObj,args){original=String(original);var prop=VObj.properties,properties=VObj.properties;if("function"!=typeof VObj.tooltipSubstitutions)return original;var specific={},text=("function"==typeof VObj.tooltipSubstitutions&&(specific=VObj.tooltipSubstitutions({index:args.index})),original.replace(/%%/g,"___--PERCENT--___"));if(specific.values){var defaultStyleStr="",property;for(property in properties.tooltipsFormattedKeyColorsCss)"string"!=typeof property||"opacity"==property&&0==properties.tooltipsFormattedKeyColorsCss[property]||(arrStyleValue[property]?defaultStyleStr+=arrStyleValue[property]+":"+properties.tooltipsFormattedKeyColorsCss[property]+";":defaultStyleStr+=property+":"+properties.tooltipsFormattedKeyColorsCss[property]+";");for(var colors=properties.tooltipsFormattedKeyColors||properties.colors,i=0,str=[];i<specific.values.length;++i){var value="object"==typeof specific.values&&"number"==typeof specific.values[i]?specific.values[i]:0,color=properties.colorsSequential?colors[args.index]:colors[i],label=("heatmap"==args.object.type&&(color=specific.colors[i]),"object"==typeof properties.tooltipsFormattedKeyLabels&&"string"==typeof properties.tooltipsFormattedKeyLabels[i]?properties.tooltipsFormattedKeyLabels[i]:"");if("function"==typeof VObj.tooltipsFormattedCustom){var ret=VObj.tooltipsFormattedCustom(specific,i,colors);if(ret.continue)continue;ret&&("string"==typeof ret.label&&(label=ret.label),ret.color&&(color=ret.color),"number"==typeof ret.value)&&(value=ret.value)}value=DxChart.numberFormat({object:VObj,number:value.toFixed(VObj.properties.tooltipsFormattedDecimals),thousand:VObj.properties.tooltipsFormattedThousand||",",point:VObj.properties.tooltipsFormattedPoint||".",unitspre:VObj.properties.tooltipsFormattedUnitsPre||"",unitspost:VObj.properties.tooltipsFormattedUnitsPost||""});var borderRadius=0;"string"==typeof VObj.properties.tooltipsFormattedKeyColorsShape&&"circle"===VObj.properties.tooltipsFormattedKeyColorsShape&&(borderRadius="100px"),DxChart.ISIE?str[i]='<tr><td><div id="DxChart_tooltipsFormattedKeyColor_'+i+'" style="position:relative;':str[i]='<tr><td><div id="DxChart_tooltipsFormattedKeyColor_'+i+'" style="position:initial;',str[i]=str[i]+"text-align:left;",str[i]=str[i]+"background-color:"+color+";",str[i]=str[i]+"color:transparent;",str[i]=str[i]+"pointer-events:none;",str[i]=str[i]+"border-radius:"+borderRadius+";",str[i]=str[i]+defaultStyleStr+'" class="DxChart_tooltipsFormattedKeyColor">&nbsp;&nbsp;&nbsp;&nbsp;</div></td><td id="DxChart_tooltipsFormattedKeyLabel_'+i+'" style="text-align:left;">',str[i]=str[i]+"<span>"+label+"</span> "+value+"</td></tr>"}str=str.join(""),text=text.replace("%{key}",'<table id="DxChart_tooltip_key" style="color: inherit;overflow:visible;position:relative;" class="DxChart_tooltip_key DxChart_tooltip_key">'+str+"</table>")}text=text.replace(/%{index}/g,specific.index),text=text.replace(/%{side}/g,specific.side),text=text.replace(/%{side_title}/g,specific.side_title),text=text.replace(/%{dataset2}/g,specific.dataset2),text=text.replace(/%{dataset}/g,specific.dataset),text=text.replace(/%{group2}/g,specific.dataset2),text=text.replace(/%{group}/g,specific.dataset),text=text.replace(/%{sequential_index}/g,specific.sequentialIndex),text=text.replace(/%{seq}/g,specific.sequentialIndex),-1!==text.indexOf("%{list}")&&!function(){"unordered"===properties.tooltipsFormattedListType&&(properties.tooltipsFormattedListType="ul"),"<ul>"===properties.tooltipsFormattedListType&&(properties.tooltipsFormattedListType="ul"),"ordered"===properties.tooltipsFormattedListType&&(properties.tooltipsFormattedListType="ol"),"<ol>"===properties.tooltipsFormattedListType&&(properties.tooltipsFormattedListType="ol");var t="ol"===properties.tooltipsFormattedListType?'<ol id="DxChart_formatted_tooltips_list">':'<ul id="DxChart_formatted_tooltips_list">',e=properties.tooltipsFormattedListItems[specific.sequentialIndex];if(e&&e.length)for(var i=0;i<e.length;++i)t+="<li>"+e[i]+"</li>";t+="ol"===properties.tooltipsFormattedListType?"</ol>":"</ul>",text=text.replace(/%{list}/,t)}(),-1!==text.indexOf("%{table}")&&!function(){var t="<table>";if(properties.tooltipsFormattedTableHeaders&&properties.tooltipsFormattedTableHeaders.length){t+="<thead><tr>";for(var e=0;e<properties.tooltipsFormattedTableHeaders.length;++e)t+="<th>"+properties.tooltipsFormattedTableHeaders[e]+"</th>";t+="</tr></thead>"}if("object"==typeof properties.tooltipsFormattedTableData&&!DxChart.isNull(properties.tooltipsFormattedTableData)){t+="<tbody>";for(e=0;e<properties.tooltipsFormattedTableData[specific.sequentialIndex].length;++e){t+="<tr>";for(var i=0;i<properties.tooltipsFormattedTableData[specific.sequentialIndex][e].length;++i)t+="<td>"+String(properties.tooltipsFormattedTableData[specific.sequentialIndex][e][i])+"</td>";t+="</tr>"}t+="</tbody>"}text=text.replace(/%{table}/g,t+="</table>")}();for(var reg=/%{prop(?:erty)?:([_a-z0-9]+)\[([0-9]+)\]}/i,value,ret;text.match(reg);){var property=RegExp.$1,index=parseInt(RegExp.$2),text=VObj.properties[property]?text.replace(reg,VObj.properties[property][index]||""):text.replace(reg,"");RegExp.lastIndex=null}for("gantt"==VObj.type&&(value=specific.value,text.match(/%{start}/i)&&(text=properties.tooltipsDateFormat?text.replace("%{start}",DxChart.getMaskString("date",properties.tooltipsDateFormat,new Date(value.start))):text.replace("%{start}",value.start)),text.match(/%{end}/i)&&(text=properties.tooltipsDateFormat?text.replace("%{end}",DxChart.getMaskString("date",properties.tooltipsDateFormat,new Date(value.end))):text.replace("%{end}",value.end)),text.match(/%{duration}/i)&&(text=properties.tooltipsDateFormat?text.replace("%{duration}",DxChart.getMaskString("date",properties.tooltipsDateFormat,new Date(value.duration))):text.replace("%{duration}",value.duration)),text.match(/%{complete}/i)&&(text=text.replace("%{complete}",value.complete)),text.match(/%{label}/i))&&(text=text.replace("%{label}",value.label)),specific&&text.match(/%{custom}/i)&&"function"==typeof VObj.properties.tooltipsFormattedCustom&&(ret=VObj.properties.tooltipsFormattedCustom(specific,args.index),ret.label)&&(text=text.replace("%{custom}",ret.label));text.match(/%{property:([_a-z0-9]+)}/i);){var str="%{property:"+RegExp.$1+"}";text=text.replace(str,VObj.properties[RegExp.$1])}for(;text.match(/%{prop:([_a-z0-9]+)}/i);){var str="%{prop:"+RegExp.$1+"}";text=text.replace(str,VObj.properties[RegExp.$1])}if("rose"===VObj.type&&"non-equi-angular"===VObj.properties.variantValue)for(;text.match(/%{value2}/i);)text=text.replace("%{value2}",specific.value2);for(;text.match(/%{value(?:_formatted)?}/i);){var value=specific.value;text=text.match(/%{value_formatted}/i)?text.replace("%{value_formatted}","number"==typeof value?DxChart.numberFormat({object:VObj,number:value.toFixed(VObj.properties.tooltipsFormattedDecimals),thousand:VObj.properties.tooltipsFormattedThousand||",",point:VObj.properties.tooltipsFormattedPoint||".",unitspre:VObj.properties.tooltipsFormattedUnitsPre||"",unitspost:VObj.properties.tooltipsFormattedUnitsPost||""}):null):text.replace("%{value}",value)}for(;text.match(/%{percent(?:_formatted)?}/i);){var value=specific.percent;text=text.match(/%{value_formatted}/i)?text.replace("%{percent_formatted}","number"==typeof value?DxChart.numberFormat({object:VObj,number:value.toFixed(VObj.properties.tooltipsFormattedDecimals),thousand:VObj.properties.tooltipsFormattedThousand||",",point:VObj.properties.tooltipsFormattedPoint||".",unitspre:VObj.properties.tooltipsFormattedUnitsPre||"",unitspost:VObj.properties.tooltipsFormattedUnitsPost||""}):null):text.replace("%{percent}",value)}if(!isNexacroRuntime){for(var reg=/%{global:([_a-z0-9.]+)\[([0-9]+)\]}/i;text.match(reg);){var name=RegExp.$1,index=parseInt(RegExp.$2);text=eval(name)?text.replace(reg,eval(name)[index]||""):text.replace(reg,""),RegExp.lastIndex=null}for(var reg=/%{global:([_a-z0-9.]+)}/i;text.match(reg);){var name=RegExp.$1;text=eval(name)?text.replace(reg,eval(name)||""):text.replace(reg,""),RegExp.lastIndex=null}}var regexp=/%{function:(.*?)([_A-Za-z0-9]+)\((.*?)\)}/;for(text=text.replace(/\r/,"|CR|"),text=text.replace(/\n/,"|LF|");text.match(regexp);){for(var str=RegExp.$1+RegExp.$2+"("+RegExp.$3+")",i=0,len=str.length;i<len;++i)str=str.replace(/\r?\n/,"\\n");DxChart.Registry.set("tooltip-templates-function-object",VObj);var func=new Function("return "+str),ret=func();text=text.replace(regexp,ret)}return text=text.replace(/\|CR\|/," "),text=text.replace(/\|LF\|/," "),text=text.replace(/\r?\n/g,"<br />"),text=text.replace(/___--PERCENT--___/g,"%"),text.toString()}},DxChart.getTooltipTextFromDIV=function(){var t=DxChart.getArgs(arguments,"text"),e=/^id:(.*)/.exec(t.text);return!isNexacroRuntime&&e&&e[1]&&document.getElementById(e[1])?t.text=document.getElementById(e[1]).innerHTML:e&&e[1]&&(t.text=""),t.text},DxChart.getTooltipWidth=function(){var t=DxChart.getArgs(arguments,"text,object"),e=document.createElement("DIV");return e.className=t.object.get("tooltipsCssClass"),e.style.paddingLeft=DxChart.tooltips.padding,e.style.paddingRight=DxChart.tooltips.padding,e.style.fontFamily=DxChart.tooltips.font_face,e.style.fontSize=DxChart.tooltips.font_size,e.style.visibility="hidden",e.style.position="absolute",e.style.top="300px",e.style.left=0,e.style.display="inline",e.innerHTML=DxChart.getTooltipTextFromDIV(t.text),document.body.appendChild(e),e.offsetWidth},DxChart._timerHideTooltip=function(t){var e,i,s,a;t?(e=DxChart.Registry.get("tooltip"))&&(i=t.canvas,s=1e3,"fade"===t.get("tooltipsEffect")&&(s=500),DxChart._tooltipFlag=!1,a=function(){0==DxChart._tooltipFlag&&DxChart.hideTooltip(t)},isNexacroRuntime?i._refform&&nexacro._OnceCallbackTimer.callonce(i._refform,a,s):setTimeout(a,s)):(e=DxChart.Registry.get("tooltip"))&&1==DxChart._tooltipFlag&&(isNexacroRuntime?(e.set_visible(!1),(i=DxChart.Registry.get("tooltipPointer"))&&i.set_visible(!1)):(e.style.display="none",e.style.visibility="hidden",setTimeout(function(){e.style.display="none",e.style.visibility="hidden"},5)),DxChart.Registry.set("tooltip",null),DxChart.Registry.set("tooltipPointer",null),DxChart._tooltipFlag=!1)},DxChart.hideTooltip=function(t){var e=DxChart.Registry.get("tooltip"),i=t&&t.uid?t.uid:null;if(e&&(isNexacroRuntime||e.parentNode)&&(!i||i==e.__canvas__.uid)){var s=e.__object__;for(a in e)"DxChart_"===a.substr(0,7)&&delete e[a];if(isNexacroRuntime){if(DxChart._runtimeQueue=[],s&&"fade"===s.get("tooltipsEffect"))for(var a=10;0<=a;--a)!function(t){nexacro._OnceCallbackTimer.callonce(s.canvas.parent,function(){1!=DxChart._tooltipFlag&&(e.set_opacity(t/10),0==t)&&e.set_visible(!1)},25)}(a);else e.set_visible(!1);i=DxChart.Registry.get("tooltipPointer");i&&i.set_visible(!1),DxChart.Registry.set("tooltip",null),DxChart.Registry.set("tooltipPointer",null)}else if(s&&"fade"===s.get("tooltipsEffect"))for(a=10;0<=a;--a)!function(t){setTimeout(function(){1!=DxChart._tooltipFlag&&(e.style.opacity=t/10,0==t)&&(e.style.display="none",e.style.visibility="hidden",DxChart.Registry.set("tooltip",null),DxChart.Registry.set("tooltipPointer",null))},25)}(a);else 1!=DxChart._tooltipFlag&&(e.style.display="none",e.style.visibility="hidden",DxChart.Registry.set("tooltip",null),DxChart.Registry.set("tooltipPointer",null))}},DxChart.preLoadTooltipImages=function(){var t=DxChart.getArgs(arguments,"object"),e=t.object.get("tooltips");if(DxChart.hasTooltips(t.object)){if("rscatter"==t.object.type)for(var e=[],i=0;i<t.object.data.length;++i)e.push(t.object.data[3]);for(i=0;i<e.length;++i){for(var s,a=document.createElement("div"),o=(a.style.position="absolute",a.style.opacity=0,a.style.top="-100px",a.style.left="-100px",a.innerHTML=e[i],document.body.appendChild(a),a.getElementsByTagName("IMG")),r=0;r<o.length;++r)o&&o[i]&&((s=document.createElement("img")).style.position="absolute",s.style.opacity=0,s.style.top="-100px",s.style.left="-100px",s.src=o[i].src,document.body.appendChild(s),setTimeout(function(){document.body.removeChild(s)},250));document.body.removeChild(a)}}},DxChart.drawRuntimeToolTipPointer=function(t,e,i,s,a){t.properties.tooltipsPointer&&(t=i._canvas,i=(a=a&&""!=a?a:"1px solid "+s).split(" ")[2],a=parseInt(a.split("px")[0]),t.clearRect(0,0,10,10),e._upposition)&&(t.beginPath(),t.moveTo(0,0),t.lineTo(10,0),t.lineTo(5,5),t.lineTo(0,0),t.setElementFillStyle(s),t.fill(),t.beginPath(),t.setElementLineWidth(a),t.moveTo(0,0),t.lineTo(5,5),t.lineTo(10,0),t.setElementStrokeStyle(i),t.stroke(),t.closePath())},DxChart.setToolTipBackColor=function(t,e){var i=DxChart.Registry.get("tooltip"),s=DxChart.Registry.get("tooltipPointer"),a=t.get("colors")[i.__dataset__];(a=e&&e[i.__dataset__]?e[i.__dataset__]:a)&&(i.borderRadius&&""!=i.borderRadius&&i.set_border("1px solid "+a),isNexacroRuntime?DxChart.drawRuntimeToolTipPointer(t,i,s,a):(i.style.backgroundColor=a,t.properties.tooltipsPointer&&(s.style.backgroundColor=a)))},DxChart.tooltips_mousemove=function(){var t,e=DxChart.getArgs(arguments,"object,event"),i=e.object.getShape(e.event),s=!1;return i&&"number"==typeof i.index&&e.object.get("tooltips")[i.index]?(t=DxChart.parseTooltipText(e.object.get("tooltips"),i.index))&&(s=!0,"onmousemove"!==e.object.get("tooltipsEvent")||DxChart.Registry.get("tooltip")&&DxChart.Registry.get("tooltip").__object__.uid==e.object.uid&&DxChart.Registry.get("tooltip").__index__==i.index||(DxChart._timerHideTooltip(),DxChart.clear(e.object.canvas),DxChart.redraw(),DxChart.tooltip(e.object,t,e.event.pageX,e.event.pageY,i.index),e.object.highlight(i))):i&&"number"==typeof i.index&&(t=DxChart.parseTooltipText(e.object.get("tooltips"),i.index))&&(s=!0),s}}(window,document),DxChart.CombinedChart=function(){this.objects=[];var t=[];if(DxChart.isArray(arguments[0]))t=arguments[0];else for(var e=0;e<arguments.length;e+=1)t[e]=arguments[e];for(var i,s,e=0;e<t.length;++e)this.objects[e]=t[e],this.objects[e].set({marginLeft:this.objects[0].get("marginLeft"),marginRight:this.objects[0].get("marginRight"),marginTop:this.objects[0].get("marginTop"),marginBottom:this.objects[0].get("marginBottom")}),"line"!=this.objects[e].type||((i=this.objects[e]).set("marginInner",(this.objects[0].canvas.width-this.objects[0].get("marginRight")-this.objects[0].get("marginLeft"))/this.objects[0].data.length/2),i.set("xaxisUse",!1),i.set("backgroundGrid",!1),i.get("combinedFocedUseYAxis"))||(i.set("yaxisScale",!1),i.set("yaxisUse",!1)),this.objects[e].get("resizable")&&(s=i);return s&&DxChart.addCustomEventListener(s,"onresizebeforedraw",function(t){var e=t.get("marginLeft"),i=t.get("marginRight");t.set("marginInner",(t.canvas.width-e-i)/(2*t.orgData[0].length))}),this},DxChart.CombinedChart.prototype.add=function(t){return this.objects.push(t),this},DxChart.CombinedChart.prototype.draw=function(){if(DxChart.isArray(this.objects))for(var i=0,options,callback,func;i<this.objects.length;++i){this.objects[i].properties.combinedEffect?(options=this.objects[i].properties.combinedEffectOptions?eval("("+this.objects[i].properties.combinedEffectOptions+")"):null,callback=this.objects[i].properties.combinedEffectCallback,func=this.objects[i].properties.combinedEffect,this.objects[i][func](options,callback)):this.objects[i].draw()}return this},window?window.DxChart=window.DxChart||{isDxChart:!0}:(window=nexacro,navigator={userAgent:"nexacro"},DxChart=nexacro.DxChart||{isDxChart:!0},nexacro.DxChart||(nexacro.DxChart=DxChart),document={}),!function(n,l){navigator.userAgent;DxChart.annotating_canvas_onmousedown=function(t){var e,i,s,a;return 0!==t.button&&"lbutton"!==t.button||(t.target.__object__.set("mousedown",!0),i=(e=t.target.__object__).properties,e.context.beginPath(),e.context.strokeStyle=e.get("annotationColor"),isNexacroRuntime&&e.context.setElementStrokeStyle(e.context.strokeStyle),e.context.lineWidth=e.get("annotationLineWidth"),isNexacroRuntime&&e.context.setElementLineWidth(e.context.lineWidth),s=(t=DxChart.getMouseXY(t))[0],a=t[1],"bar"===e.type&&"3d"===i.variantValue&&(a-=i.variantThreedAngle*t[0]),DxChart.Registry.set("annotation.actions",[e.get("annotationColor")]),e.context.moveTo(s,a),DxChart.Registry.set("annotation.last.coordinates",[s,a]),DxChart.Registry.set("started.annotating",!1),DxChart.Registry.set("annotating",e),DxChart._fireEvent(e,"onannotatebegin")),!1},DxChart.annotating_window_onmouseup=function(t){var e=DxChart.Registry.get("annotating"),i=window;if(isNexacroRuntime){if(!e||"lbutton"==!t.button)return;e.set("mousedown",!1)}else{if(0!=t.button||!e)return;for(var s,a=l.getElementsByTagName("canvas"),o=0;o<a.length;++o)a[o].__object__&&a[o].__object__.set("mousedown",!1);DxChart.Registry.get("annotation.actions")&&0<DxChart.Registry.get("annotation.actions").length&&i.localStorage&&(t="__DxChart_annotations_"+t.target.id+"__",s=i.localStorage[t]?i.localStorage[t]+"|":"",s+=DxChart.Registry.get("annotation.actions"),i.localStorage[t]=s)}DxChart.Registry.set("annotation.actions",[]),DxChart._fireEvent(e,"onannotateend")},DxChart.annotating_canvas_onmousemove=function(t){var e=t.target.__object__,i=e.properties,t=DxChart.getMouseXY(t),s=t[0],a=t[1],o=DxChart.Registry.get("annotation.last.coordinates");e.get("mousedown")&&("bar"===e.type&&"3d"===i.variantValue&&(a-=i.variantThreedAngle*t[0]),e.context.beginPath(),o?(e.context.strokeStyle=e.properties.annotationColor,isNexacroRuntime&&e.context.setElementStrokeStyle(e.context.strokeStyle),e.context.moveTo(o[0],o[1]),e.context.lineTo(s,a)):e.context.moveTo(s,a),DxChart.Registry.set("annotation.actions",DxChart.Registry.get("annotation.actions")+"|"+s+","+a),DxChart.Registry.set("annotation.last.coordinates",[s,a]),DxChart._fireEvent(e,"onannotate"),e.context.stroke())},DxChart.showPalette=function(t){navigator.userAgent.indexOf("Safari");for(var e=t.target.parentNode.__canvas__,i=(e.getContext("2d"),e.__object__),s=document.createElement("DIV"),a=(DxChart.getMouseXY(t),s.__object__=i,s.className="DxChart_palette",s.style.position="absolute",s.style.backgroundColor="white",s.style.border="1px solid #999",s.style.left=0,s.style.top=0,s.style.padding="3px",s.style.paddingLeft="5px",s.style.opacity=0,s.style.boxShadow="rgba(48,48,48,0.25) 1px 1px 3px",s.style.WebkitBoxShadow="rgba(48,48,48,0.25) 1px 1px 3px",s.style.MozBoxShadow="rgba(48,48,48,0.25) 1px 1px 3px",["Black","Red","Yellow","Green","Orange","White","Magenta","Pink"]),o=0,r=a.length;o<r;o+=1){var n=l.createElement("DIV"),h=(n.cssClass="DxChart_palette_color",n.style.fontSize="12pt",n.style.cursor="pointer",n.style.padding="1px",n.style.paddingRight="10px",n.style.textAlign="left",document.createElement("SPAN"));h.style.display="inline-block",h.style.marginRight="9px",h.style.width="17px",h.style.height="17px",h.style.top="2px",h.style.position="relative",h.style.backgroundColor=a[o],n.appendChild(h),n.innerHTML+=a[o],n.onmouseover=function(){this.style.backgroundColor="#eee"},n.onmouseout=function(){this.style.backgroundColor=""},n.onclick=function(t){var e=this.childNodes[0].style.backgroundColor;i.set("annotationColor",e)},s.appendChild(n)}return l.body.appendChild(s),s.style.left=t.pageX+"px",s.style.top=t.pageY+"px",t.pageX+(s.offsetWidth+5)>document.body.offsetWidth&&(s.style.left=t.pageX-s.offsetWidth+"px"),DxChart.Registry.set("palette",s),setTimeout(function(){s.style.opacity=.2},50),setTimeout(function(){s.style.opacity=.4},100),setTimeout(function(){s.style.opacity=.6},150),setTimeout(function(){s.style.opacity=.8},200),setTimeout(function(){s.style.opacity=1},250),DxChart.hideContext(),window.onclick=function(){DxChart.hidePalette()},t.stopPropagation(),!1},DxChart.clearAnnotations=function(t){"string"==typeof t?(e=t,t=l.getElementById(e)):e=t.id;var e,t=t.__object__;n.localStorage&&n.localStorage["__DxChart_annotations_"+e+"__"]&&n.localStorage["__DxChart_annotations_"+e+"__"].length&&(n.localStorage["__DxChart_annotations_"+e+"__"]=[],DxChart._fireEvent(t,"onannotateclear"))},DxChart.replayAnnotations=function(t){if(n.localStorage){var e,i,s=t.context,a=n.localStorage["__DxChart_annotations_"+t.id+"__"];if(s.beginPath(),s.lineWidth=t.get("annotation.lineWidth"),isNexacroRuntime&&s.setElementLineWidth(s.lineWidth),a&&a.length){for(var o=0,r=(a=a.split("|")).length;o<r;++o)a[o].match(/[a-z]+/)?(s.stroke(),s.beginPath(),s.strokeStyle=a[o],isNexacroRuntime&&s.setElementStrokeStyle(s.strokeStyle),e=!0):((i=a[o].split(","))[0]=Number(i[0]),i[1]=Number(i[1]),e?(s.moveTo(i[0],i[1]),e=!1):s.lineTo(i[0],i[1]));s.stroke()}}},"nexacro"!=navigator.userAgent&&window.addEventListener("load",function(t){setTimeout(function(){for(var t=l.getElementsByTagName("canvas"),e=0;e<t.length;++e)t[e].__object__&&t[e].__object__.isDxChart&&t[e].__object__.get("annotationValue")&&DxChart.replayAnnotations(t[e].__object__)},100)},!1)}(window,document);
